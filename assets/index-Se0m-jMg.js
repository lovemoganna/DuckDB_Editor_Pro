const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-BtT2BXAH.js","assets/graph-CvF1GX1X.js","assets/_baseUniq-Df-Iac3x.js","assets/layout-eLw84BdU.js","assets/min-eqXGrlI4.js","assets/clone-DUip39ir.js","assets/cose-bilkent-S5V4N54A-IbIBEYxz.js","assets/cytoscape.esm-BQaXIfA_.js","assets/c4Diagram-YG6GDRKO-D257Hj4r.js","assets/chunk-TZMSLE5B-CmzxdNbv.js","assets/flowDiagram-NV44I4VS-ereE-QQk.js","assets/chunk-FMBD7UC4-aa2mzvlL.js","assets/chunk-55IACEB6-CCW0LcL5.js","assets/chunk-QN33PNHL-vgWquSDj.js","assets/channel-D9X68B-b.js","assets/erDiagram-Q2GNP2WA-8-ex1zFd.js","assets/gitGraphDiagram-NY62KEGX-CATvYfHx.js","assets/chunk-4BX2VUAB-CoNR6i9l.js","assets/chunk-QZHKN3VN-DqAILrmj.js","assets/treemap-KMMF4GRG-DyxoxXNF.js","assets/ganttDiagram-JELNMOA3-rtnI-3r9.js","assets/linear-DIMaLSMa.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-DX6XiGOO.js","assets/infoDiagram-WHAUD3N6-CzzMNZGX.js","assets/pieDiagram-ADFJNKIX-C3P89oQm.js","assets/arc-BRwqvedx.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-DxpFgPAG.js","assets/xychartDiagram-PRI3JC2R-ja3jEhMr.js","assets/requirementDiagram-UZGBJVZJ-BeMbH3EU.js","assets/sequenceDiagram-WL72ISMW-BtD2nguh.js","assets/classDiagram-2ON5EDUG-DSQ7GBJ0.js","assets/chunk-B4BG7PRW-BF2ErIu6.js","assets/classDiagram-v2-WZHVMYZB-DSQ7GBJ0.js","assets/stateDiagram-FKZM4ZOC-Bq3DouMs.js","assets/chunk-DI55MBZ5-BrIv_Az3.js","assets/stateDiagram-v2-4FDKWEC3-BoCJKjXT.js","assets/journeyDiagram-XKPGCS4Q-BXjPbgIN.js","assets/timeline-definition-IT6M3QCI-CBOkzt4Y.js","assets/mindmap-definition-VGOIOE7T-CnwU_L3b.js","assets/kanban-definition-3W4ZIXB7-CTv55IHw.js","assets/sankeyDiagram-TZEHDZUN-DDQhELWq.js","assets/diagram-S2PKOQOG-CdC-S-RB.js","assets/diagram-QEK2KX5R-M7P6gHr9.js","assets/blockDiagram-VD42YOAC-BLOd_sgo.js","assets/architectureDiagram-VXUJARFQ-CeZ5WRmo.js","assets/diagram-PSM6KHXK-DPk6Vqj4.js"])))=>i.map(i=>d[i]);
var uue=Object.defineProperty;var hue=(t,e,n)=>e in t?uue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var it=(t,e,n)=>hue(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HB={exports:{}},S0={},GB={exports:{}},or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hQ;function due(){if(hQ)return or;hQ=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),u=Symbol.iterator;function h(ee){return ee===null||typeof ee!="object"?null:(ee=u&&ee[u]||ee["@@iterator"],typeof ee=="function"?ee:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function y(ee,le,q){this.props=ee,this.context=le,this.refs=T,this.updater=q||p}y.prototype.isReactComponent={},y.prototype.setState=function(ee,le){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,le,"setState")},y.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function R(){}R.prototype=y.prototype;function I(ee,le,q){this.props=ee,this.context=le,this.refs=T,this.updater=q||p}var b=I.prototype=new R;b.constructor=I,E(b,y.prototype),b.isPureReactComponent=!0;var B=Array.isArray,w=Object.prototype.hasOwnProperty,O={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function U(ee,le,q){var we,Oe={},Ce=null,Ue=null;if(le!=null)for(we in le.ref!==void 0&&(Ue=le.ref),le.key!==void 0&&(Ce=""+le.key),le)w.call(le,we)&&!L.hasOwnProperty(we)&&(Oe[we]=le[we]);var We=arguments.length-2;if(We===1)Oe.children=q;else if(1<We){for(var qe=Array(We),Je=0;Je<We;Je++)qe[Je]=arguments[Je+2];Oe.children=qe}if(ee&&ee.defaultProps)for(we in We=ee.defaultProps,We)Oe[we]===void 0&&(Oe[we]=We[we]);return{$$typeof:t,type:ee,key:Ce,ref:Ue,props:Oe,_owner:O.current}}function G(ee,le){return{$$typeof:t,type:ee.type,key:le,ref:ee.ref,props:ee.props,_owner:ee._owner}}function Q(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function Y(ee){var le={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(q){return le[q]})}var K=/\/+/g;function j(ee,le){return typeof ee=="object"&&ee!==null&&ee.key!=null?Y(""+ee.key):le.toString(36)}function V(ee,le,q,we,Oe){var Ce=typeof ee;(Ce==="undefined"||Ce==="boolean")&&(ee=null);var Ue=!1;if(ee===null)Ue=!0;else switch(Ce){case"string":case"number":Ue=!0;break;case"object":switch(ee.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=ee,Oe=Oe(Ue),ee=we===""?"."+j(Ue,0):we,B(Oe)?(q="",ee!=null&&(q=ee.replace(K,"$&/")+"/"),V(Oe,le,q,"",function(Je){return Je})):Oe!=null&&(Q(Oe)&&(Oe=G(Oe,q+(!Oe.key||Ue&&Ue.key===Oe.key?"":(""+Oe.key).replace(K,"$&/")+"/")+ee)),le.push(Oe)),1;if(Ue=0,we=we===""?".":we+":",B(ee))for(var We=0;We<ee.length;We++){Ce=ee[We];var qe=we+j(Ce,We);Ue+=V(Ce,le,q,qe,Oe)}else if(qe=h(ee),typeof qe=="function")for(ee=qe.call(ee),We=0;!(Ce=ee.next()).done;)Ce=Ce.value,qe=we+j(Ce,We++),Ue+=V(Ce,le,q,qe,Oe);else if(Ce==="object")throw le=String(ee),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return Ue}function $(ee,le,q){if(ee==null)return ee;var we=[],Oe=0;return V(ee,we,"","",function(Ce){return le.call(q,Ce,Oe++)}),we}function J(ee){if(ee._status===-1){var le=ee._result;le=le(),le.then(function(q){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=q)},function(q){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=q)}),ee._status===-1&&(ee._status=0,ee._result=le)}if(ee._status===1)return ee._result.default;throw ee._result}var te={current:null},X={transition:null},oe={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:X,ReactCurrentOwner:O};function F(){throw Error("act(...) is not supported in production builds of React.")}return or.Children={map:$,forEach:function(ee,le,q){$(ee,function(){le.apply(this,arguments)},q)},count:function(ee){var le=0;return $(ee,function(){le++}),le},toArray:function(ee){return $(ee,function(le){return le})||[]},only:function(ee){if(!Q(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},or.Component=y,or.Fragment=n,or.Profiler=i,or.PureComponent=I,or.StrictMode=r,or.Suspense=l,or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,or.act=F,or.cloneElement=function(ee,le,q){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var we=E({},ee.props),Oe=ee.key,Ce=ee.ref,Ue=ee._owner;if(le!=null){if(le.ref!==void 0&&(Ce=le.ref,Ue=O.current),le.key!==void 0&&(Oe=""+le.key),ee.type&&ee.type.defaultProps)var We=ee.type.defaultProps;for(qe in le)w.call(le,qe)&&!L.hasOwnProperty(qe)&&(we[qe]=le[qe]===void 0&&We!==void 0?We[qe]:le[qe])}var qe=arguments.length-2;if(qe===1)we.children=q;else if(1<qe){We=Array(qe);for(var Je=0;Je<qe;Je++)We[Je]=arguments[Je+2];we.children=We}return{$$typeof:t,type:ee.type,key:Oe,ref:Ce,props:we,_owner:Ue}},or.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:s,_context:ee},ee.Consumer=ee},or.createElement=U,or.createFactory=function(ee){var le=U.bind(null,ee);return le.type=ee,le},or.createRef=function(){return{current:null}},or.forwardRef=function(ee){return{$$typeof:a,render:ee}},or.isValidElement=Q,or.lazy=function(ee){return{$$typeof:A,_payload:{_status:-1,_result:ee},_init:J}},or.memo=function(ee,le){return{$$typeof:c,type:ee,compare:le===void 0?null:le}},or.startTransition=function(ee){var le=X.transition;X.transition={};try{ee()}finally{X.transition=le}},or.unstable_act=F,or.useCallback=function(ee,le){return te.current.useCallback(ee,le)},or.useContext=function(ee){return te.current.useContext(ee)},or.useDebugValue=function(){},or.useDeferredValue=function(ee){return te.current.useDeferredValue(ee)},or.useEffect=function(ee,le){return te.current.useEffect(ee,le)},or.useId=function(){return te.current.useId()},or.useImperativeHandle=function(ee,le,q){return te.current.useImperativeHandle(ee,le,q)},or.useInsertionEffect=function(ee,le){return te.current.useInsertionEffect(ee,le)},or.useLayoutEffect=function(ee,le){return te.current.useLayoutEffect(ee,le)},or.useMemo=function(ee,le){return te.current.useMemo(ee,le)},or.useReducer=function(ee,le,q){return te.current.useReducer(ee,le,q)},or.useRef=function(ee){return te.current.useRef(ee)},or.useState=function(ee){return te.current.useState(ee)},or.useSyncExternalStore=function(ee,le,q){return te.current.useSyncExternalStore(ee,le,q)},or.useTransition=function(){return te.current.useTransition()},or.version="18.3.1",or}var dQ;function qf(){return dQ||(dQ=1,GB.exports=due()),GB.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fQ;function fue(){if(fQ)return S0;fQ=1;var t=qf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var A,u={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(A in l)r.call(l,A)&&!s.hasOwnProperty(A)&&(u[A]=l[A]);if(a&&a.defaultProps)for(A in l=a.defaultProps,l)u[A]===void 0&&(u[A]=l[A]);return{$$typeof:e,type:a,key:h,ref:p,props:u,_owner:i.current}}return S0.Fragment=n,S0.jsx=o,S0.jsxs=o,S0}var pQ;function pue(){return pQ||(pQ=1,HB.exports=fue()),HB.exports}var f=pue(),H=qf();const no=kS(H);var i_={},QB={exports:{}},ka={},VB={exports:{}},$B={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mQ;function mue(){return mQ||(mQ=1,(function(t){function e(X,oe){var F=X.length;X.push(oe);e:for(;0<F;){var ee=F-1>>>1,le=X[ee];if(0<i(le,oe))X[ee]=oe,X[F]=le,F=ee;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var oe=X[0],F=X.pop();if(F!==oe){X[0]=F;e:for(var ee=0,le=X.length,q=le>>>1;ee<q;){var we=2*(ee+1)-1,Oe=X[we],Ce=we+1,Ue=X[Ce];if(0>i(Oe,F))Ce<le&&0>i(Ue,Oe)?(X[ee]=Ue,X[Ce]=F,ee=Ce):(X[ee]=Oe,X[we]=F,ee=we);else if(Ce<le&&0>i(Ue,F))X[ee]=Ue,X[Ce]=F,ee=Ce;else break e}}return oe}function i(X,oe){var F=X.sortIndex-oe.sortIndex;return F!==0?F:X.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],A=1,u=null,h=3,p=!1,E=!1,T=!1,y=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(X){for(var oe=n(c);oe!==null;){if(oe.callback===null)r(c);else if(oe.startTime<=X)r(c),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(c)}}function B(X){if(T=!1,b(X),!E)if(n(l)!==null)E=!0,J(w);else{var oe=n(c);oe!==null&&te(B,oe.startTime-X)}}function w(X,oe){E=!1,T&&(T=!1,R(U),U=-1),p=!0;var F=h;try{for(b(oe),u=n(l);u!==null&&(!(u.expirationTime>oe)||X&&!Y());){var ee=u.callback;if(typeof ee=="function"){u.callback=null,h=u.priorityLevel;var le=ee(u.expirationTime<=oe);oe=t.unstable_now(),typeof le=="function"?u.callback=le:u===n(l)&&r(l),b(oe)}else r(l);u=n(l)}if(u!==null)var q=!0;else{var we=n(c);we!==null&&te(B,we.startTime-oe),q=!1}return q}finally{u=null,h=F,p=!1}}var O=!1,L=null,U=-1,G=5,Q=-1;function Y(){return!(t.unstable_now()-Q<G)}function K(){if(L!==null){var X=t.unstable_now();Q=X;var oe=!0;try{oe=L(!0,X)}finally{oe?j():(O=!1,L=null)}}else O=!1}var j;if(typeof I=="function")j=function(){I(K)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$=V.port2;V.port1.onmessage=K,j=function(){$.postMessage(null)}}else j=function(){y(K,0)};function J(X){L=X,O||(O=!0,j())}function te(X,oe){U=y(function(){X(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){E||p||(E=!0,J(w))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var F=h;h=oe;try{return X()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var F=h;h=X;try{return oe()}finally{h=F}},t.unstable_scheduleCallback=function(X,oe,F){var ee=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ee+F:ee):F=ee,X){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=F+le,X={id:A++,callback:oe,priorityLevel:X,startTime:F,expirationTime:le,sortIndex:-1},F>ee?(X.sortIndex=F,e(c,X),n(l)===null&&X===n(c)&&(T?(R(U),U=-1):T=!0,te(B,F-ee))):(X.sortIndex=le,e(l,X),E||p||(E=!0,J(w))),X},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(X){var oe=h;return function(){var F=h;h=oe;try{return X.apply(this,arguments)}finally{h=F}}}})($B)),$B}var gQ;function gue(){return gQ||(gQ=1,VB.exports=mue()),VB.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EQ;function Eue(){if(EQ)return ka;EQ=1;var t=qf(),e=gue();function n(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,C=1;C<arguments.length;C++)m+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(i[d]=m,d=0;d<m.length;d++)r.add(m[d])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},u={};function h(d){return l.call(u,d)?!0:l.call(A,d)?!1:c.test(d)?u[d]=!0:(A[d]=!0,!1)}function p(d,m,C,N){if(C!==null&&C.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return N?!1:C!==null?!C.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function E(d,m,C,N){if(m===null||typeof m>"u"||p(d,m,C,N))return!0;if(N)return!1;if(C!==null)switch(C.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function T(d,m,C,N,D,M,z){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=N,this.attributeNamespace=D,this.mustUseProperty=C,this.propertyName=d,this.type=m,this.sanitizeURL=M,this.removeEmptyString=z}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){y[d]=new T(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];y[m]=new T(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){y[d]=new T(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){y[d]=new T(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){y[d]=new T(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){y[d]=new T(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){y[d]=new T(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){y[d]=new T(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){y[d]=new T(d,5,!1,d.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function I(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(R,I);y[m]=new T(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(R,I);y[m]=new T(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(R,I);y[m]=new T(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){y[d]=new T(d,1,!1,d.toLowerCase(),null,!1,!1)}),y.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){y[d]=new T(d,1,!1,d.toLowerCase(),null,!0,!0)});function b(d,m,C,N){var D=y.hasOwnProperty(m)?y[m]:null;(D!==null?D.type!==0:N||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(E(m,C,D,N)&&(C=null),N||D===null?h(m)&&(C===null?d.removeAttribute(m):d.setAttribute(m,""+C)):D.mustUseProperty?d[D.propertyName]=C===null?D.type===3?!1:"":C:(m=D.attributeName,N=D.attributeNamespace,C===null?d.removeAttribute(m):(D=D.type,C=D===3||D===4&&C===!0?"":""+C,N?d.setAttributeNS(N,m,C):d.setAttribute(m,C))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),O=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),Y=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),X=Symbol.iterator;function oe(d){return d===null||typeof d!="object"?null:(d=X&&d[X]||d["@@iterator"],typeof d=="function"?d:null)}var F=Object.assign,ee;function le(d){if(ee===void 0)try{throw Error()}catch(C){var m=C.stack.trim().match(/\n( *(at )?)/);ee=m&&m[1]||""}return`
`+ee+d}var q=!1;function we(d,m){if(!d||q)return"";q=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ve){var N=ve}Reflect.construct(d,[],m)}else{try{m.call()}catch(ve){N=ve}d.call(m.prototype)}else{try{throw Error()}catch(ve){N=ve}d()}}catch(ve){if(ve&&N&&typeof ve.stack=="string"){for(var D=ve.stack.split(`
`),M=N.stack.split(`
`),z=D.length-1,se=M.length-1;1<=z&&0<=se&&D[z]!==M[se];)se--;for(;1<=z&&0<=se;z--,se--)if(D[z]!==M[se]){if(z!==1||se!==1)do if(z--,se--,0>se||D[z]!==M[se]){var de=`
`+D[z].replace(" at new "," at ");return d.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",d.displayName)),de}while(1<=z&&0<=se);break}}}finally{q=!1,Error.prepareStackTrace=C}return(d=d?d.displayName||d.name:"")?le(d):""}function Oe(d){switch(d.tag){case 5:return le(d.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return d=we(d.type,!1),d;case 11:return d=we(d.type.render,!1),d;case 1:return d=we(d.type,!0),d;default:return""}}function Ce(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case L:return"Fragment";case O:return"Portal";case G:return"Profiler";case U:return"StrictMode";case j:return"Suspense";case V:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case Y:return(d.displayName||"Context")+".Consumer";case Q:return(d._context.displayName||"Context")+".Provider";case K:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case $:return m=d.displayName||null,m!==null?m:Ce(d.type)||"Memo";case J:m=d._payload,d=d._init;try{return Ce(d(m))}catch{}}return null}function Ue(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(m);case 8:return m===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function We(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function qe(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Je(d){var m=qe(d)?"checked":"value",C=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),N=""+d[m];if(!d.hasOwnProperty(m)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var D=C.get,M=C.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return D.call(this)},set:function(z){N=""+z,M.call(this,z)}}),Object.defineProperty(d,m,{enumerable:C.enumerable}),{getValue:function(){return N},setValue:function(z){N=""+z},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function ut(d){d._valueTracker||(d._valueTracker=Je(d))}function en(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var C=m.getValue(),N="";return d&&(N=qe(d)?d.checked?"true":"false":d.value),d=N,d!==C?(m.setValue(d),!0):!1}function rn(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function be(d,m){var C=m.checked;return F({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:C??d._wrapperState.initialChecked})}function nt(d,m){var C=m.defaultValue==null?"":m.defaultValue,N=m.checked!=null?m.checked:m.defaultChecked;C=We(m.value!=null?m.value:C),d._wrapperState={initialChecked:N,initialValue:C,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Ke(d,m){m=m.checked,m!=null&&b(d,"checked",m,!1)}function gt(d,m){Ke(d,m);var C=We(m.value),N=m.type;if(C!=null)N==="number"?(C===0&&d.value===""||d.value!=C)&&(d.value=""+C):d.value!==""+C&&(d.value=""+C);else if(N==="submit"||N==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?_t(d,m.type,C):m.hasOwnProperty("defaultValue")&&_t(d,m.type,We(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function at(d,m,C){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var N=m.type;if(!(N!=="submit"&&N!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,C||m===d.value||(d.value=m),d.defaultValue=m}C=d.name,C!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,C!==""&&(d.name=C)}function _t(d,m,C){(m!=="number"||rn(d.ownerDocument)!==d)&&(C==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+C&&(d.defaultValue=""+C))}var Tt=Array.isArray;function Dt(d,m,C,N){if(d=d.options,m){m={};for(var D=0;D<C.length;D++)m["$"+C[D]]=!0;for(C=0;C<d.length;C++)D=m.hasOwnProperty("$"+d[C].value),d[C].selected!==D&&(d[C].selected=D),D&&N&&(d[C].defaultSelected=!0)}else{for(C=""+We(C),m=null,D=0;D<d.length;D++){if(d[D].value===C){d[D].selected=!0,N&&(d[D].defaultSelected=!0);return}m!==null||d[D].disabled||(m=d[D])}m!==null&&(m.selected=!0)}}function Ft(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function mn(d,m){var C=m.value;if(C==null){if(C=m.children,m=m.defaultValue,C!=null){if(m!=null)throw Error(n(92));if(Tt(C)){if(1<C.length)throw Error(n(93));C=C[0]}m=C}m==null&&(m=""),C=m}d._wrapperState={initialValue:We(C)}}function an(d,m){var C=We(m.value),N=We(m.defaultValue);C!=null&&(C=""+C,C!==d.value&&(d.value=C),m.defaultValue==null&&d.defaultValue!==C&&(d.defaultValue=C)),N!=null&&(d.defaultValue=""+N)}function qt(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function ce(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _e(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?ce(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Ye,dt=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,C,N,D){MSApp.execUnsafeLocalFunction(function(){return d(m,C,N,D)})}:d})(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(Ye=Ye||document.createElement("div"),Ye.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Ye.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function Wt(d,m){if(m){var C=d.firstChild;if(C&&C===d.lastChild&&C.nodeType===3){C.nodeValue=m;return}}d.textContent=m}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Te=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(d){Te.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),Xt[m]=Xt[d]})});function Ae(d,m,C){return m==null||typeof m=="boolean"||m===""?"":C||typeof m!="number"||m===0||Xt.hasOwnProperty(d)&&Xt[d]?(""+m).trim():m+"px"}function me(d,m){d=d.style;for(var C in m)if(m.hasOwnProperty(C)){var N=C.indexOf("--")===0,D=Ae(C,m[C],N);C==="float"&&(C="cssFloat"),N?d.setProperty(C,D):d[C]=D}}var st=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(d,m){if(m){if(st[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function ht(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=null;function mr(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Lt=null,Dn=null,tn=null;function cn(d){if(d=Vs(d)){if(typeof Lt!="function")throw Error(n(280));var m=d.stateNode;m&&(m=Vg(m),Lt(d.stateNode,d.type,m))}}function gr(d){Dn?tn?tn.push(d):tn=[d]:Dn=d}function Qn(){if(Dn){var d=Dn,m=tn;if(tn=Dn=null,cn(d),m)for(d=0;d<m.length;d++)cn(m[d])}}function hn(d,m){return d(m)}function Tr(){}var Br=!1;function Gr(d,m,C){if(Br)return d(m,C);Br=!0;try{return hn(d,m,C)}finally{Br=!1,(Dn!==null||tn!==null)&&(Tr(),Qn())}}function Fr(d,m){var C=d.stateNode;if(C===null)return null;var N=Vg(C);if(N===null)return null;C=N[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(d=d.type,N=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!N;break e;default:d=!1}if(d)return null;if(C&&typeof C!="function")throw Error(n(231,m,typeof C));return C}var ei=!1;if(a)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){ei=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{ei=!1}function Wi(d,m,C,N,D,M,z,se,de){var ve=Array.prototype.slice.call(arguments,3);try{m.apply(C,ve)}catch(ze){this.onError(ze)}}var lt=!1,Zt=null,Pt=!1,kn=null,et={onError:function(d){lt=!0,Zt=d}};function Gn(d,m,C,N,D,M,z,se,de){lt=!1,Zt=null,Wi.apply(et,arguments)}function Cn(d,m,C,N,D,M,z,se,de){if(Gn.apply(this,arguments),lt){if(lt){var ve=Zt;lt=!1,Zt=null}else throw Error(n(198));Pt||(Pt=!0,kn=ve)}}function nr(d){var m=d,C=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(C=m.return),d=m.return;while(d)}return m.tag===3?C:null}function zn(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function qr(d){if(nr(d)!==d)throw Error(n(188))}function xs(d){var m=d.alternate;if(!m){if(m=nr(d),m===null)throw Error(n(188));return m!==d?null:d}for(var C=d,N=m;;){var D=C.return;if(D===null)break;var M=D.alternate;if(M===null){if(N=D.return,N!==null){C=N;continue}break}if(D.child===M.child){for(M=D.child;M;){if(M===C)return qr(D),d;if(M===N)return qr(D),m;M=M.sibling}throw Error(n(188))}if(C.return!==N.return)C=D,N=M;else{for(var z=!1,se=D.child;se;){if(se===C){z=!0,C=D,N=M;break}if(se===N){z=!0,N=D,C=M;break}se=se.sibling}if(!z){for(se=M.child;se;){if(se===C){z=!0,C=M,N=D;break}if(se===N){z=!0,N=M,C=D;break}se=se.sibling}if(!z)throw Error(n(189))}}if(C.alternate!==N)throw Error(n(190))}if(C.tag!==3)throw Error(n(188));return C.stateNode.current===C?d:m}function Ii(d){return d=xs(d),d!==null?yt(d):null}function yt(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=yt(d);if(m!==null)return m;d=d.sibling}return null}var he=e.unstable_scheduleCallback,De=e.unstable_cancelCallback,ie=e.unstable_shouldYield,Le=e.unstable_requestPaint,Me=e.unstable_now,bt=e.unstable_getCurrentPriorityLevel,tt=e.unstable_ImmediatePriority,wn=e.unstable_UserBlockingPriority,rr=e.unstable_NormalPriority,Sr=e.unstable_LowPriority,Vn=e.unstable_IdlePriority,ti=null,_i=null;function Bl(d){if(_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(ti,d,void 0,(d.current.flags&128)===128)}catch{}}var Hs=Math.clz32?Math.clz32:cd,TA=Math.log,SA=Math.LN2;function cd(d){return d>>>=0,d===0?32:31-(TA(d)/SA|0)|0}var yA=64,Ad=4194304;function CA(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function vc(d,m){var C=d.pendingLanes;if(C===0)return 0;var N=0,D=d.suspendedLanes,M=d.pingedLanes,z=C&268435455;if(z!==0){var se=z&~D;se!==0?N=CA(se):(M&=z,M!==0&&(N=CA(M)))}else z=C&~D,z!==0?N=CA(z):M!==0&&(N=CA(M));if(N===0)return 0;if(m!==0&&m!==N&&(m&D)===0&&(D=N&-N,M=m&-m,D>=M||D===16&&(M&4194240)!==0))return m;if((N&4)!==0&&(N|=C&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=N;0<m;)C=31-Hs(m),D=1<<C,N|=d[C],m&=~D;return N}function Sg(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function op(d,m){for(var C=d.suspendedLanes,N=d.pingedLanes,D=d.expirationTimes,M=d.pendingLanes;0<M;){var z=31-Hs(M),se=1<<z,de=D[z];de===-1?((se&C)===0||(se&N)!==0)&&(D[z]=Sg(se,m)):de<=m&&(d.expiredLanes|=se),M&=~se}}function ud(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Pu(){var d=yA;return yA<<=1,(yA&4194240)===0&&(yA=64),d}function Uu(d){for(var m=[],C=0;31>C;C++)m.push(d);return m}function Fu(d,m,C){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-Hs(m),d[m]=C}function yg(d,m){var C=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var N=d.eventTimes;for(d=d.expirationTimes;0<C;){var D=31-Hs(C),M=1<<D;m[D]=0,N[D]=-1,d[D]=-1,C&=~M}}function Hu(d,m){var C=d.entangledLanes|=m;for(d=d.entanglements;C;){var N=31-Hs(C),D=1<<N;D&m|d[N]&m&&(d[N]|=m),C&=~D}}var ur=0;function Oc(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var ap,Gu,Cg,lp,cp,hd=!1,Qu=[],Dl=null,kl=null,Ml=null,Vu=new Map,sl=new Map,ol=[],oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function so(d,m){switch(d){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":Vu.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(m.pointerId)}}function Pl(d,m,C,N,D,M){return d===null||d.nativeEvent!==M?(d={blockedOn:m,domEventName:C,eventSystemFlags:N,nativeEvent:M,targetContainers:[D]},m!==null&&(m=Vs(m),m!==null&&Gu(m)),d):(d.eventSystemFlags|=N,m=d.targetContainers,D!==null&&m.indexOf(D)===-1&&m.push(D),d)}function xg(d,m,C,N,D){switch(m){case"focusin":return Dl=Pl(Dl,d,m,C,N,D),!0;case"dragenter":return kl=Pl(kl,d,m,C,N,D),!0;case"mouseover":return Ml=Pl(Ml,d,m,C,N,D),!0;case"pointerover":var M=D.pointerId;return Vu.set(M,Pl(Vu.get(M)||null,d,m,C,N,D)),!0;case"gotpointercapture":return M=D.pointerId,sl.set(M,Pl(sl.get(M)||null,d,m,C,N,D)),!0}return!1}function Rg(d){var m=Gl(d.target);if(m!==null){var C=nr(m);if(C!==null){if(m=C.tag,m===13){if(m=zn(C),m!==null){d.blockedOn=m,cp(d.priority,function(){Cg(C)});return}}else if(m===3&&C.stateNode.current.memoizedState.isDehydrated){d.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}d.blockedOn=null}function re(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var C=Pi(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(C===null){C=d.nativeEvent;var N=new C.constructor(C.type,C);sn=N,C.target.dispatchEvent(N),sn=null}else return m=Vs(C),m!==null&&Gu(m),d.blockedOn=C,!1;m.shift()}return!0}function Be(d,m,C){re(d)&&C.delete(m)}function ct(){hd=!1,Dl!==null&&re(Dl)&&(Dl=null),kl!==null&&re(kl)&&(kl=null),Ml!==null&&re(Ml)&&(Ml=null),Vu.forEach(Be),sl.forEach(Be)}function Rt(d,m){d.blockedOn===m&&(d.blockedOn=null,hd||(hd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ct)))}function Ht(d){function m(D){return Rt(D,d)}if(0<Qu.length){Rt(Qu[0],d);for(var C=1;C<Qu.length;C++){var N=Qu[C];N.blockedOn===d&&(N.blockedOn=null)}}for(Dl!==null&&Rt(Dl,d),kl!==null&&Rt(kl,d),Ml!==null&&Rt(Ml,d),Vu.forEach(m),sl.forEach(m),C=0;C<ol.length;C++)N=ol[C],N.blockedOn===d&&(N.blockedOn=null);for(;0<ol.length&&(C=ol[0],C.blockedOn===null);)Rg(C),C.blockedOn===null&&ol.shift()}var ai=B.ReactCurrentBatchConfig,Ni=!0;function Yi(d,m,C,N){var D=ur,M=ai.transition;ai.transition=null;try{ur=1,_r(d,m,C,N)}finally{ur=D,ai.transition=M}}function $n(d,m,C,N){var D=ur,M=ai.transition;ai.transition=null;try{ur=4,_r(d,m,C,N)}finally{ur=D,ai.transition=M}}function _r(d,m,C,N){if(Ni){var D=Pi(d,m,C,N);if(D===null)xy(d,m,N,Ei,C),so(d,N);else if(xg(D,d,m,C,N))N.stopPropagation();else if(so(d,N),m&4&&-1<oy.indexOf(d)){for(;D!==null;){var M=Vs(D);if(M!==null&&ap(M),M=Pi(d,m,C,N),M===null&&xy(d,m,N,Ei,C),M===D)break;D=M}D!==null&&N.stopPropagation()}else xy(d,m,N,null,C)}}var Ei=null;function Pi(d,m,C,N){if(Ei=null,d=mr(N),d=Gl(d),d!==null)if(m=nr(d),m===null)d=null;else if(C=m.tag,C===13){if(d=zn(m),d!==null)return d;d=null}else if(C===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return Ei=d,null}function li(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bt()){case tt:return 1;case wn:return 4;case rr:case Sr:return 16;case Vn:return 536870912;default:return 16}default:return 16}}var Kn=null,$u=null,Ul=null;function ay(){if(Ul)return Ul;var d,m=$u,C=m.length,N,D="value"in Kn?Kn.value:Kn.textContent,M=D.length;for(d=0;d<C&&m[d]===D[d];d++);var z=C-d;for(N=1;N<=z&&m[C-N]===D[M-N];N++);return Ul=D.slice(d,1<N?1-N:void 0)}function dd(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function oo(){return!0}function ly(){return!1}function Io(d){function m(C,N,D,M,z){this._reactName=C,this._targetInst=D,this.type=N,this.nativeEvent=M,this.target=z,this.currentTarget=null;for(var se in d)d.hasOwnProperty(se)&&(C=d[se],this[se]=C?C(M):M[se]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?oo:ly,this.isPropagationStopped=ly,this}return F(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),m}var Wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=Io(Wu),fd=F({},Wu,{view:0,detail:0}),YR=Io(fd),ao,cy,Gs,_g=F({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Gs&&(Gs&&d.type==="mousemove"?(ao=d.screenX-Gs.screenX,cy=d.screenY-Gs.screenY):cy=ao=0,Gs=d),ao)},movementY:function(d){return"movementY"in d?d.movementY:cy}}),Ay=Io(_g),xA=F({},_g,{dataTransfer:0}),Ng=Io(xA),uy=F({},fd,{relatedTarget:0}),ni=Io(uy),RA=F({},Wu,{animationName:0,elapsedTime:0,pseudoElement:0}),hy=Io(RA),zL=F({},Wu,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),dy=Io(zL),qL=F({},Wu,{data:0}),jR=Io(qL),XL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pd(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=bg[d])?!!m[d]:!1}function fy(){return pd}var zR=F({},fd,{key:function(d){if(d.key){var m=XL[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=dd(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?KR[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(d){return d.type==="keypress"?dd(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?dd(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),qR=Io(zR),py=F({},_g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=Io(py),XR=F({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),JL=Io(XR),my=F({},Wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=Io(my),ZL=F({},_g,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),JR=Io(ZL),qo=[9,13,27,32],Ap=a&&"CompositionEvent"in window,wc=null;a&&"documentMode"in document&&(wc=document.documentMode);var ZR=a&&"TextEvent"in window&&!wc,Ey=a&&(!Ap||wc&&8<wc&&11>=wc),eI=" ",tI=!1;function nI(d,m){switch(d){case"keyup":return qo.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rI(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var md=!1;function gd(d,m){switch(d){case"compositionend":return rI(m);case"keypress":return m.which!==32?null:(tI=!0,eI);case"textInput":return d=m.data,d===eI&&tI?null:d;default:return null}}function eB(d,m){if(md)return d==="compositionend"||!Ap&&nI(d,m)?(d=ay(),Ul=$u=Kn=null,md=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Ey&&m.locale!=="ko"?null:m.data;default:return null}}var tB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!tB[d.type]:m==="textarea"}function Ty(d,m,C,N){gr(N),m=Fg(m,"onChange"),0<m.length&&(C=new Ig("onChange","change",null,C,N),d.push({event:C,listeners:m}))}var Sa=null,IA=null;function nB(d){AI(d,0)}function wg(d){var m=Wn(d);if(en(m))return d}function rB(d,m){if(d==="change")return m}var Yu=!1;if(a){var Xo;if(a){var Lg="oninput"in document;if(!Lg){var iI=document.createElement("div");iI.setAttribute("oninput","return;"),Lg=typeof iI.oninput=="function"}Xo=Lg}else Xo=!1;Yu=Xo&&(!document.documentMode||9<document.documentMode)}function sI(){Sa&&(Sa.detachEvent("onpropertychange",oI),IA=Sa=null)}function oI(d){if(d.propertyName==="value"&&wg(IA)){var m=[];Ty(m,IA,d,mr(d)),Gr(nB,m)}}function iB(d,m,C){d==="focusin"?(sI(),Sa=m,IA=C,Sa.attachEvent("onpropertychange",oI)):d==="focusout"&&sI()}function sB(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return wg(IA)}function Ed(d,m){if(d==="click")return wg(m)}function ge(d,m){if(d==="input"||d==="change")return wg(m)}function Pe(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var Ne=typeof Object.is=="function"?Object.is:Pe;function Ct(d,m){if(Ne(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var C=Object.keys(d),N=Object.keys(m);if(C.length!==N.length)return!1;for(N=0;N<C.length;N++){var D=C[N];if(!l.call(m,D)||!Ne(d[D],m[D]))return!1}return!0}function Mn(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Nr(d,m){var C=Mn(d);d=0;for(var N;C;){if(C.nodeType===3){if(N=d+C.textContent.length,d<=m&&N>=m)return{node:C,offset:m-d};d=N}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=Mn(C)}}function ji(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?ji(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function Qr(){for(var d=window,m=rn();m instanceof d.HTMLIFrameElement;){try{var C=typeof m.contentWindow.location.href=="string"}catch{C=!1}if(C)d=m.contentWindow;else break;m=rn(d.document)}return m}function up(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function oB(d){var m=Qr(),C=d.focusedElem,N=d.selectionRange;if(m!==C&&C&&C.ownerDocument&&ji(C.ownerDocument.documentElement,C)){if(N!==null&&up(C)){if(m=N.start,d=N.end,d===void 0&&(d=m),"selectionStart"in C)C.selectionStart=m,C.selectionEnd=Math.min(d,C.value.length);else if(d=(m=C.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var D=C.textContent.length,M=Math.min(N.start,D);N=N.end===void 0?M:Math.min(N.end,D),!d.extend&&M>N&&(D=N,N=M,M=D),D=Nr(C,M);var z=Nr(C,N);D&&z&&(d.rangeCount!==1||d.anchorNode!==D.node||d.anchorOffset!==D.offset||d.focusNode!==z.node||d.focusOffset!==z.offset)&&(m=m.createRange(),m.setStart(D.node,D.offset),d.removeAllRanges(),M>N?(d.addRange(m),d.extend(z.node,z.offset)):(m.setEnd(z.node,z.offset),d.addRange(m)))}}for(m=[],d=C;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<m.length;C++)d=m[C],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var ya=a&&"documentMode"in document&&11>=document.documentMode,Lc=null,Sy=null,Fl=null,Td=!1;function hp(d,m,C){var N=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;Td||Lc==null||Lc!==rn(N)||(N=Lc,"selectionStart"in N&&up(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Fl&&Ct(Fl,N)||(Fl=N,N=Fg(Sy,"onSelect"),0<N.length&&(m=new Ig("onSelect","select",null,m,C),d.push({event:m,listeners:N}),m.target=Lc)))}function yr(d,m){var C={};return C[d.toLowerCase()]=m.toLowerCase(),C["Webkit"+d]="webkit"+m,C["Moz"+d]="moz"+m,C}var Sd={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},Bg={},dp={};a&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete Sd.animationend.animation,delete Sd.animationiteration.animation,delete Sd.animationstart.animation),"TransitionEvent"in window||delete Sd.transitionend.transition);function Dg(d){if(Bg[d])return Bg[d];if(!Sd[d])return d;var m=Sd[d],C;for(C in m)if(m.hasOwnProperty(C)&&C in dp)return Bg[d]=m[C];return d}var aI=Dg("animationend"),lI=Dg("animationiteration"),fp=Dg("animationstart"),Bc=Dg("transitionend"),pp=new Map,yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function al(d,m){pp.set(d,m),s(m,[d])}for(var kg=0;kg<yy.length;kg++){var Mg=yy[kg],Pg=Mg.toLowerCase(),cI=Mg[0].toUpperCase()+Mg.slice(1);al(Pg,"on"+cI)}al(aI,"onAnimationEnd"),al(lI,"onAnimationIteration"),al(fp,"onAnimationStart"),al("dblclick","onDoubleClick"),al("focusin","onFocus"),al("focusout","onBlur"),al(Bc,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ju=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dc));function mp(d,m,C){var N=d.type||"unknown-event";d.currentTarget=C,Cn(N,m,void 0,d),d.currentTarget=null}function AI(d,m){m=(m&4)!==0;for(var C=0;C<d.length;C++){var N=d[C],D=N.event;N=N.listeners;e:{var M=void 0;if(m)for(var z=N.length-1;0<=z;z--){var se=N[z],de=se.instance,ve=se.currentTarget;if(se=se.listener,de!==M&&D.isPropagationStopped())break e;mp(D,se,ve),M=de}else for(z=0;z<N.length;z++){if(se=N[z],de=se.instance,ve=se.currentTarget,se=se.listener,de!==M&&D.isPropagationStopped())break e;mp(D,se,ve),M=de}}}if(Pt)throw d=kn,Pt=!1,kn=null,d}function ci(d,m){var C=m[Qg];C===void 0&&(C=m[Qg]=new Set);var N=d+"__bubble";C.has(N)||(Ug(m,d,2,!1),C.add(N))}function Cy(d,m,C){var N=0;m&&(N|=4),Ug(C,d,N,m)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function _A(d){if(!d[Ku]){d[Ku]=!0,r.forEach(function(C){C!=="selectionchange"&&(ju.has(C)||Cy(C,!1,d),Cy(C,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Ku]||(m[Ku]=!0,Cy("selectionchange",!1,m))}}function Ug(d,m,C,N){switch(li(m)){case 1:var D=Yi;break;case 4:D=$n;break;default:D=_r}C=D.bind(null,m,C,d),D=void 0,!ei||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(D=!0),N?D!==void 0?d.addEventListener(m,C,{capture:!0,passive:D}):d.addEventListener(m,C,!0):D!==void 0?d.addEventListener(m,C,{passive:D}):d.addEventListener(m,C,!1)}function xy(d,m,C,N,D){var M=N;if((m&1)===0&&(m&2)===0&&N!==null)e:for(;;){if(N===null)return;var z=N.tag;if(z===3||z===4){var se=N.stateNode.containerInfo;if(se===D||se.nodeType===8&&se.parentNode===D)break;if(z===4)for(z=N.return;z!==null;){var de=z.tag;if((de===3||de===4)&&(de=z.stateNode.containerInfo,de===D||de.nodeType===8&&de.parentNode===D))return;z=z.return}for(;se!==null;){if(z=Gl(se),z===null)return;if(de=z.tag,de===5||de===6){N=M=z;continue e}se=se.parentNode}}N=N.return}Gr(function(){var ve=M,ze=mr(C),Ze=[];e:{var je=pp.get(d);if(je!==void 0){var xt=Ig,kt=d;switch(d){case"keypress":if(dd(C)===0)break e;case"keydown":case"keyup":xt=qR;break;case"focusin":kt="focus",xt=ni;break;case"focusout":kt="blur",xt=ni;break;case"beforeblur":case"afterblur":xt=ni;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=Ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=JL;break;case aI:case lI:case fp:xt=hy;break;case Bc:xt=gy;break;case"scroll":xt=YR;break;case"wheel":xt=JR;break;case"copy":case"cut":case"paste":xt=dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=vg}var Ut=(m&4)!==0,Fi=!Ut&&d==="scroll",ye=Ut?je!==null?je+"Capture":null:je;Ut=[];for(var pe=ve,xe;pe!==null;){xe=pe;var rt=xe.stateNode;if(xe.tag===5&&rt!==null&&(xe=rt,ye!==null&&(rt=Fr(pe,ye),rt!=null&&Ut.push(yd(pe,rt,xe)))),Fi)break;pe=pe.return}0<Ut.length&&(je=new xt(je,kt,null,C,ze),Ze.push({event:je,listeners:Ut}))}}if((m&7)===0){e:{if(je=d==="mouseover"||d==="pointerover",xt=d==="mouseout"||d==="pointerout",je&&C!==sn&&(kt=C.relatedTarget||C.fromElement)&&(Gl(kt)||kt[Jo]))break e;if((xt||je)&&(je=ze.window===ze?ze:(je=ze.ownerDocument)?je.defaultView||je.parentWindow:window,xt?(kt=C.relatedTarget||C.toElement,xt=ve,kt=kt?Gl(kt):null,kt!==null&&(Fi=nr(kt),kt!==Fi||kt.tag!==5&&kt.tag!==6)&&(kt=null)):(xt=null,kt=ve),xt!==kt)){if(Ut=Ay,rt="onMouseLeave",ye="onMouseEnter",pe="mouse",(d==="pointerout"||d==="pointerover")&&(Ut=vg,rt="onPointerLeave",ye="onPointerEnter",pe="pointer"),Fi=xt==null?je:Wn(xt),xe=kt==null?je:Wn(kt),je=new Ut(rt,pe+"leave",xt,C,ze),je.target=Fi,je.relatedTarget=xe,rt=null,Gl(ze)===ve&&(Ut=new Ut(ye,pe+"enter",kt,C,ze),Ut.target=xe,Ut.relatedTarget=Fi,rt=Ut),Fi=rt,xt&&kt)t:{for(Ut=xt,ye=kt,pe=0,xe=Ut;xe;xe=Cd(xe))pe++;for(xe=0,rt=ye;rt;rt=Cd(rt))xe++;for(;0<pe-xe;)Ut=Cd(Ut),pe--;for(;0<xe-pe;)ye=Cd(ye),xe--;for(;pe--;){if(Ut===ye||ye!==null&&Ut===ye.alternate)break t;Ut=Cd(Ut),ye=Cd(ye)}Ut=null}else Ut=null;xt!==null&&Ki(Ze,je,xt,Ut,!1),kt!==null&&Fi!==null&&Ki(Ze,Fi,kt,Ut,!0)}}e:{if(je=ve?Wn(ve):window,xt=je.nodeName&&je.nodeName.toLowerCase(),xt==="select"||xt==="input"&&je.type==="file")var Yt=rB;else if(Og(je))if(Yu)Yt=ge;else{Yt=sB;var An=iB}else(xt=je.nodeName)&&xt.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(Yt=Ed);if(Yt&&(Yt=Yt(d,ve))){Ty(Ze,Yt,C,ze);break e}An&&An(d,je,ve),d==="focusout"&&(An=je._wrapperState)&&An.controlled&&je.type==="number"&&_t(je,"number",je.value)}switch(An=ve?Wn(ve):window,d){case"focusin":(Og(An)||An.contentEditable==="true")&&(Lc=An,Sy=ve,Fl=null);break;case"focusout":Fl=Sy=Lc=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,hp(Ze,C,ze);break;case"selectionchange":if(ya)break;case"keydown":case"keyup":hp(Ze,C,ze)}var on;if(Ap)e:{switch(d){case"compositionstart":var xn="onCompositionStart";break e;case"compositionend":xn="onCompositionEnd";break e;case"compositionupdate":xn="onCompositionUpdate";break e}xn=void 0}else md?nI(d,C)&&(xn="onCompositionEnd"):d==="keydown"&&C.keyCode===229&&(xn="onCompositionStart");xn&&(Ey&&C.locale!=="ko"&&(md||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&md&&(on=ay()):(Kn=ze,$u="value"in Kn?Kn.value:Kn.textContent,md=!0)),An=Fg(ve,xn),0<An.length&&(xn=new jR(xn,d,null,C,ze),Ze.push({event:xn,listeners:An}),on?xn.data=on:(on=rI(C),on!==null&&(xn.data=on)))),(on=ZR?gd(d,C):eB(d,C))&&(ve=Fg(ve,"onBeforeInput"),0<ve.length&&(ze=new jR("onBeforeInput","beforeinput",null,C,ze),Ze.push({event:ze,listeners:ve}),ze.data=on))}AI(Ze,m)})}function yd(d,m,C){return{instance:d,listener:m,currentTarget:C}}function Fg(d,m){for(var C=m+"Capture",N=[];d!==null;){var D=d,M=D.stateNode;D.tag===5&&M!==null&&(D=M,M=Fr(d,C),M!=null&&N.unshift(yd(d,M,D)),M=Fr(d,m),M!=null&&N.push(yd(d,M,D))),d=d.return}return N}function Cd(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function Ki(d,m,C,N,D){for(var M=m._reactName,z=[];C!==null&&C!==N;){var se=C,de=se.alternate,ve=se.stateNode;if(de!==null&&de===N)break;se.tag===5&&ve!==null&&(se=ve,D?(de=Fr(C,M),de!=null&&z.unshift(yd(C,de,se))):D||(de=Fr(C,M),de!=null&&z.push(yd(C,de,se)))),C=C.return}z.length!==0&&d.push({event:m,listeners:z})}var Qs=/\r\n?/g,aB=/\u0000|\uFFFD/g;function uI(d){return(typeof d=="string"?d:""+d).replace(Qs,`
`).replace(aB,"")}function gp(d,m,C){if(m=uI(m),uI(d)!==m&&C)throw Error(n(425))}function Hg(){}var Ep=null,zu=null;function Tp(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var NA=typeof setTimeout=="function"?setTimeout:void 0,Sp=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,Gg=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(d){return xd.resolve(null).then(d).catch(Rd)}:NA;function Rd(d){setTimeout(function(){throw d})}function Ry(d,m){var C=m,N=0;do{var D=C.nextSibling;if(d.removeChild(C),D&&D.nodeType===8)if(C=D.data,C==="/$"){if(N===0){d.removeChild(D),Ht(m);return}N--}else C!=="$"&&C!=="$?"&&C!=="$!"||N++;C=D}while(C);Ht(m)}function bA(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function hI(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var C=d.data;if(C==="$"||C==="$!"||C==="$?"){if(m===0)return d;m--}else C==="/$"&&m++}d=d.previousSibling}return null}var Id=Math.random().toString(36).slice(2),Hl="__reactFiber$"+Id,vA="__reactProps$"+Id,Jo="__reactContainer$"+Id,Qg="__reactEvents$"+Id,Z="__reactListeners$"+Id,_d="__reactHandles$"+Id;function Gl(d){var m=d[Hl];if(m)return m;for(var C=d.parentNode;C;){if(m=C[Jo]||C[Hl]){if(C=m.alternate,m.child!==null||C!==null&&C.child!==null)for(d=hI(d);d!==null;){if(C=d[Hl])return C;d=hI(d)}return m}d=C,C=d.parentNode}return null}function Vs(d){return d=d[Hl]||d[Jo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Wn(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function Vg(d){return d[vA]||null}var Iy=[],Nd=-1;function _o(d){return{current:d}}function Ai(d){0>Nd||(d.current=Iy[Nd],Iy[Nd]=null,Nd--)}function ri(d,m){Nd++,Iy[Nd]=d.current,d.current=m}var OA={},$s=_o(OA),No=_o(!1),lo=OA;function bd(d,m){var C=d.type.contextTypes;if(!C)return OA;var N=d.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===m)return N.__reactInternalMemoizedMaskedChildContext;var D={},M;for(M in C)D[M]=m[M];return N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=D),D}function bo(d){return d=d.childContextTypes,d!=null}function $g(){Ai(No),Ai($s)}function dI(d,m,C){if($s.current!==OA)throw Error(n(168));ri($s,m),ri(No,C)}function fI(d,m,C){var N=d.stateNode;if(m=m.childContextTypes,typeof N.getChildContext!="function")return C;N=N.getChildContext();for(var D in N)if(!(D in m))throw Error(n(108,Ue(d)||"Unknown",D));return F({},C,N)}function Ca(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||OA,lo=$s.current,ri($s,d),ri(No,No.current),!0}function pI(d,m,C){var N=d.stateNode;if(!N)throw Error(n(169));C?(d=fI(d,m,lo),N.__reactInternalMemoizedMergedChildContext=d,Ai(No),Ai($s),ri($s,d)):Ai(No),ri(No,C)}var kc=null,Wg=!1,_y=!1;function mI(d){kc===null?kc=[d]:kc.push(d)}function qu(d){Wg=!0,mI(d)}function wA(){if(!_y&&kc!==null){_y=!0;var d=0,m=ur;try{var C=kc;for(ur=1;d<C.length;d++){var N=C[d];do N=N(!0);while(N!==null)}kc=null,Wg=!1}catch(D){throw kc!==null&&(kc=kc.slice(d+1)),he(tt,wA),D}finally{ur=m,_y=!1}}return null}var vd=[],Ws=0,Yg=null,jg=0,xa=[],Ra=0,Xu=null,Ql=1,Vl="";function Ju(d,m){vd[Ws++]=jg,vd[Ws++]=Yg,Yg=d,jg=m}function gI(d,m,C){xa[Ra++]=Ql,xa[Ra++]=Vl,xa[Ra++]=Xu,Xu=d;var N=Ql;d=Vl;var D=32-Hs(N)-1;N&=~(1<<D),C+=1;var M=32-Hs(m)+D;if(30<M){var z=D-D%5;M=(N&(1<<z)-1).toString(32),N>>=z,D-=z,Ql=1<<32-Hs(m)+D|C<<D|N,Vl=M+d}else Ql=1<<M|C<<D|N,Vl=d}function yp(d){d.return!==null&&(Ju(d,1),gI(d,1,0))}function Zu(d){for(;d===Yg;)Yg=vd[--Ws],vd[Ws]=null,jg=vd[--Ws],vd[Ws]=null;for(;d===Xu;)Xu=xa[--Ra],xa[Ra]=null,Vl=xa[--Ra],xa[Ra]=null,Ql=xa[--Ra],xa[Ra]=null}var Ys=null,Zo=null,ui=!1,ll=null;function $l(d,m){var C=wa(5,null,null,0);C.elementType="DELETED",C.stateNode=m,C.return=d,m=d.deletions,m===null?(d.deletions=[C],d.flags|=16):m.push(C)}function Kg(d,m){switch(d.tag){case 5:var C=d.type;return m=m.nodeType!==1||C.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Ys=d,Zo=bA(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Ys=d,Zo=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(C=Xu!==null?{id:Ql,overflow:Vl}:null,d.memoizedState={dehydrated:m,treeContext:C,retryLane:1073741824},C=wa(18,null,null,0),C.stateNode=m,C.return=d,d.child=C,Ys=d,Zo=null,!0):!1;default:return!1}}function Mc(d){return(d.mode&1)!==0&&(d.flags&128)===0}function vo(d){if(ui){var m=Zo;if(m){var C=m;if(!Kg(d,m)){if(Mc(d))throw Error(n(418));m=bA(C.nextSibling);var N=Ys;m&&Kg(d,m)?$l(N,C):(d.flags=d.flags&-4097|2,ui=!1,Ys=d)}}else{if(Mc(d))throw Error(n(418));d.flags=d.flags&-4097|2,ui=!1,Ys=d}}}function EI(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ys=d}function Cp(d){if(d!==Ys)return!1;if(!ui)return EI(d),ui=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Tp(d.type,d.memoizedProps)),m&&(m=Zo)){if(Mc(d))throw Ny(),Error(n(418));for(;m;)$l(d,m),m=bA(m.nextSibling)}if(EI(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var C=d.data;if(C==="/$"){if(m===0){Zo=bA(d.nextSibling);break e}m--}else C!=="$"&&C!=="$!"&&C!=="$?"||m++}d=d.nextSibling}Zo=null}}else Zo=Ys?bA(d.stateNode.nextSibling):null;return!0}function Ny(){for(var d=Zo;d;)d=bA(d.nextSibling)}function Wl(){Zo=Ys=null,ui=!1}function Yl(d){ll===null?ll=[d]:ll.push(d)}var TI=B.ReactCurrentBatchConfig;function xp(d,m,C){if(d=C.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(n(309));var N=C.stateNode}if(!N)throw Error(n(147,d));var D=N,M=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===M?m.ref:(m=function(z){var se=D.refs;z===null?delete se[M]:se[M]=z},m._stringRef=M,m)}if(typeof d!="string")throw Error(n(284));if(!C._owner)throw Error(n(290,d))}return d}function eh(d,m){throw d=Object.prototype.toString.call(m),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function SI(d){var m=d._init;return m(d._payload)}function by(d){function m(ye,pe){if(d){var xe=ye.deletions;xe===null?(ye.deletions=[pe],ye.flags|=16):xe.push(pe)}}function C(ye,pe){if(!d)return null;for(;pe!==null;)m(ye,pe),pe=pe.sibling;return null}function N(ye,pe){for(ye=new Map;pe!==null;)pe.key!==null?ye.set(pe.key,pe):ye.set(pe.index,pe),pe=pe.sibling;return ye}function D(ye,pe){return ye=pl(ye,pe),ye.index=0,ye.sibling=null,ye}function M(ye,pe,xe){return ye.index=xe,d?(xe=ye.alternate,xe!==null?(xe=xe.index,xe<pe?(ye.flags|=2,pe):xe):(ye.flags|=2,pe)):(ye.flags|=1048576,pe)}function z(ye){return d&&ye.alternate===null&&(ye.flags|=2),ye}function se(ye,pe,xe,rt){return pe===null||pe.tag!==6?(pe=f0(xe,ye.mode,rt),pe.return=ye,pe):(pe=D(pe,xe),pe.return=ye,pe)}function de(ye,pe,xe,rt){var Yt=xe.type;return Yt===L?ze(ye,pe,xe.props.children,rt,xe.key):pe!==null&&(pe.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===J&&SI(Yt)===pe.type)?(rt=D(pe,xe.props),rt.ref=xp(ye,pe,xe),rt.return=ye,rt):(rt=vE(xe.type,xe.key,xe.props,null,ye.mode,rt),rt.ref=xp(ye,pe,xe),rt.return=ye,rt)}function ve(ye,pe,xe,rt){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==xe.containerInfo||pe.stateNode.implementation!==xe.implementation?(pe=p0(xe,ye.mode,rt),pe.return=ye,pe):(pe=D(pe,xe.children||[]),pe.return=ye,pe)}function ze(ye,pe,xe,rt,Yt){return pe===null||pe.tag!==7?(pe=uh(xe,ye.mode,rt,Yt),pe.return=ye,pe):(pe=D(pe,xe),pe.return=ye,pe)}function Ze(ye,pe,xe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=f0(""+pe,ye.mode,xe),pe.return=ye,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:return xe=vE(pe.type,pe.key,pe.props,null,ye.mode,xe),xe.ref=xp(ye,null,pe),xe.return=ye,xe;case O:return pe=p0(pe,ye.mode,xe),pe.return=ye,pe;case J:var rt=pe._init;return Ze(ye,rt(pe._payload),xe)}if(Tt(pe)||oe(pe))return pe=uh(pe,ye.mode,xe,null),pe.return=ye,pe;eh(ye,pe)}return null}function je(ye,pe,xe,rt){var Yt=pe!==null?pe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Yt!==null?null:se(ye,pe,""+xe,rt);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case w:return xe.key===Yt?de(ye,pe,xe,rt):null;case O:return xe.key===Yt?ve(ye,pe,xe,rt):null;case J:return Yt=xe._init,je(ye,pe,Yt(xe._payload),rt)}if(Tt(xe)||oe(xe))return Yt!==null?null:ze(ye,pe,xe,rt,null);eh(ye,xe)}return null}function xt(ye,pe,xe,rt,Yt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return ye=ye.get(xe)||null,se(pe,ye,""+rt,Yt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case w:return ye=ye.get(rt.key===null?xe:rt.key)||null,de(pe,ye,rt,Yt);case O:return ye=ye.get(rt.key===null?xe:rt.key)||null,ve(pe,ye,rt,Yt);case J:var An=rt._init;return xt(ye,pe,xe,An(rt._payload),Yt)}if(Tt(rt)||oe(rt))return ye=ye.get(xe)||null,ze(pe,ye,rt,Yt,null);eh(pe,rt)}return null}function kt(ye,pe,xe,rt){for(var Yt=null,An=null,on=pe,xn=pe=0,gs=null;on!==null&&xn<xe.length;xn++){on.index>xn?(gs=on,on=null):gs=on.sibling;var br=je(ye,on,xe[xn],rt);if(br===null){on===null&&(on=gs);break}d&&on&&br.alternate===null&&m(ye,on),pe=M(br,pe,xn),An===null?Yt=br:An.sibling=br,An=br,on=gs}if(xn===xe.length)return C(ye,on),ui&&Ju(ye,xn),Yt;if(on===null){for(;xn<xe.length;xn++)on=Ze(ye,xe[xn],rt),on!==null&&(pe=M(on,pe,xn),An===null?Yt=on:An.sibling=on,An=on);return ui&&Ju(ye,xn),Yt}for(on=N(ye,on);xn<xe.length;xn++)gs=xt(on,ye,xn,xe[xn],rt),gs!==null&&(d&&gs.alternate!==null&&on.delete(gs.key===null?xn:gs.key),pe=M(gs,pe,xn),An===null?Yt=gs:An.sibling=gs,An=gs);return d&&on.forEach(function(VA){return m(ye,VA)}),ui&&Ju(ye,xn),Yt}function Ut(ye,pe,xe,rt){var Yt=oe(xe);if(typeof Yt!="function")throw Error(n(150));if(xe=Yt.call(xe),xe==null)throw Error(n(151));for(var An=Yt=null,on=pe,xn=pe=0,gs=null,br=xe.next();on!==null&&!br.done;xn++,br=xe.next()){on.index>xn?(gs=on,on=null):gs=on.sibling;var VA=je(ye,on,br.value,rt);if(VA===null){on===null&&(on=gs);break}d&&on&&VA.alternate===null&&m(ye,on),pe=M(VA,pe,xn),An===null?Yt=VA:An.sibling=VA,An=VA,on=gs}if(br.done)return C(ye,on),ui&&Ju(ye,xn),Yt;if(on===null){for(;!br.done;xn++,br=xe.next())br=Ze(ye,br.value,rt),br!==null&&(pe=M(br,pe,xn),An===null?Yt=br:An.sibling=br,An=br);return ui&&Ju(ye,xn),Yt}for(on=N(ye,on);!br.done;xn++,br=xe.next())br=xt(on,ye,xn,br.value,rt),br!==null&&(d&&br.alternate!==null&&on.delete(br.key===null?xn:br.key),pe=M(br,pe,xn),An===null?Yt=br:An.sibling=br,An=br);return d&&on.forEach(function(bB){return m(ye,bB)}),ui&&Ju(ye,xn),Yt}function Fi(ye,pe,xe,rt){if(typeof xe=="object"&&xe!==null&&xe.type===L&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case w:e:{for(var Yt=xe.key,An=pe;An!==null;){if(An.key===Yt){if(Yt=xe.type,Yt===L){if(An.tag===7){C(ye,An.sibling),pe=D(An,xe.props.children),pe.return=ye,ye=pe;break e}}else if(An.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===J&&SI(Yt)===An.type){C(ye,An.sibling),pe=D(An,xe.props),pe.ref=xp(ye,An,xe),pe.return=ye,ye=pe;break e}C(ye,An);break}else m(ye,An);An=An.sibling}xe.type===L?(pe=uh(xe.props.children,ye.mode,rt,xe.key),pe.return=ye,ye=pe):(rt=vE(xe.type,xe.key,xe.props,null,ye.mode,rt),rt.ref=xp(ye,pe,xe),rt.return=ye,ye=rt)}return z(ye);case O:e:{for(An=xe.key;pe!==null;){if(pe.key===An)if(pe.tag===4&&pe.stateNode.containerInfo===xe.containerInfo&&pe.stateNode.implementation===xe.implementation){C(ye,pe.sibling),pe=D(pe,xe.children||[]),pe.return=ye,ye=pe;break e}else{C(ye,pe);break}else m(ye,pe);pe=pe.sibling}pe=p0(xe,ye.mode,rt),pe.return=ye,ye=pe}return z(ye);case J:return An=xe._init,Fi(ye,pe,An(xe._payload),rt)}if(Tt(xe))return kt(ye,pe,xe,rt);if(oe(xe))return Ut(ye,pe,xe,rt);eh(ye,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,pe!==null&&pe.tag===6?(C(ye,pe.sibling),pe=D(pe,xe),pe.return=ye,ye=pe):(C(ye,pe),pe=f0(xe,ye.mode,rt),pe.return=ye,ye=pe),z(ye)):C(ye,pe)}return Fi}var Li=by(!0),zg=by(!1),Rp=_o(null),ea=null,LA=null,Od=null;function Pc(){Od=LA=ea=null}function qg(d){var m=Rp.current;Ai(Rp),d._currentValue=m}function Rs(d,m,C){for(;d!==null;){var N=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,N!==null&&(N.childLanes|=m)):N!==null&&(N.childLanes&m)!==m&&(N.childLanes|=m),d===C)break;d=d.return}}function BA(d,m){ea=d,Od=LA=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Ao=!0),d.firstContext=null)}function Ia(d){var m=d._currentValue;if(Od!==d)if(d={context:d,memoizedValue:m,next:null},LA===null){if(ea===null)throw Error(n(308));LA=d,ea.dependencies={lanes:0,firstContext:d}}else LA=LA.next=d;return m}var th=null;function vy(d){th===null?th=[d]:th.push(d)}function Xg(d,m,C,N){var D=m.interleaved;return D===null?(C.next=C,vy(m)):(C.next=D.next,D.next=C),m.interleaved=C,Uc(d,N)}function Uc(d,m){d.lanes|=m;var C=d.alternate;for(C!==null&&(C.lanes|=m),C=d,d=d.return;d!==null;)d.childLanes|=m,C=d.alternate,C!==null&&(C.childLanes|=m),C=d,d=d.return;return C.tag===3?C.stateNode:null}var _a=!1;function Jg(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yI(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Fc(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Na(d,m,C){var N=d.updateQueue;if(N===null)return null;if(N=N.shared,(Cr&2)!==0){var D=N.pending;return D===null?m.next=m:(m.next=D.next,D.next=m),N.pending=m,Uc(d,C)}return D=N.interleaved,D===null?(m.next=m,vy(N)):(m.next=D.next,D.next=m),N.interleaved=m,Uc(d,C)}function Zg(d,m,C){if(m=m.updateQueue,m!==null&&(m=m.shared,(C&4194240)!==0)){var N=m.lanes;N&=d.pendingLanes,C|=N,m.lanes=C,Hu(d,C)}}function CI(d,m){var C=d.updateQueue,N=d.alternate;if(N!==null&&(N=N.updateQueue,C===N)){var D=null,M=null;if(C=C.firstBaseUpdate,C!==null){do{var z={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};M===null?D=M=z:M=M.next=z,C=C.next}while(C!==null);M===null?D=M=m:M=M.next=m}else D=M=m;C={baseState:N.baseState,firstBaseUpdate:D,lastBaseUpdate:M,shared:N.shared,effects:N.effects},d.updateQueue=C;return}d=C.lastBaseUpdate,d===null?C.firstBaseUpdate=m:d.next=m,C.lastBaseUpdate=m}function wd(d,m,C,N){var D=d.updateQueue;_a=!1;var M=D.firstBaseUpdate,z=D.lastBaseUpdate,se=D.shared.pending;if(se!==null){D.shared.pending=null;var de=se,ve=de.next;de.next=null,z===null?M=ve:z.next=ve,z=de;var ze=d.alternate;ze!==null&&(ze=ze.updateQueue,se=ze.lastBaseUpdate,se!==z&&(se===null?ze.firstBaseUpdate=ve:se.next=ve,ze.lastBaseUpdate=de))}if(M!==null){var Ze=D.baseState;z=0,ze=ve=de=null,se=M;do{var je=se.lane,xt=se.eventTime;if((N&je)===je){ze!==null&&(ze=ze.next={eventTime:xt,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var kt=d,Ut=se;switch(je=m,xt=C,Ut.tag){case 1:if(kt=Ut.payload,typeof kt=="function"){Ze=kt.call(xt,Ze,je);break e}Ze=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Ut.payload,je=typeof kt=="function"?kt.call(xt,Ze,je):kt,je==null)break e;Ze=F({},Ze,je);break e;case 2:_a=!0}}se.callback!==null&&se.lane!==0&&(d.flags|=64,je=D.effects,je===null?D.effects=[se]:je.push(se))}else xt={eventTime:xt,lane:je,tag:se.tag,payload:se.payload,callback:se.callback,next:null},ze===null?(ve=ze=xt,de=Ze):ze=ze.next=xt,z|=je;if(se=se.next,se===null){if(se=D.shared.pending,se===null)break;je=se,se=je.next,je.next=null,D.lastBaseUpdate=je,D.shared.pending=null}}while(!0);if(ze===null&&(de=Ze),D.baseState=de,D.firstBaseUpdate=ve,D.lastBaseUpdate=ze,m=D.shared.interleaved,m!==null){D=m;do z|=D.lane,D=D.next;while(D!==m)}else M===null&&(D.shared.lanes=0);UA|=z,d.lanes=z,d.memoizedState=Ze}}function Oy(d,m,C){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var N=d[m],D=N.callback;if(D!==null){if(N.callback=null,N=C,typeof D!="function")throw Error(n(191,D));D.call(N)}}}var Ip={},jl=_o(Ip),_p=_o(Ip),Ld=_o(Ip);function Hc(d){if(d===Ip)throw Error(n(174));return d}function wy(d,m){switch(ri(Ld,m),ri(_p,d),ri(jl,Ip),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:_e(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=_e(m,d)}Ai(jl),ri(jl,m)}function DA(){Ai(jl),Ai(_p),Ai(Ld)}function Ly(d){Hc(Ld.current);var m=Hc(jl.current),C=_e(m,d.type);m!==C&&(ri(_p,d),ri(jl,C))}function eE(d){_p.current===d&&(Ai(jl),Ai(_p))}var Ti=_o(0);function nh(d){for(var m=d;m!==null;){if(m.tag===13){var C=m.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||C.data==="$?"||C.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var By=[];function tE(){for(var d=0;d<By.length;d++)By[d]._workInProgressVersionPrimary=null;By.length=0}var Np=B.ReactCurrentDispatcher,Dy=B.ReactCurrentBatchConfig,kA=0,bi=null,Ui=null,rs=null,Bd=!1,bp=!1,rh=0,qn=0;function js(){throw Error(n(321))}function ky(d,m){if(m===null)return!1;for(var C=0;C<m.length&&C<d.length;C++)if(!Ne(d[C],m[C]))return!1;return!0}function ih(d,m,C,N,D,M){if(kA=M,bi=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Np.current=d===null||d.memoizedState===null?cB:lE,d=C(N,D),bp){M=0;do{if(bp=!1,rh=0,25<=M)throw Error(n(301));M+=1,rs=Ui=null,m.updateQueue=null,Np.current=Pd,d=C(N,D)}while(bp)}if(Np.current=aE,m=Ui!==null&&Ui.next!==null,kA=0,rs=Ui=bi=null,Bd=!1,m)throw Error(n(300));return d}function nE(){var d=rh!==0;return rh=0,d}function Kl(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rs===null?bi.memoizedState=rs=d:rs=rs.next=d,rs}function ba(){if(Ui===null){var d=bi.alternate;d=d!==null?d.memoizedState:null}else d=Ui.next;var m=rs===null?bi.memoizedState:rs.next;if(m!==null)rs=m,Ui=d;else{if(d===null)throw Error(n(310));Ui=d,d={memoizedState:Ui.memoizedState,baseState:Ui.baseState,baseQueue:Ui.baseQueue,queue:Ui.queue,next:null},rs===null?bi.memoizedState=rs=d:rs=rs.next=d}return rs}function Ks(d,m){return typeof m=="function"?m(d):m}function My(d){var m=ba(),C=m.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=d;var N=Ui,D=N.baseQueue,M=C.pending;if(M!==null){if(D!==null){var z=D.next;D.next=M.next,M.next=z}N.baseQueue=D=M,C.pending=null}if(D!==null){M=D.next,N=N.baseState;var se=z=null,de=null,ve=M;do{var ze=ve.lane;if((kA&ze)===ze)de!==null&&(de=de.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),N=ve.hasEagerState?ve.eagerState:d(N,ve.action);else{var Ze={lane:ze,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};de===null?(se=de=Ze,z=N):de=de.next=Ze,bi.lanes|=ze,UA|=ze}ve=ve.next}while(ve!==null&&ve!==M);de===null?z=N:de.next=se,Ne(N,m.memoizedState)||(Ao=!0),m.memoizedState=N,m.baseState=z,m.baseQueue=de,C.lastRenderedState=N}if(d=C.interleaved,d!==null){D=d;do M=D.lane,bi.lanes|=M,UA|=M,D=D.next;while(D!==d)}else D===null&&(C.lanes=0);return[m.memoizedState,C.dispatch]}function Dd(d){var m=ba(),C=m.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=d;var N=C.dispatch,D=C.pending,M=m.memoizedState;if(D!==null){C.pending=null;var z=D=D.next;do M=d(M,z.action),z=z.next;while(z!==D);Ne(M,m.memoizedState)||(Ao=!0),m.memoizedState=M,m.baseQueue===null&&(m.baseState=M),C.lastRenderedState=M}return[M,N]}function rE(){}function Py(d,m){var C=bi,N=ba(),D=m(),M=!Ne(N.memoizedState,D);if(M&&(N.memoizedState=D,Ao=!0),N=N.queue,zl(Gc.bind(null,C,N,d),[d]),N.getSnapshot!==m||M||rs!==null&&rs.memoizedState.tag&1){if(C.flags|=2048,kd(9,Oo.bind(null,C,N,D,m),void 0,null),ms===null)throw Error(n(349));(kA&30)!==0||Uy(C,m,D)}return D}function Uy(d,m,C){d.flags|=16384,d={getSnapshot:m,value:C},m=bi.updateQueue,m===null?(m={lastEffect:null,stores:null},bi.updateQueue=m,m.stores=[d]):(C=m.stores,C===null?m.stores=[d]:C.push(d))}function Oo(d,m,C,N){m.value=C,m.getSnapshot=N,iE(m)&&Fy(d)}function Gc(d,m,C){return C(function(){iE(m)&&Fy(d)})}function iE(d){var m=d.getSnapshot;d=d.value;try{var C=m();return!Ne(d,C)}catch{return!0}}function Fy(d){var m=Uc(d,1);m!==null&&fl(m,d,1,-1)}function vp(d){var m=Kl();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:d},m.queue=d,d=d.dispatch=bI.bind(null,bi,d),[m.memoizedState,d]}function kd(d,m,C,N){return d={tag:d,create:m,destroy:C,deps:N,next:null},m=bi.updateQueue,m===null?(m={lastEffect:null,stores:null},bi.updateQueue=m,m.lastEffect=d.next=d):(C=m.lastEffect,C===null?m.lastEffect=d.next=d:(N=C.next,C.next=d,d.next=N,m.lastEffect=d)),d}function sE(){return ba().memoizedState}function Op(d,m,C,N){var D=Kl();bi.flags|=d,D.memoizedState=kd(1|m,C,void 0,N===void 0?null:N)}function Md(d,m,C,N){var D=ba();N=N===void 0?null:N;var M=void 0;if(Ui!==null){var z=Ui.memoizedState;if(M=z.destroy,N!==null&&ky(N,z.deps)){D.memoizedState=kd(m,C,M,N);return}}bi.flags|=d,D.memoizedState=kd(1|m,C,M,N)}function oE(d,m){return Op(8390656,8,d,m)}function zl(d,m){return Md(2048,8,d,m)}function xI(d,m){return Md(4,2,d,m)}function Qc(d,m){return Md(4,4,d,m)}function Hy(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function Gy(d,m,C){return C=C!=null?C.concat([d]):null,Md(4,4,Hy.bind(null,m,d),C)}function wp(){}function RI(d,m){var C=ba();m=m===void 0?null:m;var N=C.memoizedState;return N!==null&&m!==null&&ky(m,N[1])?N[0]:(C.memoizedState=[d,m],d)}function II(d,m){var C=ba();m=m===void 0?null:m;var N=C.memoizedState;return N!==null&&m!==null&&ky(m,N[1])?N[0]:(d=d(),C.memoizedState=[d,m],d)}function _I(d,m,C){return(kA&21)===0?(d.baseState&&(d.baseState=!1,Ao=!0),d.memoizedState=C):(Ne(C,m)||(C=Pu(),bi.lanes|=C,UA|=C,d.baseState=!0),m)}function NI(d,m){var C=ur;ur=C!==0&&4>C?C:4,d(!0);var N=Dy.transition;Dy.transition={};try{d(!1),m()}finally{ur=C,Dy.transition=N}}function Qy(){return ba().memoizedState}function lB(d,m,C){var N=GA(d);if(C={lane:N,action:C,hasEagerState:!1,eagerState:null,next:null},Vy(d))co(m,C);else if(C=Xg(d,m,C,N),C!==null){var D=fo();fl(C,d,N,D),cl(C,m,N)}}function bI(d,m,C){var N=GA(d),D={lane:N,action:C,hasEagerState:!1,eagerState:null,next:null};if(Vy(d))co(m,D);else{var M=d.alternate;if(d.lanes===0&&(M===null||M.lanes===0)&&(M=m.lastRenderedReducer,M!==null))try{var z=m.lastRenderedState,se=M(z,C);if(D.hasEagerState=!0,D.eagerState=se,Ne(se,z)){var de=m.interleaved;de===null?(D.next=D,vy(m)):(D.next=de.next,de.next=D),m.interleaved=D;return}}catch{}finally{}C=Xg(d,m,D,N),C!==null&&(D=fo(),fl(C,d,N,D),cl(C,m,N))}}function Vy(d){var m=d.alternate;return d===bi||m!==null&&m===bi}function co(d,m){bp=Bd=!0;var C=d.pending;C===null?m.next=m:(m.next=C.next,C.next=m),d.pending=m}function cl(d,m,C){if((C&4194240)!==0){var N=m.lanes;N&=d.pendingLanes,C|=N,m.lanes=C,Hu(d,C)}}var aE={readContext:Ia,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useInsertionEffect:js,useLayoutEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useMutableSource:js,useSyncExternalStore:js,useId:js,unstable_isNewReconciler:!1},cB={readContext:Ia,useCallback:function(d,m){return Kl().memoizedState=[d,m===void 0?null:m],d},useContext:Ia,useEffect:oE,useImperativeHandle:function(d,m,C){return C=C!=null?C.concat([d]):null,Op(4194308,4,Hy.bind(null,m,d),C)},useLayoutEffect:function(d,m){return Op(4194308,4,d,m)},useInsertionEffect:function(d,m){return Op(4,2,d,m)},useMemo:function(d,m){var C=Kl();return m=m===void 0?null:m,d=d(),C.memoizedState=[d,m],d},useReducer:function(d,m,C){var N=Kl();return m=C!==void 0?C(m):m,N.memoizedState=N.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},N.queue=d,d=d.dispatch=lB.bind(null,bi,d),[N.memoizedState,d]},useRef:function(d){var m=Kl();return d={current:d},m.memoizedState=d},useState:vp,useDebugValue:wp,useDeferredValue:function(d){return Kl().memoizedState=d},useTransition:function(){var d=vp(!1),m=d[0];return d=NI.bind(null,d[1]),Kl().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,C){var N=bi,D=Kl();if(ui){if(C===void 0)throw Error(n(407));C=C()}else{if(C=m(),ms===null)throw Error(n(349));(kA&30)!==0||Uy(N,m,C)}D.memoizedState=C;var M={value:C,getSnapshot:m};return D.queue=M,oE(Gc.bind(null,N,M,d),[d]),N.flags|=2048,kd(9,Oo.bind(null,N,M,C,m),void 0,null),C},useId:function(){var d=Kl(),m=ms.identifierPrefix;if(ui){var C=Vl,N=Ql;C=(N&~(1<<32-Hs(N)-1)).toString(32)+C,m=":"+m+"R"+C,C=rh++,0<C&&(m+="H"+C.toString(32)),m+=":"}else C=qn++,m=":"+m+"r"+C.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},lE={readContext:Ia,useCallback:RI,useContext:Ia,useEffect:zl,useImperativeHandle:Gy,useInsertionEffect:xI,useLayoutEffect:Qc,useMemo:II,useReducer:My,useRef:sE,useState:function(){return My(Ks)},useDebugValue:wp,useDeferredValue:function(d){var m=ba();return _I(m,Ui.memoizedState,d)},useTransition:function(){var d=My(Ks)[0],m=ba().memoizedState;return[d,m]},useMutableSource:rE,useSyncExternalStore:Py,useId:Qy,unstable_isNewReconciler:!1},Pd={readContext:Ia,useCallback:RI,useContext:Ia,useEffect:zl,useImperativeHandle:Gy,useInsertionEffect:xI,useLayoutEffect:Qc,useMemo:II,useReducer:Dd,useRef:sE,useState:function(){return Dd(Ks)},useDebugValue:wp,useDeferredValue:function(d){var m=ba();return Ui===null?m.memoizedState=d:_I(m,Ui.memoizedState,d)},useTransition:function(){var d=Dd(Ks)[0],m=ba().memoizedState;return[d,m]},useMutableSource:rE,useSyncExternalStore:Py,useId:Qy,unstable_isNewReconciler:!1};function va(d,m){if(d&&d.defaultProps){m=F({},m),d=d.defaultProps;for(var C in d)m[C]===void 0&&(m[C]=d[C]);return m}return m}function cE(d,m,C,N){m=d.memoizedState,C=C(N,m),C=C==null?m:F({},m,C),d.memoizedState=C,d.lanes===0&&(d.updateQueue.baseState=C)}var AE={isMounted:function(d){return(d=d._reactInternals)?nr(d)===d:!1},enqueueSetState:function(d,m,C){d=d._reactInternals;var N=fo(),D=GA(d),M=Fc(N,D);M.payload=m,C!=null&&(M.callback=C),m=Na(d,M,D),m!==null&&(fl(m,d,D,N),Zg(m,d,D))},enqueueReplaceState:function(d,m,C){d=d._reactInternals;var N=fo(),D=GA(d),M=Fc(N,D);M.tag=1,M.payload=m,C!=null&&(M.callback=C),m=Na(d,M,D),m!==null&&(fl(m,d,D,N),Zg(m,d,D))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var C=fo(),N=GA(d),D=Fc(C,N);D.tag=2,m!=null&&(D.callback=m),m=Na(d,D,N),m!==null&&(fl(m,d,N,C),Zg(m,d,N))}};function $y(d,m,C,N,D,M,z){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(N,M,z):m.prototype&&m.prototype.isPureReactComponent?!Ct(C,N)||!Ct(D,M):!0}function sh(d,m,C){var N=!1,D=OA,M=m.contextType;return typeof M=="object"&&M!==null?M=Ia(M):(D=bo(m)?lo:$s.current,N=m.contextTypes,M=(N=N!=null)?bd(d,D):OA),m=new m(C,M),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=AE,d.stateNode=m,m._reactInternals=d,N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=D,d.__reactInternalMemoizedMaskedChildContext=M),m}function Ud(d,m,C,N){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(C,N),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(C,N),m.state!==d&&AE.enqueueReplaceState(m,m.state,null)}function Wy(d,m,C,N){var D=d.stateNode;D.props=C,D.state=d.memoizedState,D.refs={},Jg(d);var M=m.contextType;typeof M=="object"&&M!==null?D.context=Ia(M):(M=bo(m)?lo:$s.current,D.context=bd(d,M)),D.state=d.memoizedState,M=m.getDerivedStateFromProps,typeof M=="function"&&(cE(d,m,M,C),D.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(m=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),m!==D.state&&AE.enqueueReplaceState(D,D.state,null),wd(d,C,D,N),D.state=d.memoizedState),typeof D.componentDidMount=="function"&&(d.flags|=4194308)}function oh(d,m){try{var C="",N=m;do C+=Oe(N),N=N.return;while(N);var D=C}catch(M){D=`
Error generating stack: `+M.message+`
`+M.stack}return{value:d,source:m,stack:D,digest:null}}function uE(d,m,C){return{value:d,source:null,stack:C??null,digest:m??null}}function Fd(d,m){try{console.error(m.value)}catch(C){setTimeout(function(){throw C})}}var vI=typeof WeakMap=="function"?WeakMap:Map;function Lp(d,m,C){C=Fc(-1,C),C.tag=3,C.payload={element:null};var N=m.value;return C.callback=function(){CE||(CE=!0,a0=N),Fd(d,m)},C}function hE(d,m,C){C=Fc(-1,C),C.tag=3;var N=d.type.getDerivedStateFromError;if(typeof N=="function"){var D=m.value;C.payload=function(){return N(D)},C.callback=function(){Fd(d,m)}}var M=d.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(C.callback=function(){Fd(d,m),typeof N!="function"&&(FA===null?FA=new Set([this]):FA.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})}),C}function Bp(d,m,C){var N=d.pingCache;if(N===null){N=d.pingCache=new vI;var D=new Set;N.set(m,D)}else D=N.get(m),D===void 0&&(D=new Set,N.set(m,D));D.has(C)||(D.add(C),d=gB.bind(null,d,m,C),m.then(d,d))}function OI(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function Yy(d,m,C,N,D){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(m=Fc(-1,1),m.tag=2,Na(C,m,1))),C.lanes|=1),d):(d.flags|=65536,d.lanes=D,d)}var dE=B.ReactCurrentOwner,Ao=!1;function Is(d,m,C,N){m.child=d===null?zg(m,null,C,N):Li(m,d.child,C,N)}function wI(d,m,C,N,D){C=C.render;var M=m.ref;return BA(m,D),N=ih(d,m,C,N,M,D),C=nE(),d!==null&&!Ao?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~D,Al(d,m,D)):(ui&&C&&yp(m),m.flags|=1,Is(d,m,N,D),m.child)}function jy(d,m,C,N,D){if(d===null){var M=C.type;return typeof M=="function"&&!bE(M)&&M.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(m.tag=15,m.type=M,ql(d,m,M,N,D)):(d=vE(C.type,null,N,m,m.mode,D),d.ref=m.ref,d.return=m,m.child=d)}if(M=d.child,(d.lanes&D)===0){var z=M.memoizedProps;if(C=C.compare,C=C!==null?C:Ct,C(z,N)&&d.ref===m.ref)return Al(d,m,D)}return m.flags|=1,d=pl(M,N),d.ref=m.ref,d.return=m,m.child=d}function ql(d,m,C,N,D){if(d!==null){var M=d.memoizedProps;if(Ct(M,N)&&d.ref===m.ref)if(Ao=!1,m.pendingProps=N=M,(d.lanes&D)!==0)(d.flags&131072)!==0&&(Ao=!0);else return m.lanes=d.lanes,Al(d,m,D)}return qy(d,m,C,N,D)}function Ky(d,m,C){var N=m.pendingProps,D=N.children,M=d!==null?d.memoizedState:null;if(N.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},ri(Vd,na),na|=C;else{if((C&1073741824)===0)return d=M!==null?M.baseLanes|C:C,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,ri(Vd,na),na|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=M!==null?M.baseLanes:C,ri(Vd,na),na|=N}else M!==null?(N=M.baseLanes|C,m.memoizedState=null):N=C,ri(Vd,na),na|=N;return Is(d,m,D,C),m.child}function zy(d,m){var C=m.ref;(d===null&&C!==null||d!==null&&d.ref!==C)&&(m.flags|=512,m.flags|=2097152)}function qy(d,m,C,N,D){var M=bo(C)?lo:$s.current;return M=bd(m,M),BA(m,D),C=ih(d,m,C,N,M,D),N=nE(),d!==null&&!Ao?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~D,Al(d,m,D)):(ui&&N&&yp(m),m.flags|=1,Is(d,m,C,D),m.child)}function Xy(d,m,C,N,D){if(bo(C)){var M=!0;Ca(m)}else M=!1;if(BA(m,D),m.stateNode===null)pE(d,m),sh(m,C,N),Wy(m,C,N,D),N=!0;else if(d===null){var z=m.stateNode,se=m.memoizedProps;z.props=se;var de=z.context,ve=C.contextType;typeof ve=="object"&&ve!==null?ve=Ia(ve):(ve=bo(C)?lo:$s.current,ve=bd(m,ve));var ze=C.getDerivedStateFromProps,Ze=typeof ze=="function"||typeof z.getSnapshotBeforeUpdate=="function";Ze||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(se!==N||de!==ve)&&Ud(m,z,N,ve),_a=!1;var je=m.memoizedState;z.state=je,wd(m,N,z,D),de=m.memoizedState,se!==N||je!==de||No.current||_a?(typeof ze=="function"&&(cE(m,C,ze,N),de=m.memoizedState),(se=_a||$y(m,C,se,N,je,de,ve))?(Ze||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(m.flags|=4194308)):(typeof z.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=N,m.memoizedState=de),z.props=N,z.state=de,z.context=ve,N=se):(typeof z.componentDidMount=="function"&&(m.flags|=4194308),N=!1)}else{z=m.stateNode,yI(d,m),se=m.memoizedProps,ve=m.type===m.elementType?se:va(m.type,se),z.props=ve,Ze=m.pendingProps,je=z.context,de=C.contextType,typeof de=="object"&&de!==null?de=Ia(de):(de=bo(C)?lo:$s.current,de=bd(m,de));var xt=C.getDerivedStateFromProps;(ze=typeof xt=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(se!==Ze||je!==de)&&Ud(m,z,N,de),_a=!1,je=m.memoizedState,z.state=je,wd(m,N,z,D);var kt=m.memoizedState;se!==Ze||je!==kt||No.current||_a?(typeof xt=="function"&&(cE(m,C,xt,N),kt=m.memoizedState),(ve=_a||$y(m,C,ve,N,je,kt,de)||!1)?(ze||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(N,kt,de),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(N,kt,de)),typeof z.componentDidUpdate=="function"&&(m.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof z.componentDidUpdate!="function"||se===d.memoizedProps&&je===d.memoizedState||(m.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||se===d.memoizedProps&&je===d.memoizedState||(m.flags|=1024),m.memoizedProps=N,m.memoizedState=kt),z.props=N,z.state=kt,z.context=de,N=ve):(typeof z.componentDidUpdate!="function"||se===d.memoizedProps&&je===d.memoizedState||(m.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||se===d.memoizedProps&&je===d.memoizedState||(m.flags|=1024),N=!1)}return Jy(d,m,C,N,M,D)}function Jy(d,m,C,N,D,M){zy(d,m);var z=(m.flags&128)!==0;if(!N&&!z)return D&&pI(m,C,!1),Al(d,m,M);N=m.stateNode,dE.current=m;var se=z&&typeof C.getDerivedStateFromError!="function"?null:N.render();return m.flags|=1,d!==null&&z?(m.child=Li(m,d.child,null,M),m.child=Li(m,null,se,M)):Is(d,m,se,M),m.memoizedState=N.state,D&&pI(m,C,!0),m.child}function LI(d){var m=d.stateNode;m.pendingContext?dI(d,m.pendingContext,m.pendingContext!==m.context):m.context&&dI(d,m.context,!1),wy(d,m.containerInfo)}function Xl(d,m,C,N,D){return Wl(),Yl(D),m.flags|=256,Is(d,m,C,N),m.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function kp(d){return{baseLanes:d,cachePool:null,transitions:null}}function fE(d,m,C){var N=m.pendingProps,D=Ti.current,M=!1,z=(m.flags&128)!==0,se;if((se=z)||(se=d!==null&&d.memoizedState===null?!1:(D&2)!==0),se?(M=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(D|=1),ri(Ti,D&1),d===null)return vo(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(z=N.children,d=N.fallback,M?(N=m.mode,M=m.child,z={mode:"hidden",children:z},(N&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=z):M=OE(z,N,0,null),d=uh(d,N,C,null),M.return=m,d.return=m,M.sibling=d,m.child=M,m.child.memoizedState=kp(C),m.memoizedState=Dp,d):Hd(m,z));if(D=d.memoizedState,D!==null&&(se=D.dehydrated,se!==null))return dn(d,m,z,N,se,D,C);if(M){M=N.fallback,z=m.mode,D=d.child,se=D.sibling;var de={mode:"hidden",children:N.children};return(z&1)===0&&m.child!==D?(N=m.child,N.childLanes=0,N.pendingProps=de,m.deletions=null):(N=pl(D,de),N.subtreeFlags=D.subtreeFlags&14680064),se!==null?M=pl(se,M):(M=uh(M,z,C,null),M.flags|=2),M.return=m,N.return=m,N.sibling=M,m.child=N,N=M,M=m.child,z=d.child.memoizedState,z=z===null?kp(C):{baseLanes:z.baseLanes|C,cachePool:null,transitions:z.transitions},M.memoizedState=z,M.childLanes=d.childLanes&~C,m.memoizedState=Dp,N}return M=d.child,d=M.sibling,N=pl(M,{mode:"visible",children:N.children}),(m.mode&1)===0&&(N.lanes=C),N.return=m,N.sibling=null,d!==null&&(C=m.deletions,C===null?(m.deletions=[d],m.flags|=16):C.push(d)),m.child=N,m.memoizedState=null,N}function Hd(d,m){return m=OE({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Vc(d,m,C,N){return N!==null&&Yl(N),Li(m,d.child,null,C),d=Hd(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function dn(d,m,C,N,D,M,z){if(C)return m.flags&256?(m.flags&=-257,N=uE(Error(n(422))),Vc(d,m,z,N)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(M=N.fallback,D=m.mode,N=OE({mode:"visible",children:N.children},D,0,null),M=uh(M,D,z,null),M.flags|=2,N.return=m,M.return=m,N.sibling=M,m.child=N,(m.mode&1)!==0&&Li(m,d.child,null,z),m.child.memoizedState=kp(z),m.memoizedState=Dp,M);if((m.mode&1)===0)return Vc(d,m,z,null);if(D.data==="$!"){if(N=D.nextSibling&&D.nextSibling.dataset,N)var se=N.dgst;return N=se,M=Error(n(419)),N=uE(M,N,void 0),Vc(d,m,z,N)}if(se=(z&d.childLanes)!==0,Ao||se){if(N=ms,N!==null){switch(z&-z){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(N.suspendedLanes|z))!==0?0:D,D!==0&&D!==M.retryLane&&(M.retryLane=D,Uc(d,D),fl(N,d,D,-1))}return d0(),N=uE(Error(n(421))),Vc(d,m,z,N)}return D.data==="$?"?(m.flags|=128,m.child=d.child,m=EB.bind(null,d),D._reactRetry=m,null):(d=M.treeContext,Zo=bA(D.nextSibling),Ys=m,ui=!0,ll=null,d!==null&&(xa[Ra++]=Ql,xa[Ra++]=Vl,xa[Ra++]=Xu,Ql=d.id,Vl=d.overflow,Xu=m),m=Hd(m,N.children),m.flags|=4096,m)}function Mp(d,m,C){d.lanes|=m;var N=d.alternate;N!==null&&(N.lanes|=m),Rs(d.return,m,C)}function Pp(d,m,C,N,D){var M=d.memoizedState;M===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:N,tail:C,tailMode:D}:(M.isBackwards=m,M.rendering=null,M.renderingStartTime=0,M.last=N,M.tail=C,M.tailMode=D)}function MA(d,m,C){var N=m.pendingProps,D=N.revealOrder,M=N.tail;if(Is(d,m,N.children,C),N=Ti.current,(N&2)!==0)N=N&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Mp(d,C,m);else if(d.tag===19)Mp(d,C,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}N&=1}if(ri(Ti,N),(m.mode&1)===0)m.memoizedState=null;else switch(D){case"forwards":for(C=m.child,D=null;C!==null;)d=C.alternate,d!==null&&nh(d)===null&&(D=C),C=C.sibling;C=D,C===null?(D=m.child,m.child=null):(D=C.sibling,C.sibling=null),Pp(m,!1,D,C,M);break;case"backwards":for(C=null,D=m.child,m.child=null;D!==null;){if(d=D.alternate,d!==null&&nh(d)===null){m.child=D;break}d=D.sibling,D.sibling=C,C=D,D=d}Pp(m,!0,C,null,M);break;case"together":Pp(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function pE(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function Al(d,m,C){if(d!==null&&(m.dependencies=d.dependencies),UA|=m.lanes,(C&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(n(153));if(m.child!==null){for(d=m.child,C=pl(d,d.pendingProps),m.child=C,C.return=m;d.sibling!==null;)d=d.sibling,C=C.sibling=pl(d,d.pendingProps),C.return=m;C.sibling=null}return m.child}function BI(d,m,C){switch(m.tag){case 3:LI(m),Wl();break;case 5:Ly(m);break;case 1:bo(m.type)&&Ca(m);break;case 4:wy(m,m.stateNode.containerInfo);break;case 10:var N=m.type._context,D=m.memoizedProps.value;ri(Rp,N._currentValue),N._currentValue=D;break;case 13:if(N=m.memoizedState,N!==null)return N.dehydrated!==null?(ri(Ti,Ti.current&1),m.flags|=128,null):(C&m.child.childLanes)!==0?fE(d,m,C):(ri(Ti,Ti.current&1),d=Al(d,m,C),d!==null?d.sibling:null);ri(Ti,Ti.current&1);break;case 19:if(N=(C&m.childLanes)!==0,(d.flags&128)!==0){if(N)return MA(d,m,C);m.flags|=128}if(D=m.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),ri(Ti,Ti.current),N)break;return null;case 22:case 23:return m.lanes=0,Ky(d,m,C)}return Al(d,m,C)}var _s,Zy,DI,e0;_s=function(d,m){for(var C=m.child;C!==null;){if(C.tag===5||C.tag===6)d.appendChild(C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},Zy=function(){},DI=function(d,m,C,N){var D=d.memoizedProps;if(D!==N){d=m.stateNode,Hc(jl.current);var M=null;switch(C){case"input":D=be(d,D),N=be(d,N),M=[];break;case"select":D=F({},D,{value:void 0}),N=F({},N,{value:void 0}),M=[];break;case"textarea":D=Ft(d,D),N=Ft(d,N),M=[];break;default:typeof D.onClick!="function"&&typeof N.onClick=="function"&&(d.onclick=Hg)}ke(C,N);var z;C=null;for(ve in D)if(!N.hasOwnProperty(ve)&&D.hasOwnProperty(ve)&&D[ve]!=null)if(ve==="style"){var se=D[ve];for(z in se)se.hasOwnProperty(z)&&(C||(C={}),C[z]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(i.hasOwnProperty(ve)?M||(M=[]):(M=M||[]).push(ve,null));for(ve in N){var de=N[ve];if(se=D!=null?D[ve]:void 0,N.hasOwnProperty(ve)&&de!==se&&(de!=null||se!=null))if(ve==="style")if(se){for(z in se)!se.hasOwnProperty(z)||de&&de.hasOwnProperty(z)||(C||(C={}),C[z]="");for(z in de)de.hasOwnProperty(z)&&se[z]!==de[z]&&(C||(C={}),C[z]=de[z])}else C||(M||(M=[]),M.push(ve,C)),C=de;else ve==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,se=se?se.__html:void 0,de!=null&&se!==de&&(M=M||[]).push(ve,de)):ve==="children"?typeof de!="string"&&typeof de!="number"||(M=M||[]).push(ve,""+de):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(i.hasOwnProperty(ve)?(de!=null&&ve==="onScroll"&&ci("scroll",d),M||se===de||(M=[])):(M=M||[]).push(ve,de))}C&&(M=M||[]).push("style",C);var ve=M;(m.updateQueue=ve)&&(m.flags|=4)}},e0=function(d,m,C,N){C!==N&&(m.flags|=4)};function Up(d,m){if(!ui)switch(d.tailMode){case"hidden":m=d.tail;for(var C=null;m!==null;)m.alternate!==null&&(C=m),m=m.sibling;C===null?d.tail=null:C.sibling=null;break;case"collapsed":C=d.tail;for(var N=null;C!==null;)C.alternate!==null&&(N=C),C=C.sibling;N===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:N.sibling=null}}function Ns(d){var m=d.alternate!==null&&d.alternate.child===d.child,C=0,N=0;if(m)for(var D=d.child;D!==null;)C|=D.lanes|D.childLanes,N|=D.subtreeFlags&14680064,N|=D.flags&14680064,D.return=d,D=D.sibling;else for(D=d.child;D!==null;)C|=D.lanes|D.childLanes,N|=D.subtreeFlags,N|=D.flags,D.return=d,D=D.sibling;return d.subtreeFlags|=N,d.childLanes=C,m}function AB(d,m,C){var N=m.pendingProps;switch(Zu(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ns(m),null;case 1:return bo(m.type)&&$g(),Ns(m),null;case 3:return N=m.stateNode,DA(),Ai(No),Ai($s),tE(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(d===null||d.child===null)&&(Cp(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,ll!==null&&(A0(ll),ll=null))),Zy(d,m),Ns(m),null;case 5:eE(m);var D=Hc(Ld.current);if(C=m.type,d!==null&&m.stateNode!=null)DI(d,m,C,N,D),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!N){if(m.stateNode===null)throw Error(n(166));return Ns(m),null}if(d=Hc(jl.current),Cp(m)){N=m.stateNode,C=m.type;var M=m.memoizedProps;switch(N[Hl]=m,N[vA]=M,d=(m.mode&1)!==0,C){case"dialog":ci("cancel",N),ci("close",N);break;case"iframe":case"object":case"embed":ci("load",N);break;case"video":case"audio":for(D=0;D<Dc.length;D++)ci(Dc[D],N);break;case"source":ci("error",N);break;case"img":case"image":case"link":ci("error",N),ci("load",N);break;case"details":ci("toggle",N);break;case"input":nt(N,M),ci("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!M.multiple},ci("invalid",N);break;case"textarea":mn(N,M),ci("invalid",N)}ke(C,M),D=null;for(var z in M)if(M.hasOwnProperty(z)){var se=M[z];z==="children"?typeof se=="string"?N.textContent!==se&&(M.suppressHydrationWarning!==!0&&gp(N.textContent,se,d),D=["children",se]):typeof se=="number"&&N.textContent!==""+se&&(M.suppressHydrationWarning!==!0&&gp(N.textContent,se,d),D=["children",""+se]):i.hasOwnProperty(z)&&se!=null&&z==="onScroll"&&ci("scroll",N)}switch(C){case"input":ut(N),at(N,M,!0);break;case"textarea":ut(N),qt(N);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(N.onclick=Hg)}N=D,m.updateQueue=N,N!==null&&(m.flags|=4)}else{z=D.nodeType===9?D:D.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=ce(C)),d==="http://www.w3.org/1999/xhtml"?C==="script"?(d=z.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof N.is=="string"?d=z.createElement(C,{is:N.is}):(d=z.createElement(C),C==="select"&&(z=d,N.multiple?z.multiple=!0:N.size&&(z.size=N.size))):d=z.createElementNS(d,C),d[Hl]=m,d[vA]=N,_s(d,m,!1,!1),m.stateNode=d;e:{switch(z=ht(C,N),C){case"dialog":ci("cancel",d),ci("close",d),D=N;break;case"iframe":case"object":case"embed":ci("load",d),D=N;break;case"video":case"audio":for(D=0;D<Dc.length;D++)ci(Dc[D],d);D=N;break;case"source":ci("error",d),D=N;break;case"img":case"image":case"link":ci("error",d),ci("load",d),D=N;break;case"details":ci("toggle",d),D=N;break;case"input":nt(d,N),D=be(d,N),ci("invalid",d);break;case"option":D=N;break;case"select":d._wrapperState={wasMultiple:!!N.multiple},D=F({},N,{value:void 0}),ci("invalid",d);break;case"textarea":mn(d,N),D=Ft(d,N),ci("invalid",d);break;default:D=N}ke(C,D),se=D;for(M in se)if(se.hasOwnProperty(M)){var de=se[M];M==="style"?me(d,de):M==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&dt(d,de)):M==="children"?typeof de=="string"?(C!=="textarea"||de!=="")&&Wt(d,de):typeof de=="number"&&Wt(d,""+de):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?de!=null&&M==="onScroll"&&ci("scroll",d):de!=null&&b(d,M,de,z))}switch(C){case"input":ut(d),at(d,N,!1);break;case"textarea":ut(d),qt(d);break;case"option":N.value!=null&&d.setAttribute("value",""+We(N.value));break;case"select":d.multiple=!!N.multiple,M=N.value,M!=null?Dt(d,!!N.multiple,M,!1):N.defaultValue!=null&&Dt(d,!!N.multiple,N.defaultValue,!0);break;default:typeof D.onClick=="function"&&(d.onclick=Hg)}switch(C){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Ns(m),null;case 6:if(d&&m.stateNode!=null)e0(d,m,d.memoizedProps,N);else{if(typeof N!="string"&&m.stateNode===null)throw Error(n(166));if(C=Hc(Ld.current),Hc(jl.current),Cp(m)){if(N=m.stateNode,C=m.memoizedProps,N[Hl]=m,(M=N.nodeValue!==C)&&(d=Ys,d!==null))switch(d.tag){case 3:gp(N.nodeValue,C,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&gp(N.nodeValue,C,(d.mode&1)!==0)}M&&(m.flags|=4)}else N=(C.nodeType===9?C:C.ownerDocument).createTextNode(N),N[Hl]=m,m.stateNode=N}return Ns(m),null;case 13:if(Ai(Ti),N=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(ui&&Zo!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Ny(),Wl(),m.flags|=98560,M=!1;else if(M=Cp(m),N!==null&&N.dehydrated!==null){if(d===null){if(!M)throw Error(n(318));if(M=m.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[Hl]=m}else Wl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ns(m),M=!1}else ll!==null&&(A0(ll),ll=null),M=!0;if(!M)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=C,m):(N=N!==null,N!==(d!==null&&d.memoizedState!==null)&&N&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Ti.current&1)!==0?is===0&&(is=3):d0())),m.updateQueue!==null&&(m.flags|=4),Ns(m),null);case 4:return DA(),Zy(d,m),d===null&&_A(m.stateNode.containerInfo),Ns(m),null;case 10:return qg(m.type._context),Ns(m),null;case 17:return bo(m.type)&&$g(),Ns(m),null;case 19:if(Ai(Ti),M=m.memoizedState,M===null)return Ns(m),null;if(N=(m.flags&128)!==0,z=M.rendering,z===null)if(N)Up(M,!1);else{if(is!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(z=nh(d),z!==null){for(m.flags|=128,Up(M,!1),N=z.updateQueue,N!==null&&(m.updateQueue=N,m.flags|=4),m.subtreeFlags=0,N=C,C=m.child;C!==null;)M=C,d=N,M.flags&=14680066,z=M.alternate,z===null?(M.childLanes=0,M.lanes=d,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=z.childLanes,M.lanes=z.lanes,M.child=z.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=z.memoizedProps,M.memoizedState=z.memoizedState,M.updateQueue=z.updateQueue,M.type=z.type,d=z.dependencies,M.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),C=C.sibling;return ri(Ti,Ti.current&1|2),m.child}d=d.sibling}M.tail!==null&&Me()>ah&&(m.flags|=128,N=!0,Up(M,!1),m.lanes=4194304)}else{if(!N)if(d=nh(z),d!==null){if(m.flags|=128,N=!0,C=d.updateQueue,C!==null&&(m.updateQueue=C,m.flags|=4),Up(M,!0),M.tail===null&&M.tailMode==="hidden"&&!z.alternate&&!ui)return Ns(m),null}else 2*Me()-M.renderingStartTime>ah&&C!==1073741824&&(m.flags|=128,N=!0,Up(M,!1),m.lanes=4194304);M.isBackwards?(z.sibling=m.child,m.child=z):(C=M.last,C!==null?C.sibling=z:m.child=z,M.last=z)}return M.tail!==null?(m=M.tail,M.rendering=m,M.tail=m.sibling,M.renderingStartTime=Me(),m.sibling=null,C=Ti.current,ri(Ti,N?C&1|2:C&1),m):(Ns(m),null);case 22:case 23:return h0(),N=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==N&&(m.flags|=8192),N&&(m.mode&1)!==0?(na&1073741824)!==0&&(Ns(m),m.subtreeFlags&6&&(m.flags|=8192)):Ns(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function uB(d,m){switch(Zu(m),m.tag){case 1:return bo(m.type)&&$g(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return DA(),Ai(No),Ai($s),tE(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return eE(m),null;case 13:if(Ai(Ti),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Wl()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return Ai(Ti),null;case 4:return DA(),null;case 10:return qg(m.type._context),null;case 22:case 23:return h0(),null;case 24:return null;default:return null}}var mE=!1,Si=!1,uo=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Gd(d,m){var C=d.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(N){vi(d,m,N)}else C.current=null}function Fp(d,m,C){try{C()}catch(N){vi(d,m,N)}}var kI=!1;function hB(d,m){if(Ep=Ni,d=Qr(),up(d)){if("selectionStart"in d)var C={start:d.selectionStart,end:d.selectionEnd};else e:{C=(C=d.ownerDocument)&&C.defaultView||window;var N=C.getSelection&&C.getSelection();if(N&&N.rangeCount!==0){C=N.anchorNode;var D=N.anchorOffset,M=N.focusNode;N=N.focusOffset;try{C.nodeType,M.nodeType}catch{C=null;break e}var z=0,se=-1,de=-1,ve=0,ze=0,Ze=d,je=null;t:for(;;){for(var xt;Ze!==C||D!==0&&Ze.nodeType!==3||(se=z+D),Ze!==M||N!==0&&Ze.nodeType!==3||(de=z+N),Ze.nodeType===3&&(z+=Ze.nodeValue.length),(xt=Ze.firstChild)!==null;)je=Ze,Ze=xt;for(;;){if(Ze===d)break t;if(je===C&&++ve===D&&(se=z),je===M&&++ze===N&&(de=z),(xt=Ze.nextSibling)!==null)break;Ze=je,je=Ze.parentNode}Ze=xt}C=se===-1||de===-1?null:{start:se,end:de}}else C=null}C=C||{start:0,end:0}}else C=null;for(zu={focusedElem:d,selectionRange:C},Ni=!1,vt=m;vt!==null;)if(m=vt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,vt=d;else for(;vt!==null;){m=vt;try{var kt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(kt!==null){var Ut=kt.memoizedProps,Fi=kt.memoizedState,ye=m.stateNode,pe=ye.getSnapshotBeforeUpdate(m.elementType===m.type?Ut:va(m.type,Ut),Fi);ye.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var xe=m.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(rt){vi(m,m.return,rt)}if(d=m.sibling,d!==null){d.return=m.return,vt=d;break}vt=m.return}return kt=kI,kI=!1,kt}function $c(d,m,C){var N=m.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var D=N=N.next;do{if((D.tag&d)===d){var M=D.destroy;D.destroy=void 0,M!==void 0&&Fp(m,C,M)}D=D.next}while(D!==N)}}function Hp(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var C=m=m.next;do{if((C.tag&d)===d){var N=C.create;C.destroy=N()}C=C.next}while(C!==m)}}function gE(d){var m=d.ref;if(m!==null){var C=d.stateNode;switch(d.tag){case 5:d=C;break;default:d=C}typeof m=="function"?m(d):m.current=d}}function MI(d){var m=d.alternate;m!==null&&(d.alternate=null,MI(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Hl],delete m[vA],delete m[Qg],delete m[Z],delete m[_d])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function PI(d){return d.tag===5||d.tag===3||d.tag===4}function UI(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||PI(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function t0(d,m,C){var N=d.tag;if(N===5||N===6)d=d.stateNode,m?C.nodeType===8?C.parentNode.insertBefore(d,m):C.insertBefore(d,m):(C.nodeType===8?(m=C.parentNode,m.insertBefore(d,C)):(m=C,m.appendChild(d)),C=C._reactRootContainer,C!=null||m.onclick!==null||(m.onclick=Hg));else if(N!==4&&(d=d.child,d!==null))for(t0(d,m,C),d=d.sibling;d!==null;)t0(d,m,C),d=d.sibling}function EE(d,m,C){var N=d.tag;if(N===5||N===6)d=d.stateNode,m?C.insertBefore(d,m):C.appendChild(d);else if(N!==4&&(d=d.child,d!==null))for(EE(d,m,C),d=d.sibling;d!==null;)EE(d,m,C),d=d.sibling}var ps=null,ul=!1;function Jl(d,m,C){for(C=C.child;C!==null;)n0(d,m,C),C=C.sibling}function n0(d,m,C){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(ti,C)}catch{}switch(C.tag){case 5:Si||Gd(C,m);case 6:var N=ps,D=ul;ps=null,Jl(d,m,C),ps=N,ul=D,ps!==null&&(ul?(d=ps,C=C.stateNode,d.nodeType===8?d.parentNode.removeChild(C):d.removeChild(C)):ps.removeChild(C.stateNode));break;case 18:ps!==null&&(ul?(d=ps,C=C.stateNode,d.nodeType===8?Ry(d.parentNode,C):d.nodeType===1&&Ry(d,C),Ht(d)):Ry(ps,C.stateNode));break;case 4:N=ps,D=ul,ps=C.stateNode.containerInfo,ul=!0,Jl(d,m,C),ps=N,ul=D;break;case 0:case 11:case 14:case 15:if(!Si&&(N=C.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){D=N=N.next;do{var M=D,z=M.destroy;M=M.tag,z!==void 0&&((M&2)!==0||(M&4)!==0)&&Fp(C,m,z),D=D.next}while(D!==N)}Jl(d,m,C);break;case 1:if(!Si&&(Gd(C,m),N=C.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=C.memoizedProps,N.state=C.memoizedState,N.componentWillUnmount()}catch(se){vi(C,m,se)}Jl(d,m,C);break;case 21:Jl(d,m,C);break;case 22:C.mode&1?(Si=(N=Si)||C.memoizedState!==null,Jl(d,m,C),Si=N):Jl(d,m,C);break;default:Jl(d,m,C)}}function Qd(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var C=d.stateNode;C===null&&(C=d.stateNode=new uo),m.forEach(function(N){var D=TB.bind(null,d,N);C.has(N)||(C.add(N),N.then(D,D))})}}function ta(d,m){var C=m.deletions;if(C!==null)for(var N=0;N<C.length;N++){var D=C[N];try{var M=d,z=m,se=z;e:for(;se!==null;){switch(se.tag){case 5:ps=se.stateNode,ul=!1;break e;case 3:ps=se.stateNode.containerInfo,ul=!0;break e;case 4:ps=se.stateNode.containerInfo,ul=!0;break e}se=se.return}if(ps===null)throw Error(n(160));n0(M,z,D),ps=null,ul=!1;var de=D.alternate;de!==null&&(de.return=null),D.return=null}catch(ve){vi(D,m,ve)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)r0(m,d),m=m.sibling}function r0(d,m){var C=d.alternate,N=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(ta(m,d),hl(d),N&4){try{$c(3,d,d.return),Hp(3,d)}catch(Ut){vi(d,d.return,Ut)}try{$c(5,d,d.return)}catch(Ut){vi(d,d.return,Ut)}}break;case 1:ta(m,d),hl(d),N&512&&C!==null&&Gd(C,C.return);break;case 5:if(ta(m,d),hl(d),N&512&&C!==null&&Gd(C,C.return),d.flags&32){var D=d.stateNode;try{Wt(D,"")}catch(Ut){vi(d,d.return,Ut)}}if(N&4&&(D=d.stateNode,D!=null)){var M=d.memoizedProps,z=C!==null?C.memoizedProps:M,se=d.type,de=d.updateQueue;if(d.updateQueue=null,de!==null)try{se==="input"&&M.type==="radio"&&M.name!=null&&Ke(D,M),ht(se,z);var ve=ht(se,M);for(z=0;z<de.length;z+=2){var ze=de[z],Ze=de[z+1];ze==="style"?me(D,Ze):ze==="dangerouslySetInnerHTML"?dt(D,Ze):ze==="children"?Wt(D,Ze):b(D,ze,Ze,ve)}switch(se){case"input":gt(D,M);break;case"textarea":an(D,M);break;case"select":var je=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!M.multiple;var xt=M.value;xt!=null?Dt(D,!!M.multiple,xt,!1):je!==!!M.multiple&&(M.defaultValue!=null?Dt(D,!!M.multiple,M.defaultValue,!0):Dt(D,!!M.multiple,M.multiple?[]:"",!1))}D[vA]=M}catch(Ut){vi(d,d.return,Ut)}}break;case 6:if(ta(m,d),hl(d),N&4){if(d.stateNode===null)throw Error(n(162));D=d.stateNode,M=d.memoizedProps;try{D.nodeValue=M}catch(Ut){vi(d,d.return,Ut)}}break;case 3:if(ta(m,d),hl(d),N&4&&C!==null&&C.memoizedState.isDehydrated)try{Ht(m.containerInfo)}catch(Ut){vi(d,d.return,Ut)}break;case 4:ta(m,d),hl(d);break;case 13:ta(m,d),hl(d),D=d.child,D.flags&8192&&(M=D.memoizedState!==null,D.stateNode.isHidden=M,!M||D.alternate!==null&&D.alternate.memoizedState!==null||(o0=Me())),N&4&&Qd(d);break;case 22:if(ze=C!==null&&C.memoizedState!==null,d.mode&1?(Si=(ve=Si)||ze,ta(m,d),Si=ve):ta(m,d),hl(d),N&8192){if(ve=d.memoizedState!==null,(d.stateNode.isHidden=ve)&&!ze&&(d.mode&1)!==0)for(vt=d,ze=d.child;ze!==null;){for(Ze=vt=ze;vt!==null;){switch(je=vt,xt=je.child,je.tag){case 0:case 11:case 14:case 15:$c(4,je,je.return);break;case 1:Gd(je,je.return);var kt=je.stateNode;if(typeof kt.componentWillUnmount=="function"){N=je,C=je.return;try{m=N,kt.props=m.memoizedProps,kt.state=m.memoizedState,kt.componentWillUnmount()}catch(Ut){vi(N,C,Ut)}}break;case 5:Gd(je,je.return);break;case 22:if(je.memoizedState!==null){PA(Ze);continue}}xt!==null?(xt.return=je,vt=xt):PA(Ze)}ze=ze.sibling}e:for(ze=null,Ze=d;;){if(Ze.tag===5){if(ze===null){ze=Ze;try{D=Ze.stateNode,ve?(M=D.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(se=Ze.stateNode,de=Ze.memoizedProps.style,z=de!=null&&de.hasOwnProperty("display")?de.display:null,se.style.display=Ae("display",z))}catch(Ut){vi(d,d.return,Ut)}}}else if(Ze.tag===6){if(ze===null)try{Ze.stateNode.nodeValue=ve?"":Ze.memoizedProps}catch(Ut){vi(d,d.return,Ut)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===d)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===d)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===d)break e;ze===Ze&&(ze=null),Ze=Ze.return}ze===Ze&&(ze=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:ta(m,d),hl(d),N&4&&Qd(d);break;case 21:break;default:ta(m,d),hl(d)}}function hl(d){var m=d.flags;if(m&2){try{e:{for(var C=d.return;C!==null;){if(PI(C)){var N=C;break e}C=C.return}throw Error(n(160))}switch(N.tag){case 5:var D=N.stateNode;N.flags&32&&(Wt(D,""),N.flags&=-33);var M=UI(d);EE(d,M,D);break;case 3:case 4:var z=N.stateNode.containerInfo,se=UI(d);t0(d,se,z);break;default:throw Error(n(161))}}catch(de){vi(d,d.return,de)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function TE(d,m,C){vt=d,i0(d)}function i0(d,m,C){for(var N=(d.mode&1)!==0;vt!==null;){var D=vt,M=D.child;if(D.tag===22&&N){var z=D.memoizedState!==null||mE;if(!z){var se=D.alternate,de=se!==null&&se.memoizedState!==null||Si;se=mE;var ve=Si;if(mE=z,(Si=de)&&!ve)for(vt=D;vt!==null;)z=vt,de=z.child,z.tag===22&&z.memoizedState!==null?FI(D):de!==null?(de.return=z,vt=de):FI(D);for(;M!==null;)vt=M,i0(M),M=M.sibling;vt=D,mE=se,Si=ve}dl(d)}else(D.subtreeFlags&8772)!==0&&M!==null?(M.return=D,vt=M):dl(d)}}function dl(d){for(;vt!==null;){var m=vt;if((m.flags&8772)!==0){var C=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Si||Hp(5,m);break;case 1:var N=m.stateNode;if(m.flags&4&&!Si)if(C===null)N.componentDidMount();else{var D=m.elementType===m.type?C.memoizedProps:va(m.type,C.memoizedProps);N.componentDidUpdate(D,C.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var M=m.updateQueue;M!==null&&Oy(m,M,N);break;case 3:var z=m.updateQueue;if(z!==null){if(C=null,m.child!==null)switch(m.child.tag){case 5:C=m.child.stateNode;break;case 1:C=m.child.stateNode}Oy(m,z,C)}break;case 5:var se=m.stateNode;if(C===null&&m.flags&4){C=se;var de=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&C.focus();break;case"img":de.src&&(C.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ve=m.alternate;if(ve!==null){var ze=ve.memoizedState;if(ze!==null){var Ze=ze.dehydrated;Ze!==null&&Ht(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Si||m.flags&512&&gE(m)}catch(je){vi(m,m.return,je)}}if(m===d){vt=null;break}if(C=m.sibling,C!==null){C.return=m.return,vt=C;break}vt=m.return}}function PA(d){for(;vt!==null;){var m=vt;if(m===d){vt=null;break}var C=m.sibling;if(C!==null){C.return=m.return,vt=C;break}vt=m.return}}function FI(d){for(;vt!==null;){var m=vt;try{switch(m.tag){case 0:case 11:case 15:var C=m.return;try{Hp(4,m)}catch(de){vi(m,C,de)}break;case 1:var N=m.stateNode;if(typeof N.componentDidMount=="function"){var D=m.return;try{N.componentDidMount()}catch(de){vi(m,D,de)}}var M=m.return;try{gE(m)}catch(de){vi(m,M,de)}break;case 5:var z=m.return;try{gE(m)}catch(de){vi(m,z,de)}}}catch(de){vi(m,m.return,de)}if(m===d){vt=null;break}var se=m.sibling;if(se!==null){se.return=m.return,vt=se;break}vt=m.return}}var HI=Math.ceil,SE=B.ReactCurrentDispatcher,s0=B.ReactCurrentOwner,Oa=B.ReactCurrentBatchConfig,Cr=0,ms=null,zi=null,bs=0,na=0,Vd=_o(0),is=0,Gp=null,UA=0,Qp=0,yE=0,Vp=null,wo=null,o0=0,ah=1/0,Wc=null,CE=!1,a0=null,FA=null,xE=!1,HA=null,ho=0,$p=0,l0=null,RE=-1,Wp=0;function fo(){return(Cr&6)!==0?Me():RE!==-1?RE:RE=Me()}function GA(d){return(d.mode&1)===0?1:(Cr&2)!==0&&bs!==0?bs&-bs:TI.transition!==null?(Wp===0&&(Wp=Pu()),Wp):(d=ur,d!==0||(d=window.event,d=d===void 0?16:li(d.type)),d)}function fl(d,m,C,N){if(50<$p)throw $p=0,l0=null,Error(n(185));Fu(d,C,N),((Cr&2)===0||d!==ms)&&(d===ms&&((Cr&2)===0&&(Qp|=C),is===4&&QA(d,bs)),Lo(d,N),C===1&&Cr===0&&(m.mode&1)===0&&(ah=Me()+500,Wg&&wA()))}function Lo(d,m){var C=d.callbackNode;op(d,m);var N=vc(d,d===ms?bs:0);if(N===0)C!==null&&De(C),d.callbackNode=null,d.callbackPriority=0;else if(m=N&-N,d.callbackPriority!==m){if(C!=null&&De(C),m===1)d.tag===0?qu(GI.bind(null,d)):mI(GI.bind(null,d)),Gg(function(){(Cr&6)===0&&wA()}),C=null;else{switch(Oc(N)){case 1:C=tt;break;case 4:C=wn;break;case 16:C=rr;break;case 536870912:C=Vn;break;default:C=rr}C=KI(C,IE.bind(null,d))}d.callbackPriority=m,d.callbackNode=C}}function IE(d,m){if(RE=-1,Wp=0,(Cr&6)!==0)throw Error(n(327));var C=d.callbackNode;if($d()&&d.callbackNode!==C)return null;var N=vc(d,d===ms?bs:0);if(N===0)return null;if((N&30)!==0||(N&d.expiredLanes)!==0||m)m=_E(d,N);else{m=N;var D=Cr;Cr|=2;var M=VI();(ms!==d||bs!==m)&&(Wc=null,ah=Me()+500,ch(d,m));do try{pB();break}catch(se){QI(d,se)}while(!0);Pc(),SE.current=M,Cr=D,zi!==null?m=0:(ms=null,bs=0,m=is)}if(m!==0){if(m===2&&(D=ud(d),D!==0&&(N=D,m=c0(d,D))),m===1)throw C=Gp,ch(d,0),QA(d,N),Lo(d,Me()),C;if(m===6)QA(d,N);else{if(D=d.current.alternate,(N&30)===0&&!dB(D)&&(m=_E(d,N),m===2&&(M=ud(d),M!==0&&(N=M,m=c0(d,M))),m===1))throw C=Gp,ch(d,0),QA(d,N),Lo(d,Me()),C;switch(d.finishedWork=D,d.finishedLanes=N,m){case 0:case 1:throw Error(n(345));case 2:Ah(d,wo,Wc);break;case 3:if(QA(d,N),(N&130023424)===N&&(m=o0+500-Me(),10<m)){if(vc(d,0)!==0)break;if(D=d.suspendedLanes,(D&N)!==N){fo(),d.pingedLanes|=d.suspendedLanes&D;break}d.timeoutHandle=NA(Ah.bind(null,d,wo,Wc),m);break}Ah(d,wo,Wc);break;case 4:if(QA(d,N),(N&4194240)===N)break;for(m=d.eventTimes,D=-1;0<N;){var z=31-Hs(N);M=1<<z,z=m[z],z>D&&(D=z),N&=~M}if(N=D,N=Me()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*HI(N/1960))-N,10<N){d.timeoutHandle=NA(Ah.bind(null,d,wo,Wc),N);break}Ah(d,wo,Wc);break;case 5:Ah(d,wo,Wc);break;default:throw Error(n(329))}}}return Lo(d,Me()),d.callbackNode===C?IE.bind(null,d):null}function c0(d,m){var C=Vp;return d.current.memoizedState.isDehydrated&&(ch(d,m).flags|=256),d=_E(d,m),d!==2&&(m=wo,wo=C,m!==null&&A0(m)),d}function A0(d){wo===null?wo=d:wo.push.apply(wo,d)}function dB(d){for(var m=d;;){if(m.flags&16384){var C=m.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var N=0;N<C.length;N++){var D=C[N],M=D.getSnapshot;D=D.value;try{if(!Ne(M(),D))return!1}catch{return!1}}}if(C=m.child,m.subtreeFlags&16384&&C!==null)C.return=m,m=C;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function QA(d,m){for(m&=~yE,m&=~Qp,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var C=31-Hs(m),N=1<<C;d[C]=-1,m&=~N}}function GI(d){if((Cr&6)!==0)throw Error(n(327));$d();var m=vc(d,0);if((m&1)===0)return Lo(d,Me()),null;var C=_E(d,m);if(d.tag!==0&&C===2){var N=ud(d);N!==0&&(m=N,C=c0(d,N))}if(C===1)throw C=Gp,ch(d,0),QA(d,m),Lo(d,Me()),C;if(C===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Ah(d,wo,Wc),Lo(d,Me()),null}function u0(d,m){var C=Cr;Cr|=1;try{return d(m)}finally{Cr=C,Cr===0&&(ah=Me()+500,Wg&&wA())}}function lh(d){HA!==null&&HA.tag===0&&(Cr&6)===0&&$d();var m=Cr;Cr|=1;var C=Oa.transition,N=ur;try{if(Oa.transition=null,ur=1,d)return d()}finally{ur=N,Oa.transition=C,Cr=m,(Cr&6)===0&&wA()}}function h0(){na=Vd.current,Ai(Vd)}function ch(d,m){d.finishedWork=null,d.finishedLanes=0;var C=d.timeoutHandle;if(C!==-1&&(d.timeoutHandle=-1,Sp(C)),zi!==null)for(C=zi.return;C!==null;){var N=C;switch(Zu(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&$g();break;case 3:DA(),Ai(No),Ai($s),tE();break;case 5:eE(N);break;case 4:DA();break;case 13:Ai(Ti);break;case 19:Ai(Ti);break;case 10:qg(N.type._context);break;case 22:case 23:h0()}C=C.return}if(ms=d,zi=d=pl(d.current,null),bs=na=m,is=0,Gp=null,yE=Qp=UA=0,wo=Vp=null,th!==null){for(m=0;m<th.length;m++)if(C=th[m],N=C.interleaved,N!==null){C.interleaved=null;var D=N.next,M=C.pending;if(M!==null){var z=M.next;M.next=D,N.next=z}C.pending=N}th=null}return d}function QI(d,m){do{var C=zi;try{if(Pc(),Np.current=aE,Bd){for(var N=bi.memoizedState;N!==null;){var D=N.queue;D!==null&&(D.pending=null),N=N.next}Bd=!1}if(kA=0,rs=Ui=bi=null,bp=!1,rh=0,s0.current=null,C===null||C.return===null){is=1,Gp=m,zi=null;break}e:{var M=d,z=C.return,se=C,de=m;if(m=bs,se.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var ve=de,ze=se,Ze=ze.tag;if((ze.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var je=ze.alternate;je?(ze.updateQueue=je.updateQueue,ze.memoizedState=je.memoizedState,ze.lanes=je.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var xt=OI(z);if(xt!==null){xt.flags&=-257,Yy(xt,z,se,M,m),xt.mode&1&&Bp(M,ve,m),m=xt,de=ve;var kt=m.updateQueue;if(kt===null){var Ut=new Set;Ut.add(de),m.updateQueue=Ut}else kt.add(de);break e}else{if((m&1)===0){Bp(M,ve,m),d0();break e}de=Error(n(426))}}else if(ui&&se.mode&1){var Fi=OI(z);if(Fi!==null){(Fi.flags&65536)===0&&(Fi.flags|=256),Yy(Fi,z,se,M,m),Yl(oh(de,se));break e}}M=de=oh(de,se),is!==4&&(is=2),Vp===null?Vp=[M]:Vp.push(M),M=z;do{switch(M.tag){case 3:M.flags|=65536,m&=-m,M.lanes|=m;var ye=Lp(M,de,m);CI(M,ye);break e;case 1:se=de;var pe=M.type,xe=M.stateNode;if((M.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(FA===null||!FA.has(xe)))){M.flags|=65536,m&=-m,M.lanes|=m;var rt=hE(M,se,m);CI(M,rt);break e}}M=M.return}while(M!==null)}WI(C)}catch(Yt){m=Yt,zi===C&&C!==null&&(zi=C=C.return);continue}break}while(!0)}function VI(){var d=SE.current;return SE.current=aE,d===null?aE:d}function d0(){(is===0||is===3||is===2)&&(is=4),ms===null||(UA&268435455)===0&&(Qp&268435455)===0||QA(ms,bs)}function _E(d,m){var C=Cr;Cr|=2;var N=VI();(ms!==d||bs!==m)&&(Wc=null,ch(d,m));do try{fB();break}catch(D){QI(d,D)}while(!0);if(Pc(),Cr=C,SE.current=N,zi!==null)throw Error(n(261));return ms=null,bs=0,is}function fB(){for(;zi!==null;)$I(zi)}function pB(){for(;zi!==null&&!ie();)$I(zi)}function $I(d){var m=jI(d.alternate,d,na);d.memoizedProps=d.pendingProps,m===null?WI(d):zi=m,s0.current=null}function WI(d){var m=d;do{var C=m.alternate;if(d=m.return,(m.flags&32768)===0){if(C=AB(C,m,na),C!==null){zi=C;return}}else{if(C=uB(C,m),C!==null){C.flags&=32767,zi=C;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{is=6,zi=null;return}}if(m=m.sibling,m!==null){zi=m;return}zi=m=d}while(m!==null);is===0&&(is=5)}function Ah(d,m,C){var N=ur,D=Oa.transition;try{Oa.transition=null,ur=1,mB(d,m,C,N)}finally{Oa.transition=D,ur=N}return null}function mB(d,m,C,N){do $d();while(HA!==null);if((Cr&6)!==0)throw Error(n(327));C=d.finishedWork;var D=d.finishedLanes;if(C===null)return null;if(d.finishedWork=null,d.finishedLanes=0,C===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var M=C.lanes|C.childLanes;if(yg(d,M),d===ms&&(zi=ms=null,bs=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||xE||(xE=!0,KI(rr,function(){return $d(),null})),M=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||M){M=Oa.transition,Oa.transition=null;var z=ur;ur=1;var se=Cr;Cr|=4,s0.current=null,hB(d,C),r0(C,d),oB(zu),Ni=!!Ep,zu=Ep=null,d.current=C,TE(C),Le(),Cr=se,ur=z,Oa.transition=M}else d.current=C;if(xE&&(xE=!1,HA=d,ho=D),M=d.pendingLanes,M===0&&(FA=null),Bl(C.stateNode),Lo(d,Me()),m!==null)for(N=d.onRecoverableError,C=0;C<m.length;C++)D=m[C],N(D.value,{componentStack:D.stack,digest:D.digest});if(CE)throw CE=!1,d=a0,a0=null,d;return(ho&1)!==0&&d.tag!==0&&$d(),M=d.pendingLanes,(M&1)!==0?d===l0?$p++:($p=0,l0=d):$p=0,wA(),null}function $d(){if(HA!==null){var d=Oc(ho),m=Oa.transition,C=ur;try{if(Oa.transition=null,ur=16>d?16:d,HA===null)var N=!1;else{if(d=HA,HA=null,ho=0,(Cr&6)!==0)throw Error(n(331));var D=Cr;for(Cr|=4,vt=d.current;vt!==null;){var M=vt,z=M.child;if((vt.flags&16)!==0){var se=M.deletions;if(se!==null){for(var de=0;de<se.length;de++){var ve=se[de];for(vt=ve;vt!==null;){var ze=vt;switch(ze.tag){case 0:case 11:case 15:$c(8,ze,M)}var Ze=ze.child;if(Ze!==null)Ze.return=ze,vt=Ze;else for(;vt!==null;){ze=vt;var je=ze.sibling,xt=ze.return;if(MI(ze),ze===ve){vt=null;break}if(je!==null){je.return=xt,vt=je;break}vt=xt}}}var kt=M.alternate;if(kt!==null){var Ut=kt.child;if(Ut!==null){kt.child=null;do{var Fi=Ut.sibling;Ut.sibling=null,Ut=Fi}while(Ut!==null)}}vt=M}}if((M.subtreeFlags&2064)!==0&&z!==null)z.return=M,vt=z;else e:for(;vt!==null;){if(M=vt,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:$c(9,M,M.return)}var ye=M.sibling;if(ye!==null){ye.return=M.return,vt=ye;break e}vt=M.return}}var pe=d.current;for(vt=pe;vt!==null;){z=vt;var xe=z.child;if((z.subtreeFlags&2064)!==0&&xe!==null)xe.return=z,vt=xe;else e:for(z=pe;vt!==null;){if(se=vt,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:Hp(9,se)}}catch(Yt){vi(se,se.return,Yt)}if(se===z){vt=null;break e}var rt=se.sibling;if(rt!==null){rt.return=se.return,vt=rt;break e}vt=se.return}}if(Cr=D,wA(),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(ti,d)}catch{}N=!0}return N}finally{ur=C,Oa.transition=m}}return!1}function NE(d,m,C){m=oh(C,m),m=Lp(d,m,1),d=Na(d,m,1),m=fo(),d!==null&&(Fu(d,1,m),Lo(d,m))}function vi(d,m,C){if(d.tag===3)NE(d,d,C);else for(;m!==null;){if(m.tag===3){NE(m,d,C);break}else if(m.tag===1){var N=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(FA===null||!FA.has(N))){d=oh(C,d),d=hE(m,d,1),m=Na(m,d,1),d=fo(),m!==null&&(Fu(m,1,d),Lo(m,d));break}}m=m.return}}function gB(d,m,C){var N=d.pingCache;N!==null&&N.delete(m),m=fo(),d.pingedLanes|=d.suspendedLanes&C,ms===d&&(bs&C)===C&&(is===4||is===3&&(bs&130023424)===bs&&500>Me()-o0?ch(d,0):yE|=C),Lo(d,m)}function YI(d,m){m===0&&((d.mode&1)===0?m=1:(m=Ad,Ad<<=1,(Ad&130023424)===0&&(Ad=4194304)));var C=fo();d=Uc(d,m),d!==null&&(Fu(d,m,C),Lo(d,C))}function EB(d){var m=d.memoizedState,C=0;m!==null&&(C=m.retryLane),YI(d,C)}function TB(d,m){var C=0;switch(d.tag){case 13:var N=d.stateNode,D=d.memoizedState;D!==null&&(C=D.retryLane);break;case 19:N=d.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(m),YI(d,C)}var jI;jI=function(d,m,C){if(d!==null)if(d.memoizedProps!==m.pendingProps||No.current)Ao=!0;else{if((d.lanes&C)===0&&(m.flags&128)===0)return Ao=!1,BI(d,m,C);Ao=(d.flags&131072)!==0}else Ao=!1,ui&&(m.flags&1048576)!==0&&gI(m,jg,m.index);switch(m.lanes=0,m.tag){case 2:var N=m.type;pE(d,m),d=m.pendingProps;var D=bd(m,$s.current);BA(m,C),D=ih(null,m,N,d,D,C);var M=nE();return m.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,bo(N)?(M=!0,Ca(m)):M=!1,m.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Jg(m),D.updater=AE,m.stateNode=D,D._reactInternals=m,Wy(m,N,d,C),m=Jy(null,m,N,!0,M,C)):(m.tag=0,ui&&M&&yp(m),Is(null,m,D,C),m=m.child),m;case 16:N=m.elementType;e:{switch(pE(d,m),d=m.pendingProps,D=N._init,N=D(N._payload),m.type=N,D=m.tag=yB(N),d=va(N,d),D){case 0:m=qy(null,m,N,d,C);break e;case 1:m=Xy(null,m,N,d,C);break e;case 11:m=wI(null,m,N,d,C);break e;case 14:m=jy(null,m,N,va(N.type,d),C);break e}throw Error(n(306,N,""))}return m;case 0:return N=m.type,D=m.pendingProps,D=m.elementType===N?D:va(N,D),qy(d,m,N,D,C);case 1:return N=m.type,D=m.pendingProps,D=m.elementType===N?D:va(N,D),Xy(d,m,N,D,C);case 3:e:{if(LI(m),d===null)throw Error(n(387));N=m.pendingProps,M=m.memoizedState,D=M.element,yI(d,m),wd(m,N,null,C);var z=m.memoizedState;if(N=z.element,M.isDehydrated)if(M={element:N,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},m.updateQueue.baseState=M,m.memoizedState=M,m.flags&256){D=oh(Error(n(423)),m),m=Xl(d,m,N,C,D);break e}else if(N!==D){D=oh(Error(n(424)),m),m=Xl(d,m,N,C,D);break e}else for(Zo=bA(m.stateNode.containerInfo.firstChild),Ys=m,ui=!0,ll=null,C=zg(m,null,N,C),m.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(Wl(),N===D){m=Al(d,m,C);break e}Is(d,m,N,C)}m=m.child}return m;case 5:return Ly(m),d===null&&vo(m),N=m.type,D=m.pendingProps,M=d!==null?d.memoizedProps:null,z=D.children,Tp(N,D)?z=null:M!==null&&Tp(N,M)&&(m.flags|=32),zy(d,m),Is(d,m,z,C),m.child;case 6:return d===null&&vo(m),null;case 13:return fE(d,m,C);case 4:return wy(m,m.stateNode.containerInfo),N=m.pendingProps,d===null?m.child=Li(m,null,N,C):Is(d,m,N,C),m.child;case 11:return N=m.type,D=m.pendingProps,D=m.elementType===N?D:va(N,D),wI(d,m,N,D,C);case 7:return Is(d,m,m.pendingProps,C),m.child;case 8:return Is(d,m,m.pendingProps.children,C),m.child;case 12:return Is(d,m,m.pendingProps.children,C),m.child;case 10:e:{if(N=m.type._context,D=m.pendingProps,M=m.memoizedProps,z=D.value,ri(Rp,N._currentValue),N._currentValue=z,M!==null)if(Ne(M.value,z)){if(M.children===D.children&&!No.current){m=Al(d,m,C);break e}}else for(M=m.child,M!==null&&(M.return=m);M!==null;){var se=M.dependencies;if(se!==null){z=M.child;for(var de=se.firstContext;de!==null;){if(de.context===N){if(M.tag===1){de=Fc(-1,C&-C),de.tag=2;var ve=M.updateQueue;if(ve!==null){ve=ve.shared;var ze=ve.pending;ze===null?de.next=de:(de.next=ze.next,ze.next=de),ve.pending=de}}M.lanes|=C,de=M.alternate,de!==null&&(de.lanes|=C),Rs(M.return,C,m),se.lanes|=C;break}de=de.next}}else if(M.tag===10)z=M.type===m.type?null:M.child;else if(M.tag===18){if(z=M.return,z===null)throw Error(n(341));z.lanes|=C,se=z.alternate,se!==null&&(se.lanes|=C),Rs(z,C,m),z=M.sibling}else z=M.child;if(z!==null)z.return=M;else for(z=M;z!==null;){if(z===m){z=null;break}if(M=z.sibling,M!==null){M.return=z.return,z=M;break}z=z.return}M=z}Is(d,m,D.children,C),m=m.child}return m;case 9:return D=m.type,N=m.pendingProps.children,BA(m,C),D=Ia(D),N=N(D),m.flags|=1,Is(d,m,N,C),m.child;case 14:return N=m.type,D=va(N,m.pendingProps),D=va(N.type,D),jy(d,m,N,D,C);case 15:return ql(d,m,m.type,m.pendingProps,C);case 17:return N=m.type,D=m.pendingProps,D=m.elementType===N?D:va(N,D),pE(d,m),m.tag=1,bo(N)?(d=!0,Ca(m)):d=!1,BA(m,C),sh(m,N,D),Wy(m,N,D,C),Jy(null,m,N,!0,d,C);case 19:return MA(d,m,C);case 22:return Ky(d,m,C)}throw Error(n(156,m.tag))};function KI(d,m){return he(d,m)}function SB(d,m,C,N){this.tag=d,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wa(d,m,C,N){return new SB(d,m,C,N)}function bE(d){return d=d.prototype,!(!d||!d.isReactComponent)}function yB(d){if(typeof d=="function")return bE(d)?1:0;if(d!=null){if(d=d.$$typeof,d===K)return 11;if(d===$)return 14}return 2}function pl(d,m){var C=d.alternate;return C===null?(C=wa(d.tag,m,d.key,d.mode),C.elementType=d.elementType,C.type=d.type,C.stateNode=d.stateNode,C.alternate=d,d.alternate=C):(C.pendingProps=m,C.type=d.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=d.flags&14680064,C.childLanes=d.childLanes,C.lanes=d.lanes,C.child=d.child,C.memoizedProps=d.memoizedProps,C.memoizedState=d.memoizedState,C.updateQueue=d.updateQueue,m=d.dependencies,C.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},C.sibling=d.sibling,C.index=d.index,C.ref=d.ref,C}function vE(d,m,C,N,D,M){var z=2;if(N=d,typeof d=="function")bE(d)&&(z=1);else if(typeof d=="string")z=5;else e:switch(d){case L:return uh(C.children,D,M,m);case U:z=8,D|=8;break;case G:return d=wa(12,C,m,D|2),d.elementType=G,d.lanes=M,d;case j:return d=wa(13,C,m,D),d.elementType=j,d.lanes=M,d;case V:return d=wa(19,C,m,D),d.elementType=V,d.lanes=M,d;case te:return OE(C,D,M,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case Q:z=10;break e;case Y:z=9;break e;case K:z=11;break e;case $:z=14;break e;case J:z=16,N=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return m=wa(z,C,m,D),m.elementType=d,m.type=N,m.lanes=M,m}function uh(d,m,C,N){return d=wa(7,d,N,m),d.lanes=C,d}function OE(d,m,C,N){return d=wa(22,d,N,m),d.elementType=te,d.lanes=C,d.stateNode={isHidden:!1},d}function f0(d,m,C){return d=wa(6,d,null,m),d.lanes=C,d}function p0(d,m,C){return m=wa(4,d.children!==null?d.children:[],d.key,m),m.lanes=C,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function CB(d,m,C,N,D){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uu(0),this.expirationTimes=Uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uu(0),this.identifierPrefix=N,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function m0(d,m,C,N,D,M,z,se,de){return d=new CB(d,m,C,se,de),m===1?(m=1,M===!0&&(m|=8)):m=0,M=wa(3,null,null,m),d.current=M,M.stateNode=d,M.memoizedState={element:N,isDehydrated:C,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(M),d}function xB(d,m,C){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:N==null?null:""+N,children:d,containerInfo:m,implementation:C}}function zI(d){if(!d)return OA;d=d._reactInternals;e:{if(nr(d)!==d||d.tag!==1)throw Error(n(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(bo(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(d.tag===1){var C=d.type;if(bo(C))return fI(d,C,m)}return m}function qI(d,m,C,N,D,M,z,se,de){return d=m0(C,N,!0,d,D,M,z,se,de),d.context=zI(null),C=d.current,N=fo(),D=GA(C),M=Fc(N,D),M.callback=m??null,Na(C,M,D),d.current.lanes=D,Fu(d,D,N),Lo(d,N),d}function wE(d,m,C,N){var D=m.current,M=fo(),z=GA(D);return C=zI(C),m.context===null?m.context=C:m.pendingContext=C,m=Fc(M,z),m.payload={element:d},N=N===void 0?null:N,N!==null&&(m.callback=N),d=Na(D,m,z),d!==null&&(fl(d,D,z,M),Zg(d,D,z)),z}function LE(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function XI(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var C=d.retryLane;d.retryLane=C!==0&&C<m?C:m}}function g0(d,m){XI(d,m),(d=d.alternate)&&XI(d,m)}function RB(){return null}var JI=typeof reportError=="function"?reportError:function(d){console.error(d)};function BE(d){this._internalRoot=d}Yp.prototype.render=BE.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(n(409));wE(d,m,null,null)},Yp.prototype.unmount=BE.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;lh(function(){wE(null,d,null,null)}),m[Jo]=null}};function Yp(d){this._internalRoot=d}Yp.prototype.unstable_scheduleHydration=function(d){if(d){var m=lp();d={blockedOn:null,target:d,priority:m};for(var C=0;C<ol.length&&m!==0&&m<ol[C].priority;C++);ol.splice(C,0,d),C===0&&Rg(d)}};function E0(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function DE(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function ZI(){}function IB(d,m,C,N,D){if(D){if(typeof N=="function"){var M=N;N=function(){var ve=LE(z);M.call(ve)}}var z=qI(m,N,d,0,null,!1,!1,"",ZI);return d._reactRootContainer=z,d[Jo]=z.current,_A(d.nodeType===8?d.parentNode:d),lh(),z}for(;D=d.lastChild;)d.removeChild(D);if(typeof N=="function"){var se=N;N=function(){var ve=LE(de);se.call(ve)}}var de=m0(d,0,!1,null,null,!1,!1,"",ZI);return d._reactRootContainer=de,d[Jo]=de.current,_A(d.nodeType===8?d.parentNode:d),lh(function(){wE(m,de,C,N)}),de}function hh(d,m,C,N,D){var M=C._reactRootContainer;if(M){var z=M;if(typeof D=="function"){var se=D;D=function(){var de=LE(z);se.call(de)}}wE(m,z,d,D)}else z=IB(C,m,d,D,N);return LE(z)}ap=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var C=CA(m.pendingLanes);C!==0&&(Hu(m,C|1),Lo(m,Me()),(Cr&6)===0&&(ah=Me()+500,wA()))}break;case 13:lh(function(){var N=Uc(d,1);if(N!==null){var D=fo();fl(N,d,1,D)}}),g0(d,1)}},Gu=function(d){if(d.tag===13){var m=Uc(d,134217728);if(m!==null){var C=fo();fl(m,d,134217728,C)}g0(d,134217728)}},Cg=function(d){if(d.tag===13){var m=GA(d),C=Uc(d,m);if(C!==null){var N=fo();fl(C,d,m,N)}g0(d,m)}},lp=function(){return ur},cp=function(d,m){var C=ur;try{return ur=d,m()}finally{ur=C}},Lt=function(d,m,C){switch(m){case"input":if(gt(d,C),m=C.name,C.type==="radio"&&m!=null){for(C=d;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<C.length;m++){var N=C[m];if(N!==d&&N.form===d.form){var D=Vg(N);if(!D)throw Error(n(90));en(N),gt(N,D)}}}break;case"textarea":an(d,C);break;case"select":m=C.value,m!=null&&Dt(d,!!C.multiple,m,!1)}},hn=u0,Tr=lh;var _B={usingClientEntryPoint:!1,Events:[Vs,Wn,Vg,gr,Qn,u0]},jp={findFiberByHostInstance:Gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NB={bundleType:jp.bundleType,version:jp.version,rendererPackageName:jp.rendererPackageName,rendererConfig:jp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Ii(d),d===null?null:d.stateNode},findFiberByHostInstance:jp.findFiberByHostInstance||RB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kE.isDisabled&&kE.supportsFiber)try{ti=kE.inject(NB),_i=kE}catch{}}return ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_B,ka.createPortal=function(d,m){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E0(m))throw Error(n(200));return xB(d,m,null,C)},ka.createRoot=function(d,m){if(!E0(d))throw Error(n(299));var C=!1,N="",D=JI;return m!=null&&(m.unstable_strictMode===!0&&(C=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onRecoverableError!==void 0&&(D=m.onRecoverableError)),m=m0(d,1,!1,null,null,C,!1,N,D),d[Jo]=m.current,_A(d.nodeType===8?d.parentNode:d),new BE(m)},ka.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Ii(m),d=d===null?null:d.stateNode,d},ka.flushSync=function(d){return lh(d)},ka.hydrate=function(d,m,C){if(!DE(m))throw Error(n(200));return hh(null,d,m,!0,C)},ka.hydrateRoot=function(d,m,C){if(!E0(d))throw Error(n(405));var N=C!=null&&C.hydratedSources||null,D=!1,M="",z=JI;if(C!=null&&(C.unstable_strictMode===!0&&(D=!0),C.identifierPrefix!==void 0&&(M=C.identifierPrefix),C.onRecoverableError!==void 0&&(z=C.onRecoverableError)),m=qI(m,null,d,1,C??null,D,!1,M,z),d[Jo]=m.current,_A(d),N)for(d=0;d<N.length;d++)C=N[d],D=C._getVersion,D=D(C._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[C,D]:m.mutableSourceEagerHydrationData.push(C,D);return new Yp(m)},ka.render=function(d,m,C){if(!DE(m))throw Error(n(200));return hh(null,d,m,!1,C)},ka.unmountComponentAtNode=function(d){if(!DE(d))throw Error(n(40));return d._reactRootContainer?(lh(function(){hh(null,null,d,!1,function(){d._reactRootContainer=null,d[Jo]=null})}),!0):!1},ka.unstable_batchedUpdates=u0,ka.unstable_renderSubtreeIntoContainer=function(d,m,C,N){if(!DE(C))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return hh(d,m,C,!1,N)},ka.version="18.3.1-next-f1338f8080-20240426",ka}var TQ;function iF(){if(TQ)return QB.exports;TQ=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),QB.exports=Eue(),QB.exports}var SQ;function Tue(){if(SQ)return i_;SQ=1;var t=iF();return i_.createRoot=t.createRoot,i_.hydrateRoot=t.hydrateRoot,i_}var Sue=Tue();const yue=kS(Sue);function Fn(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(A){try{c(r.next(A))}catch(u){o(u)}}function l(A){try{c(r.throw(A))}catch(u){o(u)}}function c(A){A.done?s(A.value):i(A.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function yQ(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zn(t){return this instanceof Zn?(this.v=t,this):new Zn(t)}function fu(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(E){return Promise.resolve(E).then(p,u)}}function a(p,E){r[p]&&(i[p]=function(T){return new Promise(function(y,R){s.push([p,T,y,R])>1||l(p,T)})},E&&(i[p]=E(i[p])))}function l(p,E){try{c(r[p](E))}catch(T){h(s[0][3],T)}}function c(p){p.value instanceof Zn?Promise.resolve(p.value.v).then(A,u):h(s[0][2],p)}function A(p){l("next",p)}function u(p){l("throw",p)}function h(p,E){p(E),s.shift(),s.length&&l(s[0][0],s[0][1])}}function KN(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Zn(t[i](o)),done:!1}:s?s(o):o}:s}}function Bm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yQ=="function"?yQ(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}const Cue=new TextDecoder("utf-8"),Lk=t=>Cue.decode(t),xue=new TextEncoder,sF=t=>xue.encode(t),Rue=t=>typeof t=="number",J6=t=>typeof t=="boolean",ws=t=>typeof t=="function",el=t=>t!=null&&Object(t)===t,Vm=t=>el(t)&&ws(t.then),fR=t=>el(t)&&ws(t[Symbol.iterator]),MS=t=>el(t)&&ws(t[Symbol.asyncIterator]),Bk=t=>el(t)&&el(t.schema),Z6=t=>el(t)&&"done"in t&&"value"in t,ez=t=>el(t)&&ws(t.stat)&&Rue(t.fd),tz=t=>el(t)&&oF(t.body),gw=t=>"_getDOMStream"in t&&"_getNodeStream"in t,Iue=t=>el(t)&&ws(t.abort)&&ws(t.getWriter)&&!gw(t),oF=t=>el(t)&&ws(t.cancel)&&ws(t.getReader)&&!gw(t),_ue=t=>el(t)&&ws(t.end)&&ws(t.write)&&J6(t.writable)&&!gw(t),nz=t=>el(t)&&ws(t.read)&&ws(t.pipe)&&J6(t.readable)&&!gw(t),Nue=t=>el(t)&&ws(t.clear)&&ws(t.bytes)&&ws(t.position)&&ws(t.setPosition)&&ws(t.capacity)&&ws(t.getBufferIdentifier)&&ws(t.createLong),aF=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function bue(t){const e=t[0]?[t[0]]:[];let n,r,i,s;for(let o,a,l=0,c=0,A=t.length;++l<A;){if(o=e[c],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++c]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(e[++c]=a);continue}e[c]=new Uint8Array(o.buffer,n,r-n+s)}return e}function CQ(t,e,n=0,r=e.byteLength){const i=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,n),t}function Cu(t,e){const n=bue(t),r=n.reduce((A,u)=>A+u.byteLength,0);let i,s,o,a=0,l=-1;const c=Math.min(e||Number.POSITIVE_INFINITY,r);for(const A=n.length;++l<A;){if(i=n[l],s=i.subarray(0,Math.min(i.length,c-a)),c<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?CQ(o,s,a):o=s;break}CQ(o||(o=new Uint8Array(c)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function Zr(t,e){let n=Z6(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=sF(n)),n instanceof ArrayBuffer?new t(n):n instanceof aF?new t(n):Nue(n)?Zr(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const y0=t=>Zr(Int32Array,t),xQ=t=>Zr(BigInt64Array,t),Rr=t=>Zr(Uint8Array,t),Dk=t=>(t.next(),t);function*vue(t,e){const n=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof aF?n(e):fR(e)?e:n(e);return yield*Dk((function*(i){let s=null;do s=i.next(yield Zr(t,s));while(!s.done)})(r[Symbol.iterator]())),new t}const Oue=t=>vue(Uint8Array,t);function rz(t,e){return fu(this,arguments,function*(){if(Vm(e))return yield Zn(yield Zn(yield*KN(Bm(rz(t,yield Zn(e))))));const r=function(o){return fu(this,arguments,function*(){yield yield Zn(yield Zn(o))})},i=function(o){return fu(this,arguments,function*(){yield Zn(yield*KN(Bm(Dk((function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)})(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof aF?r(e):fR(e)?i(e):MS(e)?e:r(e);return yield Zn(yield*KN(Bm(Dk((function(o){return fu(this,arguments,function*(){let a=null;do a=yield Zn(o.next(yield yield Zn(Zr(t,a))));while(!a.done)})})(s[Symbol.asyncIterator]()))))),yield Zn(new t)})}const wue=t=>rz(Uint8Array,t);function iz(t,e,n){if(t!==0){n=n.slice(0,e);for(let r=-1,i=n.length;++r<i;)n[r]+=t}return n.subarray(0,e)}function Lue(t,e){let n=0;const r=t.length;if(r!==e.length)return!1;if(r>0)do if(t[n]!==e[n])return!1;while(++n<r);return!0}const ic={fromIterable(t){return s_(Bue(t))},fromAsyncIterable(t){return s_(Due(t))},fromDOMStream(t){return s_(kue(t))},fromNodeStream(t){return s_(Pue(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},s_=t=>(t.next(),t);function*Bue(t){let e,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?Cu(r,o)[0]:([i,r,a]=Cu(r,o),i)}({cmd:s,size:o}=(yield null)||{cmd:"read",size:0});const c=Oue(t)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?c.next():c.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(A){(n=!0)&&typeof c.throw=="function"&&c.throw(A)}finally{n===!1&&typeof c.return=="function"&&c.return(null)}return null}function Due(t){return fu(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function c(){return o==="peek"?Cu(i,a)[0]:([s,i,l]=Cu(i,a),s)}({cmd:o,size:a}=(yield yield Zn(null))||{cmd:"read",size:0});const A=wue(t)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Zn(A.next()):yield Zn(A.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Zn(c()));while(a<l);while(!n)}catch(u){(r=!0)&&typeof A.throw=="function"&&(yield Zn(A.throw(u)))}finally{r===!1&&typeof A.return=="function"&&(yield Zn(A.return(new Uint8Array(0))))}return yield Zn(null)})}function kue(t){return fu(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function c(){return o==="peek"?Cu(i,a)[0]:([s,i,l]=Cu(i,a),s)}({cmd:o,size:a}=(yield yield Zn(null))||{cmd:"read",size:0});const A=new Mue(t);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Zn(A.read()):yield Zn(A.read(a-l)),!n&&s.byteLength>0&&(i.push(Rr(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Zn(c()));while(a<l);while(!n)}catch(u){(r=!0)&&(yield Zn(A.cancel(u)))}finally{r===!1?yield Zn(A.cancel()):t.locked&&A.releaseLock()}return yield Zn(null)})}class Mue{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return Fn(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return Fn(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Rr(n)),n})}}const WB=(t,e)=>{const n=i=>r([e,i]);let r;return[e,n,new Promise(i=>(r=i)&&t.once(e,n))]};function Pue(t){return fu(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,c=[],A;function u(){return o==="peek"?Cu(c,a)[0]:([A,c,l]=Cu(c,a),A)}if({cmd:o,size:a}=(yield yield Zn(null))||{cmd:"read",size:0},t.isTTY)return yield yield Zn(new Uint8Array(0)),yield Zn(null);try{n[0]=WB(t,"end"),n[1]=WB(t,"error");do{if(n[2]=WB(t,"readable"),[r,s]=yield Zn(Promise.race(n.map(p=>p[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(A=Rr(t.read(a-l)),A.byteLength<a-l&&(A=Rr(t.read()))):A=Rr(t.read()),A.byteLength>0&&(c.push(A),l+=A.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield Zn(u()));while(a<l)}while(!i)}finally{yield Zn(h(n,r==="error"?s:null))}return yield Zn(null);function h(p,E){return A=c=null,new Promise((T,y)=>{for(const[R,I]of p)t.off(R,I);try{const R=t.destroy;R&&R.call(t,E),E=void 0}catch(R){E=R||E}finally{E!=null?y(E):T()}})}})}var us;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(us||(us={}));var Yo;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(Yo||(Yo={}));var Qo;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Qo||(Qo={}));var Tc;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(Tc||(Tc={}));var Nn;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(Nn||(Nn={}));var xu;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(xu||(xu={}));const YB=2,lu=4,kh=4,zr=4,nf=new Int32Array(2),RQ=new Float32Array(nf.buffer),IQ=new Float64Array(nf.buffer),o_=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var kk;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(kk||(kk={}));let aS=class sz{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new sz(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return nf[0]=this.readInt32(e),RQ[0]}readFloat64(e){return nf[o_?0:1]=this.readInt32(e),nf[o_?1:0]=this.readInt32(e+4),IQ[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){RQ[0]=n,this.writeInt32(e,nf[0])}writeFloat64(e,n){IQ[0]=n,this.writeInt32(e,nf[o_?0:1]),this.writeInt32(e+4,nf[o_?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+lu+kh)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<kh;n++)e+=String.fromCharCode(this.readInt8(this.position_+lu+n));return e}__offset(e,n){const r=e-this.readInt32(e);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const r=this.readInt32(e);e+=lu;const i=this.bytes_.subarray(e,e+r);return n===kk.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+lu}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=kh)throw new Error("FlatBuffers: file identifier must be length "+kh);for(let n=0;n<kh;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+lu+n))return!1;return!0}createScalarList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s)}return r}createObjList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s.unpack())}return r}},oz=class az{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=aS.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const r=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<r+e+n;){const i=this.bb.capacity();this.bb=az.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,r){n!=r&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=aS.allocate(r);return i.setPosition(r-n),i.bytes().set(e.bytes(),r-n),i}addOffset(e){this.prep(lu,0),this.writeInt32(this.offset()-e+lu)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const i=2;this.addInt16(e-this.object_start);const s=(r+i)*YB;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let c=YB;c<s;c+=YB)if(this.bb.readInt16(a+c)!=this.bb.readInt16(l+c))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,r){const i=r?zr:0;if(n){const s=n;if(this.prep(this.minalign,lu+kh+i),s.length!=kh)throw new TypeError("FlatBuffers: file identifier must be length "+kh);for(let o=kh-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,lu+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const r=this.bb.capacity()-e,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,r){this.notNested(),this.vector_num_elems=n,this.prep(lu,e*n),this.prep(r,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let r=0;r<e.length;++r){const i=e[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var Kb;(function(t){t[t.BUFFER=0]="BUFFER"})(Kb||(Kb={}));var zb;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(zb||(zb={}));class rf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new rf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+zr),(n||new rf).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):zb.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):Kb.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,zb.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,Kb.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,r){return rf.startBodyCompression(e),rf.addCodec(e,n),rf.addMethod(e,r),rf.endBodyCompression(e)}}let lz=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}},cz=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}},vh=class Mk{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new Mk).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+zr),(n||new Mk).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new cz).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new lz).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new rf).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},eT=class Pk{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new Pk).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+zr),(n||new Pk).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new vh).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var lS;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(lS||(lS={}));var qb;(function(t){t[t.DenseArray=0]="DenseArray"})(qb||(qb={}));class _l{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new _l).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+zr),(n||new _l).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,r){return _l.startInt(e),_l.addBitWidth(e,n),_l.addIsSigned(e,r),_l.endInt(e)}}class Mh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new Mh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+zr),(n||new Mh).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new _l).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):qb.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,qb.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class Bs{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new Bs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+zr),(n||new Bs).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,r){return Bs.startKeyValue(e),Bs.addKey(e,n),Bs.addValue(e,r),Bs.endKeyValue(e)}}let _Q=class aC{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new aC).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+zr),(n||new aC).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return aC.startBinary(e),aC.endBinary(e)}},NQ=class lC{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new lC).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+zr),(n||new lC).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return lC.startBool(e),lC.endBool(e)}},zN=class tT{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new tT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+zr),(n||new tT).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Tc.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Tc.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return tT.startDate(e),tT.addUnit(e,n),tT.endDate(e)}},nT=class Xd{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new Xd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+zr),(n||new Xd).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,r,i){return Xd.startDecimal(e),Xd.addPrecision(e,n),Xd.addScale(e,r),Xd.addBitWidth(e,i),Xd.endDecimal(e)}},qN=class rT{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDuration(e,n){return(n||new rT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,n){return e.setPosition(e.position()+zr),(n||new rT).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Nn.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Nn.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,n){return rT.startDuration(e),rT.addUnit(e,n),rT.endDuration(e)}},XN=class iT{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new iT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+zr),(n||new iT).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return iT.startFixedSizeBinary(e),iT.addByteWidth(e,n),iT.endFixedSizeBinary(e)}},JN=class sT{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new sT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+zr),(n||new sT).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return sT.startFixedSizeList(e),sT.addListSize(e,n),sT.endFixedSizeList(e)}};class cu{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new cu).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+zr),(n||new cu).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Qo.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,Qo.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return cu.startFloatingPoint(e),cu.addPrecision(e,n),cu.endFloatingPoint(e)}}class Au{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new Au).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+zr),(n||new Au).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):xu.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,xu.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return Au.startInterval(e),Au.addUnit(e,n),Au.endInterval(e)}}let bQ=class cC{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeBinary(e,n){return(n||new cC).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,n){return e.setPosition(e.position()+zr),(n||new cC).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return cC.startLargeBinary(e),cC.endLargeBinary(e)}},vQ=class AC{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeUtf8(e,n){return(n||new AC).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,n){return e.setPosition(e.position()+zr),(n||new AC).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return AC.startLargeUtf8(e),AC.endLargeUtf8(e)}},OQ=class uC{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new uC).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+zr),(n||new uC).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return uC.startList(e),uC.endList(e)}},ZN=class oT{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new oT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+zr),(n||new oT).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return oT.startMap(e),oT.addKeysSorted(e,n),oT.endMap(e)}},wQ=class hC{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new hC).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+zr),(n||new hC).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return hC.startNull(e),hC.endNull(e)}};class Sm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new Sm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+zr),(n||new Sm).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Sm.startStruct_(e),Sm.endStruct_(e)}}class sc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new sc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+zr),(n||new sc).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Nn.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,Nn.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,r){return sc.startTime(e),sc.addUnit(e,n),sc.addBitWidth(e,r),sc.endTime(e)}}class oc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new oc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+zr),(n||new oc).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Nn.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,Nn.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,r){return oc.startTimestamp(e),oc.addUnit(e,n),oc.addTimezone(e,r),oc.endTimestamp(e)}}class Qa{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new Qa).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+zr),(n||new Qa).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Yo.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,Yo.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addInt32(n[r]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,r){return Qa.startUnion(e),Qa.addMode(e,n),Qa.addTypeIds(e,r),Qa.endUnion(e)}}let LQ=class dC{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new dC).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+zr),(n||new dC).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return dC.startUtf8(e),dC.endUtf8(e)}};var yi;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(yi||(yi={}));let nc=class eb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new eb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+zr),(n||new eb).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):yi.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Mh).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new eb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Bs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,yi.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},ru=class Rh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new Rh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+zr),(n||new Rh).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):lS.Little}fields(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new nc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Bs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,lS.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)e.addInt64(n[r]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,r,i,s){return Rh.startSchema(e),Rh.addEndianness(e,n),Rh.addFields(e,r),Rh.addCustomMetadata(e,i),Rh.addFeatures(e,s),Rh.endSchema(e)}};var Dr;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(Dr||(Dr={}));var ue;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t[t.DurationSecond=-27]="DurationSecond",t[t.DurationMillisecond=-28]="DurationMillisecond",t[t.DurationMicrosecond=-29]="DurationMicrosecond",t[t.DurationNanosecond=-30]="DurationNanosecond"})(ue||(ue={}));var Oh;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(Oh||(Oh={}));const Uue=void 0;function gx(t){if(t===null)return"null";if(t===Uue)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>gx(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,n)=>typeof n=="bigint"?`${n}`:n)}function fi(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}function Az(t,e){return fi(t/e)+fi(t%e)/fi(e)}const Fue=Symbol.for("isArrowBigNum");function dA(t,...e){return e.length===0?Object.setPrototypeOf(Zr(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}dA.prototype[Fue]=!0;dA.prototype.toJSON=function(){return`"${Tx(this)}"`};dA.prototype.valueOf=function(t){return uz(this,t)};dA.prototype.toString=function(){return Tx(this)};dA.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return uz(this);case"string":return Tx(this);case"default":return Que(this)}return Tx(this)};function wT(...t){return dA.apply(this,t)}function LT(...t){return dA.apply(this,t)}function Ex(...t){return dA.apply(this,t)}Object.setPrototypeOf(wT.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(LT.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Ex.prototype,Object.create(Uint32Array.prototype));Object.assign(wT.prototype,dA.prototype,{constructor:wT,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(LT.prototype,dA.prototype,{constructor:LT,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Ex.prototype,dA.prototype,{constructor:Ex,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const Hue=BigInt(4294967296)*BigInt(4294967296),Gue=Hue-BigInt(1);function uz(t,e){const{buffer:n,byteOffset:r,byteLength:i,signed:s}=t,o=new BigUint64Array(n,r,i/8),a=s&&o.at(-1)&BigInt(1)<<BigInt(63);let l=BigInt(0),c=0;if(a){for(const A of o)l|=(A^Gue)*(BigInt(1)<<BigInt(64*c++));l*=BigInt(-1),l-=BigInt(1)}else for(const A of o)l|=A*(BigInt(1)<<BigInt(64*c++));if(typeof e=="number"){const A=BigInt(Math.pow(10,e)),u=l/A,h=l%A;return fi(u)+fi(h)/fi(A)}return fi(l)}function Tx(t){if(t.byteLength===8)return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`;if(!t.signed)return jB(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return jB(t);e=e.slice();let r=1;for(let s=0;s<e.length;s++){const o=e[s],a=~o+r;e[s]=a,r&=o===0?1:0}return`-${jB(e)}`}function Que(t){return t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:Tx(t)}function jB(t){let e="";const n=new Uint32Array(2);let r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e??"0"}class lF{static new(e,n){switch(n){case!0:return new wT(e);case!1:return new LT(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new wT(e)}return e.byteLength===16?new Ex(e):new LT(e)}static signed(e){return new wT(e)}static unsigned(e){return new LT(e)}static decimal(e){return new Ex(e)}constructor(e,n){return lF.new(e,n)}}var hz,dz,fz,pz,mz,gz,Ez,Tz,Sz,yz,Cz,xz,Rz,Iz,_z,Nz,bz,vz,Oz,wz,Lz,Bz;class Jt{static isNull(e){return(e==null?void 0:e.typeId)===ue.Null}static isInt(e){return(e==null?void 0:e.typeId)===ue.Int}static isFloat(e){return(e==null?void 0:e.typeId)===ue.Float}static isBinary(e){return(e==null?void 0:e.typeId)===ue.Binary}static isLargeBinary(e){return(e==null?void 0:e.typeId)===ue.LargeBinary}static isUtf8(e){return(e==null?void 0:e.typeId)===ue.Utf8}static isLargeUtf8(e){return(e==null?void 0:e.typeId)===ue.LargeUtf8}static isBool(e){return(e==null?void 0:e.typeId)===ue.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===ue.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===ue.Date}static isTime(e){return(e==null?void 0:e.typeId)===ue.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===ue.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===ue.Interval}static isDuration(e){return(e==null?void 0:e.typeId)===ue.Duration}static isList(e){return(e==null?void 0:e.typeId)===ue.List}static isStruct(e){return(e==null?void 0:e.typeId)===ue.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===ue.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===ue.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===ue.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===ue.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===ue.Dictionary}static isDenseUnion(e){return Jt.isUnion(e)&&e.mode===Yo.Dense}static isSparseUnion(e){return Jt.isUnion(e)&&e.mode===Yo.Sparse}constructor(e){this.typeId=e}}hz=Symbol.toStringTag;Jt[hz]=(t=>(t.children=null,t.ArrayType=Array,t.OffsetArrayType=Int32Array,t[Symbol.toStringTag]="DataType"))(Jt.prototype);let Nf=class extends Jt{constructor(){super(ue.Null)}toString(){return"Null"}};dz=Symbol.toStringTag;Nf[dz]=(t=>t[Symbol.toStringTag]="Null")(Nf.prototype);class $m extends Jt{constructor(e,n){super(ue.Int),this.isSigned=e,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}fz=Symbol.toStringTag;$m[fz]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))($m.prototype);class Sx extends $m{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Sx.prototype,"ArrayType",{value:Int32Array});class Xb extends Jt{constructor(e){super(ue.Float),this.precision=e}get ArrayType(){switch(this.precision){case Qo.HALF:return Uint16Array;case Qo.SINGLE:return Float32Array;case Qo.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}pz=Symbol.toStringTag;Xb[pz]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Xb.prototype);class Jb extends Jt{constructor(){super(ue.Binary)}toString(){return"Binary"}}mz=Symbol.toStringTag;Jb[mz]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Jb.prototype);class Zb extends Jt{constructor(){super(ue.LargeBinary)}toString(){return"LargeBinary"}}gz=Symbol.toStringTag;Zb[gz]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeBinary"))(Zb.prototype);class ev extends Jt{constructor(){super(ue.Utf8)}toString(){return"Utf8"}}Ez=Symbol.toStringTag;ev[Ez]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(ev.prototype);class tv extends Jt{constructor(){super(ue.LargeUtf8)}toString(){return"LargeUtf8"}}Tz=Symbol.toStringTag;tv[Tz]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeUtf8"))(tv.prototype);let nv=class extends Jt{constructor(){super(ue.Bool)}toString(){return"Bool"}};Sz=Symbol.toStringTag;nv[Sz]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(nv.prototype);class rv extends Jt{constructor(e,n,r=128){super(ue.Decimal),this.scale=e,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}yz=Symbol.toStringTag;rv[yz]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(rv.prototype);class iv extends Jt{constructor(e){super(ue.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${Tc[this.unit]}>`}get ArrayType(){return this.unit===Tc.DAY?Int32Array:BigInt64Array}}Cz=Symbol.toStringTag;iv[Cz]=(t=>(t.unit=null,t[Symbol.toStringTag]="Date"))(iv.prototype);class sv extends Jt{constructor(e,n){super(ue.Time),this.unit=e,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${Nn[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}xz=Symbol.toStringTag;sv[xz]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(sv.prototype);class ov extends Jt{constructor(e,n){super(ue.Timestamp),this.unit=e,this.timezone=n}toString(){return`Timestamp<${Nn[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Rz=Symbol.toStringTag;ov[Rz]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Timestamp"))(ov.prototype);class av extends Jt{constructor(e){super(ue.Interval),this.unit=e}toString(){return`Interval<${xu[this.unit]}>`}}Iz=Symbol.toStringTag;av[Iz]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(av.prototype);class lv extends Jt{constructor(e){super(ue.Duration),this.unit=e}toString(){return`Duration<${Nn[this.unit]}>`}}_z=Symbol.toStringTag;lv[_z]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(lv.prototype);class cv extends Jt{constructor(e){super(ue.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Nz=Symbol.toStringTag;cv[Nz]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(cv.prototype);class la extends Jt{constructor(e){super(ue.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}bz=Symbol.toStringTag;la[bz]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(la.prototype);class Av extends Jt{constructor(e,n,r){super(ue.Union),this.mode=e,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}vz=Symbol.toStringTag;Av[vz]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Av.prototype);class uv extends Jt{constructor(e){super(ue.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Oz=Symbol.toStringTag;uv[Oz]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(uv.prototype);class hv extends Jt{constructor(e,n){super(ue.FixedSizeList),this.listSize=e,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}wz=Symbol.toStringTag;hv[wz]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(hv.prototype);class dv extends Jt{constructor(e,n=!1){var r,i,s;if(super(ue.Map),this.children=[e],this.keysSorted=n,e&&(e.name="entries",!((r=e==null?void 0:e.type)===null||r===void 0)&&r.children)){const o=(i=e==null?void 0:e.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=e==null?void 0:e.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}Lz=Symbol.toStringTag;dv[Lz]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(dv.prototype);const Vue=(t=>()=>++t)(-1);class cS extends Jt{constructor(e,n,r,i){super(ue.Dictionary),this.indices=n,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?Vue():fi(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Bz=Symbol.toStringTag;cS[Bz]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(cS.prototype);function wh(t){const e=t;switch(t.typeId){case ue.Decimal:return t.bitWidth/32;case ue.Interval:return 1+e.unit;case ue.FixedSizeList:return e.listSize;case ue.FixedSizeBinary:return e.byteWidth;default:return 1}}class sr{visitMany(e,...n){return e.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return $ue(this,e,n)}getVisitFnByTypeId(e,n=!0){return aT(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitLargeUtf8(e,...n){return null}visitBinary(e,...n){return null}visitLargeBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitDuration(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}}function $ue(t,e,n=!0){return typeof e=="number"?aT(t,e,n):typeof e=="string"&&e in ue?aT(t,ue[e],n):e&&e instanceof Jt?aT(t,BQ(e),n):e!=null&&e.type&&e.type instanceof Jt?aT(t,BQ(e.type),n):aT(t,ue.NONE,n)}function aT(t,e,n=!0){let r=null;switch(e){case ue.Null:r=t.visitNull;break;case ue.Bool:r=t.visitBool;break;case ue.Int:r=t.visitInt;break;case ue.Int8:r=t.visitInt8||t.visitInt;break;case ue.Int16:r=t.visitInt16||t.visitInt;break;case ue.Int32:r=t.visitInt32||t.visitInt;break;case ue.Int64:r=t.visitInt64||t.visitInt;break;case ue.Uint8:r=t.visitUint8||t.visitInt;break;case ue.Uint16:r=t.visitUint16||t.visitInt;break;case ue.Uint32:r=t.visitUint32||t.visitInt;break;case ue.Uint64:r=t.visitUint64||t.visitInt;break;case ue.Float:r=t.visitFloat;break;case ue.Float16:r=t.visitFloat16||t.visitFloat;break;case ue.Float32:r=t.visitFloat32||t.visitFloat;break;case ue.Float64:r=t.visitFloat64||t.visitFloat;break;case ue.Utf8:r=t.visitUtf8;break;case ue.LargeUtf8:r=t.visitLargeUtf8;break;case ue.Binary:r=t.visitBinary;break;case ue.LargeBinary:r=t.visitLargeBinary;break;case ue.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case ue.Date:r=t.visitDate;break;case ue.DateDay:r=t.visitDateDay||t.visitDate;break;case ue.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case ue.Timestamp:r=t.visitTimestamp;break;case ue.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case ue.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case ue.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case ue.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case ue.Time:r=t.visitTime;break;case ue.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case ue.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case ue.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case ue.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case ue.Decimal:r=t.visitDecimal;break;case ue.List:r=t.visitList;break;case ue.Struct:r=t.visitStruct;break;case ue.Union:r=t.visitUnion;break;case ue.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case ue.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case ue.Dictionary:r=t.visitDictionary;break;case ue.Interval:r=t.visitInterval;break;case ue.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case ue.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case ue.Duration:r=t.visitDuration;break;case ue.DurationSecond:r=t.visitDurationSecond||t.visitDuration;break;case ue.DurationMillisecond:r=t.visitDurationMillisecond||t.visitDuration;break;case ue.DurationMicrosecond:r=t.visitDurationMicrosecond||t.visitDuration;break;case ue.DurationNanosecond:r=t.visitDurationNanosecond||t.visitDuration;break;case ue.FixedSizeList:r=t.visitFixedSizeList;break;case ue.Map:r=t.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${ue[e]}'`)}function BQ(t){switch(t.typeId){case ue.Null:return ue.Null;case ue.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?ue.Int8:ue.Uint8;case 16:return n?ue.Int16:ue.Uint16;case 32:return n?ue.Int32:ue.Uint32;case 64:return n?ue.Int64:ue.Uint64}return ue.Int}case ue.Float:switch(t.precision){case Qo.HALF:return ue.Float16;case Qo.SINGLE:return ue.Float32;case Qo.DOUBLE:return ue.Float64}return ue.Float;case ue.Binary:return ue.Binary;case ue.LargeBinary:return ue.LargeBinary;case ue.Utf8:return ue.Utf8;case ue.LargeUtf8:return ue.LargeUtf8;case ue.Bool:return ue.Bool;case ue.Decimal:return ue.Decimal;case ue.Time:switch(t.unit){case Nn.SECOND:return ue.TimeSecond;case Nn.MILLISECOND:return ue.TimeMillisecond;case Nn.MICROSECOND:return ue.TimeMicrosecond;case Nn.NANOSECOND:return ue.TimeNanosecond}return ue.Time;case ue.Timestamp:switch(t.unit){case Nn.SECOND:return ue.TimestampSecond;case Nn.MILLISECOND:return ue.TimestampMillisecond;case Nn.MICROSECOND:return ue.TimestampMicrosecond;case Nn.NANOSECOND:return ue.TimestampNanosecond}return ue.Timestamp;case ue.Date:switch(t.unit){case Tc.DAY:return ue.DateDay;case Tc.MILLISECOND:return ue.DateMillisecond}return ue.Date;case ue.Interval:switch(t.unit){case xu.DAY_TIME:return ue.IntervalDayTime;case xu.YEAR_MONTH:return ue.IntervalYearMonth}return ue.Interval;case ue.Duration:switch(t.unit){case Nn.SECOND:return ue.DurationSecond;case Nn.MILLISECOND:return ue.DurationMillisecond;case Nn.MICROSECOND:return ue.DurationMicrosecond;case Nn.NANOSECOND:return ue.DurationNanosecond}return ue.Duration;case ue.Map:return ue.Map;case ue.List:return ue.List;case ue.Struct:return ue.Struct;case ue.Union:switch(t.mode){case Yo.Dense:return ue.DenseUnion;case Yo.Sparse:return ue.SparseUnion}return ue.Union;case ue.FixedSizeBinary:return ue.FixedSizeBinary;case ue.FixedSizeList:return ue.FixedSizeList;case ue.Dictionary:return ue.Dictionary}throw new Error(`Unrecognized type '${ue[t.typeId]}'`)}sr.prototype.visitInt8=null;sr.prototype.visitInt16=null;sr.prototype.visitInt32=null;sr.prototype.visitInt64=null;sr.prototype.visitUint8=null;sr.prototype.visitUint16=null;sr.prototype.visitUint32=null;sr.prototype.visitUint64=null;sr.prototype.visitFloat16=null;sr.prototype.visitFloat32=null;sr.prototype.visitFloat64=null;sr.prototype.visitDateDay=null;sr.prototype.visitDateMillisecond=null;sr.prototype.visitTimestampSecond=null;sr.prototype.visitTimestampMillisecond=null;sr.prototype.visitTimestampMicrosecond=null;sr.prototype.visitTimestampNanosecond=null;sr.prototype.visitTimeSecond=null;sr.prototype.visitTimeMillisecond=null;sr.prototype.visitTimeMicrosecond=null;sr.prototype.visitTimeNanosecond=null;sr.prototype.visitDenseUnion=null;sr.prototype.visitSparseUnion=null;sr.prototype.visitIntervalDayTime=null;sr.prototype.visitIntervalYearMonth=null;sr.prototype.visitDuration=null;sr.prototype.visitDurationSecond=null;sr.prototype.visitDurationMillisecond=null;sr.prototype.visitDurationMicrosecond=null;sr.prototype.visitDurationNanosecond=null;const Dz=new Float64Array(1),UE=new Uint32Array(Dz.buffer);function kz(t){const e=(t&31744)>>10,n=(t&1023)/1024,r=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,e-15)*(1+n)}function Wue(t){if(t!==t)return 32256;Dz[0]=t;const e=(UE[1]&2147483648)>>16&65535;let n=UE[1]&2146435072,r=0;return n>=1089470464?UE[0]>0?n=31744:(n=(n&2080374784)>>16,r=(UE[1]&1048575)>>10):n<=1056964608?(r=1048576+(UE[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(UE[1]&1048575)+512>>10),e|n|r&65535}class bn extends sr{}function Bn(t){return(e,n,r)=>{if(e.setValid(n,r!=null))return t(e,n,r)}}const Yue=(t,e,n)=>{t[e]=Math.floor(n/864e5)},Mz=(t,e,n,r)=>{if(n+1<e.length){const i=fi(e[n]),s=fi(e[n+1]);t.set(r.subarray(0,s-i),i)}},jue=({offset:t,values:e},n,r)=>{const i=t+n;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},td=({values:t},e,n)=>{t[e]=n},cF=({values:t},e,n)=>{t[e]=n},Pz=({values:t},e,n)=>{t[e]=Wue(n)},Kue=(t,e,n)=>{switch(t.type.precision){case Qo.HALF:return Pz(t,e,n);case Qo.SINGLE:case Qo.DOUBLE:return cF(t,e,n)}},Uz=({values:t},e,n)=>{Yue(t,e,n.valueOf())},Fz=({values:t},e,n)=>{t[e]=BigInt(n)},zue=({stride:t,values:e},n,r)=>{e.set(r.subarray(0,t),t*n)},Hz=({values:t,valueOffsets:e},n,r)=>Mz(t,e,n,r),Gz=({values:t,valueOffsets:e},n,r)=>Mz(t,e,n,sF(r)),que=(t,e,n)=>{t.type.unit===Tc.DAY?Uz(t,e,n):Fz(t,e,n)},Qz=({values:t},e,n)=>{t[e]=BigInt(n/1e3)},Vz=({values:t},e,n)=>{t[e]=BigInt(n)},$z=({values:t},e,n)=>{t[e]=BigInt(n*1e3)},Wz=({values:t},e,n)=>{t[e]=BigInt(n*1e6)},Xue=(t,e,n)=>{switch(t.type.unit){case Nn.SECOND:return Qz(t,e,n);case Nn.MILLISECOND:return Vz(t,e,n);case Nn.MICROSECOND:return $z(t,e,n);case Nn.NANOSECOND:return Wz(t,e,n)}},Yz=({values:t},e,n)=>{t[e]=n},jz=({values:t},e,n)=>{t[e]=n},Kz=({values:t},e,n)=>{t[e]=n},zz=({values:t},e,n)=>{t[e]=n},Jue=(t,e,n)=>{switch(t.type.unit){case Nn.SECOND:return Yz(t,e,n);case Nn.MILLISECOND:return jz(t,e,n);case Nn.MICROSECOND:return Kz(t,e,n);case Nn.NANOSECOND:return zz(t,e,n)}},Zue=({values:t,stride:e},n,r)=>{t.set(r.subarray(0,e),e*n)},ehe=(t,e,n)=>{const r=t.children[0],i=t.valueOffsets,s=Sc.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n.get(++o))},the=(t,e,n)=>{const r=t.children[0],{valueOffsets:i}=t,s=Sc.getVisitFn(r);let{[e]:o,[e+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const c of l)if(s(r,o,c),++o>=a)break},nhe=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[s]),rhe=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(s)),ihe=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(i.name)),she=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[i.name]),ohe=(t,e,n)=>{const r=t.type.children.map(s=>Sc.getVisitFn(s.type)),i=n instanceof Map?ihe(e,n):n instanceof Qi?rhe(e,n):Array.isArray(n)?nhe(e,n):she(e,n);t.type.children.forEach((s,o)=>i(r[o],t.children[o],s,o))},ahe=(t,e,n)=>{t.type.mode===Yo.Dense?qz(t,e,n):Xz(t,e,n)},qz=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Sc.visit(i,t.valueOffsets[e],n)},Xz=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Sc.visit(i,e,n)},lhe=(t,e,n)=>{var r;(r=t.dictionary)===null||r===void 0||r.set(t.values[e],n)},che=(t,e,n)=>{t.type.unit===xu.DAY_TIME?Jz(t,e,n):Zz(t,e,n)},Jz=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},Zz=({values:t},e,n)=>{t[e]=n[0]*12+n[1]%12},e8=({values:t},e,n)=>{t[e]=n},t8=({values:t},e,n)=>{t[e]=n},n8=({values:t},e,n)=>{t[e]=n},r8=({values:t},e,n)=>{t[e]=n},Ahe=(t,e,n)=>{switch(t.type.unit){case Nn.SECOND:return e8(t,e,n);case Nn.MILLISECOND:return t8(t,e,n);case Nn.MICROSECOND:return n8(t,e,n);case Nn.NANOSECOND:return r8(t,e,n)}},uhe=(t,e,n)=>{const{stride:r}=t,i=t.children[0],s=Sc.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=e*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,n.get(o))};bn.prototype.visitBool=Bn(jue);bn.prototype.visitInt=Bn(td);bn.prototype.visitInt8=Bn(td);bn.prototype.visitInt16=Bn(td);bn.prototype.visitInt32=Bn(td);bn.prototype.visitInt64=Bn(td);bn.prototype.visitUint8=Bn(td);bn.prototype.visitUint16=Bn(td);bn.prototype.visitUint32=Bn(td);bn.prototype.visitUint64=Bn(td);bn.prototype.visitFloat=Bn(Kue);bn.prototype.visitFloat16=Bn(Pz);bn.prototype.visitFloat32=Bn(cF);bn.prototype.visitFloat64=Bn(cF);bn.prototype.visitUtf8=Bn(Gz);bn.prototype.visitLargeUtf8=Bn(Gz);bn.prototype.visitBinary=Bn(Hz);bn.prototype.visitLargeBinary=Bn(Hz);bn.prototype.visitFixedSizeBinary=Bn(zue);bn.prototype.visitDate=Bn(que);bn.prototype.visitDateDay=Bn(Uz);bn.prototype.visitDateMillisecond=Bn(Fz);bn.prototype.visitTimestamp=Bn(Xue);bn.prototype.visitTimestampSecond=Bn(Qz);bn.prototype.visitTimestampMillisecond=Bn(Vz);bn.prototype.visitTimestampMicrosecond=Bn($z);bn.prototype.visitTimestampNanosecond=Bn(Wz);bn.prototype.visitTime=Bn(Jue);bn.prototype.visitTimeSecond=Bn(Yz);bn.prototype.visitTimeMillisecond=Bn(jz);bn.prototype.visitTimeMicrosecond=Bn(Kz);bn.prototype.visitTimeNanosecond=Bn(zz);bn.prototype.visitDecimal=Bn(Zue);bn.prototype.visitList=Bn(ehe);bn.prototype.visitStruct=Bn(ohe);bn.prototype.visitUnion=Bn(ahe);bn.prototype.visitDenseUnion=Bn(qz);bn.prototype.visitSparseUnion=Bn(Xz);bn.prototype.visitDictionary=Bn(lhe);bn.prototype.visitInterval=Bn(che);bn.prototype.visitIntervalDayTime=Bn(Jz);bn.prototype.visitIntervalYearMonth=Bn(Zz);bn.prototype.visitDuration=Bn(Ahe);bn.prototype.visitDurationSecond=Bn(e8);bn.prototype.visitDurationMillisecond=Bn(t8);bn.prototype.visitDurationMicrosecond=Bn(n8);bn.prototype.visitDurationNanosecond=Bn(r8);bn.prototype.visitFixedSizeList=Bn(uhe);bn.prototype.visitMap=Bn(the);const Sc=new bn,qc=Symbol.for("parent"),BT=Symbol.for("rowIndex");class AF{constructor(e,n){return this[qc]=e,this[BT]=n,new Proxy(this,new dhe)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[BT],n=this[qc],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=tl.visit(n.children[s],e);return i}toString(){return`{${[...this].map(([e,n])=>`${gx(e)}: ${gx(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new hhe(this[qc],this[BT])}}class hhe{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,tl.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(AF.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[qc]:{writable:!0,enumerable:!1,configurable:!1,value:null},[BT]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class dhe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[qc].type.children.map(n=>n.name)}has(e,n){return e[qc].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[qc].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[qc].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=tl.visit(e[qc].children[r],e[BT]);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[qc].type.children.findIndex(s=>s.name===n);return i!==-1?(Sc.visit(e[qc].children[i],e[BT],r),Reflect.set(e,n,r)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,r):!1}}class gn extends sr{}function vn(t){return(e,n)=>e.getValid(n)?t(e,n):null}const fhe=(t,e)=>864e5*t[e],phe=(t,e)=>null,i8=(t,e,n)=>{if(n+1>=e.length)return null;const r=fi(e[n]),i=fi(e[n+1]);return t.subarray(r,i)},mhe=({offset:t,values:e},n)=>{const r=t+n;return(e[r>>3]&1<<r%8)!==0},s8=({values:t},e)=>fhe(t,e),o8=({values:t},e)=>fi(t[e]),Xf=({stride:t,values:e},n)=>e[t*n],ghe=({stride:t,values:e},n)=>kz(e[t*n]),a8=({values:t},e)=>t[e],Ehe=({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)),l8=({values:t,valueOffsets:e},n)=>i8(t,e,n),c8=({values:t,valueOffsets:e},n)=>{const r=i8(t,e,n);return r!==null?Lk(r):null},The=({values:t},e)=>t[e],She=({type:t,values:e},n)=>t.precision!==Qo.HALF?e[n]:kz(e[n]),yhe=(t,e)=>t.type.unit===Tc.DAY?s8(t,e):o8(t,e),A8=({values:t},e)=>1e3*fi(t[e]),u8=({values:t},e)=>fi(t[e]),h8=({values:t},e)=>Az(t[e],BigInt(1e3)),d8=({values:t},e)=>Az(t[e],BigInt(1e6)),Che=(t,e)=>{switch(t.type.unit){case Nn.SECOND:return A8(t,e);case Nn.MILLISECOND:return u8(t,e);case Nn.MICROSECOND:return h8(t,e);case Nn.NANOSECOND:return d8(t,e)}},f8=({values:t},e)=>t[e],p8=({values:t},e)=>t[e],m8=({values:t},e)=>t[e],g8=({values:t},e)=>t[e],xhe=(t,e)=>{switch(t.type.unit){case Nn.SECOND:return f8(t,e);case Nn.MILLISECOND:return p8(t,e);case Nn.MICROSECOND:return m8(t,e);case Nn.NANOSECOND:return g8(t,e)}},Rhe=({values:t,stride:e},n)=>lF.decimal(t.subarray(e*n,e*(n+1))),Ihe=(t,e)=>{const{valueOffsets:n,stride:r,children:i}=t,{[e*r]:s,[e*r+1]:o}=n,l=i[0].slice(s,o-s);return new Qi([l])},_he=(t,e)=>{const{valueOffsets:n,children:r}=t,{[e]:i,[e+1]:s}=n,o=r[0];return new uF(o.slice(i,s-i))},Nhe=(t,e)=>new AF(t,e),bhe=(t,e)=>t.type.mode===Yo.Dense?E8(t,e):T8(t,e),E8=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return tl.visit(r,t.valueOffsets[e])},T8=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return tl.visit(r,e)},vhe=(t,e)=>{var n;return(n=t.dictionary)===null||n===void 0?void 0:n.get(t.values[e])},Ohe=(t,e)=>t.type.unit===xu.DAY_TIME?S8(t,e):y8(t,e),S8=({values:t},e)=>t.subarray(2*e,2*(e+1)),y8=({values:t},e)=>{const n=t[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},C8=({values:t},e)=>t[e],x8=({values:t},e)=>t[e],R8=({values:t},e)=>t[e],I8=({values:t},e)=>t[e],whe=(t,e)=>{switch(t.type.unit){case Nn.SECOND:return C8(t,e);case Nn.MILLISECOND:return x8(t,e);case Nn.MICROSECOND:return R8(t,e);case Nn.NANOSECOND:return I8(t,e)}},Lhe=(t,e)=>{const{stride:n,children:r}=t,s=r[0].slice(e*n,n);return new Qi([s])};gn.prototype.visitNull=vn(phe);gn.prototype.visitBool=vn(mhe);gn.prototype.visitInt=vn(The);gn.prototype.visitInt8=vn(Xf);gn.prototype.visitInt16=vn(Xf);gn.prototype.visitInt32=vn(Xf);gn.prototype.visitInt64=vn(a8);gn.prototype.visitUint8=vn(Xf);gn.prototype.visitUint16=vn(Xf);gn.prototype.visitUint32=vn(Xf);gn.prototype.visitUint64=vn(a8);gn.prototype.visitFloat=vn(She);gn.prototype.visitFloat16=vn(ghe);gn.prototype.visitFloat32=vn(Xf);gn.prototype.visitFloat64=vn(Xf);gn.prototype.visitUtf8=vn(c8);gn.prototype.visitLargeUtf8=vn(c8);gn.prototype.visitBinary=vn(l8);gn.prototype.visitLargeBinary=vn(l8);gn.prototype.visitFixedSizeBinary=vn(Ehe);gn.prototype.visitDate=vn(yhe);gn.prototype.visitDateDay=vn(s8);gn.prototype.visitDateMillisecond=vn(o8);gn.prototype.visitTimestamp=vn(Che);gn.prototype.visitTimestampSecond=vn(A8);gn.prototype.visitTimestampMillisecond=vn(u8);gn.prototype.visitTimestampMicrosecond=vn(h8);gn.prototype.visitTimestampNanosecond=vn(d8);gn.prototype.visitTime=vn(xhe);gn.prototype.visitTimeSecond=vn(f8);gn.prototype.visitTimeMillisecond=vn(p8);gn.prototype.visitTimeMicrosecond=vn(m8);gn.prototype.visitTimeNanosecond=vn(g8);gn.prototype.visitDecimal=vn(Rhe);gn.prototype.visitList=vn(Ihe);gn.prototype.visitStruct=vn(Nhe);gn.prototype.visitUnion=vn(bhe);gn.prototype.visitDenseUnion=vn(E8);gn.prototype.visitSparseUnion=vn(T8);gn.prototype.visitDictionary=vn(vhe);gn.prototype.visitInterval=vn(Ohe);gn.prototype.visitIntervalDayTime=vn(S8);gn.prototype.visitIntervalYearMonth=vn(y8);gn.prototype.visitDuration=vn(whe);gn.prototype.visitDurationSecond=vn(C8);gn.prototype.visitDurationMillisecond=vn(x8);gn.prototype.visitDurationMicrosecond=vn(R8);gn.prototype.visitDurationNanosecond=vn(I8);gn.prototype.visitFixedSizeList=vn(Lhe);gn.prototype.visitMap=vn(_he);const tl=new gn,lT=Symbol.for("keys"),DT=Symbol.for("vals"),cT=Symbol.for("kKeysAsStrings"),Uk=Symbol.for("_kKeysAsStrings");class uF{constructor(e){return this[lT]=new Qi([e.children[0]]).memoize(),this[DT]=e.children[1],new Proxy(this,new Dhe)}get[cT](){return this[Uk]||(this[Uk]=Array.from(this[lT].toArray(),String))}[Symbol.iterator](){return new Bhe(this[lT],this[DT])}get size(){return this[lT].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[lT],n=this[DT],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=tl.visit(n,i);return r}toString(){return`{${[...this].map(([e,n])=>`${gx(e)}: ${gx(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Bhe{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),tl.visit(this.vals,e)]})}}class Dhe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[cT]}has(e,n){return e[cT].includes(n)}getOwnPropertyDescriptor(e,n){if(e[cT].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[cT].indexOf(n);if(r!==-1){const i=tl.visit(Reflect.get(e,DT),r);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[cT].indexOf(n);return i!==-1?(Sc.visit(Reflect.get(e,DT),i,r),Reflect.set(e,n,r)):Reflect.has(e,n)?Reflect.set(e,n,r):!1}}Object.defineProperties(uF.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[lT]:{writable:!0,enumerable:!1,configurable:!1,value:null},[DT]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Uk]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let DQ;function _8(t,e,n,r){const{length:i=0}=t;let s=typeof e!="number"?0:e,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(DQ=s,s=o,o=DQ),o>i&&(o=i),r?r(t,s,o):[s,o]}const hF=(t,e)=>t<0?e+t:t,kQ=t=>t!==t;function PS(t){if(typeof t!=="object"||t===null)return kQ(t)?kQ:n=>n===t;if(t instanceof Date){const n=t.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(t)?n=>n?Lue(t,n):!1:t instanceof Map?Mhe(t):Array.isArray(t)?khe(t):t instanceof Qi?Phe(t):Uhe(t,!0)}function khe(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=PS(t[n]);return Ew(e)}function Mhe(t){let e=-1;const n=[];for(const r of t.values())n[++e]=PS(r);return Ew(n)}function Phe(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=PS(t.get(n));return Ew(e)}function Uhe(t,e=!1){const n=Object.keys(t);if(!e&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=PS(t[n[i]]);return Ew(r,n)}function Ew(t,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Fhe(t,n);case Map:return MQ(t,n,n.keys());case uF:case AF:case Object:case void 0:return MQ(t,n,e||Object.keys(n))}return n instanceof Qi?Hhe(t,n):!1}}function Fhe(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e[r]))return!1;return!0}function Hhe(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e.get(r)))return!1;return!0}function MQ(t,e,n){const r=n[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let l=s.next(),c=r.next(),A=i.next();for(;o<a&&!c.done&&!A.done&&!l.done&&!(c.value!==A.value||!t[o](l.value));++o,c=r.next(),A=i.next(),l=s.next());return o===a&&c.done&&A.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function N8(t,e,n,r){return(n&1<<r)!==0}function Ghe(t,e,n,r){return(n&1<<r)>>r}function fv(t,e,n){const r=n.byteLength+7&-8;if(t>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(t%8===0?n.subarray(t>>3):pv(new dF(n,t,e,null,N8)).subarray(0,r)),i}return n}function pv(t){const e=[];let n=0,r=0,i=0;for(const o of t)o&&(i|=1<<r),++r===8&&(e[n++]=i,i=r=0);(n===0||r>0)&&(e[n++]=i);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class dF{constructor(e,n,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Fk(t,e,n){if(n-e<=0)return 0;if(n-e<8){let s=0;for(const o of new dF(t,e,n-e,t,Ghe))s+=o;return s}const r=n>>3<<3,i=e+(e%8===0?0:8-e%8);return Fk(t,e,i)+Fk(t,r,n)+Qhe(t,i>>3,r-i>>3)}function Qhe(t,e,n){let r=0,i=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=n===void 0?t.byteLength:i+n;for(;o-i>=4;)r+=KB(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=KB(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=KB(s.getUint8(i)),i+=1;return r}function KB(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const Vhe=-1;class Xr{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:e}=this;return Jt.isSparseUnion(e)?this.children.some(n=>n.nullable):Jt.isDenseUnion(e)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){if(Jt.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let e=this._nullCount,n;return e<=Vhe&&(n=this.nullBitmap)&&(this._nullCount=e=n.length===0?0:this.length-Fk(n,this.offset,this.offset+this.length)),e}constructor(e,n,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof Xr?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=wh(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(e){const{type:n}=this;if(Jt.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[e]]],s=r.mode===Yo.Dense?this.valueOffsets[e]:e;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+e;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(e,n){let r;const{type:i}=this;if(Jt.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[e]]],a=s.mode===Yo.Dense?this.valueOffsets[e]:e;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+e,c=1<<l%8,A=l>>3;(!s||s.byteLength<=A)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0?(s.set(fv(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s})):Object.assign(this,{nullBitmap:s,_nullCount:0}));const u=s[A];r=(u&c)!==0,s[A]=n?u|c:u&~c}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(e=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Xr(e,n,r,i,s,o,this.dictionary)}slice(e,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,n,r,i);return this.clone(this.type,this.offset+e,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===ue.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:r}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(fv(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Oh.VALIDITY]=i,this.clone(this.type,0,e,r+(e-n),s)}_sliceBuffers(e,n,r,i){let s;const{buffers:o}=this;return(s=o[Oh.TYPE])&&(o[Oh.TYPE]=s.subarray(e,e+n)),(s=o[Oh.OFFSET])&&(o[Oh.OFFSET]=s.subarray(e,e+n+1))||(s=o[Oh.DATA])&&(o[Oh.DATA]=i===6?s:s.subarray(r*e,r*(e+n))),o}_sliceChildren(e,n,r){return e.map(i=>i.slice(n,r))}}Xr.prototype.children=Object.freeze([]);class HC extends sr{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=e;return new Xr(n,r,i,i)}visitBool(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitInt(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitFloat(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.data),s=Rr(e.nullBitmap),o=y0(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Xr(n,r,a,l,[o,i,s])}visitLargeUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.data),s=Rr(e.nullBitmap),o=xQ(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Xr(n,r,a,l,[o,i,s])}visitBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.data),s=Rr(e.nullBitmap),o=y0(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Xr(n,r,a,l,[o,i,s])}visitLargeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.data),s=Rr(e.nullBitmap),o=xQ(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Xr(n,r,a,l,[o,i,s])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length/wh(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitDate(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length/wh(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitTimestamp(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length/wh(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitTime(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length/wh(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitDecimal(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length/wh(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitList(e){const{["type"]:n,["offset"]:r=0,["child"]:i}=e,s=Rr(e.nullBitmap),o=y0(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Xr(n,r,a,l,[o,void 0,s],[i])}visitStruct(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=Rr(e.nullBitmap),{length:o=i.reduce((l,{length:c})=>Math.max(l,c),0),nullCount:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,void 0,s],i)}visitUnion(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=Zr(n.ArrayType,e.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=e;if(Jt.isSparseUnion(n))return new Xr(n,r,o,a,[void 0,void 0,void 0,s],i);const l=y0(e.valueOffsets);return new Xr(n,r,o,a,[l,void 0,void 0,s],i)}visitDictionary(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.indices.ArrayType,e.data),{["dictionary"]:o=new Qi([new HC().visit({type:n.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Xr(n,r,a,l,[void 0,s,i],[],o)}visitInterval(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length/wh(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitDuration(e){const{["type"]:n,["offset"]:r=0}=e,i=Rr(e.nullBitmap),s=Zr(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,s,i])}visitFixedSizeList(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new HC().visit({type:n.valueType})}=e,s=Rr(e.nullBitmap),{["length"]:o=i.length/wh(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Xr(n,r,o,a,[void 0,void 0,s],[i])}visitMap(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new HC().visit({type:n.childType})}=e,s=Rr(e.nullBitmap),o=y0(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Xr(n,r,a,l,[o,void 0,s],[i])}}const $he=new HC;function lr(t){return $he.visit(t)}class PQ{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Whe(t){return t.some(e=>e.nullable)}function b8(t){return t.reduce((e,n)=>e+n.nullCount,0)}function v8(t){return t.reduce((e,n,r)=>(e[r+1]=e[r]+n.length,e),new Uint32Array(t.length+1))}function O8(t,e,n,r){const i=[];for(let s=-1,o=t.length;++s<o;){const a=t[s],l=e[s],{length:c}=a;if(l>=r)break;if(n>=l+c)continue;if(l>=n&&l+c<=r){i.push(a);continue}const A=Math.max(0,n-l),u=Math.min(r-l,c);i.push(a.slice(A,u-A))}return i.length===0&&i.push(t[0].slice(0,0)),i}function fF(t,e,n,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return n<e[o]?r(t,i,n-e[i]):null;s=i+Math.trunc((o-i)*.5),n<e[s]?o=s:i=s}while(i<o)}function pF(t,e){return t.getValid(e)}function mv(t){function e(n,r,i){return t(n[r],i)}return function(n){const r=this.data;return fF(r,this._offsets,n,e)}}function w8(t){let e;function n(r,i,s){return t(r[i],s,e)}return function(r,i){const s=this.data;e=i;const o=fF(s,this._offsets,r,n);return e=void 0,o}}function L8(t){let e;function n(r,i,s){let o=s,a=0,l=0;for(let c=i-1,A=r.length;++c<A;){const u=r[c];if(~(a=t(u,e,o)))return l+a;o=0,l+=u.length}return-1}return function(r,i){e=r;const s=this.data,o=typeof i!="number"?n(s,0,0):fF(s,this._offsets,i,n);return e=void 0,o}}class En extends sr{}function Yhe(t,e){return e===null&&t.length>0?0:-1}function jhe(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let r=0;for(const i of new dF(n,t.offset+(e||0),t.length,n,N8)){if(!i)return r;++r}return-1}function Un(t,e,n){if(e===void 0)return-1;if(e===null)switch(t.typeId){case ue.Union:break;case ue.Dictionary:break;default:return jhe(t,n)}const r=tl.getVisitFn(t),i=PS(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}function B8(t,e,n){const r=tl.getVisitFn(t),i=PS(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}En.prototype.visitNull=Yhe;En.prototype.visitBool=Un;En.prototype.visitInt=Un;En.prototype.visitInt8=Un;En.prototype.visitInt16=Un;En.prototype.visitInt32=Un;En.prototype.visitInt64=Un;En.prototype.visitUint8=Un;En.prototype.visitUint16=Un;En.prototype.visitUint32=Un;En.prototype.visitUint64=Un;En.prototype.visitFloat=Un;En.prototype.visitFloat16=Un;En.prototype.visitFloat32=Un;En.prototype.visitFloat64=Un;En.prototype.visitUtf8=Un;En.prototype.visitLargeUtf8=Un;En.prototype.visitBinary=Un;En.prototype.visitLargeBinary=Un;En.prototype.visitFixedSizeBinary=Un;En.prototype.visitDate=Un;En.prototype.visitDateDay=Un;En.prototype.visitDateMillisecond=Un;En.prototype.visitTimestamp=Un;En.prototype.visitTimestampSecond=Un;En.prototype.visitTimestampMillisecond=Un;En.prototype.visitTimestampMicrosecond=Un;En.prototype.visitTimestampNanosecond=Un;En.prototype.visitTime=Un;En.prototype.visitTimeSecond=Un;En.prototype.visitTimeMillisecond=Un;En.prototype.visitTimeMicrosecond=Un;En.prototype.visitTimeNanosecond=Un;En.prototype.visitDecimal=Un;En.prototype.visitList=Un;En.prototype.visitStruct=Un;En.prototype.visitUnion=Un;En.prototype.visitDenseUnion=B8;En.prototype.visitSparseUnion=B8;En.prototype.visitDictionary=Un;En.prototype.visitInterval=Un;En.prototype.visitIntervalDayTime=Un;En.prototype.visitIntervalYearMonth=Un;En.prototype.visitDuration=Un;En.prototype.visitDurationSecond=Un;En.prototype.visitDurationMillisecond=Un;En.prototype.visitDurationMicrosecond=Un;En.prototype.visitDurationNanosecond=Un;En.prototype.visitFixedSizeList=Un;En.prototype.visitMap=Un;const gv=new En;class Tn extends sr{}function On(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(Jt.isInt(e)&&e.bitWidth!==64||Jt.isTime(e)&&e.bitWidth!==64||Jt.isFloat(e)&&e.precision!==Qo.HALF))return new PQ(t.data.length,r=>{const i=t.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new PQ(t.data.length,r=>{const s=t.data[r].length,o=t.slice(n,n+s);return n+=s,new Khe(o)})}class Khe{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Tn.prototype.visitNull=On;Tn.prototype.visitBool=On;Tn.prototype.visitInt=On;Tn.prototype.visitInt8=On;Tn.prototype.visitInt16=On;Tn.prototype.visitInt32=On;Tn.prototype.visitInt64=On;Tn.prototype.visitUint8=On;Tn.prototype.visitUint16=On;Tn.prototype.visitUint32=On;Tn.prototype.visitUint64=On;Tn.prototype.visitFloat=On;Tn.prototype.visitFloat16=On;Tn.prototype.visitFloat32=On;Tn.prototype.visitFloat64=On;Tn.prototype.visitUtf8=On;Tn.prototype.visitLargeUtf8=On;Tn.prototype.visitBinary=On;Tn.prototype.visitLargeBinary=On;Tn.prototype.visitFixedSizeBinary=On;Tn.prototype.visitDate=On;Tn.prototype.visitDateDay=On;Tn.prototype.visitDateMillisecond=On;Tn.prototype.visitTimestamp=On;Tn.prototype.visitTimestampSecond=On;Tn.prototype.visitTimestampMillisecond=On;Tn.prototype.visitTimestampMicrosecond=On;Tn.prototype.visitTimestampNanosecond=On;Tn.prototype.visitTime=On;Tn.prototype.visitTimeSecond=On;Tn.prototype.visitTimeMillisecond=On;Tn.prototype.visitTimeMicrosecond=On;Tn.prototype.visitTimeNanosecond=On;Tn.prototype.visitDecimal=On;Tn.prototype.visitList=On;Tn.prototype.visitStruct=On;Tn.prototype.visitUnion=On;Tn.prototype.visitDenseUnion=On;Tn.prototype.visitSparseUnion=On;Tn.prototype.visitDictionary=On;Tn.prototype.visitInterval=On;Tn.prototype.visitIntervalDayTime=On;Tn.prototype.visitIntervalYearMonth=On;Tn.prototype.visitDuration=On;Tn.prototype.visitDurationSecond=On;Tn.prototype.visitDurationMillisecond=On;Tn.prototype.visitDurationMicrosecond=On;Tn.prototype.visitDurationNanosecond=On;Tn.prototype.visitFixedSizeList=On;Tn.prototype.visitMap=On;const mF=new Tn;var D8;const k8={},M8={};let Qi=class sm{constructor(e){var n,r,i;const s=e[0]instanceof sm?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof Xr)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:c}=k8[o.typeId],A=s[0];this.isValid=u=>pF(A,u),this.get=u=>a(A,u),this.set=(u,h)=>l(A,u,h),this.indexOf=u=>c(A,u),this._offsets=[0,A.length];break}default:Object.setPrototypeOf(this,M8[o.typeId]),this._offsets=v8(s);break}this.data=s,this.type=o,this.stride=wh(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,n)=>e+n.byteLength,0)}get nullable(){return Whe(this.data)}get nullCount(){return b8(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${ue[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(hF(e,this.length))}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>-1}[Symbol.iterator](){return mF.visit(this)}concat(...e){return new sm(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new sm(_8(this,e,n,({data:r,_offsets:i},s,o)=>O8(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case ue.Int:case ue.Float:case ue.Decimal:case ue.Time:case ue.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new sm(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return Jt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Jt.isDictionary(this.type)){const e=new Ev(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new sm(n)}return new Ev(this)}unmemoize(){if(Jt.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new sm(n)}return this}};D8=Symbol.toStringTag;Qi[D8]=(t=>{t.type=Jt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(ue).map(n=>ue[n]).filter(n=>typeof n=="number"&&n!==ue.NONE);for(const n of e){const r=tl.getVisitFnByTypeId(n),i=Sc.getVisitFnByTypeId(n),s=gv.getVisitFnByTypeId(n);k8[n]={get:r,set:i,indexOf:s},M8[n]=Object.create(t,{isValid:{value:mv(pF)},get:{value:mv(tl.getVisitFnByTypeId(n))},set:{value:w8(Sc.getVisitFnByTypeId(n))},indexOf:{value:L8(gv.getVisitFnByTypeId(n))}})}return"Vector"})(Qi.prototype);class Ev extends Qi{constructor(e){super(e.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Ev(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Qi(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Hk{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,r,i){return e.prep(8,24),e.writeInt64(BigInt(i??0)),e.pad(4),e.writeInt32(r),e.writeInt64(BigInt(n??0)),e.offset()}}class Rl{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new Rl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+zr),(n||new Rl).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):us.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new ru).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Hk).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new Hk).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Bs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,us.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}}let Gi=class om{constructor(e=[],n,r,i=us.V5){this.fields=e||[],this.metadata=n||new Map,r||(r=Gk(this.fields)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),r=this.fields.filter(i=>n.has(i.name));return new om(r,this.metadata)}selectAt(e){const n=e.map(r=>this.fields[r]).filter(Boolean);return new om(n,this.metadata)}assign(...e){const n=e[0]instanceof om?e[0]:Array.isArray(e[0])?new om(e[0]):new om(e),r=[...this.fields],i=a_(a_(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(c=>c.name===a.name);return~l?(r[l]=a.clone({metadata:a_(a_(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=Gk(s,new Map);return new om([...r,...s],i,new Map([...this.dictionaries,...o]))}};Gi.prototype.fields=null;Gi.prototype.metadata=null;Gi.prototype.dictionaries=null;class wi{static new(...e){let[n,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new wi(`${n}`,r,i,s)}constructor(e,n,r=!1,i){this.name=e,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],wi.new(n,r,i,s)}}wi.prototype.type=null;wi.prototype.name=null;wi.prototype.nullable=null;wi.prototype.metadata=null;function a_(t,e){return new Map([...t||new Map,...e||new Map])}function Gk(t,e=new Map){for(let n=-1,r=t.length;++n<r;){const s=t[n].type;if(Jt.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&Gk(s.children,e)}return e}var zhe=oz,qhe=aS;class yx{static decode(e){e=new qhe(Rr(e));const n=Rl.getRootAsFooter(e),r=Gi.decode(n.schema(),new Map,n.version());return new Xhe(r,n)}static encode(e){const n=new zhe,r=Gi.encode(n,e.schema);Rl.startRecordBatchesVector(n,e.numRecordBatches);for(const o of[...e.recordBatches()].slice().reverse())bf.encode(n,o);const i=n.endVector();Rl.startDictionariesVector(n,e.numDictionaries);for(const o of[...e.dictionaryBatches()].slice().reverse())bf.encode(n,o);const s=n.endVector();return Rl.startFooter(n),Rl.addSchema(n,r),Rl.addVersion(n,us.V5),Rl.addRecordBatches(n,i),Rl.addDictionaries(n,s),Rl.finishFooterBuffer(n,Rl.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,n=us.V5,r,i){this.schema=e,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let e,n=-1,r=this.numRecordBatches;++n<r;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,r=this.numDictionaries;++n<r;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class Xhe extends yx{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,n){super(e,n.version()),this._footer=n}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return bf.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return bf.decode(n)}return null}}class bf{static decode(e){return new bf(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return Hk.createBlock(e,i,r,s)}constructor(e,n,r){this.metaDataLength=e,this.offset=fi(r),this.bodyLength=fi(n)}}const Vi=Object.freeze({done:!0,value:void 0});class UQ{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class gF{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Jhe extends gF{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return Fn(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(Vi);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return ic.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return ic.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return Fn(this,void 0,void 0,function*(){return yield this.abort(e),Vi})}return(e){return Fn(this,void 0,void 0,function*(){return yield this.close(),Vi})}read(e){return Fn(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return Fn(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(Vi)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class tb extends Jhe{write(e){if((e=Rr(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?Lk(this.toUint8Array(!0)):this.toUint8Array(!1).then(Lk)}toUint8Array(e=!1){return e?Cu(this._values)[0]:Fn(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,c=Bm(this),A;A=yield c.next(),n=A.done,!n;l=!0){s=A.value,l=!1;const u=s;o.push(u),a+=u.byteLength}}catch(u){r={error:u}}finally{try{!l&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}return Cu(o,a)[0]})}}class Tv{constructor(e){e&&(this.source=new Zhe(ic.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class AS{constructor(e){e instanceof AS?this.source=e.source:e instanceof tb?this.source=new zp(ic.fromAsyncIterable(e)):nz(e)?this.source=new zp(ic.fromNodeStream(e)):oF(e)?this.source=new zp(ic.fromDOMStream(e)):tz(e)?this.source=new zp(ic.fromDOMStream(e.body)):fR(e)?this.source=new zp(ic.fromIterable(e)):Vm(e)?this.source=new zp(ic.fromAsyncIterable(e)):MS(e)&&(this.source=new zp(ic.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class Zhe{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,n="read"){return this.source.next({cmd:n,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||Vi)}return(e){return Object.create(this.source.return&&this.source.return(e)||Vi)}}class zp{constructor(e){this.source=e,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(e){return Fn(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return Fn(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return Fn(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e){return Fn(this,arguments,void 0,function*(n,r="read"){return yield this.source.next({cmd:r,size:n})})}throw(e){return Fn(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(e))||Vi;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(e){return Fn(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(e))||Vi;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class FQ extends Tv{constructor(e,n){super(),this.position=0,this.buffer=Rr(e),this.size=n===void 0?this.buffer.byteLength:n}readInt32(e){const{buffer:n,byteOffset:r}=this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),n.subarray(i,this.position)):null}readAt(e,n){const r=this.buffer,i=Math.min(this.size,e+n);return r?r.subarray(e,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class Sv extends AS{constructor(e,n){super(),this.position=0,this._handle=e,typeof n=="number"?this.size=n:this._pending=Fn(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return Fn(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)})}seek(e){return Fn(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return Fn(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0;const l=Math.min(r,s+Math.min(r-s,e)),c=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<c.byteLength;)({bytesRead:a}=yield n.read(c,o,c.byteLength-o,s));return c}return null})}readAt(e,n){return Fn(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&e+n<i){const s=Math.min(i,e+n),o=new Uint8Array(s-e);return(yield r.read(o,0,n,e)).buffer}return new Uint8Array(n)})}close(){return Fn(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return Fn(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return Fn(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const ede=65536;function ET(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const uS=8,EF=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class P8{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=n[2]*r[3],s+=i,i=n[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?ede:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(e){const n=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${ET(this.buffer[1])} ${ET(this.buffer[0])}`}}class Jr extends P8{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,n=new Uint32Array(2)){return Jr.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return Jr.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.length,i=new Jr(n);for(let s=0;s<r;){const o=uS<r-s?uS:r-s,a=new Jr(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new Jr(new Uint32Array([EF[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Jr.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new Jr(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new Jr(new Uint32Array(e.buffer)).plus(n)}}class Ha extends P8{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const n=this.buffer[1]<<0,r=e.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<e.buffer[0]}static from(e,n=new Uint32Array(2)){return Ha.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return Ha.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.startsWith("-"),i=e.length,s=new Ha(n);for(let o=r?1:0;o<i;){const a=uS<i-o?uS:i-o,l=new Ha(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),c=new Ha(new Uint32Array([EF[a],0]));s.times(c),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Ha.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new Ha(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new Ha(new Uint32Array(e.buffer)).plus(n)}}class iu{constructor(e){this.buffer=e}high(){return new Ha(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Ha(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const n=new Jr(new Uint32Array([this.buffer[3],0])),r=new Jr(new Uint32Array([this.buffer[2],0])),i=new Jr(new Uint32Array([this.buffer[1],0])),s=new Jr(new Uint32Array([this.buffer[0],0])),o=new Jr(new Uint32Array([e.buffer[3],0])),a=new Jr(new Uint32Array([e.buffer[2],0])),l=new Jr(new Uint32Array([e.buffer[1],0])),c=new Jr(new Uint32Array([e.buffer[0],0]));let A=Jr.multiply(s,c);this.buffer[0]=A.low();const u=new Jr(new Uint32Array([A.high(),0]));return A=Jr.multiply(i,c),u.plus(A),A=Jr.multiply(s,l),u.plus(A),this.buffer[1]=u.low(),this.buffer[3]=u.lessThan(A)?1:0,this.buffer[2]=u.high(),new Jr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Jr.multiply(r,c)).plus(Jr.multiply(i,l)).plus(Jr.multiply(s,a)),this.buffer[3]+=Jr.multiply(n,c).plus(Jr.multiply(r,l)).plus(Jr.multiply(i,a)).plus(Jr.multiply(s,o)).low(),this}plus(e){const n=new Uint32Array(4);return n[3]=this.buffer[3]+e.buffer[3]>>>0,n[2]=this.buffer[2]+e.buffer[2]>>>0,n[1]=this.buffer[1]+e.buffer[1]>>>0,n[0]=this.buffer[0]+e.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${ET(this.buffer[3])} ${ET(this.buffer[2])} ${ET(this.buffer[1])} ${ET(this.buffer[0])}`}static multiply(e,n){return new iu(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new iu(new Uint32Array(e.buffer)).plus(n)}static from(e,n=new Uint32Array(4)){return iu.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(4)){return iu.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(4)){const r=e.startsWith("-"),i=e.length,s=new iu(n);for(let o=r?1:0;o<i;){const a=uS<i-o?uS:i-o,l=new iu(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),c=new iu(new Uint32Array([EF[a],0,0,0]));s.times(c),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)iu.from(e[r],new Uint32Array(n.buffer,n.byteOffset+16*r,4));return n}}class U8 extends sr{constructor(e,n,r,i,s=us.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=n,this.buffers=r,this.dictionaries=i,this.metadataVersion=s}visit(e){return super.visit(e instanceof wi?e.type:e)}visitNull(e,{length:n}=this.nextFieldNode()){return lr({type:e,length:n})}visitBool(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return this.metadataVersion<us.V5&&this.readNullBitmap(e,r),e.mode===Yo.Sparse?this.visitSparseUnion(e,{length:n,nullCount:r}):this.visitDenseUnion(e,{length:n,nullCount:r})}visitDenseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDuration(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:n,nullCount:r}=this.nextFieldNode()){return lr({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,n,r=this.nextBufferRange()){return n>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,n){return this.readData(e,n)}readTypeIds(e,n){return this.readData(e,n)}readData(e,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(e){return this.dictionaries.get(e.id)}}class tde extends U8{constructor(e,n,r,i,s){super(new Uint8Array(0),n,r,i,s),this.sources=e}readNullBitmap(e,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):pv(this.sources[r])}readOffsets(e,{offset:n}=this.nextBufferRange()){return Zr(Uint8Array,Zr(e.OffsetArrayType,this.sources[n]))}readTypeIds(e,{offset:n}=this.nextBufferRange()){return Zr(Uint8Array,Zr(e.ArrayType,this.sources[n]))}readData(e,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return Jt.isTimestamp(e)||(Jt.isInt(e)||Jt.isTime(e))&&e.bitWidth===64||Jt.isDuration(e)||Jt.isDate(e)&&e.unit===Tc.MILLISECOND?Zr(Uint8Array,Ha.convertArray(r[n])):Jt.isDecimal(e)?Zr(Uint8Array,iu.convertArray(r[n])):Jt.isBinary(e)||Jt.isLargeBinary(e)||Jt.isFixedSizeBinary(e)?nde(r[n]):Jt.isBool(e)?pv(r[n]):Jt.isUtf8(e)||Jt.isLargeUtf8(e)?sF(r[n].join("")):Zr(Uint8Array,Zr(e.ArrayType,r[n].map(i=>+i)))}}function nde(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r>>1]=Number.parseInt(e.slice(r,r+2),16);return n}class Sn extends sr{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((r,i)=>this.compareFields(r,n[i]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}}function Ta(t,e){return e instanceof t.constructor}function ag(t,e){return t===e||Ta(t,e)}function nd(t,e){return t===e||Ta(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function Tw(t,e){return t===e||Ta(t,e)&&t.precision===e.precision}function rde(t,e){return t===e||Ta(t,e)&&t.byteWidth===e.byteWidth}function TF(t,e){return t===e||Ta(t,e)&&t.unit===e.unit}function pR(t,e){return t===e||Ta(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function mR(t,e){return t===e||Ta(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function ide(t,e){return t===e||Ta(t,e)&&t.children.length===e.children.length&&vf.compareManyFields(t.children,e.children)}function sde(t,e){return t===e||Ta(t,e)&&t.children.length===e.children.length&&vf.compareManyFields(t.children,e.children)}function SF(t,e){return t===e||Ta(t,e)&&t.mode===e.mode&&t.typeIds.every((n,r)=>n===e.typeIds[r])&&vf.compareManyFields(t.children,e.children)}function ode(t,e){return t===e||Ta(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&vf.visit(t.indices,e.indices)&&vf.visit(t.dictionary,e.dictionary)}function yF(t,e){return t===e||Ta(t,e)&&t.unit===e.unit}function gR(t,e){return t===e||Ta(t,e)&&t.unit===e.unit}function ade(t,e){return t===e||Ta(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&vf.compareManyFields(t.children,e.children)}function lde(t,e){return t===e||Ta(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&vf.compareManyFields(t.children,e.children)}Sn.prototype.visitNull=ag;Sn.prototype.visitBool=ag;Sn.prototype.visitInt=nd;Sn.prototype.visitInt8=nd;Sn.prototype.visitInt16=nd;Sn.prototype.visitInt32=nd;Sn.prototype.visitInt64=nd;Sn.prototype.visitUint8=nd;Sn.prototype.visitUint16=nd;Sn.prototype.visitUint32=nd;Sn.prototype.visitUint64=nd;Sn.prototype.visitFloat=Tw;Sn.prototype.visitFloat16=Tw;Sn.prototype.visitFloat32=Tw;Sn.prototype.visitFloat64=Tw;Sn.prototype.visitUtf8=ag;Sn.prototype.visitLargeUtf8=ag;Sn.prototype.visitBinary=ag;Sn.prototype.visitLargeBinary=ag;Sn.prototype.visitFixedSizeBinary=rde;Sn.prototype.visitDate=TF;Sn.prototype.visitDateDay=TF;Sn.prototype.visitDateMillisecond=TF;Sn.prototype.visitTimestamp=pR;Sn.prototype.visitTimestampSecond=pR;Sn.prototype.visitTimestampMillisecond=pR;Sn.prototype.visitTimestampMicrosecond=pR;Sn.prototype.visitTimestampNanosecond=pR;Sn.prototype.visitTime=mR;Sn.prototype.visitTimeSecond=mR;Sn.prototype.visitTimeMillisecond=mR;Sn.prototype.visitTimeMicrosecond=mR;Sn.prototype.visitTimeNanosecond=mR;Sn.prototype.visitDecimal=ag;Sn.prototype.visitList=ide;Sn.prototype.visitStruct=sde;Sn.prototype.visitUnion=SF;Sn.prototype.visitDenseUnion=SF;Sn.prototype.visitSparseUnion=SF;Sn.prototype.visitDictionary=ode;Sn.prototype.visitInterval=yF;Sn.prototype.visitIntervalDayTime=yF;Sn.prototype.visitIntervalYearMonth=yF;Sn.prototype.visitDuration=gR;Sn.prototype.visitDurationSecond=gR;Sn.prototype.visitDurationMillisecond=gR;Sn.prototype.visitDurationMicrosecond=gR;Sn.prototype.visitDurationNanosecond=gR;Sn.prototype.visitFixedSizeList=ade;Sn.prototype.visitMap=lde;const vf=new Sn;function Qk(t,e){return vf.compareSchemas(t,e)}function zB(t,e){return cde(t,e.map(n=>n.data.concat()))}function cde(t,e){const n=[...t.fields],r=[],i={numBatches:e.reduce((u,h)=>Math.max(u,h.length),0)};let s=0,o=0,a=-1;const l=e.length;let c,A=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)A[a]=c=e[a].shift(),o=Math.min(o,c?c.length:o);Number.isFinite(o)&&(A=Ade(n,o,A,e,i),o>0&&(r[s++]=lr({type:new la(n),length:o,nullCount:0,children:A.slice()})))}return[t=t.assign(n),r.map(u=>new Va(t,u))]}function Ade(t,e,n,r,i){var s;const o=(e+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const c=n[a],A=c==null?void 0:c.length;if(A>=e)A===e?n[a]=c:(n[a]=c.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(c.slice(e,A-e))));else{const u=t[a];t[a]=u.clone({nullable:!0}),n[a]=(s=c==null?void 0:c._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:lr({type:u.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return n}var F8;let Of=class am{constructor(...e){var n,r;if(e.length===0)return this.batches=[],this.schema=new Gi([]),this._offsets=[0],this;let i,s;e[0]instanceof Gi&&(i=e.shift()),e.at(-1)instanceof Uint32Array&&(s=e.pop());const o=l=>{if(l){if(l instanceof Va)return[l];if(l instanceof am)return l.batches;if(l instanceof Xr){if(l.type instanceof la)return[new Va(new Gi(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(c=>o(c));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(c=>o(c));if(typeof l=="object"){const c=Object.keys(l),A=c.map(p=>new Qi([l[p]])),u=i??new Gi(c.map((p,E)=>new wi(String(p),A[E].type,A[E].nullable))),[,h]=zB(u,A);return h.length===0?[new Va(l)]:h}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Gi([]),!(i instanceof Gi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof Va))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Qk(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??v8(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=b8(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(hF(e,this.numRows))}set(e,n){}indexOf(e,n){return-1}[Symbol.iterator](){return this.batches.length>0?mF.visit(new Qi(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new am(n,r.map(i=>new Va(n,i)))}slice(e,n){const r=this.schema;[e,n]=_8({length:this.numRows},e,n);const i=O8(this.data,this._offsets,e,n);return new am(r,i.map(s=>new Va(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(r=>r.children[e]);if(n.length===0){const{type:r}=this.schema.fields[e],i=lr({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Qi(n)}return null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new Qi([lr({type:new Nf,length:this.numRows})]));const s=r.fields.slice(),o=s[e].clone({type:n.type}),a=this.schema.fields.map((l,c)=>this.getChildAt(c));[s[e],a[e]]=[o,n],[r,i]=zB(r,a)}return new am(r,i)}select(e){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(e){const n=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new am(n,r)}assign(e){const n=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,c)=>{const[A,u]=a,h=n.findIndex(p=>p.name===l.name);return~h?u[h]=c:A.push(c),a},[[],[]]),s=this.schema.assign(e.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new am(...zB(s,o))}};F8=Symbol.toStringTag;Of[F8]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=mv(pF),t.get=mv(tl.getVisitFn(ue.Struct)),t.set=w8(Sc.getVisitFn(ue.Struct)),t.indexOf=L8(gv.getVisitFn(ue.Struct)),"Table"))(Of.prototype);var H8;let Va=class fC{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof Gi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=lr({nullCount:0,type:new la(this.schema.fields),children:this.schema.fields.map(n=>lr({type:n.type,nullCount:0}))})]=e,!(this.data instanceof Xr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=HQ(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,c,A)=>(l.children[A]=n[c],l.length=Math.max(l.length,n[c].length),l.fields[A]=wi.new({name:c,type:n[c].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new Gi(r),a=lr({type:new la(r),length:s,children:i,nullCount:0});[this.schema,this.data]=HQ(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=G8(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return tl.visit(this.data,e)}at(e){return this.get(hF(e,this.numRows))}set(e,n){return Sc.visit(this.data,e,n)}indexOf(e,n){return gv.visit(this.data,e,n)}[Symbol.iterator](){return mF.visit(new Qi([this.data]))}toArray(){return[...this]}concat(...e){return new Of(this.schema,[this,...e])}slice(e,n){const[r]=new Qi([this.data]).slice(e,n).data;return new fC(this.schema,r)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new Qi([this.data.children[e]]):null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){n||(n=new Qi([lr({type:new Nf,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:n.type});[s[e],o[e]]=[a,n.data[0]],r=new Gi(s,new Map(this.schema.metadata)),i=lr({type:new la(s),children:o})}return new fC(r,i)}select(e){const n=this.schema.select(e),r=new la(n.fields),i=[];for(const s of e){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new fC(n,lr({type:r,length:this.numRows,children:i}))}selectAt(e){const n=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=lr({type:new la(n.fields),length:this.numRows,children:r});return new fC(n,i)}};H8=Symbol.toStringTag;Va[H8]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Va.prototype);function HQ(t,e,n=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...t.fields],s=[...e],o=(n+63&-64)>>3;for(const[a,l]of t.fields.entries()){const c=e[a];(!c||c.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=c==null?void 0:c._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:lr({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[t.assign(i),lr({type:new la(i),length:n,children:s})]}function G8(t,e,n=new Map){var r,i;if(((r=t==null?void 0:t.length)!==null&&r!==void 0?r:0)>0&&(t==null?void 0:t.length)===(e==null?void 0:e.length))for(let s=-1,o=t.length;++s<o;){const{type:a}=t[s],l=e[s];for(const c of[l,...((i=l==null?void 0:l.dictionary)===null||i===void 0?void 0:i.data)||[]])G8(a.children,c==null?void 0:c.children,n);if(Jt.isDictionary(a)){const{id:c}=a;if(!n.has(c))l!=null&&l.dictionary&&n.set(c,l.dictionary);else if(n.get(c)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class CF extends Va{constructor(e){const n=e.fields.map(i=>lr({type:i.type})),r=lr({type:new la(e.fields),nullCount:0,children:n});super(e,r)}}let Yd=class XA{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new XA).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+zr),(n||new XA).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):us.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Dr.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Bs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,us.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,Dr.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,r,i,s,o){return XA.startMessage(e),XA.addVersion(e,n),XA.addHeaderType(e,r),XA.addHeader(e,i),XA.addBodyLength(e,s),XA.addCustomMetadata(e,o),XA.endMessage(e)}};class ude extends sr{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return wQ.startNull(n),wQ.endNull(n)}visitInt(e,n){return _l.startInt(n),_l.addBitWidth(n,e.bitWidth),_l.addIsSigned(n,e.isSigned),_l.endInt(n)}visitFloat(e,n){return cu.startFloatingPoint(n),cu.addPrecision(n,e.precision),cu.endFloatingPoint(n)}visitBinary(e,n){return _Q.startBinary(n),_Q.endBinary(n)}visitLargeBinary(e,n){return bQ.startLargeBinary(n),bQ.endLargeBinary(n)}visitBool(e,n){return NQ.startBool(n),NQ.endBool(n)}visitUtf8(e,n){return LQ.startUtf8(n),LQ.endUtf8(n)}visitLargeUtf8(e,n){return vQ.startLargeUtf8(n),vQ.endLargeUtf8(n)}visitDecimal(e,n){return nT.startDecimal(n),nT.addScale(n,e.scale),nT.addPrecision(n,e.precision),nT.addBitWidth(n,e.bitWidth),nT.endDecimal(n)}visitDate(e,n){return zN.startDate(n),zN.addUnit(n,e.unit),zN.endDate(n)}visitTime(e,n){return sc.startTime(n),sc.addUnit(n,e.unit),sc.addBitWidth(n,e.bitWidth),sc.endTime(n)}visitTimestamp(e,n){const r=e.timezone&&n.createString(e.timezone)||void 0;return oc.startTimestamp(n),oc.addUnit(n,e.unit),r!==void 0&&oc.addTimezone(n,r),oc.endTimestamp(n)}visitInterval(e,n){return Au.startInterval(n),Au.addUnit(n,e.unit),Au.endInterval(n)}visitDuration(e,n){return qN.startDuration(n),qN.addUnit(n,e.unit),qN.endDuration(n)}visitList(e,n){return OQ.startList(n),OQ.endList(n)}visitStruct(e,n){return Sm.startStruct_(n),Sm.endStruct_(n)}visitUnion(e,n){Qa.startTypeIdsVector(n,e.typeIds.length);const r=Qa.createTypeIdsVector(n,e.typeIds);return Qa.startUnion(n),Qa.addMode(n,e.mode),Qa.addTypeIds(n,r),Qa.endUnion(n)}visitDictionary(e,n){const r=this.visit(e.indices,n);return Mh.startDictionaryEncoding(n),Mh.addId(n,BigInt(e.id)),Mh.addIsOrdered(n,e.isOrdered),r!==void 0&&Mh.addIndexType(n,r),Mh.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return XN.startFixedSizeBinary(n),XN.addByteWidth(n,e.byteWidth),XN.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return JN.startFixedSizeList(n),JN.addListSize(n,e.listSize),JN.endFixedSizeList(n)}visitMap(e,n){return ZN.startMap(n),ZN.addKeysSorted(n,e.keysSorted),ZN.endMap(n)}}const qB=new ude;function hde(t,e=new Map){return new Gi(fde(t,e),nb(t.metadata),e)}function Q8(t){return new Ol(t.count,V8(t.columns),$8(t.columns))}function dde(t){return new Ru(Q8(t.data),t.id,t.isDelta)}function fde(t,e){return(t.fields||[]).filter(Boolean).map(n=>wi.fromJSON(n,e))}function GQ(t,e){return(t.children||[]).filter(Boolean).map(n=>wi.fromJSON(n,e))}function V8(t){return(t||[]).reduce((e,n)=>[...e,new wf(n.count,pde(n.VALIDITY)),...V8(n.children)],[])}function $8(t,e=[]){for(let n=-1,r=(t||[]).length;++n<r;){const i=t[n];i.VALIDITY&&e.push(new pu(e.length,i.VALIDITY.length)),i.TYPE_ID&&e.push(new pu(e.length,i.TYPE_ID.length)),i.OFFSET&&e.push(new pu(e.length,i.OFFSET.length)),i.DATA&&e.push(new pu(e.length,i.DATA.length)),e=$8(i.children,e)}return e}function pde(t){return(t||[]).reduce((e,n)=>e+ +(n===0),0)}function mde(t,e){let n,r,i,s,o,a;return!e||!(s=t.dictionary)?(o=VQ(t,GQ(t,e)),i=new wi(t.name,o,t.nullable,nb(t.metadata))):e.has(n=s.id)?(r=(r=s.indexType)?QQ(r):new Sx,a=new cS(e.get(n),r,n,s.isOrdered),i=new wi(t.name,a,t.nullable,nb(t.metadata))):(r=(r=s.indexType)?QQ(r):new Sx,e.set(n,o=VQ(t,GQ(t,e))),a=new cS(o,r,n,s.isOrdered),i=new wi(t.name,a,t.nullable,nb(t.metadata))),i||null}function nb(t=[]){return new Map(t.map(({key:e,value:n})=>[e,n]))}function QQ(t){return new $m(t.isSigned,t.bitWidth)}function VQ(t,e){const n=t.type.name;switch(n){case"NONE":return new Nf;case"null":return new Nf;case"binary":return new Jb;case"largebinary":return new Zb;case"utf8":return new ev;case"largeutf8":return new tv;case"bool":return new nv;case"list":return new cv((e||[])[0]);case"struct":return new la(e||[]);case"struct_":return new la(e||[])}switch(n){case"int":{const r=t.type;return new $m(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=t.type;return new Xb(Qo[r.precision])}case"decimal":{const r=t.type;return new rv(r.scale,r.precision,r.bitWidth)}case"date":{const r=t.type;return new iv(Tc[r.unit])}case"time":{const r=t.type;return new sv(Nn[r.unit],r.bitWidth)}case"timestamp":{const r=t.type;return new ov(Nn[r.unit],r.timezone)}case"interval":{const r=t.type;return new av(xu[r.unit])}case"duration":{const r=t.type;return new lv(Nn[r.unit])}case"union":{const r=t.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new Av(Yo[o],r.typeIds||[],e||[])}case"fixedsizebinary":{const r=t.type;return new uv(r.byteWidth)}case"fixedsizelist":{const r=t.type;return new hv(r.listSize,(e||[])[0])}case"map":{const r=t.type;return new dv((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var gde=oz,Ede=aS;class ca{static fromJSON(e,n){const r=new ca(0,us.V5,n);return r._createHeader=Tde(e,n),r}static decode(e){e=new Ede(Rr(e));const n=Yd.getRootAsMessage(e),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new ca(r,i,s);return o._createHeader=Sde(n,s),o}static encode(e){const n=new gde;let r=-1;return e.isSchema()?r=Gi.encode(n,e.header()):e.isRecordBatch()?r=Ol.encode(n,e.header()):e.isDictionaryBatch()&&(r=Ru.encode(n,e.header())),Yd.startMessage(n),Yd.addVersion(n,us.V5),Yd.addHeader(n,r),Yd.addHeaderType(n,e.headerType),Yd.addBodyLength(n,BigInt(e.bodyLength)),Yd.finishMessageBuffer(n,Yd.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof Gi)return new ca(0,us.V5,Dr.Schema,e);if(e instanceof Ol)return new ca(n,us.V5,Dr.RecordBatch,e);if(e instanceof Ru)return new ca(n,us.V5,Dr.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Dr.Schema}isRecordBatch(){return this.headerType===Dr.RecordBatch}isDictionaryBatch(){return this.headerType===Dr.DictionaryBatch}constructor(e,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=fi(e)}}class Ol{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,n,r){this._nodes=n,this._buffers=r,this._length=fi(e)}}class Ru{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,n,r=!1){this._data=e,this._isDelta=r,this._id=fi(n)}}class pu{constructor(e,n){this.offset=fi(e),this.length=fi(n)}}class wf{constructor(e,n){this.length=fi(e),this.nullCount=fi(n)}}function Tde(t,e){return(()=>{switch(e){case Dr.Schema:return Gi.fromJSON(t);case Dr.RecordBatch:return Ol.fromJSON(t);case Dr.DictionaryBatch:return Ru.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${Dr[e]}, type: ${e} }`)})}function Sde(t,e){return(()=>{switch(e){case Dr.Schema:return Gi.decode(t.header(new ru),new Map,t.version());case Dr.RecordBatch:return Ol.decode(t.header(new vh),t.version());case Dr.DictionaryBatch:return Ru.decode(t.header(new eT),t.version())}throw new Error(`Unrecognized Message type: { name: ${Dr[e]}, type: ${e} }`)})}wi.encode=wde;wi.decode=vde;wi.fromJSON=mde;Gi.encode=Ode;Gi.decode=yde;Gi.fromJSON=hde;Ol.encode=Lde;Ol.decode=Cde;Ol.fromJSON=Q8;Ru.encode=Bde;Ru.decode=xde;Ru.fromJSON=dde;wf.encode=Dde;wf.decode=Ide;pu.encode=kde;pu.decode=Rde;function yde(t,e=new Map,n=us.V5){const r=bde(t,e);return new Gi(r,rb(t),e,n)}function Cde(t,e=us.V5){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new Ol(t.length(),_de(t),Nde(t,e))}function xde(t,e=us.V5){return new Ru(Ol.decode(t.data(),e),t.id(),t.isDelta())}function Rde(t){return new pu(t.offset(),t.length())}function Ide(t){return new wf(t.length(),t.nullCount())}function _de(t){const e=[];for(let n,r=-1,i=-1,s=t.nodesLength();++r<s;)(n=t.nodes(r))&&(e[++i]=wf.decode(n));return e}function Nde(t,e){const n=[];for(let r,i=-1,s=-1,o=t.buffersLength();++i<o;)(r=t.buffers(i))&&(e<us.V4&&(r.bb_pos+=8*(i+1)),n[++s]=pu.decode(r));return n}function bde(t,e){const n=[];for(let r,i=-1,s=-1,o=t.fieldsLength();++i<o;)(r=t.fields(i))&&(n[++s]=wi.decode(r,e));return n}function $Q(t,e){const n=[];for(let r,i=-1,s=-1,o=t.childrenLength();++i<o;)(r=t.children(i))&&(n[++s]=wi.decode(r,e));return n}function vde(t,e){let n,r,i,s,o,a;return!e||!(a=t.dictionary())?(i=YQ(t,$Q(t,e)),r=new wi(t.name(),i,t.nullable(),rb(t))):e.has(n=fi(a.id()))?(s=(s=a.indexType())?WQ(s):new Sx,o=new cS(e.get(n),s,n,a.isOrdered()),r=new wi(t.name(),o,t.nullable(),rb(t))):(s=(s=a.indexType())?WQ(s):new Sx,e.set(n,i=YQ(t,$Q(t,e))),o=new cS(i,s,n,a.isOrdered()),r=new wi(t.name(),o,t.nullable(),rb(t))),r||null}function rb(t){const e=new Map;if(t)for(let n,r,i=-1,s=Math.trunc(t.customMetadataLength());++i<s;)(n=t.customMetadata(i))&&(r=n.key())!=null&&e.set(r,n.value());return e}function WQ(t){return new $m(t.isSigned(),t.bitWidth())}function YQ(t,e){const n=t.typeType();switch(n){case yi.NONE:return new Nf;case yi.Null:return new Nf;case yi.Binary:return new Jb;case yi.LargeBinary:return new Zb;case yi.Utf8:return new ev;case yi.LargeUtf8:return new tv;case yi.Bool:return new nv;case yi.List:return new cv((e||[])[0]);case yi.Struct_:return new la(e||[])}switch(n){case yi.Int:{const r=t.type(new _l);return new $m(r.isSigned(),r.bitWidth())}case yi.FloatingPoint:{const r=t.type(new cu);return new Xb(r.precision())}case yi.Decimal:{const r=t.type(new nT);return new rv(r.scale(),r.precision(),r.bitWidth())}case yi.Date:{const r=t.type(new zN);return new iv(r.unit())}case yi.Time:{const r=t.type(new sc);return new sv(r.unit(),r.bitWidth())}case yi.Timestamp:{const r=t.type(new oc);return new ov(r.unit(),r.timezone())}case yi.Interval:{const r=t.type(new Au);return new av(r.unit())}case yi.Duration:{const r=t.type(new qN);return new lv(r.unit())}case yi.Union:{const r=t.type(new Qa);return new Av(r.mode(),r.typeIdsArray()||[],e||[])}case yi.FixedSizeBinary:{const r=t.type(new XN);return new uv(r.byteWidth())}case yi.FixedSizeList:{const r=t.type(new JN);return new hv(r.listSize(),(e||[])[0])}case yi.Map:{const r=t.type(new ZN);return new dv((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${yi[n]}" (${n})`)}function Ode(t,e){const n=e.fields.map(s=>wi.encode(t,s));ru.startFieldsVector(t,n.length);const r=ru.createFieldsVector(t,n),i=e.metadata&&e.metadata.size>0?ru.createCustomMetadataVector(t,[...e.metadata].map(([s,o])=>{const a=t.createString(`${s}`),l=t.createString(`${o}`);return Bs.startKeyValue(t),Bs.addKey(t,a),Bs.addValue(t,l),Bs.endKeyValue(t)})):-1;return ru.startSchema(t),ru.addFields(t,r),ru.addEndianness(t,Mde?lS.Little:lS.Big),i!==-1&&ru.addCustomMetadata(t,i),ru.endSchema(t)}function wde(t,e){let n=-1,r=-1,i=-1;const s=e.type;let o=e.typeId;Jt.isDictionary(s)?(o=s.dictionary.typeId,i=qB.visit(s,t),r=qB.visit(s.dictionary,t)):r=qB.visit(s,t);const a=(s.children||[]).map(A=>wi.encode(t,A)),l=nc.createChildrenVector(t,a),c=e.metadata&&e.metadata.size>0?nc.createCustomMetadataVector(t,[...e.metadata].map(([A,u])=>{const h=t.createString(`${A}`),p=t.createString(`${u}`);return Bs.startKeyValue(t),Bs.addKey(t,h),Bs.addValue(t,p),Bs.endKeyValue(t)})):-1;return e.name&&(n=t.createString(e.name)),nc.startField(t),nc.addType(t,r),nc.addTypeType(t,o),nc.addChildren(t,l),nc.addNullable(t,!!e.nullable),n!==-1&&nc.addName(t,n),i!==-1&&nc.addDictionary(t,i),c!==-1&&nc.addCustomMetadata(t,c),nc.endField(t)}function Lde(t,e){const n=e.nodes||[],r=e.buffers||[];vh.startNodesVector(t,n.length);for(const o of n.slice().reverse())wf.encode(t,o);const i=t.endVector();vh.startBuffersVector(t,r.length);for(const o of r.slice().reverse())pu.encode(t,o);const s=t.endVector();return vh.startRecordBatch(t),vh.addLength(t,BigInt(e.length)),vh.addNodes(t,i),vh.addBuffers(t,s),vh.endRecordBatch(t)}function Bde(t,e){const n=Ol.encode(t,e.data);return eT.startDictionaryBatch(t),eT.addId(t,BigInt(e.id)),eT.addIsDelta(t,e.isDelta),eT.addData(t,n),eT.endDictionaryBatch(t)}function Dde(t,e){return cz.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function kde(t,e){return lz.createBuffer(t,BigInt(e.offset),BigInt(e.length))}const Mde=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),xF=t=>`Expected ${Dr[t]} Message in stream, but was null or length 0.`,RF=t=>`Header pointer of flatbuffer-encoded ${Dr[t]} Message is null or length 0.`,W8=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,Y8=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class j8{constructor(e){this.source=e instanceof Tv?e:new Tv(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Vi:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(xF(e));return n.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const n=Rr(this.source.read(e));if(n.byteLength<e)throw new Error(Y8(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(e=!1){const n=Dr.Schema,r=this.readMessage(n),i=r==null?void 0:r.header();if(e&&!i)throw new Error(RF(n));return i}readMetadataLength(){const e=this.source.read(Sw),n=e&&new aS(e),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){const n=this.source.read(e);if(!n)return Vi;if(n.byteLength<e)throw new Error(W8(e,n.byteLength));return{done:!1,value:ca.decode(n)}}}class Pde{constructor(e,n){this.source=e instanceof AS?e:ez(e)?new Sv(e,n):new AS(e)}[Symbol.asyncIterator](){return this}next(){return Fn(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?Vi:e})}throw(e){return Fn(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return Fn(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return Fn(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(xF(e));return n.value})}readMessageBody(e){return Fn(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const n=Rr(yield this.source.read(e));if(n.byteLength<e)throw new Error(Y8(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return Fn(this,arguments,void 0,function*(e=!1){const n=Dr.Schema,r=yield this.readMessage(n),i=r==null?void 0:r.header();if(e&&!i)throw new Error(RF(n));return i})}readMetadataLength(){return Fn(this,void 0,void 0,function*(){const e=yield this.source.read(Sw),n=e&&new aS(e),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return Fn(this,void 0,void 0,function*(){const n=yield this.source.read(e);if(!n)return Vi;if(n.byteLength<e)throw new Error(W8(e,n.byteLength));return{done:!1,value:ca.decode(n)}})}}class Ude extends j8{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof UQ?e:new UQ(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:ca.fromJSON(e.schema,Dr.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const n=e.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:ca.fromJSON(n,Dr.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:ca.fromJSON(n,Dr.RecordBatch)}}return this._body=[],Vi}readMessageBody(e){return n(this._body);function n(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE_ID&&[s.TYPE_ID]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(xF(e));return n.value}readSchema(){const e=Dr.Schema,n=this.readMessage(e),r=n==null?void 0:n.header();if(!n||!r)throw new Error(RF(e));return r}}const Sw=4,Vk="ARROW1",Cx=new Uint8Array(Vk.length);for(let t=0;t<Vk.length;t+=1)Cx[t]=Vk.codePointAt(t);function IF(t,e=0){for(let n=-1,r=Cx.length;++n<r;)if(Cx[n]!==t[e+n])return!1;return!0}const ER=Cx.length,K8=ER+Sw,Fde=ER*2+Sw;class mc extends gF{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const n=this._impl.open(e);return Vm(n)?n.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return ic.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return ic.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof mc?e:Bk(e)?Vde(e):ez(e)?Yde(e):Vm(e)?Fn(this,void 0,void 0,function*(){return yield mc.from(yield e)}):tz(e)||oF(e)||nz(e)||MS(e)?Wde(new AS(e)):$de(new Tv(e))}static readAll(e){return e instanceof mc?e.isSync()?jQ(e):KQ(e):Bk(e)||ArrayBuffer.isView(e)||fR(e)||Z6(e)?jQ(e):KQ(e)}}class yv extends mc{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return fu(this,arguments,function*(){yield Zn(yield*KN(Bm(this[Symbol.iterator]())))})}}class Cv extends mc{constructor(e){super(e),this._impl=e}readAll(){return Fn(this,void 0,void 0,function*(){var e,n,r,i;const s=new Array;try{for(var o=!0,a=Bm(this),l;l=yield a.next(),e=l.done,!e;o=!0){i=l.value,o=!1;const c=i;s.push(c)}}catch(c){n={error:c}}finally{try{!o&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class z8 extends yv{constructor(e){super(e),this._impl=e}}class Hde extends Cv{constructor(e){super(e),this._impl=e}}class q8{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,n){const r=this._loadVectors(e,n,this.schema.fields),i=lr({type:new la(this.schema.fields),length:e.length,children:r});return new Va(this.schema,i)}_loadDictionaryBatch(e,n){const{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r),l=o.dictionaries.get(r),c=this._loadVectors(e.data,n,[l]);return(a&&i?a.concat(new Qi(c)):new Qi(c)).memoize()}_loadVectors(e,n,r){return new U8(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}class xv extends q8{constructor(e,n){super(n),this._reader=Bk(e)?new Ude(this._handle=e):new j8(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=J8(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):Vi}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):Vi}next(){if(this.closed)return Vi;let e;const{_reader:n}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new CF(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class Rv extends q8{constructor(e,n){super(n),this._reader=new Pde(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Fn(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return Fn(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=J8(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return Fn(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):Vi})}return(e){return Fn(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):Vi})}next(){return Fn(this,void 0,void 0,function*(){if(this.closed)return Vi;let e;const{_reader:n}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new CF(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return Fn(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class X8 extends xv{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,n){super(e instanceof FQ?e:new FQ(e),n)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(Dr.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(Dr.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:e}=this,n=e.size-K8,r=e.readInt32(n),i=e.readAt(n-r,r);return yx.decode(i)}_readNextMessageAndValidate(e){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}}class Gde extends Rv{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(e instanceof Sv?e:new Sv(e,r),i)}isFile(){return!0}isAsync(){return!0}open(e){const n=Object.create(null,{open:{get:()=>super.open}});return Fn(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,e)})}readRecordBatch(e){return Fn(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(Dr.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){return Fn(this,void 0,void 0,function*(){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(Dr.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return Fn(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const n=e.size-K8,r=yield e.readInt32(n),i=yield e.readAt(n-r,r);return yx.decode(i)})}_readNextMessageAndValidate(e){return Fn(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(e)}return null})}}class Qde extends xv{constructor(e,n){super(e,n)}_loadVectors(e,n,r){return new tde(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}function J8(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*jQ(t){const e=mc.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function KQ(t){return fu(this,arguments,function*(){const n=yield Zn(mc.from(t));try{if(!(yield Zn(n.open({autoDestroy:!1}))).closed)do yield yield Zn(n);while(!(yield Zn(n.reset().open())).closed)}finally{yield Zn(n.cancel())}})}function Vde(t){return new yv(new Qde(t))}function $de(t){const e=t.peek(ER+7&-8);return e&&e.byteLength>=4?IF(e)?new z8(new X8(t.read())):new yv(new xv(t)):new yv(new xv((function*(){})()))}function Wde(t){return Fn(this,void 0,void 0,function*(){const e=yield t.peek(ER+7&-8);return e&&e.byteLength>=4?IF(e)?new z8(new X8(yield t.read())):new Cv(new Rv(t)):new Cv(new Rv((function(){return fu(this,arguments,function*(){})})()))})}function Yde(t){return Fn(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),n=new Sv(t,e);return e>=Fde&&IF(yield n.readAt(0,ER+7&-8))?new Hde(new Gde(n)):new Cv(new Rv(n))})}class $i extends sr{static assemble(...e){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof Va?s.data.children:s.data),r=new $i;return r.visitMany(n(e)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof Qi)return this.visitMany(e.data),this;const{type:n}=e;if(!Jt.isDictionary(n)){const{length:r}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(Jt.isUnion(n))this.nodes.push(new wf(r,0));else{const{nullCount:i}=e;Jt.isNull(n)||iA.call(this,i<=0?new Uint8Array(0):fv(e.offset,r,e.nullBitmap)),this.nodes.push(new wf(r,i))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function iA(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new pu(this._byteLength,e)),this._byteLength+=e,this}function jde(t){var e;const{type:n,length:r,typeIds:i,valueOffsets:s}=t;if(iA.call(this,i),n.mode===Yo.Sparse)return $k.call(this,t);if(n.mode===Yo.Dense){if(t.offset<=0)return iA.call(this,s),$k.call(this,t);{const o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let c,A,u=-1;++u<r;)(c=i[u])!==void 0&&((A=a[c])===void 0&&(A=a[c]=s[u]),o[u]=s[u]-A,l[c]=((e=l[c])!==null&&e!==void 0?e:0)+1);iA.call(this,o),this.visitMany(t.children.map((c,A)=>{const u=n.typeIds[A],h=a[u],p=l[u];return c.slice(h,Math.min(r,p))}))}}return this}function Kde(t){let e;return t.nullCount>=t.length?iA.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?iA.call(this,fv(t.offset,t.length,e)):iA.call(this,pv(t.values))}function rd(t){return iA.call(this,t.values.subarray(0,t.length*t.stride))}function yw(t){const{length:e,values:n,valueOffsets:r}=t,i=fi(r[0]),s=fi(r[e]),o=Math.min(s-i,n.byteLength-i);return iA.call(this,iz(-i,e+1,r)),iA.call(this,n.subarray(i,i+o)),this}function _F(t){const{length:e,valueOffsets:n}=t;if(n){const{[0]:r,[e]:i}=n;return iA.call(this,iz(-r,e+1,n)),this.visit(t.children[0].slice(r,i-r))}return this.visit(t.children[0])}function $k(t){return this.visitMany(t.type.children.map((e,n)=>t.children[n]).filter(Boolean))[0]}$i.prototype.visitBool=Kde;$i.prototype.visitInt=rd;$i.prototype.visitFloat=rd;$i.prototype.visitUtf8=yw;$i.prototype.visitLargeUtf8=yw;$i.prototype.visitBinary=yw;$i.prototype.visitLargeBinary=yw;$i.prototype.visitFixedSizeBinary=rd;$i.prototype.visitDate=rd;$i.prototype.visitTimestamp=rd;$i.prototype.visitTime=rd;$i.prototype.visitDecimal=rd;$i.prototype.visitList=_F;$i.prototype.visitStruct=$k;$i.prototype.visitUnion=jde;$i.prototype.visitInterval=rd;$i.prototype.visitDuration=rd;$i.prototype.visitFixedSizeList=_F;$i.prototype.visitMap=_F;class Z8 extends gF{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new tb,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,el(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return Vm(e)?e.then(n=>this.writeAll(n)):MS(e)?OF(this,e):vF(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof tb?this._sink=e:(this._sink=new tb,e&&Iue(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&_ue(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!Qk(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Of&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof Va&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Qk(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof Va?e instanceof CF||this._writeRecordBatch(e):e instanceof Of?this.writeAll(e.batches):fR(e)&&this.writeAll(e)}_writeMessage(e,n=8){const r=n-1,i=ca.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===Dr.RecordBatch?this._recordBatchBlocks.push(new bf(a,e.bodyLength,this._position)):e.headerType===Dr.DictionaryBatch&&this._dictionaryBlocks.push(new bf(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){const n=Rr(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(ca.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Cx)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=$i.assemble(e),o=new Ol(e.numRows,r,i),a=ca.from(o,n);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,n,r=!1){const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=$i.assemble(new Qi([e])),l=new Ol(e.length,s,o),c=new Ru(l,n,r),A=ca.from(c,i);return this._writeMessage(A)._writeBodyBuffers(a)}_writeBodyBuffers(e){let n,r,i;for(let s=-1,o=e.length;++s<o;)(n=e[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){var n,r;for(const[i,s]of e.dictionaries){const o=(n=s==null?void 0:s.data)!==null&&n!==void 0?n:[],a=this._seenDictionaries.get(i),l=(r=this._dictionaryDeltaOffsets.get(i))!==null&&r!==void 0?r:0;if(!a||a.data[0]!==o[0])for(const[c,A]of o.entries())this._writeDictionaryBatch(A,i,c>0);else if(l<o.length)for(const c of o.slice(l))this._writeDictionaryBatch(c,i,!0);this._seenDictionaries.set(i,s),this._dictionaryDeltaOffsets.set(i,o.length)}return this}}class NF extends Z8{static writeAll(e,n){const r=new NF(n);return Vm(e)?e.then(i=>r.writeAll(i)):MS(e)?OF(r,e):vF(r,e)}}class bF extends Z8{static writeAll(e){const n=new bF;return Vm(e)?e.then(r=>n.writeAll(r)):MS(e)?OF(n,e):vF(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(e,n,r=!1){if(!r&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(e,n,r)}_writeFooter(e){const n=yx.encode(new yx(e,us.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function vF(t,e){let n=e;e instanceof Of&&(n=e.batches,t.reset(void 0,e.schema));for(const r of n)t.write(r);return t.finish()}function OF(t,e){return Fn(this,void 0,void 0,function*(){var n,r,i,s,o,a,l;try{for(n=!0,r=Bm(e);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const c=l;t.write(c)}}catch(c){o={error:c}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return t.finish()})}function zde(t,e="stream"){return(e==="stream"?NF:bF).writeAll(t).toUint8Array(!0)}var qde=Object.create,eq=Object.defineProperty,Xde=Object.getOwnPropertyDescriptor,Jde=Object.getOwnPropertyNames,Zde=Object.getPrototypeOf,efe=Object.prototype.hasOwnProperty,tfe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),nfe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Jde(e))!efe.call(t,i)&&i!==n&&eq(t,i,{get:()=>e[i],enumerable:!(r=Xde(e,i))||r.enumerable});return t},rfe=(t,e,n)=>(n=t!=null?qde(Zde(t)):{},nfe(!t||!t.__esModule?eq(n,"default",{value:t,enumerable:!0}):n,t)),ife=tfe((t,e)=>{e.exports=Worker}),sfe=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.READ_ONLY=2]="READ_ONLY",t[t.READ_WRITE=3]="READ_WRITE",t))(sfe||{}),ofe=(t=>(t[t.IDENTIFIER=0]="IDENTIFIER",t[t.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",t[t.STRING_CONSTANT=2]="STRING_CONSTANT",t[t.OPERATOR=3]="OPERATOR",t[t.KEYWORD=4]="KEYWORD",t[t.COMMENT=5]="COMMENT",t))(ofe||{}),afe=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(afe||{}),lfe=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(lfe||{}),cfe=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(cfe||{}),Afe=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(Afe||{}),ufe=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},hfe=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",t[t.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",t))(hfe||{}),dfe=class{constructor(e,n){this._bindings=e,this._conn=n}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let n=await this._bindings.runQuery(this._conn,e),r=mc.from(n);return console.assert(r.isSync(),"Reader is not sync"),console.assert(r.isFile(),"Reader is not file"),new Of(r)}async send(e,n=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let r=await this._bindings.startPendingQuery(this._conn,e,n);for(;r==null;){if(this._bindings.isDetached()){console.error("cannot send a message since the worker is not set!");return}r=await this._bindings.pollPendingQuery(this._conn)}let i=new tq(this._bindings,this._conn,r),s=await mc.from(i);return console.assert(s.isAsync()),console.assert(s.isStream()),s}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let n=await this._bindings.createPrepared(this._conn,e);return new ffe(this._bindings,this._conn,n)}async insertArrowTable(e,n){let r=zde(e,"stream");await this.insertArrowFromIPCStream(r,n)}async insertArrowFromIPCStream(e,n){await this._bindings.insertArrowFromIPCStream(this._conn,e,n)}async insertCSVFromPath(e,n){await this._bindings.insertCSVFromPath(this._conn,e,n)}async insertJSONFromPath(e,n){await this._bindings.insertJSONFromPath(this._conn,e,n)}},tq=class{constructor(e,n,r){this.db=e,this.conn=n,this.header=r,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=null;for(this._inFlight!=null&&(e=await this._inFlight,this._inFlight=null);e==null;)e=await this.db.fetchQueryResults(this.conn);return this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},ffe=class{constructor(e,n,r){this.bindings=e,this.connectionId=n,this.statementId=r}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let n=await this.bindings.runPrepared(this.connectionId,this.statementId,e),r=mc.from(n);return console.assert(r.isSync()),console.assert(r.isFile()),new Of(r)}async send(...e){let n=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),r=new tq(this.bindings,this.connectionId,n),i=await mc.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}},pfe=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(pfe||{}),mfe=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.PROGRESS_UPDATE="PROGRESS_UPDATE",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(mfe||{}),vr=class{constructor(e,n){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=n,this.promise=new Promise((r,i)=>{this.promiseResolver=r,this.promiseRejecter=i})}};function ib(t){switch(t.typeId){case ue.Binary:return{sqlType:"binary"};case ue.Bool:return{sqlType:"bool"};case ue.Date:return{sqlType:"date"};case ue.DateDay:return{sqlType:"date32[d]"};case ue.DateMillisecond:return{sqlType:"date64[ms]"};case ue.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case ue.Float:return{sqlType:"float"};case ue.Float16:return{sqlType:"float16"};case ue.Float32:return{sqlType:"float32"};case ue.Float64:return{sqlType:"float64"};case ue.Int:return{sqlType:"int32"};case ue.Int16:return{sqlType:"int16"};case ue.Int32:return{sqlType:"int32"};case ue.Int64:return{sqlType:"int64"};case ue.Uint16:return{sqlType:"uint16"};case ue.Uint32:return{sqlType:"uint32"};case ue.Uint64:return{sqlType:"uint64"};case ue.Uint8:return{sqlType:"uint8"};case ue.IntervalDayTime:return{sqlType:"interval[dt]"};case ue.IntervalYearMonth:return{sqlType:"interval[m]"};case ue.List:return{sqlType:"list",valueType:ib(t.valueType)};case ue.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case ue.Null:return{sqlType:"null"};case ue.Utf8:return{sqlType:"utf8"};case ue.Struct:return{sqlType:"struct",fields:t.children.map(e=>Wk(e.name,e.type))};case ue.Map:{let e=t;return{sqlType:"map",keyType:ib(e.keyType),valueType:ib(e.valueType)}}case ue.Time:return{sqlType:"time[s]"};case ue.TimeMicrosecond:return{sqlType:"time[us]"};case ue.TimeMillisecond:return{sqlType:"time[ms]"};case ue.TimeNanosecond:return{sqlType:"time[ns]"};case ue.TimeSecond:return{sqlType:"time[s]"};case ue.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case ue.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case ue.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case ue.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case ue.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function Wk(t,e){let n=ib(e);return n.name=t,n}var gfe=/'(opfs:\/\/\S*?)'/g,Efe=/(opfs:\/\/\S*?)/g;function Tfe(t){return t.search(Efe)>-1}function Sfe(t){return[...t.matchAll(gfe)].map(e=>e[1])}var yfe=new TextEncoder,Cfe=class{constructor(e,n=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._config={},this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),n!=null&&this.attach(n)}get logger(){return this._logger}get config(){return this._config}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((n,r)=>{this._workerShutdownResolver=n})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,n=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!:"+e.type+","+e.data);return}let r=this._nextMessageId++;return this._pendingRequests.set(r,e),this._worker.postMessage({messageId:r,type:e.type,data:e.data},n),await e.promise}onMessage(e){var n;let r=e.data;switch(r.type){case"PROGRESS_UPDATE":{for(let s of this._onExecutionProgress)s(r.data);return}case"LOG":{this._logger.log(r.data);return}case"INSTANTIATE_PROGRESS":{for(let s of this._onInstantiationProgress)s(r.data);return}}let i=this._pendingRequests.get(r.requestId);if(!i){console.warn("unassociated response: [".concat(r.requestId,", ").concat(r.type.toString(),"]"));return}if(this._pendingRequests.delete(r.requestId),r.type=="ERROR"){let s=new Error(r.data.message);s.name=r.data.name,(n=Object.getOwnPropertyDescriptor(s,"stack"))!=null&&n.writable&&(s.stack=r.data.stack),i.promiseRejecter(s);return}switch(i.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(r.type=="OK"){i.promiseResolver(r.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],r.type=="OK"){i.promiseResolver(r.data);return}break;case"GLOB_FILE_INFOS":if(r.type=="FILE_INFOS"){i.promiseResolver(r.data);return}break;case"GET_VERSION":if(r.type=="VERSION_STRING"){i.promiseResolver(r.data);return}break;case"GET_FEATURE_FLAGS":if(r.type=="FEATURE_FLAGS"){i.promiseResolver(r.data);return}break;case"GET_TABLE_NAMES":if(r.type=="TABLE_NAMES"){i.promiseResolver(r.data);return}break;case"TOKENIZE":if(r.type=="SCRIPT_TOKENS"){i.promiseResolver(r.data);return}break;case"COPY_FILE_TO_BUFFER":if(r.type=="FILE_BUFFER"){i.promiseResolver(r.data);return}break;case"EXPORT_FILE_STATISTICS":if(r.type=="FILE_STATISTICS"){i.promiseResolver(r.data);return}break;case"CONNECT":if(r.type=="CONNECTION_INFO"){i.promiseResolver(r.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(r.type=="QUERY_RESULT"){i.promiseResolver(r.data);return}break;case"SEND_PREPARED":if(r.type=="QUERY_RESULT_HEADER"){i.promiseResolver(r.data);return}break;case"START_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(r.data);return}break;case"POLL_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(r.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],r.type=="SUCCESS"){i.promiseResolver(r.data);return}break;case"FETCH_QUERY_RESULTS":if(r.type=="QUERY_RESULT_CHUNK"){i.promiseResolver(r.data);return}break;case"CREATE_PREPARED":if(r.type=="PREPARED_STATEMENT_ID"){i.promiseResolver(r.data);return}break}i.promiseRejecter(new Error("unexpected response type: ".concat(r.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}isDetached(){return!this._worker}async reset(){let e=new vr("RESET",null);return await this.postTask(e)}async ping(){let e=new vr("PING",null);await this.postTask(e)}async dropFile(e){let n=new vr("DROP_FILE",e);return await this.postTask(n)}async dropFiles(e){let n=new vr("DROP_FILES",e);return await this.postTask(n)}async flushFiles(){let e=new vr("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,n=null,r=i=>{}){this._onInstantiationProgress.push(r);let i=new vr("INSTANTIATE",[e,n]);return await this.postTask(i)}async getVersion(){let e=new vr("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new vr("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){this._config=e;let n=new vr("OPEN",e);await this.postTask(n)}async tokenize(e){let n=new vr("TOKENIZE",e);return await this.postTask(n)}async connectInternal(){let e=new vr("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new dfe(this,e)}async disconnect(e){let n=new vr("DISCONNECT",e);await this.postTask(n)}async runQuery(e,n){if(this.shouldOPFSFileHandling()){let r=await this.registerOPFSFileFromSQL(n);try{return await this._runQueryAsync(e,n)}finally{r.length>0&&await this.dropFiles(r)}}else return await this._runQueryAsync(e,n)}async _runQueryAsync(e,n){let r=new vr("RUN_QUERY",[e,n]);return await this.postTask(r)}async startPendingQuery(e,n,r=!1){if(this.shouldOPFSFileHandling()){let i=await this.registerOPFSFileFromSQL(n);try{return await this._startPendingQueryAsync(e,n,r)}finally{i.length>0&&await this.dropFiles(i)}}else return await this._startPendingQueryAsync(e,n,r)}async _startPendingQueryAsync(e,n,r=!1){let i=new vr("START_PENDING_QUERY",[e,n,r]);return await this.postTask(i)}async pollPendingQuery(e){let n=new vr("POLL_PENDING_QUERY",e);return await this.postTask(n)}async cancelPendingQuery(e){let n=new vr("CANCEL_PENDING_QUERY",e);return await this.postTask(n)}async fetchQueryResults(e){let n=new vr("FETCH_QUERY_RESULTS",e);return await this.postTask(n)}async getTableNames(e,n){let r=new vr("GET_TABLE_NAMES",[e,n]);return await this.postTask(r)}async createPrepared(e,n){let r=new vr("CREATE_PREPARED",[e,n]);return await this.postTask(r)}async closePrepared(e,n){let r=new vr("CLOSE_PREPARED",[e,n]);await this.postTask(r)}async runPrepared(e,n,r){let i=new vr("RUN_PREPARED",[e,n,r]);return await this.postTask(i)}async sendPrepared(e,n,r){let i=new vr("SEND_PREPARED",[e,n,r]);return await this.postTask(i)}async globFiles(e){let n=new vr("GLOB_FILE_INFOS",e);return await this.postTask(n)}async registerFileText(e,n){let r=yfe.encode(n);await this.registerFileBuffer(e,r)}async registerFileURL(e,n,r,i){n===void 0&&(n=e);let s=new vr("REGISTER_FILE_URL",[e,n,r,i]);await this.postTask(s)}async registerEmptyFileBuffer(e){}async registerFileBuffer(e,n){let r=new vr("REGISTER_FILE_BUFFER",[e,n]);await this.postTask(r,[n.buffer])}async registerFileHandle(e,n,r,i){let s=new vr("REGISTER_FILE_HANDLE",[e,n,r,i]);await this.postTask(s,[])}async registerOPFSFileName(e){let n=new vr("REGISTER_OPFS_FILE_NAME",[e]);await this.postTask(n,[])}async collectFileStatistics(e,n){let r=new vr("COLLECT_FILE_STATISTICS",[e,n]);await this.postTask(r,[])}async exportFileStatistics(e){let n=new vr("EXPORT_FILE_STATISTICS",e);return await this.postTask(n,[])}async copyFileToBuffer(e){let n=new vr("COPY_FILE_TO_BUFFER",e);return await this.postTask(n)}async copyFileToPath(e,n){let r=new vr("COPY_FILE_TO_PATH",[e,n]);await this.postTask(r)}async insertArrowFromIPCStream(e,n,r){if(n.length==0)return;let i=new vr("INSERT_ARROW_FROM_IPC_STREAM",[e,n,r]);await this.postTask(i,[n.buffer])}async insertCSVFromPath(e,n,r){if(r.columns!==void 0){let s=[];for(let o in r.columns){let a=r.columns[o];s.push(Wk(o,a))}r.columnsFlat=s,delete r.columns}let i=new vr("IMPORT_CSV_FROM_PATH",[e,n,r]);await this.postTask(i)}async insertJSONFromPath(e,n,r){if(r.columns!==void 0){let s=[];for(let o in r.columns){let a=r.columns[o];s.push(Wk(o,a))}r.columnsFlat=s,delete r.columns}let i=new vr("IMPORT_JSON_FROM_PATH",[e,n,r]);await this.postTask(i)}shouldOPFSFileHandling(){var e,n;return Tfe((e=this.config.path)!=null?e:"")?((n=this.config.opfs)==null?void 0:n.fileHandling)=="auto":!1}async registerOPFSFileFromSQL(e){let n=Sfe(e),r=[];for(let i of n)try{await this.registerOPFSFileName(i),r.push(i)}catch(s){throw console.error(s),new Error("File Not found:"+i)}return r}};function xfe(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}xfe();var sb=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(sb||{}),Rfe={version:"1.33.1-dev18.0"},wF=Rfe.version.split(".");wF[0];wF[1];wF[2];rfe(ife());const Ife="/DuckDB_Editor_Pro/assets/duckdb-eh-mbzKgY3l.wasm",_fe="/DuckDB_Editor_Pro/assets/duckdb-browser-eh.worker-CNNtTjPL.js";class Nfe{constructor(){this.db=null,this.conn=null,this.isInitialized=!1,this.isLegacy=!1,this.initPromise=null}async init(){if(!this.isInitialized)return this.initPromise?this.initPromise:(this.initPromise=(async()=>{if(console.log("%c!!! DUCKDB SERVICE INITIATING (V5 - VITE BUNDLED) !!!","background: green; color: white; font-size: 20px"),"serviceWorker"in navigator)try{const a=await navigator.serviceWorker.getRegistrations();for(const l of a)console.warn(`[DuckDB] Unregistering Service Worker: ${l.scope}`),await l.unregister()}catch(a){console.warn("[DuckDB] SW Cleanup failed",a)}const e=Ife,n=_fe;console.log(`[DuckDB] Target Worker URL: ${n}`);const r=new Worker(`${n}?t=${Date.now()}`,{type:"module"}),i=new ufe;this.db=new Cfe(i,r),await this.db.instantiate(e),this.conn=await this.db.connect();let s="unknown";try{s=(await this.conn.query("SELECT version() as v")).toArray()[0].toJSON().v,console.log(`[DuckDB] Kernel Version: ${s}`)}catch(a){console.warn("[DuckDB] Version check failed",a)}if(this.isLegacy=s.startsWith("v0.9")||s.includes("0.9.1"),this.isLegacy&&(console.warn("!!! RUNNING LEGACY KERNEL v0.9.1 !!!"),console.warn("Legacy Warning: System is fragile. Extensions and VFS disabled.")),typeof crossOriginIsolated<"u"&&crossOriginIsolated?console.log("%c[DuckDB] High-Performance Mode: ON (COOP/COEP Active)","color: green; font-weight: bold"):console.warn("[DuckDB] High-Performance Mode: OFF (Persistence may be limited)"),!this.isLegacy){console.log("[DuckDB] Attempting VFS Bootstrap...");try{try{await this.db.registerFileText("/home/.keep","")}catch{}try{await this.db.registerFileText("/home/web_user/.keep","")}catch{}console.log("[DuckDB] VFS paths touched")}catch(a){console.warn("[DuckDB] VFS Bootstrap Failed (Safe to ignore):",a)}}if(!this.isLegacy)try{await this.conn.query("SET home_directory='/home/web_user'"),console.log("[DuckDB] SET home_directory success")}catch(a){console.warn("[DuckDB] SET home_directory skipped/failed:",a)}const o=["httpfs","tpch"];if(this.isLegacy)console.warn("!!! LEGACY KERNEL DETECTED - SKIPPING EXTENSION LOAD !!!");else for(const a of o)try{console.log(`[DuckDB] Attempting to INSTALL '${a}'...`),await this.conn.query(`INSTALL '${a}'`),await this.conn.query(`LOAD '${a}'`),console.log(`[DuckDB] Extension '${a}' loaded successfully`)}catch{console.warn(`[DuckDB] Failed to load extension '${a}'`)}try{await this.conn.query(`
            CREATE TABLE IF NOT EXISTS memory._sys_audit_log (
              id INTEGER PRIMARY KEY,
              log_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
              operation_type VARCHAR,
              target_table VARCHAR,
              details TEXT,
              affected_rows INTEGER,
              sql_statement TEXT
            );
            CREATE SEQUENCE IF NOT EXISTS memory._sys_audit_seq START 1;
          `),console.log("[DuckDB] System Tables Initialized")}catch(a){console.error("[DuckDB] Failed to create system tables",a)}this.isInitialized=!0})(),this.initPromise)}async reset(){if(console.log("[DuckDB] Resetting instance..."),this.conn){try{await this.conn.close()}catch(e){console.warn("[DuckDB] Connection close warning:",e)}this.conn=null}if(this.db){try{await this.db.terminate()}catch(e){console.warn("[DuckDB] DB terminate warning:",e)}this.db=null}this.isInitialized=!1,this.isLegacy=!1,this.initPromise=null,console.log("[DuckDB] Instance reset complete. Re-initializing..."),await this.init()}async query(e){if(!this.conn)throw new Error("Database not connected");if(this.isLegacy){const r=e.toUpperCase();if(r.includes("INSTALL")||r.includes("LOAD"))return console.warn(`[DuckDB Safety] Blocked extension command on Legacy Kernel: ${e}`),[]}return(await this.conn.query(e)).toArray().map(r=>r.toJSON())}async previewSql(e){if(!this.conn)throw new Error("Database not connected");const n=e.trim().toUpperCase();if(!n.startsWith("SELECT")&&!n.startsWith("WITH"))throw new Error("Preview only supports SELECT statements");if(/\b(DROP|DELETE|INSERT|UPDATE|CREATE|ALTER|TRUNCATE)\b/i.test(e))throw new Error("Preview blocked: Contains modification keywords (Safety Check)");let i=e;n.includes("LIMIT")||(i+=" LIMIT 5");try{return(await this.conn.query(i)).toArray().map(o=>o.toJSON())}catch(s){throw new Error(`Preview Failed: ${s.message}`)}}async executeAndAudit(e,n,r,i){if(!this.conn)throw new Error("Database not connected");if(this.isLegacy){const s=e.toUpperCase();if(s.includes("INSTALL")||s.includes("LOAD"))return console.warn(`[DuckDB Safety] Blocked extension command on Legacy Kernel (Audit): ${e}`),[]}try{const s=await this.conn.query(e);let o=[];try{o=s.toArray().map(u=>u.toJSON())}catch{}const a=o.length,l=e.replace(/'/g,"''"),c=i.replace(/'/g,"''"),A=r?`'${r}'`:"NULL";if(!this.isLegacy){const u=`
          INSERT INTO memory._sys_audit_log (id, operation_type, target_table, details, affected_rows, sql_statement)
          VALUES (nextval('memory._sys_audit_seq'), '${n}', ${A}, '${c}', ${a}, '${l}');
        `;await this.conn.query(u)}return o}catch(s){throw s}}async getTables(){return this.conn?(await this.conn.query("SHOW TABLES")).toArray().map(r=>r.toJSON()).map(r=>r.name).filter(r=>!r.startsWith("_sys_")):[]}async getTableSchema(e){return this.conn?(await this.conn.query(`PRAGMA table_info('${e}')`)).toArray().map(r=>r.toJSON()):[]}async getExtensions(){if(!this.conn)return[];if(this.isLegacy)return[];try{return(await this.conn.query("SELECT * FROM duckdb_extensions()")).toArray().map(n=>n.toJSON())}catch{return[]}}async loadExtension(e){if(this.conn){if(this.isLegacy){console.warn(`[DuckDB Safety] Blocked loadExtension('${e}') on Legacy Kernel`);return}await this.conn.query(`INSTALL '${e}'; LOAD '${e}';`)}}async importFile(e,n,r){if(!this.db||!this.conn)return;await this.db.registerFileHandle(e.name,e,sb.BROWSER_FILEREADER,!0);const i=e.name.endsWith(".json"),s=e.name.endsWith(".csv")||e.name.endsWith(".txt");let o="";if(i)o=`CREATE TABLE "${n}" AS SELECT * FROM read_json_auto('${e.name}')`;else if(s&&r){const l=[];r.header?l.push("header=true"):l.push("header=false"),r.delimiter&&l.push(`delim='${r.delimiter}'`),r.quote&&l.push(`quote='${r.quote}'`),r.dateFormat&&l.push(`dateformat='${r.dateFormat}'`);const c=l.join(", ");o=`CREATE TABLE "${n}" AS SELECT * FROM read_csv_auto('${e.name}', ${c})`}else s?o=`CREATE TABLE "${n}" AS SELECT * FROM read_csv_auto('${e.name}')`:o=`CREATE TABLE "${n}" AS SELECT * FROM '${e.name}'`;await this.conn.query(o);const a=`INSERT INTO memory._sys_audit_log (id, operation_type, target_table, details, affected_rows, sql_statement) VALUES (nextval('memory._sys_audit_seq'), 'IMPORT', '${n}', 'Imported file ${e.name}', 0, '${o.replace(/'/g,"''")}');`;await this.conn.query(a)}async importText(e,n,r){if(!this.db||!this.conn)return;const i=`paste_${Date.now()}.csv`,s=new File([e],i,{type:"text/csv"});await this.db.registerFileHandle(s.name,s,sb.BROWSER_FILEREADER,!0);let o="";if(r){const l=[];r.header?l.push("header=true"):l.push("header=false"),r.delimiter&&l.push(`delim='${r.delimiter}'`),r.quote&&l.push(`quote='${r.quote}'`),r.dateFormat&&l.push(`dateformat='${r.dateFormat}'`);const c=l.join(", ");o=`CREATE TABLE "${n}" AS SELECT * FROM read_csv_auto('${i}', ${c})`}else o=`CREATE TABLE "${n}" AS SELECT * FROM read_csv_auto('${i}')`;await this.conn.query(o);const a=`INSERT INTO memory._sys_audit_log (id, operation_type, target_table, details, affected_rows, sql_statement) VALUES (nextval('memory._sys_audit_seq'), 'IMPORT', '${n}', 'Imported from clipboard', 0, '${o.replace(/'/g,"''")}');`;await this.conn.query(a)}async exportDatabase(){if(!this.conn)throw new Error("DB not ready");const e=await this.getTables(),n={tables:{}};for(const r of e){const i=await this.query(`SELECT * FROM "${r}"`);n.tables[r]=i}return new Blob([JSON.stringify(n,(r,i)=>typeof i=="bigint"?i.toString():i,2)],{type:"application/json"})}async exportParquet(e,n){if(!this.conn||!this.db)throw new Error("DB not ready");const r=`temp_${Date.now()}.parquet`;await this.conn.query(`COPY (${e}) TO '${r}' (FORMAT PARQUET)`);const i=await this.db.copyFileToBuffer(r);return await this.conn.query(`DROP TABLE IF EXISTS "${r}"`),new Blob([i],{type:"application/vnd.apache.parquet"})}escapeLiteral(e){return e==null?"NULL":typeof e=="number"?e.toString():typeof e=="boolean"?e?"TRUE":"FALSE":e instanceof Date?`'${e.toISOString()}'`:typeof e=="bigint"?e.toString():`'${String(e).replace(/"/g,'""').replace(/'/g,"''")}'`}async insertRow(e,n){const r=`"${e}"`,i=Object.keys(n).map(a=>`"${a}"`).join(", "),s=Object.values(n).map(a=>this.escapeLiteral(a)).join(", ");let o;return i.length===0?o=`INSERT INTO ${r} DEFAULT VALUES`:o=`INSERT INTO ${r} (${i}) VALUES (${s})`,this.executeAndAudit(o,"INSERT",e,"Inserted new row")}async updateRow(e,n,r,i,s){const o=`"${e}"`,a=this.escapeLiteral(r),l=this.escapeLiteral(s),c=`UPDATE ${o} SET "${i}" = ${l} WHERE "${n}" = ${a}`;return this.executeAndAudit(c,"UPDATE",e,`Updated ${i} for row ${n}=${r}`)}async deleteRow(e,n,r){const i=`"${e}"`,s=this.escapeLiteral(r),o=`DELETE FROM ${i} WHERE "${n}" = ${s}`;return this.executeAndAudit(o,"DELETE",e,`Deleted row ${n}=${r}`)}async deleteRows(e,n,r){if(r.length===0)return;const i=`"${e}"`,s=r.map(a=>this.escapeLiteral(a)).join(", "),o=`DELETE FROM ${i} WHERE "${n}" IN (${s})`;return this.executeAndAudit(o,"DELETE",e,`Deleted ${r.length} rows`)}async addColumn(e,n,r){const s=`ALTER TABLE ${`"${e}"`} ADD COLUMN "${n}" ${r}`;return this.executeAndAudit(s,"ALTER",e,`Added column ${n}`)}async dropColumn(e,n){const i=`ALTER TABLE ${`"${e}"`} DROP COLUMN "${n}"`;return this.executeAndAudit(i,"ALTER",e,`Dropped column ${n}`)}async renameColumn(e,n,r){const s=`ALTER TABLE ${`"${e}"`} RENAME COLUMN "${n}" TO "${r}"`;return this.executeAndAudit(s,"ALTER",e,`Renamed column ${n} to ${r}`)}async alterColumnType(e,n,r){const s=`ALTER TABLE ${`"${e}"`} ALTER COLUMN "${n}" TYPE ${r}`;return this.executeAndAudit(s,"ALTER",e,`Changed column ${n} type to ${r}`)}async renameTable(e,n){const r=`ALTER TABLE "${e}" RENAME TO "${n}"`;return this.executeAndAudit(r,"ALTER",e,`Renamed table to ${n}`)}async dropTable(e){const n=`DROP TABLE "${e}"`;return this.executeAndAudit(n,"DROP",e,"Dropped table")}async createTable(e,n){const r=n.map(s=>`"${s.name}" ${s.type}${s.pk?" PRIMARY KEY":""}`).join(", "),i=`CREATE TABLE "${e}" (${r})`;return this.executeAndAudit(i,"CREATE",e,"Created new table")}async getColumnStats(e,n){if(!this.conn)throw new Error("DB not connected");const r=`
        SELECT 
            MIN("${n}") as min_val,
            MAX("${n}") as max_val,
            COUNT(*) as total,
            COUNT("${n}") as non_null_count,
            approx_count_distinct("${n}") as distinct_count
        FROM "${e}"
      `,s=(await this.query(r))[0];let o=[];try{const a=`SELECT "${n}" as value, COUNT(*) as count FROM "${e}" GROUP BY "${n}" ORDER BY count DESC LIMIT 5`;o=await this.query(a)}catch{}return{min:s.min_val,max:s.max_val,total_count:Number(s.total),null_count:Number(s.total)-Number(s.non_null_count),distinct_count:Number(s.distinct_count),top_k:o}}async createStagingTable(e,n){if(!this.conn||!this.db)throw new Error("DB not ready");const i=`stg_${n.split(".")[0].replace(/[^a-zA-Z0-9]/g,"_").toLowerCase()}_${Math.floor(Date.now()/1e3)}`,s=`${i}.csv`;await this.db.registerFileText(s,e);const o=`CREATE TABLE "${i}" AS SELECT * FROM read_csv_auto('${s}')`;return await this.executeAndAudit(o,"CREATE",i,`Created staging table from ${n}`),i}async getEnrichedProfile(e){if(!this.conn)throw new Error("DB not connected");const n=await this.query(`SUMMARIZE "${e}"`),r=[];for(const i of n){const s=i.column_name,o=String(i.column_type).toUpperCase(),a=o.includes("INT")||o.includes("DOUBLE")||o.includes("FLOAT")||o.includes("DECIMAL");let l={},c=[];if(a)try{const p=`
            SELECT 
              skewness("${s}") as skew,
              kurtosis("${s}") as kurt,
              entropy("${s}") as entropy,
              quantile_cont("${s}", 0.01) as p01,
              quantile_cont("${s}", 0.99) as p99
            FROM "${e}"
          `;l=(await this.query(p))[0];const T=Number(i.min),y=Number(i.max);if(y>T){const R=(y-T)/20,I=`
                SELECT 
                  floor(("${s}" - ${T}) / ${R}) * ${R} + ${T} as bin_start,
                  COUNT(*) as count
                FROM "${e}"
                WHERE "${s}" IS NOT NULL
                GROUP BY 1
                ORDER BY 1
             `;c=(await this.query(I)).map(B=>({bin:Number(B.bin_start),count:Number(B.count)}))}}catch{}let A=[];try{const p=`SELECT "${s}" as value, COUNT(*) as count FROM "${e}" GROUP BY 1 ORDER BY 2 DESC LIMIT 10`;A=await this.query(p)}catch{}const u=p=>typeof p=="bigint"?p.toString():p,h=p=>Number(p);r.push({name:s,type:o,min:u(i.min),max:u(i.max),avg:h(i.avg),std:h(i.std),q25:h(i.q25),q50:h(i.q50),q75:h(i.q75),total_count:h(i.count),null_count:h(i.count)*(h(i.null_percentage)/100),distinct_count:h(i.approx_unique),skew:h(l.skew),kurt:h(l.kurt),entropy:h(l.entropy),p01:h(l.p01),p99:h(l.p99),histogram:c,top_k:A.map(p=>({value:u(p.value),count:h(p.count)}))})}return r}async getMetricScorecardQuery(e,n,r){if(!this.conn)throw new Error("Database not connected");const i=`
      SELECT 
        SUM(TRY_CAST("${n}" AS DOUBLE)) as total,
        AVG(TRY_CAST("${n}" AS DOUBLE)) as mean,
        MEDIAN(TRY_CAST("${n}" AS DOUBLE)) as median,
        STDDEV(TRY_CAST("${n}" AS DOUBLE)) as stddev,
        MIN(TRY_CAST("${n}" AS DOUBLE)) as min,
        MAX(TRY_CAST("${n}" AS DOUBLE)) as max
      FROM "${e}"
    `,o={stats:(await this.query(i))[0]};if(r)try{const a=await this.query(`SELECT typeof("${r}") as t FROM "${e}" LIMIT 1`).then(A=>A[0].t.includes("INT"));let l=`CAST("${r}" AS TIMESTAMP)`;a&&(l=`epoch_ms("${r}")`);const c=`
          SELECT 
            strftime('%Y-%m', ${l}) as month,
            SUM(TRY_CAST("${n}" AS DOUBLE)) as total
          FROM "${e}"
          WHERE ${l} IS NOT NULL
          GROUP BY 1
          ORDER BY 1
        `;o.trend=await this.query(c)}catch(a){console.warn("Trend Calc Failed",a)}return o}async getCorrelationMatrix(e,n){if(!this.conn||n.length<2)return{columns:n,matrix:[]};const r=[];for(const i of n){const s=[];for(const o of n){if(i===o){s.push(1);continue}try{const a=`SELECT corr("${i}", "${o}") as score FROM "${e}"`,l=await this.query(a);s.push(Number(l[0].score)||0)}catch{s.push(0)}}r.push(s)}return{columns:n,matrix:r}}async getDriverAnalysis(e,n,r){if(!this.conn)throw new Error("DB not connected");const i=`
      WITH total AS (SELECT SUM("${n}") as grand_total FROM "${e}"),
      grouped AS (
        SELECT 
          "${r}" as value, 
          SUM("${n}") as val_sum 
        FROM "${e}" 
        GROUP BY 1
      )
      SELECT 
        value, 
        val_sum / grand_total as contribution
      FROM grouped, total
      ORDER BY contribution DESC
      LIMIT 10
    `,s=await this.query(i),o=1/Math.max(1,s.length);return{metric:n,dimension:r,drivers:s.map(a=>({value:String(a.value),contribution:Number(a.contribution),impact:a.contribution>o*1.5?"positive":a.contribution<o*.5?"negative":"neutral"}))}}async detectHierarchies(e,n){if(!this.conn||n.length<2)return[];const r=[];for(const i of n)for(const s of n)if(i!==s)try{const o=`
               SELECT COUNT(*) as violations
               FROM (
                  SELECT "${i}", COUNT(DISTINCT "${s}") as p_count
                  FROM "${e}"
                  GROUP BY 1
                  HAVING p_count > 1
               )
            `,a=await this.query(o);if(Number(a[0].violations)===0){const c=`
                  SELECT 
                    approx_count_distinct("${i}") as c_count, 
                    approx_count_distinct("${s}") as p_count 
                  FROM "${e}"
               `,A=await this.query(c),u=Number(A[0].c_count),h=Number(A[0].p_count);u>h&&r.push({child:i,parent:s,type:"hierarchy",confidence:1})}}catch{}return r}async listProjects(){if("storage"in navigator&&"getDirectory"in navigator.storage)try{const e=await navigator.storage.getDirectory(),n=[];for await(const[r,i]of e.entries())r.endsWith(".duckdb")&&n.push(r.replace(".duckdb",""));return n}catch(e){return console.warn("[Persistence] OPFS List Failed",e),[]}return[]}async attachProject(e){if(!this.conn||!this.db)throw new Error("DB not connected");const n=e.endsWith(".duckdb")?e:`${e}.duckdb`,r=e.replace(/[^a-zA-Z0-9]/g,"_");if(console.log(`[Persistence] Attaching ${n}...`),!("storage"in navigator&&"getDirectory"in navigator.storage)){console.warn("[Persistence] OPFS not supported. Falling back to in-memory mode."),await this.conn.query(`ATTACH ':memory:' AS "${r}"`),await this.conn.query(`
        CREATE TABLE IF NOT EXISTS "${r}"._sys_kv_store (
          key VARCHAR PRIMARY KEY,
          value JSON,
          updated_at TIMESTAMP
        )
      `),console.log(`[Persistence] Project ${r} ready (in-memory mode).`);return}const s=await navigator.storage.getDirectory(),o=sb.BROWSER_FSACCESS??3;try{if((await this.conn.query("SELECT database_name FROM duckdb_databases()")).toArray().map(p=>p.database_name).includes(r)){console.log(`[Persistence] Project ${r} already attached.`);return}}catch{}let a=!1,l=!1,c=!1,A=null;try{A=await s.getFileHandle(n),a=!0;const u=await A.getFile();if(u.size===0){console.warn(`[Persistence] File ${n} is empty (0 bytes). Will recreate.`);try{await s.removeEntry(n)}catch(h){console.warn("[Persistence] Could not delete empty file:",h)}a=!1,A=null}else{const h=await u.slice(0,16).arrayBuffer();new Uint8Array(h)[0]===123?(l=!0,console.log(`[Persistence] File ${n} is a metadata file (${u.size} bytes). Using in-memory.`)):(c=!0,console.log(`[Persistence] File ${n} appears to be DuckDB format (${u.size} bytes).`))}}catch{a=!1,console.log(`[Persistence] File ${n} does not exist. Will create new.`)}try{if(a&&c&&A)await this.db.registerFileHandle(n,A,o,!0),await this.conn.query(`ATTACH '${n}' AS "${r}"`),console.log(`[Persistence] Attached existing DuckDB file: ${r}`);else{if(a)console.log("[Persistence] Loading project from metadata (in-memory mode)...");else{console.log("[Persistence] Creating new in-memory project..."),A=await s.getFileHandle(n,{create:!0});const u=JSON.stringify({name:e,created:new Date().toISOString(),type:"memory-backed"}),h=await A.createWritable();await h.write(u),await h.close()}await this.conn.query(`ATTACH ':memory:' AS "${r}"`),await this.conn.query(`
          CREATE TABLE IF NOT EXISTS "${r}"._sys_kv_store (
            key VARCHAR PRIMARY KEY,
            value JSON,
            updated_at TIMESTAMP
          )
        `),console.log(`[Persistence] Project ${r} ready (in-memory mode).`)}}catch(u){if(console.error("[Persistence] Attach/Create Failed:",u),u.message&&(u.message.includes("not a valid DuckDB")||u.message.includes("IO Error"))){console.warn("[Persistence] File issue detected. Creating in-memory project...");try{try{await(await navigator.storage.getDirectory()).removeEntry(n),console.log(`[Persistence] Cleaned up ${n} from OPFS.`)}catch(h){console.warn("[Persistence] Cleanup warning:",h)}await this.conn.query(`ATTACH ':memory:' AS "${r}"`),await this.conn.query(`
            CREATE TABLE IF NOT EXISTS "${r}"._sys_kv_store (
              key VARCHAR PRIMARY KEY,
              value JSON,
              updated_at TIMESTAMP
            )
          `),console.log(`[Persistence] Created in-memory fallback project: ${r}`);return}catch(h){throw console.error("[Persistence] Recovery failed:",h),new Error(` ${e}: ${h.message}`)}}throw new Error(`Could not attach project ${e}: ${u.message}`)}}async detachProject(e){if(!this.conn)return;const n=e.replace(/[^a-zA-Z0-9]/g,"_");try{await this.conn.query(`DETACH "${n}"`)}catch{}}async deleteProject(e){const n=e.endsWith(".duckdb")?e:`${e}.duckdb`,r=e.replace(/[^a-zA-Z0-9]/g,"_");if(this.conn)try{await this.conn.query(`DETACH DATABASE IF EXISTS "${r}"`),console.log(`[Persistence] Detached ${r} from DuckDB.`)}catch(i){console.warn("[Persistence] Detach warning (may be expected):",i)}if(this.db)try{await this.db.dropFile(n),console.log(`[Persistence] Dropped ${n} from VFS cache.`)}catch(i){console.warn("[Persistence] dropFile warning (may be expected):",i)}if("storage"in navigator&&"getDirectory"in navigator.storage)try{await(await navigator.storage.getDirectory()).removeEntry(n),console.log(`[Persistence] Deleted ${n} from OPFS.`)}catch(i){console.warn("[Persistence] OPFS delete failed:",i)}}async clearAllProjects(){if(console.warn("[Persistence] Clearing ALL projects from OPFS..."),await this.reset(),"storage"in navigator&&"getDirectory"in navigator.storage)try{const e=await navigator.storage.getDirectory(),n=[];for await(const[r]of e.entries())r.endsWith(".duckdb")&&n.push(r);for(const r of n)try{await e.removeEntry(r),console.log(`[Persistence] Deleted ${r}`)}catch(i){console.warn(`[Persistence] Failed to delete ${r}:`,i)}console.log(`[Persistence] Cleared ${n.length} project files.`)}catch(e){console.error("[Persistence] clearAllProjects failed:",e)}}async useProject(e){if(!this.conn)return;const n=e.replace(/[^a-zA-Z0-9]/g,"_");await this.conn.query(`USE "${n}"`),console.log(`[Persistence] Switched context to ${n}`),await this.initSessionTable()}async initSessionTable(){if(this.conn)try{await this.conn.query(`
        CREATE TABLE IF NOT EXISTS _sys_kv_store (
          key VARCHAR PRIMARY KEY,
          value JSON,
          updated_at TIMESTAMP
        )
      `),await this.initTraceTable()}catch(e){console.warn("KV Init failed",e)}}async initTraceTable(){if(this.conn)try{await this.conn.query(`
            CREATE TABLE IF NOT EXISTS ai_traces (
                id VARCHAR,
                timestamp TIMESTAMP,
                prompt VARCHAR,
                response VARCHAR,
                model VARCHAR,  
                quality_score DOUBLE,
                meta JSON
            )
        `)}catch(e){console.warn("Trace Init Failed",e)}}async logAiTrace(e){if(this.conn)try{const n=s=>s.replace(/'/g,"''"),r=crypto.randomUUID(),i=JSON.stringify(e.meta||{}).replace(/'/g,"''");await this.conn.query(`
            INSERT INTO ai_traces (id, timestamp, prompt, response, model, quality_score, meta)
            VALUES (
                '${r}', 
                CURRENT_TIMESTAMP, 
                '${n(e.prompt)}', 
                '${n(e.response)}', 
                '${n(e.model)}',
                0.0,
                '${i}'::JSON
            )
          `)}catch(n){console.warn("Log Trace Failed",n)}}async saveSession(e,n){if(this.conn)try{const r=JSON.stringify(n,(s,o)=>typeof o=="bigint"?o.toString():o).replace(/'/g,"''"),i=`
        INSERT INTO _sys_kv_store (key, value, updated_at) 
        VALUES ('${e}', '${r}'::JSON, CURRENT_TIMESTAMP)
        ON CONFLICT (key) DO UPDATE SET 
          value = EXCLUDED.value,
          updated_at = EXCLUDED.updated_at
      `;await this.conn.query(i)}catch(r){console.warn("Save Session Failed",r)}}async loadSession(e){if(!this.conn)return null;try{const r=(await this.conn.query(`SELECT value FROM _sys_kv_store WHERE key = '${e}'`)).toArray().map(i=>i.toJSON());return r.length>0?typeof r[0].value=="string"?JSON.parse(r[0].value):r[0].value:null}catch{return null}}async getAllTablesSchema(){if(!this.conn)return[];const e=await this.getTables(),n=[];for(const r of e){const i=await this.conn.query(`PRAGMA table_info('${r}')`);n.push({table:r,columns:i.toArray().map(s=>({name:s.name,type:s.type}))})}return n}async inferRelationships(e){const n=[],r=new Map;for(const i of e){const s=i.columns.find(o=>o.name.toLowerCase()==="id"||o.name.toLowerCase()===`${i.table}_id`);s&&r.set(i.table,s.name)}for(const i of e)for(const s of i.columns)if(s.name.toLowerCase().endsWith("_id")){const o=s.name.substring(0,s.name.length-3);r.has(o)&&o!==i.table&&n.push({fromTable:i.table,fromCol:s.name,toTable:o,toCol:r.get(o)});const a=o+"s";r.has(a)&&a!==i.table&&n.push({fromTable:i.table,fromCol:s.name,toTable:a,toCol:r.get(a)})}return n}async exportTable(e,n){if(!this.conn||!this.db)throw new Error("DB not connected");const r=`export_${e}.${n}`;let i="";n==="csv"?i=`COPY "${e}" TO '${r}' (HEADER, DELIMITER ',')`:n==="parquet"?i=`COPY "${e}" TO '${r}' (FORMAT PARQUET)`:n==="json"&&(i=`COPY (SELECT * FROM "${e}") TO '${r}'`),await this.conn.query(i);const s=await this.db.copyFileToBuffer(r);return await this.db.registerFileText(r,""),s}}const At=new Nfe;var bfe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vfe,Ofe;function wfe(){return{geminiUrl:vfe,vertexUrl:Ofe}}function Lfe(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=wfe();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class id{}function St(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function _(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const a=o.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let c=0;c<l.length;c++){const A=l[c];_(A,e.slice(s+1),n[c])}else for(const c of l)_(c,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const a=o.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];_(l[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(a=>x(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Bfe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&s.length>a)for(let l=a;l<s.length;l++){const c=s[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}Yk(t,i,s,0,o)}}function Yk(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),a=t;if(o in a&&Array.isArray(a[o]))for(const l of a[o])Yk(l,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,a=Object.keys(o).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of a)l[c]=o[c];for(const[c,A]of Object.entries(l)){const u=[];for(const h of n.slice(r))h==="*"?u.push(c):u.push(h);_(o,u,A)}for(const c of a)delete o[c]}}else{const o=t;s in o&&Yk(o[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LF(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dfe(t){const e={},n=x(t,["operationName"]);n!=null&&_(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&_(e,["_url","resourceName"],r),e}function kfe(t){const e={},n=x(t,["name"]);n!=null&&_(e,["name"],n);const r=x(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=x(t,["done"]);i!=null&&_(e,["done"],i);const s=x(t,["error"]);s!=null&&_(e,["error"],s);const o=x(t,["response","generateVideoResponse"]);return o!=null&&_(e,["response"],Pfe(o)),e}function Mfe(t){const e={},n=x(t,["name"]);n!=null&&_(e,["name"],n);const r=x(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=x(t,["done"]);i!=null&&_(e,["done"],i);const s=x(t,["error"]);s!=null&&_(e,["error"],s);const o=x(t,["response"]);return o!=null&&_(e,["response"],Ufe(o)),e}function Pfe(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Ffe(o))),_(e,["generatedVideos"],s)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function Ufe(t){const e={},n=x(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Hfe(o))),_(e,["generatedVideos"],s)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function Ffe(t){const e={},n=x(t,["video"]);return n!=null&&_(e,["video"],Yfe(n)),e}function Hfe(t){const e={},n=x(t,["_self"]);return n!=null&&_(e,["video"],jfe(n)),e}function Gfe(t){const e={},n=x(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function Qfe(t){const e={},n=x(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function Vfe(t){const e={},n=x(t,["name"]);n!=null&&_(e,["name"],n);const r=x(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=x(t,["done"]);i!=null&&_(e,["done"],i);const s=x(t,["error"]);s!=null&&_(e,["error"],s);const o=x(t,["response"]);return o!=null&&_(e,["response"],$fe(o)),e}function $fe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&_(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function nq(t){const e={},n=x(t,["name"]);n!=null&&_(e,["name"],n);const r=x(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=x(t,["done"]);i!=null&&_(e,["done"],i);const s=x(t,["error"]);s!=null&&_(e,["error"],s);const o=x(t,["response"]);return o!=null&&_(e,["response"],Wfe(o)),e}function Wfe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&_(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function Yfe(t){const e={},n=x(t,["uri"]);n!=null&&_(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&_(e,["videoBytes"],LF(r));const i=x(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function jfe(t){const e={},n=x(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],LF(r));const i=x(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zQ;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zQ||(zQ={}));var qQ;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qQ||(qQ={}));var XQ;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(XQ||(XQ={}));var Af;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Af||(Af={}));var JQ;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(JQ||(JQ={}));var ZQ;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ZQ||(ZQ={}));var e4;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(e4||(e4={}));var t4;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(t4||(t4={}));var n4;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(n4||(n4={}));var r4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(r4||(r4={}));var i4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(i4||(i4={}));var s4;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(s4||(s4={}));var o4;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(o4||(o4={}));var a4;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(a4||(a4={}));var l4;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(l4||(l4={}));var c4;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(c4||(c4={}));var A4;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(A4||(A4={}));var u4;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(u4||(u4={}));var h4;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(h4||(h4={}));var d4;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(d4||(d4={}));var f4;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(f4||(f4={}));var Iv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Iv||(Iv={}));var p4;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(p4||(p4={}));var m4;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(m4||(m4={}));var g4;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(g4||(g4={}));var jk;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(jk||(jk={}));var E4;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(E4||(E4={}));var T4;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(T4||(T4={}));var Kk;(function(t){t.COLLECTION="COLLECTION"})(Kk||(Kk={}));var S4;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(S4||(S4={}));var y4;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(y4||(y4={}));var C4;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(C4||(C4={}));var x4;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(x4||(x4={}));var R4;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(R4||(R4={}));var I4;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(I4||(I4={}));var _4;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_4||(_4={}));var N4;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(N4||(N4={}));var b4;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(b4||(b4={}));var v4;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(v4||(v4={}));var O4;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(O4||(O4={}));var w4;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(w4||(w4={}));var L4;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(L4||(L4={}));var B4;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(B4||(B4={}));var D4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(D4||(D4={}));var k4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(k4||(k4={}));var M4;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(M4||(M4={}));var P4;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(P4||(P4={}));var U4;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(U4||(U4={}));var F4;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(F4||(F4={}));var H4;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(H4||(H4={}));var G4;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(G4||(G4={}));var Q4;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Q4||(Q4={}));var V4;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(V4||(V4={}));var $4;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($4||($4={}));var W4;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(W4||(W4={}));var Y4;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Y4||(Y4={}));var TT;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(TT||(TT={}));class zk{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class C0{get text(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",A=!1;const u=[];for(const h of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,E]of Object.entries(h))p!=="text"&&p!=="thought"&&p!=="thoughtSignature"&&(E!==null||E!==void 0)&&u.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;A=!0,c+=h.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),A?c:void 0}get data(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const A=[];for(const u of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(u))h!=="inlineData"&&(p!==null||p!==void 0)&&A.push(h);u.inlineData&&typeof u.inlineData.data=="string"&&(c+=atob(u.inlineData.data))}return A.length>0&&console.warn(`there are non-data parts ${A} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(A=>A.functionCall).map(A=>A.functionCall).filter(A=>A!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,o,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const A=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(u=>u.executableCode).map(u=>u.executableCode).filter(u=>u!==void 0);if((A==null?void 0:A.length)!==0)return(c=A==null?void 0:A[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,o,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const A=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(u=>u.codeExecutionResult).map(u=>u.codeExecutionResult).filter(u=>u!==void 0);if((A==null?void 0:A.length)!==0)return(c=A==null?void 0:A[0])===null||c===void 0?void 0:c.output}}class j4{}class K4{}class Kfe{}class zfe{}class qfe{}class Xfe{}class z4{}class q4{}class X4{}class Jfe{}class _v{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new _v;let i;const s=e;return n?i=Mfe(s):i=kfe(s),Object.assign(r,i),r}}class J4{}class Z4{}class e3{}class t3{}class Zfe{}class epe{}class tpe{}class BF{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new BF,s=Vfe(e);return Object.assign(r,s),r}}class npe{}class rpe{}class ipe{}class spe{}class n3{}class ope{get text(){var e,n,r;let i="",s=!1;const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;s=!0,i+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&s.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class ape{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class DF{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new DF,s=nq(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function rq(t,e){const n=Pr(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function iq(t){return Array.isArray(t)?t.map(e=>Nv(e)):[Nv(t)]}function Nv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function sq(t){const e=Nv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oq(t){const e=Nv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function r3(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function aq(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>r3(e)):[r3(t)]}function qk(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function i3(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function s3(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Fo(t){if(t==null)throw new Error("ContentUnion is required");return qk(t)?t:{role:"user",parts:aq(t)}}function kF(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Fo(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Fo(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Fo(n)):[Fo(e)]}function gc(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(i3(t)||s3(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Fo(t)]}const e=[],n=[],r=qk(t[0]);for(const i of t){const s=qk(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(i3(i)||s3(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:aq(n)}),e}function lpe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Af).includes(n[0].toUpperCase())?n[0].toUpperCase():Af.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Af).includes(r.toUpperCase())?r.toUpperCase():Af.TYPE_UNSPECIFIED})}}function kT(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&lpe(t.type,e);for(const[o,a]of Object.entries(t))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Af).includes(a.toUpperCase())?a.toUpperCase():Af.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=kT(a);else if(r.includes(o)){const l=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}l.push(kT(c))}e[o]=l}else if(i.includes(o)){const l={};for(const[c,A]of Object.entries(a))l[c]=kT(A);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=a}return e}function MF(t){return kT(t)}function PF(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function UF(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function US(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=kT(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=kT(e.response));return t}function FS(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function cpe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function sd(t,e){if(typeof e!="string")throw new Error("name must be a string");return cpe(t,e,"cachedContents")}function lq(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Jf(t){return LF(t)}function Ape(t){return t!=null&&typeof t=="object"&&"name"in t}function upe(t){return t!=null&&typeof t=="object"&&"video"in t}function hpe(t){return t!=null&&typeof t=="object"&&"uri"in t}function cq(t){var e;let n;if(Ape(t)&&(n=t.name),!(hpe(t)&&(n=t.uri,n===void 0))&&!(upe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Aq(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function uq(t){for(const e of["models","tunedModels","publisherModels"])if(dpe(t,e))return t[e];return[]}function dpe(t,e){return t!==null&&typeof t=="object"&&e in t}function fpe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ppe(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=fpe(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function hq(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function mpe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function dq(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function HS(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function fq(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gpe(t){const e={},n=x(t,["responsesFile"]);n!=null&&_(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Xpe(o))),_(e,["inlinedResponses"],s)}const i=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),_(e,["inlinedEmbedContentResponses"],s)}return e}function Epe(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&_(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&_(e,["gcsUri"],r);const i=x(t,["bigqueryDestination","outputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function Tpe(t){const e={},n=x(t,["format"]);n!=null&&_(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&_(e,["gcsDestination","outputUriPrefix"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&_(e,["bigqueryDestination","outputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ob(t){const e={},n=x(t,["name"]);n!=null&&_(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&_(e,["displayName"],r);const i=x(t,["metadata","state"]);i!=null&&_(e,["state"],fq(i));const s=x(t,["metadata","createTime"]);s!=null&&_(e,["createTime"],s);const o=x(t,["metadata","endTime"]);o!=null&&_(e,["endTime"],o);const a=x(t,["metadata","updateTime"]);a!=null&&_(e,["updateTime"],a);const l=x(t,["metadata","model"]);l!=null&&_(e,["model"],l);const c=x(t,["metadata","output"]);return c!=null&&_(e,["dest"],gpe(dq(c))),e}function Xk(t){const e={},n=x(t,["name"]);n!=null&&_(e,["name"],n);const r=x(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=x(t,["state"]);i!=null&&_(e,["state"],fq(i));const s=x(t,["error"]);s!=null&&_(e,["error"],s);const o=x(t,["createTime"]);o!=null&&_(e,["createTime"],o);const a=x(t,["startTime"]);a!=null&&_(e,["startTime"],a);const l=x(t,["endTime"]);l!=null&&_(e,["endTime"],l);const c=x(t,["updateTime"]);c!=null&&_(e,["updateTime"],c);const A=x(t,["model"]);A!=null&&_(e,["model"],A);const u=x(t,["inputConfig"]);u!=null&&_(e,["src"],Spe(u));const h=x(t,["outputConfig"]);h!=null&&_(e,["dest"],Epe(dq(h)));const p=x(t,["completionStats"]);return p!=null&&_(e,["completionStats"],p),e}function Spe(t){const e={},n=x(t,["instancesFormat"]);n!=null&&_(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&_(e,["gcsUri"],r);const i=x(t,["bigquerySource","inputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function ype(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&_(n,["fileName"],r);const i=x(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>qpe(t,o))),_(n,["requests","requests"],s)}return n}function Cpe(t){const e={},n=x(t,["format"]);n!=null&&_(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&_(e,["gcsSource","uris"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&_(e,["bigquerySource","inputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function xpe(t){const e={},n=x(t,["data"]);if(n!=null&&_(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Rpe(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],HS(t,r)),n}function Ipe(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],HS(t,r)),n}function _pe(t){const e={},n=x(t,["content"]);n!=null&&_(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],Npe(r));const i=x(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const s=x(t,["finishReason"]);s!=null&&_(e,["finishReason"],s);const o=x(t,["avgLogprobs"]);o!=null&&_(e,["avgLogprobs"],o);const a=x(t,["groundingMetadata"]);a!=null&&_(e,["groundingMetadata"],a);const l=x(t,["index"]);l!=null&&_(e,["index"],l);const c=x(t,["logprobsResult"]);c!=null&&_(e,["logprobsResult"],c);const A=x(t,["safetyRatings"]);if(A!=null){let h=A;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["safetyRatings"],h)}const u=x(t,["urlContextMetadata"]);return u!=null&&_(e,["urlContextMetadata"],u),e}function Npe(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["citations"],r)}return e}function pq(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ime(s))),_(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&_(e,["role"],r),e}function bpe(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&_(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function vpe(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=x(t,["dest"]);return e!==void 0&&i!=null&&_(e,["outputConfig"],Tpe(mpe(i))),n}function o3(t,e){const n={},r=x(e,["model"]);r!=null&&_(n,["_url","model"],Pr(t,r));const i=x(e,["src"]);i!=null&&_(n,["batch","inputConfig"],ype(t,hq(t,i)));const s=x(e,["config"]);return s!=null&&bpe(s,n),n}function Ope(t,e){const n={},r=x(e,["model"]);r!=null&&_(n,["model"],Pr(t,r));const i=x(e,["src"]);i!=null&&_(n,["inputConfig"],Cpe(hq(t,i)));const s=x(e,["config"]);return s!=null&&vpe(s,n),n}function wpe(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["batch","displayName"],r),n}function Lpe(t,e){const n={},r=x(e,["model"]);r!=null&&_(n,["_url","model"],Pr(t,r));const i=x(e,["src"]);i!=null&&_(n,["batch","inputConfig"],Fpe(t,i));const s=x(e,["config"]);return s!=null&&wpe(s,n),n}function Bpe(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],HS(t,r)),n}function Dpe(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],HS(t,r)),n}function kpe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&_(e,["name"],r);const i=x(t,["done"]);i!=null&&_(e,["done"],i);const s=x(t,["error"]);return s!=null&&_(e,["error"],s),e}function Mpe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&_(e,["name"],r);const i=x(t,["done"]);i!=null&&_(e,["done"],i);const s=x(t,["error"]);return s!=null&&_(e,["error"],s),e}function Ppe(t,e){const n={},r=x(e,["contents"]);if(r!=null){let s=kF(t,r);Array.isArray(s)&&(s=s.map(o=>o)),_(n,["requests[]","request","content"],s)}const i=x(e,["config"]);return i!=null&&(_(n,["_self"],Upe(i,n)),Bfe(n,{"requests[].*":"requests[].request.*"})),n}function Upe(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&_(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const s=x(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&_(e,["requests[]","outputDimensionality"],s),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Fpe(t,e){const n={},r=x(e,["fileName"]);r!=null&&_(n,["file_name"],r);const i=x(e,["inlinedRequests"]);return i!=null&&_(n,["requests"],Ppe(t,i)),n}function Hpe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Gpe(t){const e={},n=x(t,["id"]);n!=null&&_(e,["id"],n);const r=x(t,["args"]);r!=null&&_(e,["args"],r);const i=x(t,["name"]);if(i!=null&&_(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qpe(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&_(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&_(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Vpe(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],pq(Fo(i)));const s=x(e,["temperature"]);s!=null&&_(r,["temperature"],s);const o=x(e,["topP"]);o!=null&&_(r,["topP"],o);const a=x(e,["topK"]);a!=null&&_(r,["topK"],a);const l=x(e,["candidateCount"]);l!=null&&_(r,["candidateCount"],l);const c=x(e,["maxOutputTokens"]);c!=null&&_(r,["maxOutputTokens"],c);const A=x(e,["stopSequences"]);A!=null&&_(r,["stopSequences"],A);const u=x(e,["responseLogprobs"]);u!=null&&_(r,["responseLogprobs"],u);const h=x(e,["logprobs"]);h!=null&&_(r,["logprobs"],h);const p=x(e,["presencePenalty"]);p!=null&&_(r,["presencePenalty"],p);const E=x(e,["frequencyPenalty"]);E!=null&&_(r,["frequencyPenalty"],E);const T=x(e,["seed"]);T!=null&&_(r,["seed"],T);const y=x(e,["responseMimeType"]);y!=null&&_(r,["responseMimeType"],y);const R=x(e,["responseSchema"]);R!=null&&_(r,["responseSchema"],MF(R));const I=x(e,["responseJsonSchema"]);if(I!=null&&_(r,["responseJsonSchema"],I),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=x(e,["safetySettings"]);if(n!==void 0&&b!=null){let j=b;Array.isArray(j)&&(j=j.map(V=>sme(V))),_(n,["safetySettings"],j)}const B=x(e,["tools"]);if(n!==void 0&&B!=null){let j=FS(B);Array.isArray(j)&&(j=j.map(V=>ame(US(V)))),_(n,["tools"],j)}const w=x(e,["toolConfig"]);if(n!==void 0&&w!=null&&_(n,["toolConfig"],ome(w)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=x(e,["cachedContent"]);n!==void 0&&O!=null&&_(n,["cachedContent"],sd(t,O));const L=x(e,["responseModalities"]);L!=null&&_(r,["responseModalities"],L);const U=x(e,["mediaResolution"]);U!=null&&_(r,["mediaResolution"],U);const G=x(e,["speechConfig"]);if(G!=null&&_(r,["speechConfig"],PF(G)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=x(e,["thinkingConfig"]);Q!=null&&_(r,["thinkingConfig"],Q);const Y=x(e,["imageConfig"]);Y!=null&&_(r,["imageConfig"],zpe(Y));const K=x(e,["enableEnhancedCivicAnswers"]);if(K!=null&&_(r,["enableEnhancedCivicAnswers"],K),x(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function $pe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>_pe(c))),_(e,["candidates"],l)}const i=x(t,["modelVersion"]);i!=null&&_(e,["modelVersion"],i);const s=x(t,["promptFeedback"]);s!=null&&_(e,["promptFeedback"],s);const o=x(t,["responseId"]);o!=null&&_(e,["responseId"],o);const a=x(t,["usageMetadata"]);return a!=null&&_(e,["usageMetadata"],a),e}function Wpe(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],HS(t,r)),n}function Ype(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],HS(t,r)),n}function jpe(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function Kpe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function zpe(t){const e={},n=x(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&_(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function qpe(t,e){const n={},r=x(e,["model"]);r!=null&&_(n,["request","model"],Pr(t,r));const i=x(e,["contents"]);if(i!=null){let a=gc(i);Array.isArray(a)&&(a=a.map(l=>pq(l))),_(n,["request","contents"],a)}const s=x(e,["metadata"]);s!=null&&_(n,["metadata"],s);const o=x(e,["config"]);return o!=null&&_(n,["request","generationConfig"],Vpe(t,o,x(n,["request"],{}))),n}function Xpe(t){const e={},n=x(t,["response"]);n!=null&&_(e,["response"],$pe(n));const r=x(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=x(t,["error"]);return i!=null&&_(e,["error"],i),e}function Jpe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);if(e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Zpe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&_(e,["_query","pageToken"],i);const s=x(t,["filter"]);return e!==void 0&&s!=null&&_(e,["_query","filter"],s),n}function eme(t){const e={},n=x(t,["config"]);return n!=null&&Jpe(n,e),e}function tme(t){const e={},n=x(t,["config"]);return n!=null&&Zpe(n,e),e}function nme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=x(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>ob(o))),_(e,["batchJobs"],s)}return e}function rme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=x(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Xk(o))),_(e,["batchJobs"],s)}return e}function ime(t){const e={},n=x(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=x(t,["fileData"]);s!=null&&_(e,["fileData"],Hpe(s));const o=x(t,["functionCall"]);o!=null&&_(e,["functionCall"],Gpe(o));const a=x(t,["functionResponse"]);a!=null&&_(e,["functionResponse"],a);const l=x(t,["inlineData"]);l!=null&&_(e,["inlineData"],xpe(l));const c=x(t,["text"]);c!=null&&_(e,["text"],c);const A=x(t,["thought"]);A!=null&&_(e,["thought"],A);const u=x(t,["thoughtSignature"]);u!=null&&_(e,["thoughtSignature"],u);const h=x(t,["videoMetadata"]);return h!=null&&_(e,["videoMetadata"],h),e}function sme(t){const e={},n=x(t,["category"]);if(n!=null&&_(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function ome(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&_(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&_(e,["functionCallingConfig"],Qpe(r)),e}function ame(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=x(t,["functionDeclarations"]);if(s!=null){let A=s;Array.isArray(A)&&(A=A.map(u=>u)),_(e,["functionDeclarations"],A)}const o=x(t,["googleMaps"]);o!=null&&_(e,["googleMaps"],jpe(o));const a=x(t,["googleSearch"]);a!=null&&_(e,["googleSearch"],Kpe(a));const l=x(t,["googleSearchRetrieval"]);l!=null&&_(e,["googleSearchRetrieval"],l);const c=x(t,["urlContext"]);return c!=null&&_(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yh;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Yh||(Yh={}));class lg{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lme extends id{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lg(Yh.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=o3(this.apiClient,e),r=n._url,i=St("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,c=[];for(const A of l){const u=Object.assign({},A);if(u.systemInstruction){const h=u.systemInstruction;delete u.systemInstruction;const p=u.request;p.systemInstruction=h,u.request=p}c.push(u)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Ope(this.apiClient,e);return a=St("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),o.then(A=>Xk(A))}else{const c=o3(this.apiClient,e);return a=St("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json()),o.then(A=>ob(A))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Lpe(this.apiClient,e);return s=St("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>ob(l))}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Ype(this.apiClient,e);return a=St("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),o.then(A=>Xk(A))}else{const c=Wpe(this.apiClient,e);return a=St("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json()),o.then(A=>ob(A))}}async cancel(e){var n,r,i,s;let o="",a={};if(this.apiClient.isVertexAI()){const l=Ipe(this.apiClient,e);o=St("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Rpe(this.apiClient,e);o=St("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=tme(e);return a=St("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=rme(A),h=new n3;return Object.assign(h,u),h})}else{const c=eme(e);return a=St("batches",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=nme(A),h=new n3;return Object.assign(h,u),h})}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Dpe(this.apiClient,e);return a=St("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>Mpe(A))}else{const c=Bpe(this.apiClient,e);return a=St("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>kpe(A))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cme(t){const e={},n=x(t,["data"]);if(n!=null&&_(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function a3(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Lme(s))),_(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&_(e,["role"],r),e}function Ame(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const s=x(t,["displayName"]);e!==void 0&&s!=null&&_(e,["displayName"],s);const o=x(t,["contents"]);if(e!==void 0&&o!=null){let A=gc(o);Array.isArray(A)&&(A=A.map(u=>a3(u))),_(e,["contents"],A)}const a=x(t,["systemInstruction"]);e!==void 0&&a!=null&&_(e,["systemInstruction"],a3(Fo(a)));const l=x(t,["tools"]);if(e!==void 0&&l!=null){let A=l;Array.isArray(A)&&(A=A.map(u=>Dme(u))),_(e,["tools"],A)}const c=x(t,["toolConfig"]);if(e!==void 0&&c!=null&&_(e,["toolConfig"],Bme(c)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ume(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const s=x(t,["displayName"]);e!==void 0&&s!=null&&_(e,["displayName"],s);const o=x(t,["contents"]);if(e!==void 0&&o!=null){let u=gc(o);Array.isArray(u)&&(u=u.map(h=>h)),_(e,["contents"],u)}const a=x(t,["systemInstruction"]);e!==void 0&&a!=null&&_(e,["systemInstruction"],Fo(a));const l=x(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(h=>kme(h))),_(e,["tools"],u)}const c=x(t,["toolConfig"]);e!==void 0&&c!=null&&_(e,["toolConfig"],c);const A=x(t,["kmsKeyName"]);return e!==void 0&&A!=null&&_(e,["encryption_spec","kmsKeyName"],A),n}function hme(t,e){const n={},r=x(e,["model"]);r!=null&&_(n,["model"],rq(t,r));const i=x(e,["config"]);return i!=null&&Ame(i,n),n}function dme(t,e){const n={},r=x(e,["model"]);r!=null&&_(n,["model"],rq(t,r));const i=x(e,["config"]);return i!=null&&ume(i,n),n}function fme(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],sd(t,r)),n}function pme(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],sd(t,r)),n}function mme(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function gme(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Eme(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Tme(t){const e={},n=x(t,["id"]);n!=null&&_(e,["id"],n);const r=x(t,["args"]);r!=null&&_(e,["args"],r);const i=x(t,["name"]);if(i!=null&&_(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sme(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&_(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&_(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yme(t){const e={},n=x(t,["description"]);n!=null&&_(e,["description"],n);const r=x(t,["name"]);r!=null&&_(e,["name"],r);const i=x(t,["parameters"]);i!=null&&_(e,["parameters"],i);const s=x(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const o=x(t,["response"]);o!=null&&_(e,["response"],o);const a=x(t,["responseJsonSchema"]);if(a!=null&&_(e,["responseJsonSchema"],a),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Cme(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],sd(t,r)),n}function xme(t,e){const n={},r=x(e,["name"]);return r!=null&&_(n,["_url","name"],sd(t,r)),n}function Rme(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function Ime(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function _me(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Nme(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function bme(t){const e={},n=x(t,["config"]);return n!=null&&_me(n,e),e}function vme(t){const e={},n=x(t,["config"]);return n!=null&&Nme(n,e),e}function Ome(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),_(e,["cachedContents"],s)}return e}function wme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),_(e,["cachedContents"],s)}return e}function Lme(t){const e={},n=x(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=x(t,["fileData"]);s!=null&&_(e,["fileData"],Eme(s));const o=x(t,["functionCall"]);o!=null&&_(e,["functionCall"],Tme(o));const a=x(t,["functionResponse"]);a!=null&&_(e,["functionResponse"],a);const l=x(t,["inlineData"]);l!=null&&_(e,["inlineData"],cme(l));const c=x(t,["text"]);c!=null&&_(e,["text"],c);const A=x(t,["thought"]);A!=null&&_(e,["thought"],A);const u=x(t,["thoughtSignature"]);u!=null&&_(e,["thoughtSignature"],u);const h=x(t,["videoMetadata"]);return h!=null&&_(e,["videoMetadata"],h),e}function Bme(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&_(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&_(e,["functionCallingConfig"],Sme(r)),e}function Dme(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=x(t,["functionDeclarations"]);if(s!=null){let A=s;Array.isArray(A)&&(A=A.map(u=>u)),_(e,["functionDeclarations"],A)}const o=x(t,["googleMaps"]);o!=null&&_(e,["googleMaps"],Rme(o));const a=x(t,["googleSearch"]);a!=null&&_(e,["googleSearch"],Ime(a));const l=x(t,["googleSearchRetrieval"]);l!=null&&_(e,["googleSearchRetrieval"],l);const c=x(t,["urlContext"]);return c!=null&&_(e,["urlContext"],c),e}function kme(t){const e={},n=x(t,["retrieval"]);n!=null&&_(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&_(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&_(e,["codeExecution"],i);const s=x(t,["enterpriseWebSearch"]);s!=null&&_(e,["enterpriseWebSearch"],s);const o=x(t,["functionDeclarations"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>yme(h))),_(e,["functionDeclarations"],u)}const a=x(t,["googleMaps"]);a!=null&&_(e,["googleMaps"],a);const l=x(t,["googleSearch"]);l!=null&&_(e,["googleSearch"],l);const c=x(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const A=x(t,["urlContext"]);return A!=null&&_(e,["urlContext"],A),e}function Mme(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function Pme(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function Ume(t,e){const n={},r=x(e,["name"]);r!=null&&_(n,["_url","name"],sd(t,r));const i=x(e,["config"]);return i!=null&&Mme(i,n),n}function Fme(t,e){const n={},r=x(e,["name"]);r!=null&&_(n,["_url","name"],sd(t,r));const i=x(e,["config"]);return i!=null&&Pme(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hme extends id{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lg(Yh.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=dme(this.apiClient,e);return a=St("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),o.then(A=>A)}else{const c=hme(this.apiClient,e);return a=St("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json()),o.then(A=>A)}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=xme(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),o.then(A=>A)}else{const c=Cme(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json()),o.then(A=>A)}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=pme(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=gme(A),h=new e3;return Object.assign(h,u),h})}else{const c=fme(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=mme(A),h=new e3;return Object.assign(h,u),h})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Fme(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),o.then(A=>A)}else{const c=Ume(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json()),o.then(A=>A)}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=vme(e);return a=St("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=wme(A),h=new t3;return Object.assign(h,u),h})}else{const c=bme(e);return a=St("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=Ome(A),h=new t3;return Object.assign(h,u),h})}}}function bv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function l3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hn(t){return this instanceof Hn?(this.v=t,this):new Hn(t)}function sA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(E){return Promise.resolve(E).then(p,u)}}function a(p,E){r[p]&&(i[p]=function(T){return new Promise(function(y,R){s.push([p,T,y,R])>1||l(p,T)})},E&&(i[p]=E(i[p])))}function l(p,E){try{c(r[p](E))}catch(T){h(s[0][3],T)}}function c(p){p.value instanceof Hn?Promise.resolve(p.value.v).then(A,u):h(s[0][2],p)}function A(p){l("next",p)}function u(p){l("throw",p)}function h(p,E){p(E),s.shift(),s.length&&l(s[0][0],s[0][1])}}function oA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof l3=="function"?l3(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gme(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:mq(n)}function mq(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Qme(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function c3(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!mq(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class Vme{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new $me(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class $me{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Qme(s)}async sendMessage(e){var n;await this.sendPromise;const r=Fo(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,a;const l=await i,c=(o=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,A=l.automaticFunctionCallingHistory,u=this.getHistory(!0).length;let h=[];A!=null&&(h=(a=A.slice(u))!==null&&a!==void 0?a:[]);const p=c?[c]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Fo(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?c3(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return sA(this,arguments,function*(){var i,s,o,a,l,c;const A=[];try{for(var u=!0,h=oA(e),p;p=yield Hn(h.next()),i=p.done,!i;u=!0){a=p.value,u=!1;const E=a;if(Gme(E)){const T=(c=(l=E.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;T!==void 0&&A.push(T)}yield yield Hn(E)}}catch(E){s={error:E}}finally{try{!u&&!i&&(o=h.return)&&(yield Hn(o.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,A)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...c3(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xx extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,xx.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wme(t){const e={},n=x(t,["file"]);return n!=null&&_(e,["file"],n),e}function Yme(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function jme(t){const e={},n=x(t,["name"]);return n!=null&&_(e,["_url","file"],cq(n)),e}function Kme(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function zme(t){const e={},n=x(t,["name"]);return n!=null&&_(e,["_url","file"],cq(n)),e}function qme(t){const e={},n=x(t,["uris"]);return n!=null&&_(e,["uris"],n),e}function Xme(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Jme(t){const e={},n=x(t,["config"]);return n!=null&&Xme(n,e),e}function Zme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=x(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),_(e,["files"],s)}return e}function ege(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),_(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tge extends id{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lg(Yh.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Jme(e);return s=St("files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const A=c;return A.sdkHttpResponse={headers:l.headers},A})),i.then(l=>{const c=Zme(l),A=new npe;return Object.assign(A,c),A})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Wme(e);return s=St("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Yme(l),A=new rpe;return Object.assign(A,c),A})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zme(e);return s=St("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jme(e);return s=St("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const A=c;return A.sdkHttpResponse={headers:l.headers},A})),i.then(l=>{const c=Kme(l),A=new ipe;return Object.assign(A,c),A})}}async registerFilesInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qme(e);return s=St("files:register",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=ege(l),A=new spe;return Object.assign(A,c),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ab(t){const e={},n=x(t,["data"]);if(n!=null&&_(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function nge(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Ege(s))),_(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&_(e,["role"],r),e}function rge(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function ige(t){const e={},n=x(t,["id"]);n!=null&&_(e,["id"],n);const r=x(t,["args"]);r!=null&&_(e,["args"],r);const i=x(t,["name"]);if(i!=null&&_(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sge(t){const e={},n=x(t,["description"]);n!=null&&_(e,["description"],n);const r=x(t,["name"]);r!=null&&_(e,["name"],r);const i=x(t,["parameters"]);i!=null&&_(e,["parameters"],i);const s=x(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const o=x(t,["response"]);o!=null&&_(e,["response"],o);const a=x(t,["responseJsonSchema"]);if(a!=null&&_(e,["responseJsonSchema"],a),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function oge(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&_(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&_(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&_(e,["audioTimestamp"],i);const s=x(t,["candidateCount"]);s!=null&&_(e,["candidateCount"],s);const o=x(t,["enableAffectiveDialog"]);o!=null&&_(e,["enableAffectiveDialog"],o);const a=x(t,["frequencyPenalty"]);a!=null&&_(e,["frequencyPenalty"],a);const l=x(t,["logprobs"]);l!=null&&_(e,["logprobs"],l);const c=x(t,["maxOutputTokens"]);c!=null&&_(e,["maxOutputTokens"],c);const A=x(t,["mediaResolution"]);A!=null&&_(e,["mediaResolution"],A);const u=x(t,["presencePenalty"]);u!=null&&_(e,["presencePenalty"],u);const h=x(t,["responseLogprobs"]);h!=null&&_(e,["responseLogprobs"],h);const p=x(t,["responseMimeType"]);p!=null&&_(e,["responseMimeType"],p);const E=x(t,["responseModalities"]);E!=null&&_(e,["responseModalities"],E);const T=x(t,["responseSchema"]);T!=null&&_(e,["responseSchema"],T);const y=x(t,["routingConfig"]);y!=null&&_(e,["routingConfig"],y);const R=x(t,["seed"]);R!=null&&_(e,["seed"],R);const I=x(t,["speechConfig"]);I!=null&&_(e,["speechConfig"],I);const b=x(t,["stopSequences"]);b!=null&&_(e,["stopSequences"],b);const B=x(t,["temperature"]);B!=null&&_(e,["temperature"],B);const w=x(t,["thinkingConfig"]);w!=null&&_(e,["thinkingConfig"],w);const O=x(t,["topK"]);O!=null&&_(e,["topK"],O);const L=x(t,["topP"]);if(L!=null&&_(e,["topP"],L),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function age(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function lge(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function cge(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const s=x(t,["temperature"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","temperature"],s);const o=x(t,["topP"]);e!==void 0&&o!=null&&_(e,["setup","generationConfig","topP"],o);const a=x(t,["topK"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","topK"],a);const l=x(t,["maxOutputTokens"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","maxOutputTokens"],l);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","mediaResolution"],c);const A=x(t,["seed"]);e!==void 0&&A!=null&&_(e,["setup","generationConfig","seed"],A);const u=x(t,["speechConfig"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","speechConfig"],UF(u));const h=x(t,["thinkingConfig"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","thinkingConfig"],h);const p=x(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],p);const E=x(t,["systemInstruction"]);e!==void 0&&E!=null&&_(e,["setup","systemInstruction"],nge(Fo(E)));const T=x(t,["tools"]);if(e!==void 0&&T!=null){let O=FS(T);Array.isArray(O)&&(O=O.map(L=>Sge(US(L)))),_(e,["setup","tools"],O)}const y=x(t,["sessionResumption"]);e!==void 0&&y!=null&&_(e,["setup","sessionResumption"],Tge(y));const R=x(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&_(e,["setup","inputAudioTranscription"],R);const I=x(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&_(e,["setup","outputAudioTranscription"],I);const b=x(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&_(e,["setup","realtimeInputConfig"],b);const B=x(t,["contextWindowCompression"]);e!==void 0&&B!=null&&_(e,["setup","contextWindowCompression"],B);const w=x(t,["proactivity"]);if(e!==void 0&&w!=null&&_(e,["setup","proactivity"],w),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Age(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],oge(r));const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const s=x(t,["temperature"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","temperature"],s);const o=x(t,["topP"]);e!==void 0&&o!=null&&_(e,["setup","generationConfig","topP"],o);const a=x(t,["topK"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","topK"],a);const l=x(t,["maxOutputTokens"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","maxOutputTokens"],l);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","mediaResolution"],c);const A=x(t,["seed"]);e!==void 0&&A!=null&&_(e,["setup","generationConfig","seed"],A);const u=x(t,["speechConfig"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","speechConfig"],UF(u));const h=x(t,["thinkingConfig"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","thinkingConfig"],h);const p=x(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],p);const E=x(t,["systemInstruction"]);e!==void 0&&E!=null&&_(e,["setup","systemInstruction"],Fo(E));const T=x(t,["tools"]);if(e!==void 0&&T!=null){let L=FS(T);Array.isArray(L)&&(L=L.map(U=>yge(US(U)))),_(e,["setup","tools"],L)}const y=x(t,["sessionResumption"]);e!==void 0&&y!=null&&_(e,["setup","sessionResumption"],y);const R=x(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&_(e,["setup","inputAudioTranscription"],R);const I=x(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&_(e,["setup","outputAudioTranscription"],I);const b=x(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&_(e,["setup","realtimeInputConfig"],b);const B=x(t,["contextWindowCompression"]);e!==void 0&&B!=null&&_(e,["setup","contextWindowCompression"],B);const w=x(t,["proactivity"]);e!==void 0&&w!=null&&_(e,["setup","proactivity"],w);const O=x(t,["explicitVadSignal"]);return e!==void 0&&O!=null&&_(e,["setup","explicitVadSignal"],O),n}function uge(t,e){const n={},r=x(e,["model"]);r!=null&&_(n,["setup","model"],Pr(t,r));const i=x(e,["config"]);return i!=null&&_(n,["config"],cge(i,n)),n}function hge(t,e){const n={},r=x(e,["model"]);r!=null&&_(n,["setup","model"],Pr(t,r));const i=x(e,["config"]);return i!=null&&_(n,["config"],Age(i,n)),n}function dge(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&_(e,["musicGenerationConfig"],n),e}function fge(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["weightedPrompts"],r)}return e}function pge(t){const e={},n=x(t,["media"]);if(n!=null){let c=iq(n);Array.isArray(c)&&(c=c.map(A=>ab(A))),_(e,["mediaChunks"],c)}const r=x(t,["audio"]);r!=null&&_(e,["audio"],ab(oq(r)));const i=x(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const s=x(t,["video"]);s!=null&&_(e,["video"],ab(sq(s)));const o=x(t,["text"]);o!=null&&_(e,["text"],o);const a=x(t,["activityStart"]);a!=null&&_(e,["activityStart"],a);const l=x(t,["activityEnd"]);return l!=null&&_(e,["activityEnd"],l),e}function mge(t){const e={},n=x(t,["media"]);if(n!=null){let c=iq(n);Array.isArray(c)&&(c=c.map(A=>A)),_(e,["mediaChunks"],c)}const r=x(t,["audio"]);r!=null&&_(e,["audio"],oq(r));const i=x(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const s=x(t,["video"]);s!=null&&_(e,["video"],sq(s));const o=x(t,["text"]);o!=null&&_(e,["text"],o);const a=x(t,["activityStart"]);a!=null&&_(e,["activityStart"],a);const l=x(t,["activityEnd"]);return l!=null&&_(e,["activityEnd"],l),e}function gge(t){const e={},n=x(t,["setupComplete"]);n!=null&&_(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&_(e,["serverContent"],r);const i=x(t,["toolCall"]);i!=null&&_(e,["toolCall"],i);const s=x(t,["toolCallCancellation"]);s!=null&&_(e,["toolCallCancellation"],s);const o=x(t,["usageMetadata"]);o!=null&&_(e,["usageMetadata"],Cge(o));const a=x(t,["goAway"]);a!=null&&_(e,["goAway"],a);const l=x(t,["sessionResumptionUpdate"]);l!=null&&_(e,["sessionResumptionUpdate"],l);const c=x(t,["voiceActivityDetectionSignal"]);c!=null&&_(e,["voiceActivityDetectionSignal"],c);const A=x(t,["voiceActivity"]);return A!=null&&_(e,["voiceActivity"],xge(A)),e}function Ege(t){const e={},n=x(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=x(t,["fileData"]);s!=null&&_(e,["fileData"],rge(s));const o=x(t,["functionCall"]);o!=null&&_(e,["functionCall"],ige(o));const a=x(t,["functionResponse"]);a!=null&&_(e,["functionResponse"],a);const l=x(t,["inlineData"]);l!=null&&_(e,["inlineData"],ab(l));const c=x(t,["text"]);c!=null&&_(e,["text"],c);const A=x(t,["thought"]);A!=null&&_(e,["thought"],A);const u=x(t,["thoughtSignature"]);u!=null&&_(e,["thoughtSignature"],u);const h=x(t,["videoMetadata"]);return h!=null&&_(e,["videoMetadata"],h),e}function Tge(t){const e={},n=x(t,["handle"]);if(n!=null&&_(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Sge(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=x(t,["functionDeclarations"]);if(s!=null){let A=s;Array.isArray(A)&&(A=A.map(u=>u)),_(e,["functionDeclarations"],A)}const o=x(t,["googleMaps"]);o!=null&&_(e,["googleMaps"],age(o));const a=x(t,["googleSearch"]);a!=null&&_(e,["googleSearch"],lge(a));const l=x(t,["googleSearchRetrieval"]);l!=null&&_(e,["googleSearchRetrieval"],l);const c=x(t,["urlContext"]);return c!=null&&_(e,["urlContext"],c),e}function yge(t){const e={},n=x(t,["retrieval"]);n!=null&&_(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&_(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&_(e,["codeExecution"],i);const s=x(t,["enterpriseWebSearch"]);s!=null&&_(e,["enterpriseWebSearch"],s);const o=x(t,["functionDeclarations"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>sge(h))),_(e,["functionDeclarations"],u)}const a=x(t,["googleMaps"]);a!=null&&_(e,["googleMaps"],a);const l=x(t,["googleSearch"]);l!=null&&_(e,["googleSearch"],l);const c=x(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const A=x(t,["urlContext"]);return A!=null&&_(e,["urlContext"],A),e}function Cge(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&_(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&_(e,["cachedContentTokenCount"],r);const i=x(t,["candidatesTokenCount"]);i!=null&&_(e,["responseTokenCount"],i);const s=x(t,["toolUsePromptTokenCount"]);s!=null&&_(e,["toolUsePromptTokenCount"],s);const o=x(t,["thoughtsTokenCount"]);o!=null&&_(e,["thoughtsTokenCount"],o);const a=x(t,["totalTokenCount"]);a!=null&&_(e,["totalTokenCount"],a);const l=x(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(E=>E)),_(e,["promptTokensDetails"],p)}const c=x(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(E=>E)),_(e,["cacheTokensDetails"],p)}const A=x(t,["candidatesTokensDetails"]);if(A!=null){let p=A;Array.isArray(p)&&(p=p.map(E=>E)),_(e,["responseTokensDetails"],p)}const u=x(t,["toolUsePromptTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(E=>E)),_(e,["toolUsePromptTokensDetails"],p)}const h=x(t,["trafficType"]);return h!=null&&_(e,["trafficType"],h),e}function xge(t){const e={},n=x(t,["type"]);return n!=null&&_(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rge(t,e){const n={},r=x(t,["data"]);if(r!=null&&_(n,["data"],r),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=x(t,["mimeType"]);return i!=null&&_(n,["mimeType"],i),n}function Ige(t,e){const n={},r=x(t,["content"]);r!=null&&_(n,["content"],r);const i=x(t,["citationMetadata"]);i!=null&&_(n,["citationMetadata"],_ge(i));const s=x(t,["tokenCount"]);s!=null&&_(n,["tokenCount"],s);const o=x(t,["finishReason"]);o!=null&&_(n,["finishReason"],o);const a=x(t,["avgLogprobs"]);a!=null&&_(n,["avgLogprobs"],a);const l=x(t,["groundingMetadata"]);l!=null&&_(n,["groundingMetadata"],l);const c=x(t,["index"]);c!=null&&_(n,["index"],c);const A=x(t,["logprobsResult"]);A!=null&&_(n,["logprobsResult"],A);const u=x(t,["safetyRatings"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(E=>E)),_(n,["safetyRatings"],p)}const h=x(t,["urlContextMetadata"]);return h!=null&&_(n,["urlContextMetadata"],h),n}function _ge(t,e){const n={},r=x(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),_(n,["citations"],i)}return n}function Nge(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["contents"]);if(s!=null){let o=gc(s);Array.isArray(o)&&(o=o.map(a=>a)),_(r,["contents"],o)}return r}function bge(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),_(n,["tokensInfo"],s)}return n}function vge(t,e){const n={},r=x(t,["values"]);r!=null&&_(n,["values"],r);const i=x(t,["statistics"]);return i!=null&&_(n,["statistics"],Oge(i)),n}function Oge(t,e){const n={},r=x(t,["truncated"]);r!=null&&_(n,["truncated"],r);const i=x(t,["token_count"]);return i!=null&&_(n,["tokenCount"],i),n}function Cw(t,e){const n={},r=x(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>FEe(o))),_(n,["parts"],s)}const i=x(t,["role"]);return i!=null&&_(n,["role"],i),n}function wge(t,e){const n={},r=x(t,["controlType"]);r!=null&&_(n,["controlType"],r);const i=x(t,["enableControlImageComputation"]);return i!=null&&_(n,["computeControl"],i),n}function Lge(t,e){const n={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Bge(t,e,n){const r={},i=x(t,["systemInstruction"]);e!==void 0&&i!=null&&_(e,["systemInstruction"],Fo(i));const s=x(t,["tools"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>Sq(l))),_(e,["tools"],a)}const o=x(t,["generationConfig"]);return e!==void 0&&o!=null&&_(e,["generationConfig"],REe(o)),r}function Dge(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["contents"]);if(s!=null){let a=gc(s);Array.isArray(a)&&(a=a.map(l=>Cw(l))),_(r,["contents"],a)}const o=x(e,["config"]);return o!=null&&Lge(o),r}function kge(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["contents"]);if(s!=null){let a=gc(s);Array.isArray(a)&&(a=a.map(l=>l)),_(r,["contents"],a)}const o=x(e,["config"]);return o!=null&&Bge(o,r),r}function Mge(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["totalTokens"]);i!=null&&_(n,["totalTokens"],i);const s=x(t,["cachedContentTokenCount"]);return s!=null&&_(n,["cachedContentTokenCount"],s),n}function Pge(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["totalTokens"]);return i!=null&&_(n,["totalTokens"],i),n}function Uge(t,e,n){const r={},i=x(e,["model"]);return i!=null&&_(r,["_url","name"],Pr(t,i)),r}function Fge(t,e,n){const r={},i=x(e,["model"]);return i!=null&&_(r,["_url","name"],Pr(t,i)),r}function Hge(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function Gge(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function Qge(t,e,n){const r={},i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const s=x(t,["negativePrompt"]);e!==void 0&&s!=null&&_(e,["parameters","negativePrompt"],s);const o=x(t,["numberOfImages"]);e!==void 0&&o!=null&&_(e,["parameters","sampleCount"],o);const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&_(e,["parameters","aspectRatio"],a);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&_(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const A=x(t,["safetyFilterLevel"]);e!==void 0&&A!=null&&_(e,["parameters","safetySetting"],A);const u=x(t,["personGeneration"]);e!==void 0&&u!=null&&_(e,["parameters","personGeneration"],u);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&_(e,["parameters","includeSafetyAttributes"],h);const p=x(t,["includeRaiReason"]);e!==void 0&&p!=null&&_(e,["parameters","includeRaiReason"],p);const E=x(t,["language"]);e!==void 0&&E!=null&&_(e,["parameters","language"],E);const T=x(t,["outputMimeType"]);e!==void 0&&T!=null&&_(e,["parameters","outputOptions","mimeType"],T);const y=x(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&_(e,["parameters","outputOptions","compressionQuality"],y);const R=x(t,["addWatermark"]);e!==void 0&&R!=null&&_(e,["parameters","addWatermark"],R);const I=x(t,["labels"]);e!==void 0&&I!=null&&_(e,["labels"],I);const b=x(t,["editMode"]);e!==void 0&&b!=null&&_(e,["parameters","editMode"],b);const B=x(t,["baseSteps"]);return e!==void 0&&B!=null&&_(e,["parameters","editConfig","baseSteps"],B),r}function Vge(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const o=x(e,["referenceImages"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>WEe(c))),_(r,["instances[0]","referenceImages"],l)}const a=x(e,["config"]);return a!=null&&Qge(a,r),r}function $ge(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>xw(o))),_(n,["generatedImages"],s)}return n}function Wge(t,e,n){const r={},i=x(t,["taskType"]);e!==void 0&&i!=null&&_(e,["requests[]","taskType"],i);const s=x(t,["title"]);e!==void 0&&s!=null&&_(e,["requests[]","title"],s);const o=x(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&_(e,["requests[]","outputDimensionality"],o),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Yge(t,e,n){const r={},i=x(t,["taskType"]);e!==void 0&&i!=null&&_(e,["instances[]","task_type"],i);const s=x(t,["title"]);e!==void 0&&s!=null&&_(e,["instances[]","title"],s);const o=x(t,["outputDimensionality"]);e!==void 0&&o!=null&&_(e,["parameters","outputDimensionality"],o);const a=x(t,["mimeType"]);e!==void 0&&a!=null&&_(e,["instances[]","mimeType"],a);const l=x(t,["autoTruncate"]);return e!==void 0&&l!=null&&_(e,["parameters","autoTruncate"],l),r}function jge(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["contents"]);if(s!=null){let l=kF(t,s);Array.isArray(l)&&(l=l.map(c=>c)),_(r,["requests[]","content"],l)}const o=x(e,["config"]);o!=null&&Wge(o,r);const a=x(e,["model"]);return a!==void 0&&_(r,["requests[]","model"],Pr(t,a)),r}function Kge(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["contents"]);if(s!=null){let a=kF(t,s);Array.isArray(a)&&(a=a.map(l=>l)),_(r,["instances[]","content"],a)}const o=x(e,["config"]);return o!=null&&Yge(o,r),r}function zge(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),_(n,["embeddings"],o)}const s=x(t,["metadata"]);return s!=null&&_(n,["metadata"],s),n}function qge(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>vge(a))),_(n,["embeddings"],o)}const s=x(t,["metadata"]);return s!=null&&_(n,["metadata"],s),n}function Xge(t,e){const n={},r=x(t,["endpoint"]);r!=null&&_(n,["name"],r);const i=x(t,["deployedModelId"]);return i!=null&&_(n,["deployedModelId"],i),n}function Jge(t,e){const n={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["fileUri"]);r!=null&&_(n,["fileUri"],r);const i=x(t,["mimeType"]);return i!=null&&_(n,["mimeType"],i),n}function Zge(t,e){const n={},r=x(t,["id"]);r!=null&&_(n,["id"],r);const i=x(t,["args"]);i!=null&&_(n,["args"],i);const s=x(t,["name"]);if(s!=null&&_(n,["name"],s),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function eEe(t,e){const n={},r=x(t,["allowedFunctionNames"]);r!=null&&_(n,["allowedFunctionNames"],r);const i=x(t,["mode"]);if(i!=null&&_(n,["mode"],i),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function tEe(t,e){const n={},r=x(t,["description"]);r!=null&&_(n,["description"],r);const i=x(t,["name"]);i!=null&&_(n,["name"],i);const s=x(t,["parameters"]);s!=null&&_(n,["parameters"],s);const o=x(t,["parametersJsonSchema"]);o!=null&&_(n,["parametersJsonSchema"],o);const a=x(t,["response"]);a!=null&&_(n,["response"],a);const l=x(t,["responseJsonSchema"]);if(l!=null&&_(n,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function nEe(t,e,n,r){const i={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&_(n,["systemInstruction"],Cw(Fo(s)));const o=x(e,["temperature"]);o!=null&&_(i,["temperature"],o);const a=x(e,["topP"]);a!=null&&_(i,["topP"],a);const l=x(e,["topK"]);l!=null&&_(i,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&_(i,["candidateCount"],c);const A=x(e,["maxOutputTokens"]);A!=null&&_(i,["maxOutputTokens"],A);const u=x(e,["stopSequences"]);u!=null&&_(i,["stopSequences"],u);const h=x(e,["responseLogprobs"]);h!=null&&_(i,["responseLogprobs"],h);const p=x(e,["logprobs"]);p!=null&&_(i,["logprobs"],p);const E=x(e,["presencePenalty"]);E!=null&&_(i,["presencePenalty"],E);const T=x(e,["frequencyPenalty"]);T!=null&&_(i,["frequencyPenalty"],T);const y=x(e,["seed"]);y!=null&&_(i,["seed"],y);const R=x(e,["responseMimeType"]);R!=null&&_(i,["responseMimeType"],R);const I=x(e,["responseSchema"]);I!=null&&_(i,["responseSchema"],MF(I));const b=x(e,["responseJsonSchema"]);if(b!=null&&_(i,["responseJsonSchema"],b),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=x(e,["safetySettings"]);if(n!==void 0&&B!=null){let V=B;Array.isArray(V)&&(V=V.map($=>YEe($))),_(n,["safetySettings"],V)}const w=x(e,["tools"]);if(n!==void 0&&w!=null){let V=FS(w);Array.isArray(V)&&(V=V.map($=>ZEe(US($)))),_(n,["tools"],V)}const O=x(e,["toolConfig"]);if(n!==void 0&&O!=null&&_(n,["toolConfig"],JEe(O)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=x(e,["cachedContent"]);n!==void 0&&L!=null&&_(n,["cachedContent"],sd(t,L));const U=x(e,["responseModalities"]);U!=null&&_(i,["responseModalities"],U);const G=x(e,["mediaResolution"]);G!=null&&_(i,["mediaResolution"],G);const Q=x(e,["speechConfig"]);if(Q!=null&&_(i,["speechConfig"],PF(Q)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=x(e,["thinkingConfig"]);Y!=null&&_(i,["thinkingConfig"],Y);const K=x(e,["imageConfig"]);K!=null&&_(i,["imageConfig"],vEe(K));const j=x(e,["enableEnhancedCivicAnswers"]);if(j!=null&&_(i,["enableEnhancedCivicAnswers"],j),x(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function rEe(t,e,n,r){const i={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&_(n,["systemInstruction"],Fo(s));const o=x(e,["temperature"]);o!=null&&_(i,["temperature"],o);const a=x(e,["topP"]);a!=null&&_(i,["topP"],a);const l=x(e,["topK"]);l!=null&&_(i,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&_(i,["candidateCount"],c);const A=x(e,["maxOutputTokens"]);A!=null&&_(i,["maxOutputTokens"],A);const u=x(e,["stopSequences"]);u!=null&&_(i,["stopSequences"],u);const h=x(e,["responseLogprobs"]);h!=null&&_(i,["responseLogprobs"],h);const p=x(e,["logprobs"]);p!=null&&_(i,["logprobs"],p);const E=x(e,["presencePenalty"]);E!=null&&_(i,["presencePenalty"],E);const T=x(e,["frequencyPenalty"]);T!=null&&_(i,["frequencyPenalty"],T);const y=x(e,["seed"]);y!=null&&_(i,["seed"],y);const R=x(e,["responseMimeType"]);R!=null&&_(i,["responseMimeType"],R);const I=x(e,["responseSchema"]);I!=null&&_(i,["responseSchema"],MF(I));const b=x(e,["responseJsonSchema"]);b!=null&&_(i,["responseJsonSchema"],b);const B=x(e,["routingConfig"]);B!=null&&_(i,["routingConfig"],B);const w=x(e,["modelSelectionConfig"]);w!=null&&_(i,["modelConfig"],w);const O=x(e,["safetySettings"]);if(n!==void 0&&O!=null){let X=O;Array.isArray(X)&&(X=X.map(oe=>oe)),_(n,["safetySettings"],X)}const L=x(e,["tools"]);if(n!==void 0&&L!=null){let X=FS(L);Array.isArray(X)&&(X=X.map(oe=>Sq(US(oe)))),_(n,["tools"],X)}const U=x(e,["toolConfig"]);n!==void 0&&U!=null&&_(n,["toolConfig"],U);const G=x(e,["labels"]);n!==void 0&&G!=null&&_(n,["labels"],G);const Q=x(e,["cachedContent"]);n!==void 0&&Q!=null&&_(n,["cachedContent"],sd(t,Q));const Y=x(e,["responseModalities"]);Y!=null&&_(i,["responseModalities"],Y);const K=x(e,["mediaResolution"]);K!=null&&_(i,["mediaResolution"],K);const j=x(e,["speechConfig"]);j!=null&&_(i,["speechConfig"],PF(j));const V=x(e,["audioTimestamp"]);V!=null&&_(i,["audioTimestamp"],V);const $=x(e,["thinkingConfig"]);$!=null&&_(i,["thinkingConfig"],$);const J=x(e,["imageConfig"]);if(J!=null&&_(i,["imageConfig"],OEe(J)),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const te=x(e,["modelArmorConfig"]);return n!==void 0&&te!=null&&_(n,["modelArmorConfig"],te),i}function A3(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["contents"]);if(s!=null){let a=gc(s);Array.isArray(a)&&(a=a.map(l=>Cw(l))),_(r,["contents"],a)}const o=x(e,["config"]);return o!=null&&_(r,["generationConfig"],nEe(t,o,r)),r}function u3(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["contents"]);if(s!=null){let a=gc(s);Array.isArray(a)&&(a=a.map(l=>l)),_(r,["contents"],a)}const o=x(e,["config"]);return o!=null&&_(r,["generationConfig"],rEe(t,o,r)),r}function h3(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(A=>Ige(A))),_(n,["candidates"],c)}const s=x(t,["modelVersion"]);s!=null&&_(n,["modelVersion"],s);const o=x(t,["promptFeedback"]);o!=null&&_(n,["promptFeedback"],o);const a=x(t,["responseId"]);a!=null&&_(n,["responseId"],a);const l=x(t,["usageMetadata"]);return l!=null&&_(n,["usageMetadata"],l),n}function d3(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["candidates"]);if(i!=null){let A=i;Array.isArray(A)&&(A=A.map(u=>u)),_(n,["candidates"],A)}const s=x(t,["createTime"]);s!=null&&_(n,["createTime"],s);const o=x(t,["modelVersion"]);o!=null&&_(n,["modelVersion"],o);const a=x(t,["promptFeedback"]);a!=null&&_(n,["promptFeedback"],a);const l=x(t,["responseId"]);l!=null&&_(n,["responseId"],l);const c=x(t,["usageMetadata"]);return c!=null&&_(n,["usageMetadata"],c),n}function iEe(t,e,n){const r={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=x(t,["numberOfImages"]);e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const o=x(t,["guidanceScale"]);if(e!==void 0&&o!=null&&_(e,["parameters","guidanceScale"],o),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&_(e,["parameters","safetySetting"],a);const l=x(t,["personGeneration"]);e!==void 0&&l!=null&&_(e,["parameters","personGeneration"],l);const c=x(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&_(e,["parameters","includeSafetyAttributes"],c);const A=x(t,["includeRaiReason"]);e!==void 0&&A!=null&&_(e,["parameters","includeRaiReason"],A);const u=x(t,["language"]);e!==void 0&&u!=null&&_(e,["parameters","language"],u);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&_(e,["parameters","outputOptions","mimeType"],h);const p=x(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&_(e,["parameters","outputOptions","compressionQuality"],p),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=x(t,["imageSize"]);if(e!==void 0&&E!=null&&_(e,["parameters","sampleImageSize"],E),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function sEe(t,e,n){const r={},i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const s=x(t,["negativePrompt"]);e!==void 0&&s!=null&&_(e,["parameters","negativePrompt"],s);const o=x(t,["numberOfImages"]);e!==void 0&&o!=null&&_(e,["parameters","sampleCount"],o);const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&_(e,["parameters","aspectRatio"],a);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&_(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const A=x(t,["safetyFilterLevel"]);e!==void 0&&A!=null&&_(e,["parameters","safetySetting"],A);const u=x(t,["personGeneration"]);e!==void 0&&u!=null&&_(e,["parameters","personGeneration"],u);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&_(e,["parameters","includeSafetyAttributes"],h);const p=x(t,["includeRaiReason"]);e!==void 0&&p!=null&&_(e,["parameters","includeRaiReason"],p);const E=x(t,["language"]);e!==void 0&&E!=null&&_(e,["parameters","language"],E);const T=x(t,["outputMimeType"]);e!==void 0&&T!=null&&_(e,["parameters","outputOptions","mimeType"],T);const y=x(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&_(e,["parameters","outputOptions","compressionQuality"],y);const R=x(t,["addWatermark"]);e!==void 0&&R!=null&&_(e,["parameters","addWatermark"],R);const I=x(t,["labels"]);e!==void 0&&I!=null&&_(e,["labels"],I);const b=x(t,["imageSize"]);e!==void 0&&b!=null&&_(e,["parameters","sampleImageSize"],b);const B=x(t,["enhancePrompt"]);return e!==void 0&&B!=null&&_(e,["parameters","enhancePrompt"],B),r}function oEe(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const o=x(e,["config"]);return o!=null&&iEe(o,r),r}function aEe(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const o=x(e,["config"]);return o!=null&&sEe(o,r),r}function lEe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>SEe(a))),_(n,["generatedImages"],o)}const s=x(t,["positivePromptSafetyAttributes"]);return s!=null&&_(n,["positivePromptSafetyAttributes"],Eq(s)),n}function cEe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>xw(a))),_(n,["generatedImages"],o)}const s=x(t,["positivePromptSafetyAttributes"]);return s!=null&&_(n,["positivePromptSafetyAttributes"],Tq(s)),n}function AEe(t,e,n){const r={},i=x(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=x(t,["durationSeconds"]);if(e!==void 0&&s!=null&&_(e,["parameters","durationSeconds"],s),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=x(t,["aspectRatio"]);e!==void 0&&o!=null&&_(e,["parameters","aspectRatio"],o);const a=x(t,["resolution"]);e!==void 0&&a!=null&&_(e,["parameters","resolution"],a);const l=x(t,["personGeneration"]);if(e!==void 0&&l!=null&&_(e,["parameters","personGeneration"],l),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=x(t,["negativePrompt"]);e!==void 0&&c!=null&&_(e,["parameters","negativePrompt"],c);const A=x(t,["enhancePrompt"]);if(e!==void 0&&A!=null&&_(e,["parameters","enhancePrompt"],A),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const u=x(t,["lastFrame"]);e!==void 0&&u!=null&&_(e,["instances[0]","lastFrame"],Rw(u));const h=x(t,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(E=>hTe(E))),_(e,["instances[0]","referenceImages"],p)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function uEe(t,e,n){const r={},i=x(t,["numberOfVideos"]);e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i);const s=x(t,["outputGcsUri"]);e!==void 0&&s!=null&&_(e,["parameters","storageUri"],s);const o=x(t,["fps"]);e!==void 0&&o!=null&&_(e,["parameters","fps"],o);const a=x(t,["durationSeconds"]);e!==void 0&&a!=null&&_(e,["parameters","durationSeconds"],a);const l=x(t,["seed"]);e!==void 0&&l!=null&&_(e,["parameters","seed"],l);const c=x(t,["aspectRatio"]);e!==void 0&&c!=null&&_(e,["parameters","aspectRatio"],c);const A=x(t,["resolution"]);e!==void 0&&A!=null&&_(e,["parameters","resolution"],A);const u=x(t,["personGeneration"]);e!==void 0&&u!=null&&_(e,["parameters","personGeneration"],u);const h=x(t,["pubsubTopic"]);e!==void 0&&h!=null&&_(e,["parameters","pubsubTopic"],h);const p=x(t,["negativePrompt"]);e!==void 0&&p!=null&&_(e,["parameters","negativePrompt"],p);const E=x(t,["enhancePrompt"]);e!==void 0&&E!=null&&_(e,["parameters","enhancePrompt"],E);const T=x(t,["generateAudio"]);e!==void 0&&T!=null&&_(e,["parameters","generateAudio"],T);const y=x(t,["lastFrame"]);e!==void 0&&y!=null&&_(e,["instances[0]","lastFrame"],fA(y));const R=x(t,["referenceImages"]);if(e!==void 0&&R!=null){let B=R;Array.isArray(B)&&(B=B.map(w=>dTe(w))),_(e,["instances[0]","referenceImages"],B)}const I=x(t,["mask"]);e!==void 0&&I!=null&&_(e,["instances[0]","mask"],uTe(I));const b=x(t,["compressionQuality"]);return e!==void 0&&b!=null&&_(e,["parameters","compressionQuality"],b),r}function hEe(t,e){const n={},r=x(t,["name"]);r!=null&&_(n,["name"],r);const i=x(t,["metadata"]);i!=null&&_(n,["metadata"],i);const s=x(t,["done"]);s!=null&&_(n,["done"],s);const o=x(t,["error"]);o!=null&&_(n,["error"],o);const a=x(t,["response","generateVideoResponse"]);return a!=null&&_(n,["response"],mEe(a)),n}function dEe(t,e){const n={},r=x(t,["name"]);r!=null&&_(n,["name"],r);const i=x(t,["metadata"]);i!=null&&_(n,["metadata"],i);const s=x(t,["done"]);s!=null&&_(n,["done"],s);const o=x(t,["error"]);o!=null&&_(n,["error"],o);const a=x(t,["response"]);return a!=null&&_(n,["response"],gEe(a)),n}function fEe(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const o=x(e,["image"]);o!=null&&_(r,["instances[0]","image"],Rw(o));const a=x(e,["video"]);a!=null&&_(r,["instances[0]","video"],yq(a));const l=x(e,["source"]);l!=null&&EEe(l,r);const c=x(e,["config"]);return c!=null&&AEe(c,r),r}function pEe(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const o=x(e,["image"]);o!=null&&_(r,["instances[0]","image"],fA(o));const a=x(e,["video"]);a!=null&&_(r,["instances[0]","video"],Cq(a));const l=x(e,["source"]);l!=null&&TEe(l,r);const c=x(e,["config"]);return c!=null&&uEe(c,r),r}function mEe(t,e){const n={},r=x(t,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>CEe(a))),_(n,["generatedVideos"],o)}const i=x(t,["raiMediaFilteredCount"]);i!=null&&_(n,["raiMediaFilteredCount"],i);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&_(n,["raiMediaFilteredReasons"],s),n}function gEe(t,e){const n={},r=x(t,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>xEe(a))),_(n,["generatedVideos"],o)}const i=x(t,["raiMediaFilteredCount"]);i!=null&&_(n,["raiMediaFilteredCount"],i);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&_(n,["raiMediaFilteredReasons"],s),n}function EEe(t,e,n){const r={},i=x(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=x(t,["image"]);e!==void 0&&s!=null&&_(e,["instances[0]","image"],Rw(s));const o=x(t,["video"]);return e!==void 0&&o!=null&&_(e,["instances[0]","video"],yq(o)),r}function TEe(t,e,n){const r={},i=x(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=x(t,["image"]);e!==void 0&&s!=null&&_(e,["instances[0]","image"],fA(s));const o=x(t,["video"]);return e!==void 0&&o!=null&&_(e,["instances[0]","video"],Cq(o)),r}function SEe(t,e){const n={},r=x(t,["_self"]);r!=null&&_(n,["image"],wEe(r));const i=x(t,["raiFilteredReason"]);i!=null&&_(n,["raiFilteredReason"],i);const s=x(t,["_self"]);return s!=null&&_(n,["safetyAttributes"],Eq(s)),n}function xw(t,e){const n={},r=x(t,["_self"]);r!=null&&_(n,["image"],gq(r));const i=x(t,["raiFilteredReason"]);i!=null&&_(n,["raiFilteredReason"],i);const s=x(t,["_self"]);s!=null&&_(n,["safetyAttributes"],Tq(s));const o=x(t,["prompt"]);return o!=null&&_(n,["enhancedPrompt"],o),n}function yEe(t,e){const n={},r=x(t,["_self"]);r!=null&&_(n,["mask"],gq(r));const i=x(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),_(n,["labels"],s)}return n}function CEe(t,e){const n={},r=x(t,["video"]);return r!=null&&_(n,["video"],cTe(r)),n}function xEe(t,e){const n={},r=x(t,["_self"]);return r!=null&&_(n,["video"],ATe(r)),n}function REe(t,e){const n={},r=x(t,["modelSelectionConfig"]);r!=null&&_(n,["modelConfig"],r);const i=x(t,["responseJsonSchema"]);i!=null&&_(n,["responseJsonSchema"],i);const s=x(t,["audioTimestamp"]);s!=null&&_(n,["audioTimestamp"],s);const o=x(t,["candidateCount"]);o!=null&&_(n,["candidateCount"],o);const a=x(t,["enableAffectiveDialog"]);a!=null&&_(n,["enableAffectiveDialog"],a);const l=x(t,["frequencyPenalty"]);l!=null&&_(n,["frequencyPenalty"],l);const c=x(t,["logprobs"]);c!=null&&_(n,["logprobs"],c);const A=x(t,["maxOutputTokens"]);A!=null&&_(n,["maxOutputTokens"],A);const u=x(t,["mediaResolution"]);u!=null&&_(n,["mediaResolution"],u);const h=x(t,["presencePenalty"]);h!=null&&_(n,["presencePenalty"],h);const p=x(t,["responseLogprobs"]);p!=null&&_(n,["responseLogprobs"],p);const E=x(t,["responseMimeType"]);E!=null&&_(n,["responseMimeType"],E);const T=x(t,["responseModalities"]);T!=null&&_(n,["responseModalities"],T);const y=x(t,["responseSchema"]);y!=null&&_(n,["responseSchema"],y);const R=x(t,["routingConfig"]);R!=null&&_(n,["routingConfig"],R);const I=x(t,["seed"]);I!=null&&_(n,["seed"],I);const b=x(t,["speechConfig"]);b!=null&&_(n,["speechConfig"],b);const B=x(t,["stopSequences"]);B!=null&&_(n,["stopSequences"],B);const w=x(t,["temperature"]);w!=null&&_(n,["temperature"],w);const O=x(t,["thinkingConfig"]);O!=null&&_(n,["thinkingConfig"],O);const L=x(t,["topK"]);L!=null&&_(n,["topK"],L);const U=x(t,["topP"]);if(U!=null&&_(n,["topP"],U),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function IEe(t,e,n){const r={},i=x(e,["model"]);return i!=null&&_(r,["_url","name"],Pr(t,i)),r}function _Ee(t,e,n){const r={},i=x(e,["model"]);return i!=null&&_(r,["_url","name"],Pr(t,i)),r}function NEe(t,e){const n={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=x(t,["enableWidget"]);return r!=null&&_(n,["enableWidget"],r),n}function bEe(t,e){const n={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=x(t,["timeRangeFilter"]);return r!=null&&_(n,["timeRangeFilter"],r),n}function vEe(t,e){const n={},r=x(t,["aspectRatio"]);r!=null&&_(n,["aspectRatio"],r);const i=x(t,["imageSize"]);if(i!=null&&_(n,["imageSize"],i),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function OEe(t,e){const n={},r=x(t,["aspectRatio"]);r!=null&&_(n,["aspectRatio"],r);const i=x(t,["imageSize"]);i!=null&&_(n,["imageSize"],i);const s=x(t,["personGeneration"]);s!=null&&_(n,["personGeneration"],s);const o=x(t,["outputMimeType"]);o!=null&&_(n,["imageOutputOptions","mimeType"],o);const a=x(t,["outputCompressionQuality"]);return a!=null&&_(n,["imageOutputOptions","compressionQuality"],a),n}function wEe(t,e){const n={},r=x(t,["bytesBase64Encoded"]);r!=null&&_(n,["imageBytes"],Jf(r));const i=x(t,["mimeType"]);return i!=null&&_(n,["mimeType"],i),n}function gq(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&_(n,["gcsUri"],r);const i=x(t,["bytesBase64Encoded"]);i!=null&&_(n,["imageBytes"],Jf(i));const s=x(t,["mimeType"]);return s!=null&&_(n,["mimeType"],s),n}function Rw(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["imageBytes"]);r!=null&&_(n,["bytesBase64Encoded"],Jf(r));const i=x(t,["mimeType"]);return i!=null&&_(n,["mimeType"],i),n}function fA(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&_(n,["gcsUri"],r);const i=x(t,["imageBytes"]);i!=null&&_(n,["bytesBase64Encoded"],Jf(i));const s=x(t,["mimeType"]);return s!=null&&_(n,["mimeType"],s),n}function LEe(t,e,n,r){const i={},s=x(e,["pageSize"]);n!==void 0&&s!=null&&_(n,["_query","pageSize"],s);const o=x(e,["pageToken"]);n!==void 0&&o!=null&&_(n,["_query","pageToken"],o);const a=x(e,["filter"]);n!==void 0&&a!=null&&_(n,["_query","filter"],a);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&_(n,["_url","models_url"],Aq(t,l)),i}function BEe(t,e,n,r){const i={},s=x(e,["pageSize"]);n!==void 0&&s!=null&&_(n,["_query","pageSize"],s);const o=x(e,["pageToken"]);n!==void 0&&o!=null&&_(n,["_query","pageToken"],o);const a=x(e,["filter"]);n!==void 0&&a!=null&&_(n,["_query","filter"],a);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&_(n,["_url","models_url"],Aq(t,l)),i}function DEe(t,e,n){const r={},i=x(e,["config"]);return i!=null&&LEe(t,i,r),r}function kEe(t,e,n){const r={},i=x(e,["config"]);return i!=null&&BEe(t,i,r),r}function MEe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const s=x(t,["_self"]);if(s!=null){let o=uq(s);Array.isArray(o)&&(o=o.map(a=>Jk(a))),_(n,["models"],o)}return n}function PEe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const s=x(t,["_self"]);if(s!=null){let o=uq(s);Array.isArray(o)&&(o=o.map(a=>Zk(a))),_(n,["models"],o)}return n}function UEe(t,e){const n={},r=x(t,["maskMode"]);r!=null&&_(n,["maskMode"],r);const i=x(t,["segmentationClasses"]);i!=null&&_(n,["maskClasses"],i);const s=x(t,["maskDilation"]);return s!=null&&_(n,["dilation"],s),n}function Jk(t,e){const n={},r=x(t,["name"]);r!=null&&_(n,["name"],r);const i=x(t,["displayName"]);i!=null&&_(n,["displayName"],i);const s=x(t,["description"]);s!=null&&_(n,["description"],s);const o=x(t,["version"]);o!=null&&_(n,["version"],o);const a=x(t,["_self"]);a!=null&&_(n,["tunedModelInfo"],eTe(a));const l=x(t,["inputTokenLimit"]);l!=null&&_(n,["inputTokenLimit"],l);const c=x(t,["outputTokenLimit"]);c!=null&&_(n,["outputTokenLimit"],c);const A=x(t,["supportedGenerationMethods"]);A!=null&&_(n,["supportedActions"],A);const u=x(t,["temperature"]);u!=null&&_(n,["temperature"],u);const h=x(t,["maxTemperature"]);h!=null&&_(n,["maxTemperature"],h);const p=x(t,["topP"]);p!=null&&_(n,["topP"],p);const E=x(t,["topK"]);E!=null&&_(n,["topK"],E);const T=x(t,["thinking"]);return T!=null&&_(n,["thinking"],T),n}function Zk(t,e){const n={},r=x(t,["name"]);r!=null&&_(n,["name"],r);const i=x(t,["displayName"]);i!=null&&_(n,["displayName"],i);const s=x(t,["description"]);s!=null&&_(n,["description"],s);const o=x(t,["versionId"]);o!=null&&_(n,["version"],o);const a=x(t,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>Xge(p))),_(n,["endpoints"],h)}const l=x(t,["labels"]);l!=null&&_(n,["labels"],l);const c=x(t,["_self"]);c!=null&&_(n,["tunedModelInfo"],tTe(c));const A=x(t,["defaultCheckpointId"]);A!=null&&_(n,["defaultCheckpointId"],A);const u=x(t,["checkpoints"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>p)),_(n,["checkpoints"],h)}return n}function FEe(t,e){const n={},r=x(t,["mediaResolution"]);r!=null&&_(n,["mediaResolution"],r);const i=x(t,["codeExecutionResult"]);i!=null&&_(n,["codeExecutionResult"],i);const s=x(t,["executableCode"]);s!=null&&_(n,["executableCode"],s);const o=x(t,["fileData"]);o!=null&&_(n,["fileData"],Jge(o));const a=x(t,["functionCall"]);a!=null&&_(n,["functionCall"],Zge(a));const l=x(t,["functionResponse"]);l!=null&&_(n,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&_(n,["inlineData"],Rge(c));const A=x(t,["text"]);A!=null&&_(n,["text"],A);const u=x(t,["thought"]);u!=null&&_(n,["thought"],u);const h=x(t,["thoughtSignature"]);h!=null&&_(n,["thoughtSignature"],h);const p=x(t,["videoMetadata"]);return p!=null&&_(n,["videoMetadata"],p),n}function HEe(t,e){const n={},r=x(t,["productImage"]);return r!=null&&_(n,["image"],fA(r)),n}function GEe(t,e,n){const r={},i=x(t,["numberOfImages"]);e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i);const s=x(t,["baseSteps"]);e!==void 0&&s!=null&&_(e,["parameters","baseSteps"],s);const o=x(t,["outputGcsUri"]);e!==void 0&&o!=null&&_(e,["parameters","storageUri"],o);const a=x(t,["seed"]);e!==void 0&&a!=null&&_(e,["parameters","seed"],a);const l=x(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&_(e,["parameters","safetySetting"],l);const c=x(t,["personGeneration"]);e!==void 0&&c!=null&&_(e,["parameters","personGeneration"],c);const A=x(t,["addWatermark"]);e!==void 0&&A!=null&&_(e,["parameters","addWatermark"],A);const u=x(t,["outputMimeType"]);e!==void 0&&u!=null&&_(e,["parameters","outputOptions","mimeType"],u);const h=x(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&_(e,["parameters","outputOptions","compressionQuality"],h);const p=x(t,["enhancePrompt"]);e!==void 0&&p!=null&&_(e,["parameters","enhancePrompt"],p);const E=x(t,["labels"]);return e!==void 0&&E!=null&&_(e,["labels"],E),r}function QEe(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["source"]);s!=null&&$Ee(s,r);const o=x(e,["config"]);return o!=null&&GEe(o,r),r}function VEe(t,e){const n={},r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>xw(s))),_(n,["generatedImages"],i)}return n}function $Ee(t,e,n){const r={},i=x(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=x(t,["personImage"]);e!==void 0&&s!=null&&_(e,["instances[0]","personImage","image"],fA(s));const o=x(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>HEe(l))),_(e,["instances[0]","productImages"],a)}return r}function WEe(t,e){const n={},r=x(t,["referenceImage"]);r!=null&&_(n,["referenceImage"],fA(r));const i=x(t,["referenceId"]);i!=null&&_(n,["referenceId"],i);const s=x(t,["referenceType"]);s!=null&&_(n,["referenceType"],s);const o=x(t,["maskImageConfig"]);o!=null&&_(n,["maskImageConfig"],UEe(o));const a=x(t,["controlImageConfig"]);a!=null&&_(n,["controlImageConfig"],wge(a));const l=x(t,["styleImageConfig"]);l!=null&&_(n,["styleImageConfig"],l);const c=x(t,["subjectImageConfig"]);return c!=null&&_(n,["subjectImageConfig"],c),n}function Eq(t,e){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&_(n,["categories"],r);const i=x(t,["safetyAttributes","scores"]);i!=null&&_(n,["scores"],i);const s=x(t,["contentType"]);return s!=null&&_(n,["contentType"],s),n}function Tq(t,e){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&_(n,["categories"],r);const i=x(t,["safetyAttributes","scores"]);i!=null&&_(n,["scores"],i);const s=x(t,["contentType"]);return s!=null&&_(n,["contentType"],s),n}function YEe(t,e){const n={},r=x(t,["category"]);if(r!=null&&_(n,["category"],r),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=x(t,["threshold"]);return i!=null&&_(n,["threshold"],i),n}function jEe(t,e){const n={},r=x(t,["image"]);return r!=null&&_(n,["image"],fA(r)),n}function KEe(t,e,n){const r={},i=x(t,["mode"]);e!==void 0&&i!=null&&_(e,["parameters","mode"],i);const s=x(t,["maxPredictions"]);e!==void 0&&s!=null&&_(e,["parameters","maxPredictions"],s);const o=x(t,["confidenceThreshold"]);e!==void 0&&o!=null&&_(e,["parameters","confidenceThreshold"],o);const a=x(t,["maskDilation"]);e!==void 0&&a!=null&&_(e,["parameters","maskDilation"],a);const l=x(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&_(e,["parameters","binaryColorThreshold"],l);const c=x(t,["labels"]);return e!==void 0&&c!=null&&_(e,["labels"],c),r}function zEe(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["source"]);s!=null&&XEe(s,r);const o=x(e,["config"]);return o!=null&&KEe(o,r),r}function qEe(t,e){const n={},r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>yEe(s))),_(n,["generatedMasks"],i)}return n}function XEe(t,e,n){const r={},i=x(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=x(t,["image"]);e!==void 0&&s!=null&&_(e,["instances[0]","image"],fA(s));const o=x(t,["scribbleImage"]);return e!==void 0&&o!=null&&_(e,["instances[0]","scribble"],jEe(o)),r}function JEe(t,e){const n={},r=x(t,["retrievalConfig"]);r!=null&&_(n,["retrievalConfig"],r);const i=x(t,["functionCallingConfig"]);return i!=null&&_(n,["functionCallingConfig"],eEe(i)),n}function ZEe(t,e){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["computerUse"]);r!=null&&_(n,["computerUse"],r);const i=x(t,["fileSearch"]);i!=null&&_(n,["fileSearch"],i);const s=x(t,["codeExecution"]);if(s!=null&&_(n,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["functionDeclarations"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>h)),_(n,["functionDeclarations"],u)}const a=x(t,["googleMaps"]);a!=null&&_(n,["googleMaps"],NEe(a));const l=x(t,["googleSearch"]);l!=null&&_(n,["googleSearch"],bEe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&_(n,["googleSearchRetrieval"],c);const A=x(t,["urlContext"]);return A!=null&&_(n,["urlContext"],A),n}function Sq(t,e){const n={},r=x(t,["retrieval"]);r!=null&&_(n,["retrieval"],r);const i=x(t,["computerUse"]);if(i!=null&&_(n,["computerUse"],i),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&_(n,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&_(n,["enterpriseWebSearch"],o);const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>tEe(p))),_(n,["functionDeclarations"],h)}const l=x(t,["googleMaps"]);l!=null&&_(n,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&_(n,["googleSearch"],c);const A=x(t,["googleSearchRetrieval"]);A!=null&&_(n,["googleSearchRetrieval"],A);const u=x(t,["urlContext"]);return u!=null&&_(n,["urlContext"],u),n}function eTe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=x(t,["createTime"]);i!=null&&_(n,["createTime"],i);const s=x(t,["updateTime"]);return s!=null&&_(n,["updateTime"],s),n}function tTe(t,e){const n={},r=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&_(n,["baseModel"],r);const i=x(t,["createTime"]);i!=null&&_(n,["createTime"],i);const s=x(t,["updateTime"]);return s!=null&&_(n,["updateTime"],s),n}function nTe(t,e,n){const r={},i=x(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const s=x(t,["description"]);e!==void 0&&s!=null&&_(e,["description"],s);const o=x(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&_(e,["defaultCheckpointId"],o),r}function rTe(t,e,n){const r={},i=x(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const s=x(t,["description"]);e!==void 0&&s!=null&&_(e,["description"],s);const o=x(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&_(e,["defaultCheckpointId"],o),r}function iTe(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","name"],Pr(t,i));const s=x(e,["config"]);return s!=null&&nTe(s,r),r}function sTe(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["config"]);return s!=null&&rTe(s,r),r}function oTe(t,e,n){const r={},i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const s=x(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&_(e,["parameters","safetySetting"],s);const o=x(t,["personGeneration"]);e!==void 0&&o!=null&&_(e,["parameters","personGeneration"],o);const a=x(t,["includeRaiReason"]);e!==void 0&&a!=null&&_(e,["parameters","includeRaiReason"],a);const l=x(t,["outputMimeType"]);e!==void 0&&l!=null&&_(e,["parameters","outputOptions","mimeType"],l);const c=x(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&_(e,["parameters","outputOptions","compressionQuality"],c);const A=x(t,["enhanceInputImage"]);e!==void 0&&A!=null&&_(e,["parameters","upscaleConfig","enhanceInputImage"],A);const u=x(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&_(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const h=x(t,["labels"]);e!==void 0&&h!=null&&_(e,["labels"],h);const p=x(t,["numberOfImages"]);e!==void 0&&p!=null&&_(e,["parameters","sampleCount"],p);const E=x(t,["mode"]);return e!==void 0&&E!=null&&_(e,["parameters","mode"],E),r}function aTe(t,e,n){const r={},i=x(e,["model"]);i!=null&&_(r,["_url","model"],Pr(t,i));const s=x(e,["image"]);s!=null&&_(r,["instances[0]","image"],fA(s));const o=x(e,["upscaleFactor"]);o!=null&&_(r,["parameters","upscaleConfig","upscaleFactor"],o);const a=x(e,["config"]);return a!=null&&oTe(a,r),r}function lTe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>xw(o))),_(n,["generatedImages"],s)}return n}function cTe(t,e){const n={},r=x(t,["uri"]);r!=null&&_(n,["uri"],r);const i=x(t,["encodedVideo"]);i!=null&&_(n,["videoBytes"],Jf(i));const s=x(t,["encoding"]);return s!=null&&_(n,["mimeType"],s),n}function ATe(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&_(n,["uri"],r);const i=x(t,["bytesBase64Encoded"]);i!=null&&_(n,["videoBytes"],Jf(i));const s=x(t,["mimeType"]);return s!=null&&_(n,["mimeType"],s),n}function uTe(t,e){const n={},r=x(t,["image"]);r!=null&&_(n,["_self"],fA(r));const i=x(t,["maskMode"]);return i!=null&&_(n,["maskMode"],i),n}function hTe(t,e){const n={},r=x(t,["image"]);r!=null&&_(n,["image"],Rw(r));const i=x(t,["referenceType"]);return i!=null&&_(n,["referenceType"],i),n}function dTe(t,e){const n={},r=x(t,["image"]);r!=null&&_(n,["image"],fA(r));const i=x(t,["referenceType"]);return i!=null&&_(n,["referenceType"],i),n}function yq(t,e){const n={},r=x(t,["uri"]);r!=null&&_(n,["uri"],r);const i=x(t,["videoBytes"]);i!=null&&_(n,["encodedVideo"],Jf(i));const s=x(t,["mimeType"]);return s!=null&&_(n,["encoding"],s),n}function Cq(t,e){const n={},r=x(t,["uri"]);r!=null&&_(n,["gcsUri"],r);const i=x(t,["videoBytes"]);i!=null&&_(n,["bytesBase64Encoded"],Jf(i));const s=x(t,["mimeType"]);return s!=null&&_(n,["mimeType"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fTe(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["displayName"],r),n}function pTe(t){const e={},n=x(t,["config"]);return n!=null&&fTe(n,e),e}function mTe(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function gTe(t){const e={},n=x(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&mTe(r,e),e}function ETe(t){const e={},n=x(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function TTe(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),_(e,["customMetadata"],s)}const i=x(t,["chunkingConfig"]);return e!==void 0&&i!=null&&_(e,["chunkingConfig"],i),n}function STe(t){const e={},n=x(t,["name"]);n!=null&&_(e,["name"],n);const r=x(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=x(t,["done"]);i!=null&&_(e,["done"],i);const s=x(t,["error"]);s!=null&&_(e,["error"],s);const o=x(t,["response"]);return o!=null&&_(e,["response"],CTe(o)),e}function yTe(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&_(e,["fileName"],r);const i=x(t,["config"]);return i!=null&&TTe(i,e),e}function CTe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&_(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function xTe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function RTe(t){const e={},n=x(t,["config"]);return n!=null&&xTe(n,e),e}function ITe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=x(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),_(e,["fileSearchStores"],s)}return e}function xq(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&_(e,["mimeType"],r);const i=x(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const s=x(t,["customMetadata"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),_(e,["customMetadata"],a)}const o=x(t,["chunkingConfig"]);return e!==void 0&&o!=null&&_(e,["chunkingConfig"],o),n}function _Te(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&xq(r,e),e}function NTe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bTe="Content-Type",vTe="X-Server-Timeout",OTe="User-Agent",eM="x-goog-api-client",wTe="1.39.0",LTe=`google-genai-sdk/${wTe}`,BTe="v1beta1",DTe="v1beta";class kTe{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:BTe}else{if(!this.clientOptions.apiKey)throw new xx({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:DTe,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Kk.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,a]of Object.entries(e.queryParams))i.searchParams.append(o,String(a));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>s.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&MTe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await f3(i),new zk(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await f3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return sA(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:A}=yield Hn(i.read());if(c){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(A,{stream:!0});try{const E=JSON.parse(u);if("error"in E){const T=JSON.parse(JSON.stringify(E.error)),y=T.status,R=T.code,I=`got status: ${y}. ${JSON.stringify(E)}`;if(R>=400&&R<600)throw new xx({message:I,status:R})}}catch(E){if(E.name==="ApiError")throw E}o+=u;let h=-1,p=0;for(;;){h=-1,p=0;for(const y of l){const R=o.indexOf(y);R!==-1&&(h===-1||R<h)&&(h=R,p=y.length)}if(h===-1)break;const E=o.substring(0,h);o=o.substring(h+p);const T=E.trim();if(T.startsWith(a)){const y=T.substring(a.length).trim();try{const R=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Hn(new zk(R))}catch(R){throw new Error(`exception parsing stream chunk ${y}. ${R}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=LTe+" "+this.clientOptions.userAgentExtra;return e[OTe]=n,e[eM]=n,e[bTe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(vTe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},c=this.getFileName(e),A=St("upload/v1beta/files",l._url),u=await this.fetchUploadUrl(A,i.sizeBytes,i.mimeType,c,l,n==null?void 0:n.httpOptions);return s.upload(e,u,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,o=await s.stat(n),a=String(o.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,A=this.getFileName(n),u={};r!=null&&xq(r,u);const h=await this.fetchUploadUrl(c,a,l,A,u,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var a;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const A=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(A===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return A}}async function f3(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new xx({message:i,status:n}):new Error(i)}}function MTe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const a=Object.assign({},s);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const c=o[l],A=a[l];c&&typeof c=="object"&&!Array.isArray(c)&&A&&typeof A=="object"&&!Array.isArray(A)?a[l]=r(A,c):(A&&c&&typeof A!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof A}, New type: ${typeof c}. Overwriting.`),a[l]=c)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PTe="mcp_used/unknown";let UTe=!1;function Rq(t){for(const e of t)if(FTe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return UTe}function Iq(t){var e;const n=(e=t[eM])!==null&&e!==void 0?e:"";t[eM]=(n+` ${PTe}`).trimStart()}function FTe(t){return t!==null&&typeof t=="object"&&t instanceof FF}function HTe(t){return sA(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const o=yield Hn(n.listTools({cursor:i}));for(const a of o.tools)yield yield Hn(a),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class FF{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new FF(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const A of this.mcpClients)try{for(var a=!0,l=(n=void 0,oA(HTe(A))),c;c=await l.next(),e=c.done,!e;a=!0){i=c.value,a=!1;const u=i;o.push(u);const h=u.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=A}}catch(u){n={error:u}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),ppe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function GTe(t,e,n){const r=new ape;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class QTe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=WTe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const A=new Promise(b=>{c=b}),u=e.callbacks,h=function(){c({})},p=this.apiClient,E={onopen:h,onmessage:b=>{GTe(p,u.onmessage,b)},onerror:(n=u==null?void 0:u.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=u==null?void 0:u.onclose)!==null&&r!==void 0?r:function(b){}},T=this.webSocketFactory.create(l,$Te(o),E);T.connect(),await A;const I={setup:{model:Pr(this.apiClient,e.model)}};return T.send(JSON.stringify(I)),new VTe(T,this.apiClient)}}class VTe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=fge(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=dge(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(TT.PLAY)}pause(){this.sendPlaybackControl(TT.PAUSE)}stop(){this.sendPlaybackControl(TT.STOP)}resetContext(){this.sendPlaybackControl(TT.RESET_CONTEXT)}close(){this.conn.close()}}function $Te(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function WTe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YTe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jTe(t,e,n){const r=new ope;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=gge(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class KTe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new QTe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let A;const u=this.apiClient.getHeaders();e.config&&e.config.tools&&Rq(e.config.tools)&&Iq(u);const h=JTe(u);if(this.apiClient.isVertexAI()){const G=this.apiClient.getProject(),Q=this.apiClient.getLocation(),Y=this.apiClient.getApiKey(),K=!!G&&!!Q||!!Y;this.apiClient.getCustomBaseUrl()&&!K?A=l:(A=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,A))}else{const G=this.apiClient.getApiKey();let Q="BidiGenerateContent",Y="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",Y="access_token"),A=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${Q}?${Y}=${G}`}let p=()=>{};const E=new Promise(G=>{p=G}),T=e.callbacks,y=function(){var G;(G=T==null?void 0:T.onopen)===null||G===void 0||G.call(T),p({})},R=this.apiClient,I={onopen:y,onmessage:G=>{jTe(R,T.onmessage,G)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(G){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(G){}},b=this.webSocketFactory.create(A,XTe(h),I);b.connect(),await E;let B=Pr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const G=this.apiClient.getProject(),Q=this.apiClient.getLocation();G&&Q&&(B=`projects/${G}/locations/${Q}/`+B)}let w={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Iv.AUDIO]}:e.config.responseModalities=[Iv.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],L=[];for(const G of O)if(this.isCallableTool(G)){const Q=G;L.push(await Q.tool())}else L.push(G);L.length>0&&(e.config.tools=L);const U={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=hge(this.apiClient,U):w=uge(this.apiClient,U),delete w.config,b.send(JSON.stringify(w)),new qTe(b,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const zTe={turnComplete:!0};class qTe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=gc(n.turns),e.isVertexAI()||(r=r.map(i=>Cw(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(YTe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},zTe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:mge(e)}:n={realtimeInput:pge(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function XTe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function JTe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p3=10;function m3(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(MT(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function MT(t){return"callTool"in t&&typeof t.callTool=="function"}function ZTe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>MT(i)))!==null&&r!==void 0?r:!1}function g3(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(MT(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function E3(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eSe extends id{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!ZTe(n)||m3(n.config))return await this.generateContentInternal(l);const c=g3(n);if(c.length>0){const T=c.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let A,u;const h=gc(l.contents),p=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:p3;let E=0;for(;E<p&&(A=await this.generateContentInternal(l),!(!A.functionCalls||A.functionCalls.length===0));){const T=A.candidates[0].content,y=[];for(const R of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(MT(R)){const b=await R.callTool(A.functionCalls);y.push(...b)}E++,u={role:"user",parts:y},l.contents=gc(l.contents),l.contents.push(T),l.contents.push(u),E3(l.config)&&(h.push(T),h.push(u))}return E3(l.config)&&(A.automaticFunctionCallingHistory=h),A},this.generateContentStream=async n=>{var r,i,s,o,a;if(this.maybeMoveToResponseJsonSchem(n),m3(n.config)){const u=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(u)}const l=g3(n);if(l.length>0){const u=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${u}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,A=(a=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!A)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:o.push(l);let a;return s?a={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new lg(Yh.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async l=>MT(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&Rq(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Iq(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(MT(o)){const a=o,l=await a.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,a)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:p3;let o=!1,a=0;const l=await this.initAfcToolsMap(e);return(function(c,A,u){return sA(this,arguments,function*(){for(var h,p,E,T,y,R;a<s;){o&&(a++,o=!1);const w=yield Hn(c.processParamsMaybeAddMcpUsage(u)),O=yield Hn(c.generateContentStreamInternal(w)),L=[],U=[];try{for(var I=!0,b=(p=void 0,oA(O)),B;B=yield Hn(b.next()),h=B.done,!h;I=!0){T=B.value,I=!1;const G=T;if(yield yield Hn(G),G.candidates&&(!((y=G.candidates[0])===null||y===void 0)&&y.content)){U.push(G.candidates[0].content);for(const Q of(R=G.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(a<s&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(A.has(Q.functionCall.name)){const Y=yield Hn(A.get(Q.functionCall.name).callTool([Q.functionCall]));L.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${A.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(G){p={error:G}}finally{try{!I&&!h&&(E=b.return)&&(yield Hn(E.call(b)))}finally{if(p)throw p.error}}if(L.length>0){o=!0;const G=new C0;G.candidates=[{content:{role:"user",parts:L}}],yield yield Hn(G);const Q=[];Q.push(...U),Q.push({role:"user",parts:L});const Y=gc(u.contents).concat(Q);u.contents=Y}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=u3(this.apiClient,e);return a=St("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=d3(A),h=new C0;return Object.assign(h,u),h})}else{const c=A3(this.apiClient,e);return a=St("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=h3(A),h=new C0;return Object.assign(h,u),h})}}async generateContentStreamInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=u3(this.apiClient,e);return a=St("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(u){return sA(this,arguments,function*(){var h,p,E,T;try{for(var y=!0,R=oA(u),I;I=yield Hn(R.next()),h=I.done,!h;y=!0){T=I.value,y=!1;const b=T,B=d3(yield Hn(b.json()),e);B.sdkHttpResponse={headers:b.headers};const w=new C0;Object.assign(w,B),yield yield Hn(w)}}catch(b){p={error:b}}finally{try{!y&&!h&&(E=R.return)&&(yield Hn(E.call(R)))}finally{if(p)throw p.error}}})})}else{const c=A3(this.apiClient,e);return a=St("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(u){return sA(this,arguments,function*(){var h,p,E,T;try{for(var y=!0,R=oA(u),I;I=yield Hn(R.next()),h=I.done,!h;y=!0){T=I.value,y=!1;const b=T,B=h3(yield Hn(b.json()),e);B.sdkHttpResponse={headers:b.headers};const w=new C0;Object.assign(w,B),yield yield Hn(w)}}catch(b){p={error:b}}finally{try{!y&&!h&&(E=R.return)&&(yield Hn(E.call(R)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Kge(this.apiClient,e);return a=St("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=qge(A),h=new j4;return Object.assign(h,u),h})}else{const c=jge(this.apiClient,e);return a=St("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=zge(A),h=new j4;return Object.assign(h,u),h})}}async generateImagesInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=aEe(this.apiClient,e);return a=St("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=cEe(A),h=new K4;return Object.assign(h,u),h})}else{const c=oEe(this.apiClient,e);return a=St("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=lEe(A),h=new K4;return Object.assign(h,u),h})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Vge(this.apiClient,e);return s=St("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const A=c;return A.sdkHttpResponse={headers:l.headers},A})),i.then(l=>{const c=$ge(l),A=new Kfe;return Object.assign(A,c),A})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=aTe(this.apiClient,e);return s=St("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const A=c;return A.sdkHttpResponse={headers:l.headers},A})),i.then(l=>{const c=lTe(l),A=new zfe;return Object.assign(A,c),A})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=QEe(this.apiClient,e);return s=St("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=VEe(l),A=new qfe;return Object.assign(A,c),A})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=zEe(this.apiClient,e);return s=St("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=qEe(l),A=new Xfe;return Object.assign(A,c),A})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=_Ee(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),o.then(A=>Zk(A))}else{const c=IEe(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json()),o.then(A=>Jk(A))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=kEe(this.apiClient,e);return a=St("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=PEe(A),h=new z4;return Object.assign(h,u),h})}else{const c=DEe(this.apiClient,e);return a=St("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=MEe(A),h=new z4;return Object.assign(h,u),h})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=sTe(this.apiClient,e);return a=St("{model}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),o.then(A=>Zk(A))}else{const c=iTe(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json()),o.then(A=>Jk(A))}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Fge(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=Gge(A),h=new q4;return Object.assign(h,u),h})}else{const c=Uge(this.apiClient,e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=Hge(A),h=new q4;return Object.assign(h,u),h})}}async countTokens(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=kge(this.apiClient,e);return a=St("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=Pge(A),h=new X4;return Object.assign(h,u),h})}else{const c=Dge(this.apiClient,e);return a=St("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=Mge(A),h=new X4;return Object.assign(h,u),h})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Nge(this.apiClient,e);return s=St("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const A=c;return A.sdkHttpResponse={headers:l.headers},A})),i.then(l=>{const c=bge(l),A=new Jfe;return Object.assign(A,c),A})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=pEe(this.apiClient,e);return a=St("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),o.then(A=>{const u=dEe(A),h=new _v;return Object.assign(h,u),h})}else{const c=fEe(this.apiClient,e);return a=St("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json()),o.then(A=>{const u=hEe(A),h=new _v;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tSe extends id{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Qfe(e);return a=St("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json()),o}else{const c=Gfe(e);return a=St("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Dfe(e);return s=St("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nSe(t){const e={},n=x(t,["data"]);if(n!=null&&_(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function rSe(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>hSe(s))),_(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&_(e,["role"],r),e}function iSe(t,e,n){const r={},i=x(e,["expireTime"]);n!==void 0&&i!=null&&_(n,["expireTime"],i);const s=x(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&_(n,["newSessionExpireTime"],s);const o=x(e,["uses"]);n!==void 0&&o!=null&&_(n,["uses"],o);const a=x(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&_(n,["bidiGenerateContentSetup"],uSe(t,a));const l=x(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&_(n,["fieldMask"],l),r}function sSe(t,e){const n={},r=x(e,["config"]);return r!=null&&_(n,["config"],iSe(t,r,n)),n}function oSe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function aSe(t){const e={},n=x(t,["id"]);n!=null&&_(e,["id"],n);const r=x(t,["args"]);r!=null&&_(e,["args"],r);const i=x(t,["name"]);if(i!=null&&_(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function lSe(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function cSe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function ASe(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const s=x(t,["temperature"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","temperature"],s);const o=x(t,["topP"]);e!==void 0&&o!=null&&_(e,["setup","generationConfig","topP"],o);const a=x(t,["topK"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","topK"],a);const l=x(t,["maxOutputTokens"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","maxOutputTokens"],l);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","mediaResolution"],c);const A=x(t,["seed"]);e!==void 0&&A!=null&&_(e,["setup","generationConfig","seed"],A);const u=x(t,["speechConfig"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","speechConfig"],UF(u));const h=x(t,["thinkingConfig"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","thinkingConfig"],h);const p=x(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],p);const E=x(t,["systemInstruction"]);e!==void 0&&E!=null&&_(e,["setup","systemInstruction"],rSe(Fo(E)));const T=x(t,["tools"]);if(e!==void 0&&T!=null){let O=FS(T);Array.isArray(O)&&(O=O.map(L=>fSe(US(L)))),_(e,["setup","tools"],O)}const y=x(t,["sessionResumption"]);e!==void 0&&y!=null&&_(e,["setup","sessionResumption"],dSe(y));const R=x(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&_(e,["setup","inputAudioTranscription"],R);const I=x(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&_(e,["setup","outputAudioTranscription"],I);const b=x(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&_(e,["setup","realtimeInputConfig"],b);const B=x(t,["contextWindowCompression"]);e!==void 0&&B!=null&&_(e,["setup","contextWindowCompression"],B);const w=x(t,["proactivity"]);if(e!==void 0&&w!=null&&_(e,["setup","proactivity"],w),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function uSe(t,e){const n={},r=x(e,["model"]);r!=null&&_(n,["setup","model"],Pr(t,r));const i=x(e,["config"]);return i!=null&&_(n,["config"],ASe(i,n)),n}function hSe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=x(t,["fileData"]);s!=null&&_(e,["fileData"],oSe(s));const o=x(t,["functionCall"]);o!=null&&_(e,["functionCall"],aSe(o));const a=x(t,["functionResponse"]);a!=null&&_(e,["functionResponse"],a);const l=x(t,["inlineData"]);l!=null&&_(e,["inlineData"],nSe(l));const c=x(t,["text"]);c!=null&&_(e,["text"],c);const A=x(t,["thought"]);A!=null&&_(e,["thought"],A);const u=x(t,["thoughtSignature"]);u!=null&&_(e,["thoughtSignature"],u);const h=x(t,["videoMetadata"]);return h!=null&&_(e,["videoMetadata"],h),e}function dSe(t){const e={},n=x(t,["handle"]);if(n!=null&&_(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fSe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=x(t,["functionDeclarations"]);if(s!=null){let A=s;Array.isArray(A)&&(A=A.map(u=>u)),_(e,["functionDeclarations"],A)}const o=x(t,["googleMaps"]);o!=null&&_(e,["googleMaps"],lSe(o));const a=x(t,["googleSearch"]);a!=null&&_(e,["googleSearch"],cSe(a));const l=x(t,["googleSearchRetrieval"]);l!=null&&_(e,["googleSearchRetrieval"],l);const c=x(t,["urlContext"]);return c!=null&&_(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pSe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function mSe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=pSe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(c=>o.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class gSe extends id{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=sSe(this.apiClient,e);s=St("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const l=mSe(a,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ESe(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function TSe(t){const e={},n=x(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&ESe(r,e),e}function SSe(t){const e={},n=x(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function ySe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function CSe(t){const e={},n=x(t,["parent"]);n!=null&&_(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&ySe(r,e),e}function xSe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=x(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),_(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RSe extends id{constructor(e){super(),this.apiClient=e,this.list=async n=>new lg(Yh.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=SSe(e);return s=St("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=TSe(e);i=St("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=CSe(e);return s=St("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=xSe(l),A=new Zfe;return Object.assign(A,c),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ISe extends id{constructor(e,n=new RSe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new lg(Yh.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pTe(e);return s=St("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ETe(e);return s=St("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=gTe(e);i=St("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=RTe(e);return s=St("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=ITe(l),A=new epe;return Object.assign(A,c),A})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_Te(e);return s=St("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=NTe(l),A=new tpe;return Object.assign(A,c),A})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yTe(e);return s=St("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=STe(l),A=new BF;return Object.assign(A,c),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _q=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return _q=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const _Se=()=>_q();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tM(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const nM=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yc extends Error{}class ma extends yc{constructor(e,n,r,i){super(`${ma.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Iw({message:r,cause:nM(n)});const s=n;return e===400?new bq(e,s,r,i):e===401?new vq(e,s,r,i):e===403?new Oq(e,s,r,i):e===404?new wq(e,s,r,i):e===409?new Lq(e,s,r,i):e===422?new Bq(e,s,r,i):e===429?new Dq(e,s,r,i):e>=500?new kq(e,s,r,i):new ma(e,s,r,i)}}class rM extends ma{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Iw extends ma{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Nq extends Iw{constructor({message:e}={}){super({message:e??"Request timed out."})}}class bq extends ma{}class vq extends ma{}class Oq extends ma{}class wq extends ma{}class Lq extends ma{}class Bq extends ma{}class Dq extends ma{}class kq extends ma{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NSe=/^[a-z][a-z0-9+.-]*:/i,bSe=t=>NSe.test(t);let iM=t=>(iM=Array.isArray,iM(t));const vSe=iM;let OSe=vSe;const T3=OSe;function wSe(t){if(!t)return!0;for(const e in t)return!1;return!0}function LSe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const BSe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yc(`${t} must be an integer`);if(e<0)throw new yc(`${t} must be a positive integer`);return e},DSe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kSe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AT="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MSe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const PSe=()=>{var t,e,n,r,i;const s=MSe();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":AT,"X-Stainless-OS":y3(Deno.build.os),"X-Stainless-Arch":S3(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":AT,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":AT,"X-Stainless-OS":y3((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":S3((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=USe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":AT,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":AT,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function USe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const S3=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",y3=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let l_;const FSe=()=>l_??(l_=PSe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HSe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Mq(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function GSe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Mq({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Pq(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function QSe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VSe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uq=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function XB(t,e,n){return Uq(),new File(t,e??"unknown_file",n)}function $Se(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const WSe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fq=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",YSe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Fq(t),jSe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function KSe(t,e,n){if(Uq(),t=await t,YSe(t))return t instanceof File?t:XB([await t.arrayBuffer()],t.name);if(jSe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),XB(await sM(i),e,n)}const r=await sM(t);if(e||(e=$Se(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return XB(r,e,n)}async function sM(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(Fq(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(WSe(t))try{for(var a=!0,l=oA(t),c;c=await l.next(),e=c.done,!e;a=!0){i=c.value,a=!1;const A=i;o.push(...await sM(A))}}catch(A){n={error:A}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const A=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${A?`; constructor: ${A}`:""}${zSe(t)}`)}return o}function zSe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hq{constructor(e){this._client=e}}Hq._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gq(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const C3=Object.freeze(Object.create(null)),qSe=(t=Gq)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((A,u,h)=>{var p,E,T;/[?#]/.test(u)&&(i=!0);const y=r[h];let R=(i?encodeURIComponent:t)(""+y);return h!==r.length&&(y==null||typeof y=="object"&&y.toString===((T=Object.getPrototypeOf((E=Object.getPrototypeOf((p=y.hasOwnProperty)!==null&&p!==void 0?p:C3))!==null&&E!==void 0?E:C3))===null||T===void 0?void 0:T.toString))&&(R=y+"",s.push({start:A.length+u.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),A+u+(h===r.length?"":R)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(a))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((A,u)=>A.start-u.start),s.length>0){let A=0;const u=s.reduce((h,p)=>{const E=" ".repeat(p.start-A),T="^".repeat(p.length);return A=p.start+p.length,h+E+T},"");throw new yc(`Path parameters result in path with invalid segments:
${s.map(h=>h.error).join(`
`)}
${o}
${u}`)}return o}),c_=qSe(Gq);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qq extends Hq{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=bv(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new yc("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new yc("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(c_`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(c_`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(c_`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,a=bv(s,["api_version"]);return this._client.get(c_`/${o}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Qq._key=Object.freeze(["interactions"]);class Vq extends Qq{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XSe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let A_;function HF(t){let e;return(A_??(e=new globalThis.TextEncoder,A_=e.encode.bind(e)))(t)}let u_;function x3(t){let e;return(u_??(e=new globalThis.TextDecoder,u_=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _w{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?HF(e):e;this.buffer=XSe([this.buffer,n]);const r=[];let i;for(;(i=JSe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(x3(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=x3(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}_w.NEWLINE_CHARS=new Set([`
`,"\r"]);_w.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JSe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ZSe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vv={off:0,error:200,warn:300,info:400,debug:500},R3=(t,e,n)=>{if(t){if(LSe(vv,t))return t;sa(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(vv))}`)}};function pC(){}function h_(t,e,n){return!e||vv[t]>vv[n]?pC:e[t].bind(e)}const eye={error:pC,warn:pC,info:pC,debug:pC};let I3=new WeakMap;function sa(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return eye;const i=I3.get(n);if(i&&i[0]===r)return i[1];const s={error:h_("error",n,r),warn:h_("warn",n,r),info:h_("info",n,r),debug:h_("debug",n,r)};return I3.set(n,[r,s]),s}const lm=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ST{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?sa(r):console;function o(){return sA(this,arguments,function*(){var l,c,A,u;if(i)throw new yc("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var p=!0,E=oA(tye(e,n)),T;T=yield Hn(E.next()),l=T.done,!l;p=!0){u=T.value,p=!1;const y=u;if(!h)if(y.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Hn(JSON.parse(y.data))}catch(R){throw s.error("Could not parse message into JSON:",y.data),s.error("From chunk:",y.raw),R}}}catch(y){c={error:y}}finally{try{!p&&!l&&(A=E.return)&&(yield Hn(A.call(E)))}finally{if(c)throw c.error}}h=!0}catch(y){if(tM(y))return yield Hn(void 0);throw y}finally{h||n.abort()}})}return new ST(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return sA(this,arguments,function*(){var l,c,A,u;const h=new _w,p=Pq(e);try{for(var E=!0,T=oA(p),y;y=yield Hn(T.next()),l=y.done,!l;E=!0){u=y.value,E=!1;const R=u;for(const I of h.decode(R))yield yield Hn(I)}}catch(R){c={error:R}}finally{try{!E&&!l&&(A=T.return)&&(yield Hn(A.call(T)))}finally{if(c)throw c.error}}for(const R of h.flush())yield yield Hn(R)})}function o(){return sA(this,arguments,function*(){var l,c,A,u;if(i)throw new yc("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var p=!0,E=oA(s()),T;T=yield Hn(E.next()),l=T.done,!l;p=!0){u=T.value,p=!1;const y=u;h||y&&(yield yield Hn(JSON.parse(y)))}}catch(y){c={error:y}}finally{try{!p&&!l&&(A=E.return)&&(yield Hn(A.call(E)))}finally{if(c)throw c.error}}h=!0}catch(y){if(tM(y))return yield Hn(void 0);throw y}finally{h||n.abort()}})}return new ST(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new ST(()=>i(e),this.controller,this.client),new ST(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Mq({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=HF(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function tye(t,e){return sA(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yc("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yc("Attempted to iterate over a response with no body");const a=new rye,l=new _w,c=Pq(t.body);try{for(var A=!0,u=oA(nye(c)),h;h=yield Hn(u.next()),r=h.done,!r;A=!0){o=h.value,A=!1;const p=o;for(const E of l.decode(p)){const T=a.decode(E);T&&(yield yield Hn(T))}}}catch(p){i={error:p}}finally{try{!A&&!r&&(s=u.return)&&(yield Hn(s.call(u)))}finally{if(i)throw i.error}}for(const p of l.flush()){const E=a.decode(p);E&&(yield yield Hn(E))}})}function nye(t){return sA(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var a=!0,l=oA(t),c;c=yield Hn(l.next()),n=c.done,!n;a=!0){s=c.value,a=!1;const A=s;if(A==null)continue;const u=A instanceof ArrayBuffer?new Uint8Array(A):typeof A=="string"?HF(A):A;let h=new Uint8Array(o.length+u.length);h.set(o),h.set(u,o.length),o=h;let p;for(;(p=ZSe(o))!==-1;)yield yield Hn(o.slice(0,p)),o=o.slice(p)}}catch(A){r={error:A}}finally{try{!a&&!n&&(i=l.return)&&(yield Hn(i.call(l)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Hn(o))})}class rye{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=iye(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function iye(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sye(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var a;if(e.options.stream)return sa(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):ST.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),c=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return sa(t).debug(`[${r}] response parsed`,lm({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GF extends Promise{constructor(e,n,r=sye){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new GF(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $q=Symbol("brand.privateNullableHeaders");function*oye(t){if(!t)return;if($q in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():T3(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=T3(r[1])?r[1]:[r[1]];let o=!1;for(const a of s)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}const x0=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of oye(r)){const a=s.toLowerCase();i.has(a)||(e.delete(s),i.add(a)),o===null?(e.delete(s),n.add(a)):(e.append(s,o),n.delete(a))}}return{[$q]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JB=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=bfe)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wq;class Nw{constructor(e){var n,r,i,s,o,a,l,{baseURL:c=JB("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:A=(n=JB("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:u="v1beta"}=e,h=bv(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:A,apiVersion:u},h),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=(r=p.timeout)!==null&&r!==void 0?r:Nw.DEFAULT_TIMEOUT,this.logger=(i=p.logger)!==null&&i!==void 0?i:console;const E="warn";this.logLevel=E,this.logLevel=(o=(s=R3(p.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:R3(JB("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:E,this.fetchOptions=p.fetchOptions,this.maxRetries=(a=p.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=p.fetch)!==null&&l!==void 0?l:HSe(),this.encoder=VSe,this._options=p,this.apiKey=A,this.apiVersion=u,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=x0([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return x0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return x0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new yc(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${AT}`}defaultIdempotencyKey(){return`stainless-node-retry-${_Se()}`}makeStatusError(e,n,r,i){return ma.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=bSe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return wSe(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new GF(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,o;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:c,url:A,timeout:u}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(c,{url:A,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=r===void 0?"":`, retryOf: ${r}`,E=Date.now();if(sa(this).debug(`[${h}] sending request`,lm({retryOfRequestLogID:r,method:a.method,url:A,options:a,headers:c.headers})),!((s=a.signal)===null||s===void 0)&&s.aborted)throw new rM;const T=new AbortController,y=await this.fetchWithTimeout(A,c,u,T).catch(nM),R=Date.now();if(y instanceof globalThis.Error){const b=`retrying, ${n} attempts remaining`;if(!((o=a.signal)===null||o===void 0)&&o.aborted)throw new rM;const B=tM(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return sa(this).info(`[${h}] connection ${B?"timed out":"failed"} - ${b}`),sa(this).debug(`[${h}] connection ${B?"timed out":"failed"} (${b})`,lm({retryOfRequestLogID:r,url:A,durationMs:R-E,message:y.message})),this.retryRequest(a,n,r??h);throw sa(this).info(`[${h}] connection ${B?"timed out":"failed"} - error; no more retries left`),sa(this).debug(`[${h}] connection ${B?"timed out":"failed"} (error; no more retries left)`,lm({retryOfRequestLogID:r,url:A,durationMs:R-E,message:y.message})),B?new Nq:new Iw({cause:y})}const I=`[${h}${p}] ${c.method} ${A} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${R-E}ms`;if(!y.ok){const b=await this.shouldRetry(y);if(n&&b){const G=`retrying, ${n} attempts remaining`;return await QSe(y.body),sa(this).info(`${I} - ${G}`),sa(this).debug(`[${h}] response error (${G})`,lm({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:R-E})),this.retryRequest(a,n,r??h,y.headers)}const B=b?"error; no more retries left":"error; not retryable";sa(this).info(`${I} - ${B}`);const w=await y.text().catch(G=>nM(G).message),O=DSe(w),L=O?void 0:w;throw sa(this).debug(`[${h}] response error (${B})`,lm({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:L,durationMs:Date.now()-E})),this.makeStatusError(y.status,O,L,y.headers)}return sa(this).info(I),sa(this).debug(`[${h}] response start`,lm({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:R-E})),{response:y,options:a,controller:T,requestLogID:h,retryOfRequestLogID:r,startTime:E}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:o,method:a}=s,l=bv(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),r),A=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,u=Object.assign(Object.assign(Object.assign({signal:i.signal},A?{duplex:"half"}:{}),{method:"GET"}),l);a&&(u.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let o;const a=i==null?void 0:i.get("retry-after-ms");if(a){const c=parseFloat(a);Number.isNaN(c)||(o=c)}const l=i==null?void 0:i.get("retry-after");if(l&&!o){const c=parseFloat(l);Number.isNaN(c)?o=Date.parse(l)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){const c=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,c)}return await kSe(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},e),{method:a,path:l,query:c,defaultBaseURL:A}=o,u=this.buildURL(l,c,A);"timeout"in o&&BSe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:p}=this.buildBody({options:o}),E=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:E},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:u,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let a=x0([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),FSe()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=x0([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:GSe(e)}:this.encoder({body:e,headers:r})}}Nw.DEFAULT_TIMEOUT=6e4;class io extends Nw{constructor(){super(...arguments),this.interactions=new Vq(this)}}Wq=io;io.GeminiNextGenAPIClient=Wq;io.GeminiNextGenAPIClientError=yc;io.APIError=ma;io.APIConnectionError=Iw;io.APIConnectionTimeoutError=Nq;io.APIUserAbortError=rM;io.NotFoundError=wq;io.ConflictError=Lq;io.RateLimitError=Dq;io.BadRequestError=bq;io.AuthenticationError=vq;io.InternalServerError=kq;io.PermissionDeniedError=Oq;io.UnprocessableEntityError=Bq;io.toFile=KSe;io.Interactions=Vq;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aye(t,e){const n={},r=x(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function lye(t,e){const n={},r=x(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function cye(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function Aye(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function uye(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&_(e,["displayName"],i),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=x(t,["epochCount"]);e!==void 0&&s!=null&&_(e,["tuningTask","hyperparameters","epochCount"],s);const o=x(t,["learningRateMultiplier"]);if(o!=null&&_(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(x(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(x(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const a=x(t,["batchSize"]);e!==void 0&&a!=null&&_(e,["tuningTask","hyperparameters","batchSize"],a);const l=x(t,["learningRate"]);if(e!==void 0&&l!=null&&_(e,["tuningTask","hyperparameters","learningRate"],l),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(x(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(x(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(x(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(x(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function hye(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const w=x(t,["validationDataset"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec"],ZB(w))}else if(i==="PREFERENCE_TUNING"){const w=x(t,["validationDataset"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec"],ZB(w))}else if(i==="DISTILLATION"){const w=x(t,["validationDataset"]);e!==void 0&&w!=null&&_(e,["distillationSpec"],ZB(w))}const s=x(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&_(e,["tunedModelDisplayName"],s);const o=x(t,["description"]);e!==void 0&&o!=null&&_(e,["description"],o);let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const w=x(t,["epochCount"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(a==="PREFERENCE_TUNING"){const w=x(t,["epochCount"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}else if(a==="DISTILLATION"){const w=x(t,["epochCount"]);e!==void 0&&w!=null&&_(e,["distillationSpec","hyperParameters","epochCount"],w)}let l=x(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const w=x(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(l==="PREFERENCE_TUNING"){const w=x(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}else if(l==="DISTILLATION"){const w=x(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&_(e,["distillationSpec","hyperParameters","learningRateMultiplier"],w)}let c=x(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const w=x(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(c==="PREFERENCE_TUNING"){const w=x(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}else if(c==="DISTILLATION"){const w=x(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&_(e,["distillationSpec","exportLastCheckpointOnly"],w)}let A=x(n,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const w=x(t,["adapterSize"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(A==="PREFERENCE_TUNING"){const w=x(t,["adapterSize"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}else if(A==="DISTILLATION"){const w=x(t,["adapterSize"]);e!==void 0&&w!=null&&_(e,["distillationSpec","hyperParameters","adapterSize"],w)}let u=x(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const w=x(t,["tuningMode"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","tuningMode"],w)}const h=x(t,["customBaseModel"]);e!==void 0&&h!=null&&_(e,["customBaseModel"],h);let p=x(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const w=x(t,["batchSize"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","hyperParameters","batchSize"],w)}let E=x(n,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const w=x(t,["learningRate"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRate"],w)}const T=x(t,["labels"]);e!==void 0&&T!=null&&_(e,["labels"],T);const y=x(t,["beta"]);e!==void 0&&y!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","beta"],y);const R=x(t,["baseTeacherModel"]);e!==void 0&&R!=null&&_(e,["distillationSpec","baseTeacherModel"],R);const I=x(t,["tunedTeacherModelSource"]);e!==void 0&&I!=null&&_(e,["distillationSpec","tunedTeacherModelSource"],I);const b=x(t,["sftLossWeightMultiplier"]);e!==void 0&&b!=null&&_(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],b);const B=x(t,["outputUri"]);return e!==void 0&&B!=null&&_(e,["outputUri"],B),r}function dye(t,e){const n={},r=x(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const s=x(t,["trainingDataset"]);s!=null&&Rye(s);const o=x(t,["config"]);return o!=null&&uye(o,n),n}function fye(t,e){const n={},r=x(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const s=x(t,["trainingDataset"]);s!=null&&Iye(s,n,e);const o=x(t,["config"]);return o!=null&&hye(o,n,e),n}function pye(t,e){const n={},r=x(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function mye(t,e){const n={},r=x(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function gye(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const s=x(t,["pageToken"]);e!==void 0&&s!=null&&_(e,["_query","pageToken"],s);const o=x(t,["filter"]);return e!==void 0&&o!=null&&_(e,["_query","filter"],o),r}function Eye(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const s=x(t,["pageToken"]);e!==void 0&&s!=null&&_(e,["_query","pageToken"],s);const o=x(t,["filter"]);return e!==void 0&&o!=null&&_(e,["_query","filter"],o),r}function Tye(t,e){const n={},r=x(t,["config"]);return r!=null&&gye(r,n),n}function Sye(t,e){const n={},r=x(t,["config"]);return r!=null&&Eye(r,n),n}function yye(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const s=x(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>Yq(a))),_(n,["tuningJobs"],o)}return n}function Cye(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const s=x(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>oM(a))),_(n,["tuningJobs"],o)}return n}function xye(t,e){const n={},r=x(t,["name"]);r!=null&&_(n,["model"],r);const i=x(t,["name"]);return i!=null&&_(n,["endpoint"],i),n}function Rye(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),_(n,["examples","examples"],i)}return n}function Iye(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=x(t,["gcsUri"]);e!==void 0&&o!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=x(t,["gcsUri"]);e!==void 0&&o!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(i==="DISTILLATION"){const o=x(t,["gcsUri"]);e!==void 0&&o!=null&&_(e,["distillationSpec","promptDatasetUri"],o)}let s=x(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=x(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=x(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(s==="DISTILLATION"){const o=x(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&_(e,["distillationSpec","promptDatasetUri"],o)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Yq(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&_(n,["name"],i);const s=x(t,["state"]);s!=null&&_(n,["state"],lq(s));const o=x(t,["createTime"]);o!=null&&_(n,["createTime"],o);const a=x(t,["tuningTask","startTime"]);a!=null&&_(n,["startTime"],a);const l=x(t,["tuningTask","completeTime"]);l!=null&&_(n,["endTime"],l);const c=x(t,["updateTime"]);c!=null&&_(n,["updateTime"],c);const A=x(t,["description"]);A!=null&&_(n,["description"],A);const u=x(t,["baseModel"]);u!=null&&_(n,["baseModel"],u);const h=x(t,["_self"]);return h!=null&&_(n,["tunedModel"],xye(h)),n}function oM(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&_(n,["name"],i);const s=x(t,["state"]);s!=null&&_(n,["state"],lq(s));const o=x(t,["createTime"]);o!=null&&_(n,["createTime"],o);const a=x(t,["startTime"]);a!=null&&_(n,["startTime"],a);const l=x(t,["endTime"]);l!=null&&_(n,["endTime"],l);const c=x(t,["updateTime"]);c!=null&&_(n,["updateTime"],c);const A=x(t,["error"]);A!=null&&_(n,["error"],A);const u=x(t,["description"]);u!=null&&_(n,["description"],u);const h=x(t,["baseModel"]);h!=null&&_(n,["baseModel"],h);const p=x(t,["tunedModel"]);p!=null&&_(n,["tunedModel"],p);const E=x(t,["preTunedModel"]);E!=null&&_(n,["preTunedModel"],E);const T=x(t,["supervisedTuningSpec"]);T!=null&&_(n,["supervisedTuningSpec"],T);const y=x(t,["preferenceOptimizationSpec"]);y!=null&&_(n,["preferenceOptimizationSpec"],y);const R=x(t,["distillationSpec"]);R!=null&&_(n,["distillationSpec"],R);const I=x(t,["tuningDataStats"]);I!=null&&_(n,["tuningDataStats"],I);const b=x(t,["encryptionSpec"]);b!=null&&_(n,["encryptionSpec"],b);const B=x(t,["partnerModelTuningSpec"]);B!=null&&_(n,["partnerModelTuningSpec"],B);const w=x(t,["customBaseModel"]);w!=null&&_(n,["customBaseModel"],w);const O=x(t,["experiment"]);O!=null&&_(n,["experiment"],O);const L=x(t,["labels"]);L!=null&&_(n,["labels"],L);const U=x(t,["outputUri"]);U!=null&&_(n,["outputUri"],U);const G=x(t,["pipelineJob"]);G!=null&&_(n,["pipelineJob"],G);const Q=x(t,["serviceAccount"]);Q!=null&&_(n,["serviceAccount"],Q);const Y=x(t,["tunedModelDisplayName"]);Y!=null&&_(n,["tunedModelDisplayName"],Y);const K=x(t,["veoTuningSpec"]);return K!=null&&_(n,["veoTuningSpec"],K),n}function _ye(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&_(n,["name"],i);const s=x(t,["metadata"]);s!=null&&_(n,["metadata"],s);const o=x(t,["done"]);o!=null&&_(n,["done"],o);const a=x(t,["error"]);return a!=null&&_(n,["error"],a),n}function ZB(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&_(n,["validationDatasetUri"],r);const i=x(t,["vertexDatasetResource"]);return i!=null&&_(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nye extends id{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lg(Yh.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:jk.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=mye(e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>oM(A))}else{const c=pye(e);return a=St("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>Yq(A))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Sye(e);return a=St("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=Cye(A),h=new J4;return Object.assign(h,u),h})}else{const c=Tye(e);return a=St("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=yye(A),h=new J4;return Object.assign(h,u),h})}}async cancel(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=lye(e);return a=St("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=Aye(A),h=new Z4;return Object.assign(h,u),h})}else{const c=aye(e);return a=St("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(A=>A.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:A.headers},h})),o.then(A=>{const u=cye(A),h=new Z4;return Object.assign(h,u),h})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=fye(e,e);return s=St("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const A=c;return A.sdkHttpResponse={headers:l.headers},A})),i.then(l=>oM(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dye(e);return s=St("tunedModels",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const A=c;return A.sdkHttpResponse={headers:l.headers},A})),i.then(l=>_ye(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bye{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const vye=1024*1024*8,Oye=3,wye=1e3,Lye=2,Ov="x-goog-upload-status";async function Bye(t,e,n){var r;const i=await jq(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ov])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Dye(t,e,n){var r;const i=await jq(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ov])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=nq(s),a=new DF;return Object.assign(a,o),a}async function jq(t,e,n){var r,i;let s=0,o=0,a=new zk(new Response),l="upload";for(s=t.size;o<s;){const c=Math.min(vye,s-o),A=t.slice(o,o+c);o+c>=s&&(l+=", finalize");let u=0,h=wye;for(;u<Oye&&(a=await n.request({path:"",body:A,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(c)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Ov]));)u++,await Mye(h),h=h*Lye;if(o+=c,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Ov])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function kye(t){return{size:t.size,type:t.type}}function Mye(t){return new Promise(e=>setTimeout(e,t))}class Pye{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Bye(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Dye(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kye(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uye{create(e,n,r){return new Fye(e,n,r)}}class Fye{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _3="x-goog-api-key";class Hye{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(_3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_3,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gye="gl-node/";class N3{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new io({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Lfe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Hye(this.apiKey);this.apiClient=new kTe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Gye+"web",uploader:new Pye,downloader:new bye}),this.models=new eSe(this.apiClient),this.live=new KTe(this.apiClient,i,new Uye),this.batches=new lme(this.apiClient),this.chats=new Vme(this.models,this.apiClient),this.caches=new Hme(this.apiClient),this.files=new tge(this.apiClient),this.operations=new tSe(this.apiClient),this.authTokens=new gSe(this.apiClient),this.tunings=new Nye(this.apiClient),this.fileSearchStores=new ISe(this.apiClient)}}class Qye{static validate(e,n){let r=null,i=!1;const s=[];try{r=JSON.parse(this.cleanJSON(n))}catch{const a=this.fixTruncatedJSON(n);try{r=JSON.parse(a),i=!0}catch{if(e!=="sql_lifecycle"&&e!=="core_analysis"&&e!=="deep_intelligence")return{isValid:!1,isPartial:!1,missingFields:["JSON_PARSE_ERROR"],data:null}}}switch(e){case"p1_semantic":(!r||!r.semanticColumns||!Array.isArray(r.semanticColumns)||r.semanticColumns.length===0)&&s.push("semanticColumns"),(!r||!r.qualityReport)&&s.push("qualityReport");break;case"probe":(!r||!r.recommendedIntent)&&s.push("recommendedIntent");break;case"semantic":Array.isArray(r)&&(r={columns:r}),(!r||!r.columns||!Array.isArray(r.columns)||r.columns.length===0)&&s.push("semantic_columns_array");break;case"quality":r?!r.overallScore&&(!r.issues||r.issues.length===0)&&s.push("quality_content_missing"):s.push("quality_data_missing");break;case"ops":Array.isArray(r)&&(r={scripts:r,crud:{},transaction:{}}),r||(r={}),(!r.scripts||!Array.isArray(r.scripts))&&(r.scripts=[]);break;case"causal":if(r===null)break;(!r||!r.nodes||!r.edges)&&s.push("graph_structure");break;case"insights":Array.isArray(r)&&(r={insights:r,metricDefinitions:[],dependencyGraph:null}),(!r||!r.insights||!Array.isArray(r.insights))&&s.push("insights_array");break;case"narrative":(!r||typeof r!="string"||r.length<10)&&s.push("narrative_text");break;case"unified":r||(r={}),r.probe||(r.probe={recommendedIntent:"EXPLORATION"},i=!0),(!r.semantic||!r.semantic.columns||!Array.isArray(r.semantic.columns))&&(r.semantic||(r.semantic={columns:[]}),s.push("semantic.columns")),r.quality||(r.quality={overallScore:0,issues:[],recommendations:[]},i=!0),r.operations||(r.operations={scripts:[]},i=!0);break;case"p3_causal":(!r||!r.causalGraph||!r.causalGraph.nodes)&&s.push("causalGraph.nodes"),(!r||!r.causalGraph||!r.causalGraph.edges)&&s.push("causalGraph.edges");break;case"p4_insights":(!r||!Array.isArray(r)||r.length===0)&&(r&&r.insights&&Array.isArray(r.insights)?r=r.insights:s.push("insights"));break;case"sql_batch":(!r||!Array.isArray(r)||r.length===0)&&s.push("batch_operations");break;case"core_analysis":if(n.includes("[SEMANTIC_LABELS]")||n.includes("[QUALITY_REPORT]")||n.includes("[OP]")){const o={qualityReport:null,semanticColumns:[],operations:[]},a=n.match(/\[QUALITY_REPORT\]([\s\S]*?)\[\/QUALITY_REPORT\]/);if(a)try{o.qualityReport=JSON.parse(a[1].trim())}catch{}const l=n.match(/\[SEMANTIC_LABELS\]([\s\S]*?)\[\/SEMANTIC_LABELS\]/);if(l)try{o.semanticColumns=JSON.parse(l[1].trim())}catch{}const c=[...n.matchAll(/\[OP\]([\s\S]*?)\[\/OP\]/g)];for(const A of c)try{let u=A[1].trim();u.endsWith("}")||(u+="}");const h=JSON.parse(u);o.operations.push({...h,id:o.operations.length+1})}catch{}r=o,r.qualityReport||s.push("quality_report_tag"),r.semanticColumns.length===0&&s.push("semantic_labels_tag"),r.operations.length===0&&s.push("operations_tag")}else s.push("core_analysis_format_missing");break;case"deep_intelligence":if(n.includes("[CAUSAL_GRAPH]")||n.includes("[INSIGHTS]")){const o={causalGraph:null,insights:[]},a=n.match(/\[CAUSAL_GRAPH\]([\s\S]*?)\[\/CAUSAL_GRAPH\]/);if(a)try{o.causalGraph=JSON.parse(a[1].trim())}catch{}const l=n.match(/\[INSIGHTS\]([\s\S]*?)\[\/INSIGHTS\]/);if(l)try{o.insights=JSON.parse(l[1].trim())}catch{}const c=n.match(/\[NARRATIVE\]([\s\S]*?)\[\/NARRATIVE\]/);c&&(o.narrative=c[1].trim()),r=o,r.causalGraph||s.push("causal_graph_tag"),r.insights.length===0&&s.push("insights_tag")}else s.push("deep_intelligence_format_missing");break}return{isValid:s.length===0,isPartial:i||s.length>0,missingFields:s,data:this.applyMVO(e,r)}}static applyMVO(e,n){switch(n||(n={}),e){case"core_analysis":return{qualityReport:n.qualityReport||{overallScore:0,issues:[],recommendations:[]},semanticColumns:n.semanticColumns||[],overview:n.overview||"...",typeInference:n.typeInference||"...",operations:n.operations||[]};case"deep_intelligence":return{causalGraph:n.causalGraph||{nodes:[],edges:[],engineeredFeatures:[]},insights:n.insights||[],narrative:n.narrative||""};default:return n}}static cleanJSON(e){let n=e.replace(/```json/g,"").replace(/```/g,"").trim();const r=Math.min(n.indexOf("{")===-1?1/0:n.indexOf("{"),n.indexOf("[")===-1?1/0:n.indexOf("[")),i=Math.max(n.lastIndexOf("}"),n.lastIndexOf("]"));return r!==1/0&&i!==-1&&i>r&&(n=n.substring(r,i+1)),n}static fixTruncatedJSON(e){let n=this.cleanJSON(e);const r=Math.max(n.lastIndexOf("}"),n.lastIndexOf("]"));if(r>0){const s=n.substring(r+1).trim();s.length>0&&s.includes('"')&&!s.endsWith("}")&&!s.endsWith("]")&&(n=n.substring(0,r+1))}n=n.trim().replace(/,$/,"");const i=[];for(const s of n)s==="{"||s==="["?i.push(s):s==="}"?i[i.length-1]==="{"&&i.pop():s==="]"&&i[i.length-1]==="["&&i.pop();for(;i.length>0;){const s=i.pop();s==="{"&&(n+="}"),s==="["&&(n+="]")}return n}}const Vye={skills:{"000-protocol":{id:"000-protocol",title:"SKL-000:    (Handbook Protocol)",blocks:{overview:"","_(meta-perception)":" AI  DuckDB ",:`

1. ****: \`# DuckDB  SQL   {/}\`
2. ****: 
   - 
   - 
3. ****: 
4. ****: 
   - , , --   
5. ** (ER)**: 
   -  \`mermaid erDiagram\` `,:` A1, B2 Markdown 

### []  []

** **
- 

** **
\`\`\`sql
--  DuckDB 
[SELECT / CREATE / PIVOT ...]
\`\`\`

** **
\`\`\`sql
--  {tableName}  SQL 
[SQL CODE]
\`\`\`

** **
- Markdown 

**  / **
-  DuckDB WASM 

** **
- `,"_(snapshot)":"Batch `  X   ` "},fullContent:`# SKL-000:    (Handbook Protocol)

##  (Meta-Perception)

 AI  DuckDB 

## 



1. ****: \`# DuckDB  SQL   {/}\`
2. ****: 
   - 
   - 
3. ****: 
4. ****: 
   - , , --   
5. ** (ER)**: 
   -  \`mermaid erDiagram\` 

## 

 A1, B2 Markdown 

### []  []

** **
- 

** **
\`\`\`sql
--  DuckDB 
[SELECT / CREATE / PIVOT ...]
\`\`\`

** **
\`\`\`sql
--  {tableName}  SQL 
[SQL CODE]
\`\`\`

** **
- Markdown 

**  / **
-  DuckDB WASM 

** **
- 

##  (Snapshot)
Batch \`  X   \` 

`},"101-semantic":{id:"101-semantic",title:"SKL-101:  (Context & Semantic Probe)",blocks:{overview:"","_(perception_layer)":" AI Agent ",:`### 1.  (Stage 0: Scene Probe)

- : \${tableName}
- : \${rowCount}
- : \${colCount}
- : \${sampleData}



** (MECE):**
- **DATA_CLEANING**: 
- **METRIC_MODELING**: 
- **EXPLORATION**: 
- **REPORTING**: 

### 2.  (Stage 1: Semantic Inference)


|  |  |  (MECE) |  |
|----------|----------|----------------|----------|
| ID, UUID | VARCHAR | **IDENTITY** () |  |
| Name, Desc | VARCHAR | **DIMENSION** () |  |
| Price, Count | DOUBLE/INT | **MEASURE** () |  (Sum/Avg) |
| CreatedAt | TIMESTAMP | **TEMPORAL** () |  |
| Phone, Email| VARCHAR | **SENSITIVE** () |  PII |`,:` JSON 

\`\`\`json
{
  "recommendedIntent": "DATA_CLEANING | METRIC_MODELING | ...",
  "confidence": 0.95,
  "columns": [
    {
      "name": "col_a",
      "semanticType": "IDENTITY | DIMENSION | ...",
      "isPII": true/false,
      "description": ""
    }
  ]
}
\`\`\``,"handbook_protocol_(skl-000)_":"-  **1.1 ER **  `mermaid erDiagram` \n-  ** ** \n-  ** ** "},fullContent:`# SKL-101:  (Context & Semantic Probe)

##  (Perception Layer)

 AI Agent 

## 

### 1.  (Stage 0: Scene Probe)

- : \${tableName}
- : \${rowCount}
- : \${colCount}
- : \${sampleData}



** (MECE):**
- **DATA_CLEANING**: 
- **METRIC_MODELING**: 
- **EXPLORATION**: 
- **REPORTING**: 

### 2.  (Stage 1: Semantic Inference)


|  |  |  (MECE) |  |
|----------|----------|----------------|----------|
| ID, UUID | VARCHAR | **IDENTITY** () |  |
| Name, Desc | VARCHAR | **DIMENSION** () |  |
| Price, Count | DOUBLE/INT | **MEASURE** () |  (Sum/Avg) |
| CreatedAt | TIMESTAMP | **TEMPORAL** () |  |
| Phone, Email| VARCHAR | **SENSITIVE** () |  PII |

## 

 JSON 

\`\`\`json
{
  "recommendedIntent": "DATA_CLEANING | METRIC_MODELING | ...",
  "confidence": 0.95,
  "columns": [
    {
      "name": "col_a",
      "semanticType": "IDENTITY | DIMENSION | ...",
      "isPII": true/false,
      "description": ""
    }
  ]
}
\`\`\`

## Handbook Protocol (SKL-000) 
-  **1.1 ER **  \`mermaid erDiagram\` 
-  ** ** 
-  ** ** 

`},"102-quality":{id:"102-quality",title:"SKL-102:  (Data Quality Audit)",blocks:{overview:"","_(perception_layer)":" AI Agent ","_(mece)":`### 1.  (Completeness)
- **Null **: 
- ****: 

### 2.  (Validity)
- ****:  0-150  0-5 
- ****: JSON 

### 3.  (Consistency)
- ****: /M/Male 
- ****: `,:"1. ****:\n   - `L1`:  DuckDB `SUMMARIZE` \n   - `L2`:  `GROUP BY` \n   - `L3`:  PII ",:" ****:\n- `REASON`: \n- `IMPACT`: Null  Sum \n- `FIX`: //",:`|  |  (0-100) |  |
|------|------------|----------|
|  | 85 | \`user_id\`  15%  |
|  | 100 |  |
|  | 20 | ** 3  PII** |

>   60 \`SKL-201-Governance\` `},fullContent:`# SKL-102:  (Data Quality Audit)

##  (Perception Layer)

 AI Agent 

##  (MECE)

### 1.  (Completeness)
- **Null **: 
- ****: 

### 2.  (Validity)
- ****:  0-150  0-5 
- ****: JSON 

### 3.  (Consistency)
- ****: /M/Male 
- ****: 

## 

1. ****:
   - \`L1\`:  DuckDB \`SUMMARIZE\` 
   - \`L2\`:  \`GROUP BY\` 
   - \`L3\`:  PII 

## 

 ****:
- \`REASON\`: 
- \`IMPACT\`: Null  Sum 
- \`FIX\`: //

## 

|  |  (0-100) |  |
|------|------------|----------|
|  | 85 | \`user_id\`  15%  |
|  | 100 |  |
|  | 20 | ** 3  PII** |

>   60 \`SKL-201-Governance\` 
`},"103-time":{id:"103-time",title:"SKL-103:  (Time Character Detector)",blocks:{overview:"","_(perception_layer)":" AI Agent ",:"### 1. \n Timestamp/Date \n- **CALENDAR_YEAR**: \n- **FISCAL_YEAR**:  4\n- **PROMO_SEASON**:  11, 618\n- **WEEKLY_PATTERN**: /\n\n### 2. \n\n- `YEAR` | `QUARTER` | `MONTH` | `WEEK` | `DAY` | `HOUR`",:` JSON 
\`\`\`json
{
  "timeCharacter": {
    "primaryTimeColumn": "created_at",
    "detectedCycles": ["WEEKLY_PATTERN", "MONTHLY_CLOSURE"],
    "granularity": "DAY",
    "isSparse": false
  }
}
\`\`\``},fullContent:`# SKL-103:  (Time Character Detector)

##  (Perception Layer)

 AI Agent 

## 

### 1. 
 Timestamp/Date 
- **CALENDAR_YEAR**: 
- **FISCAL_YEAR**:  4
- **PROMO_SEASON**:  11, 618
- **WEEKLY_PATTERN**: /

### 2. 

- \`YEAR\` | \`QUARTER\` | \`MONTH\` | \`WEEK\` | \`DAY\` | \`HOUR\`

## 

 JSON 
\`\`\`json
{
  "timeCharacter": {
    "primaryTimeColumn": "created_at",
    "detectedCycles": ["WEEKLY_PATTERN", "MONTHLY_CLOSURE"],
    "granularity": "DAY",
    "isSparse": false
  }
}
\`\`\`
`},"104-relation":{id:"104-relation",title:"SKL-104:  (Cross-table Relation Sensor)",blocks:{overview:"","_(perception_layer)":" AI Agent  JOIN ",:`### 1. 
 \`xxx_id\`, \`id\` JOIN 
- **1:1**: 
- **1:N**: 
- **M:N**: 

### 2. JOIN 

- **Fan-out Error**: 1:N 
- **Missing Keys**:  Null `,"handbook_protocol_(skl-000)_":`-  ** (ER)**  1-2 1:N  M:N
-  ** **  B`},fullContent:`# SKL-104:  (Cross-table Relation Sensor)

##  (Perception Layer)

 AI Agent  JOIN 

## 

### 1. 
 \`xxx_id\`, \`id\` JOIN 
- **1:1**: 
- **1:N**: 
- **M:N**: 

### 2. JOIN 

- **Fan-out Error**: 1:N 
- **Missing Keys**:  Null 

## Handbook Protocol (SKL-000) 
-  ** (ER)**  1-2 1:N  M:N
-  ** **  B

`},"105-localization":{id:"105-localization",title:"SKL-105:  (Localization & Collation Guard)",blocks:{overview:"","_(perception_layer)":" AI Agent ",:`### 1. 
- CJK
-  \`GROUP BY\`  \`ORDER BY\`  vs 

### 2. 
 GBK  UTF-8`,:` JSON 
\`\`\`json
{
  "localization": {
    "hasCJK": true,
    "recommendedCollation": "zh_CN",
    "handlingStrategy": "USE_ICU_EXTENSION"
  }
}
\`\`\``,:" DuckDB `hasCJK`  true SQL  `icu` \n`INSTALL icu; LOAD icu;`"},fullContent:`# SKL-105:  (Localization & Collation Guard)

##  (Perception Layer)

 AI Agent 

## 

### 1. 
- CJK
-  \`GROUP BY\`  \`ORDER BY\`  vs 

### 2. 
 GBK  UTF-8

## 

 JSON 
\`\`\`json
{
  "localization": {
    "hasCJK": true,
    "recommendedCollation": "zh_CN",
    "handlingStrategy": "USE_ICU_EXTENSION"
  }
}
\`\`\`

## 
 DuckDB \`hasCJK\`  true SQL  \`icu\` 
\`INSTALL icu; LOAD icu;\`
`},"106-drift":{id:"106-drift",title:"SKL-106:  (Change & Drift Benchmarker)",blocks:{overview:"","_(perception_layer)":" AI Agent Snapshot Schema Drift",:`### 1.  (Drift Detection)

- **ADDED**: 
- **REMOVED**:  SQL 
- **MUTATED**:  VARCHAR  INT

### 2. 
`,:` JSON 
\`\`\`json
{
  "drift": {
    "status": "STABLE | DRIFTED",
    "changes": [
      { "column": "price", "type": "MUTATED", "detail": "FLOAT -> DOUBLE" }
    ],
    "volumeChange": "+15%"
  }
}
\`\`\``},fullContent:`# SKL-106:  (Change & Drift Benchmarker)

##  (Perception Layer)

 AI Agent Snapshot Schema Drift

## 

### 1.  (Drift Detection)

- **ADDED**: 
- **REMOVED**:  SQL 
- **MUTATED**:  VARCHAR  INT

### 2. 


## 

 JSON 
\`\`\`json
{
  "drift": {
    "status": "STABLE | DRIFTED",
    "changes": [
      { "column": "price", "type": "MUTATED", "detail": "FLOAT -> DOUBLE" }
    ],
    "volumeChange": "+15%"
  }
}
\`\`\`
`},"201-governance":{id:"201-governance",title:"SKL-201:  (Data Governance & Contract)",blocks:{overview:"","_(strategy_layer)":" AI Agent SLA","1._pii__(privacy_strategy)":"\n\n|  (MECE) |  | DuckDB  |\n|-------------|----------|-----------------|\n| **MASK** |  (138****8000) | `regexp_replace` |\n| **HASH** |  Join  | `md5(cast(col as varchar))` |\n| **DROP** |  | `EXCLUDE (col_name)` |\n| **BLUR** |  ( -> ) | `floor(age/10)*10` |","2.__(data_contract)":`

- ** (PK)**:  Unique & Not Null
- ** (Range)**: 
- ** (SLA)**: `,:"1. ****:  `SKL-101`  `isPII: true` SQL \n2. ****:  **FATAL**\n3. ****:  `governance/` ",:"```text\n PII \n-  [phone]:  MASK ()\n-  [secret]:  DROP ()\n```"},fullContent:`# SKL-201:  (Data Governance & Contract)

##  (Strategy Layer)

 AI Agent SLA

## 1. PII  (Privacy Strategy)



|  (MECE) |  | DuckDB  |
|-------------|----------|-----------------|
| **MASK** |  (138****8000) | \`regexp_replace\` |
| **HASH** |  Join  | \`md5(cast(col as varchar))\` |
| **DROP** |  | \`EXCLUDE (col_name)\` |
| **BLUR** |  ( -> ) | \`floor(age/10)*10\` |

## 2.  (Data Contract)



- ** (PK)**:  Unique & Not Null
- ** (Range)**: 
- ** (SLA)**: 

## 

1. ****:  \`SKL-101\`  \`isPII: true\` SQL 
2. ****:  **FATAL**
3. ****:  \`governance/\` 

## 

\`\`\`text
 PII 
-  [phone]:  MASK ()
-  [secret]:  DROP ()
\`\`\`
`},"202-insight":{id:"202-insight",title:"SKL-202:  (Metric & Insight Modeling)",blocks:{overview:"","_(strategy_layer)":" AI Agent ","1.__(metric_semantic)":` \`SKL-101\`  \`MEASURE\` 

- **/** (Standard)
- **/** (Temporal)
- **Top N ** (Contribution)
- **RFM / ** (Business Specific)`,"2.__(mece)":`- **  (Anomaly)**:  3-Sigma 
- **  (Trend)**: 
- **  (Driver)**: A  B 
- **  (Segment)**: /`,"3.__(skl-009)":` (\`SKL-101.intent\`)  SQL 

|  |  |
|----------|----------|
| DATA_CLEANING | Null  |
| METRIC_MODELING |  |
| EXPLORATION | Z-Score  |
| REPORTING |  |`,:`-  **Metric Glossary** ()
-  **Dependency Graph** ()
-  **** `},fullContent:`# SKL-202:  (Metric & Insight Modeling)

##  (Strategy Layer)

 AI Agent 

## 1.  (Metric Semantic)

 \`SKL-101\`  \`MEASURE\` 

- **/** (Standard)
- **/** (Temporal)
- **Top N ** (Contribution)
- **RFM / ** (Business Specific)

## 2.  (MECE)

- **  (Anomaly)**:  3-Sigma 
- **  (Trend)**: 
- **  (Driver)**: A  B 
- **  (Segment)**: /

## 3.  (SKL-009)

 (\`SKL-101.intent\`)  SQL 

|  |  |
|----------|----------|
| DATA_CLEANING | Null  |
| METRIC_MODELING |  |
| EXPLORATION | Z-Score  |
| REPORTING |  |

## 

-  **Metric Glossary** ()
-  **Dependency Graph** ()
-  **** 
`},"203-cte":{id:"203-cte",title:"SKL-203: CTE  (CTE Logic Orchestrator)",blocks:{overview:"","_(strategy_layer)":" AI Agent  CTE ",:"### 1. \n\n- **BASE_LAYER**: Type Cast, Rename\n- **FILTER_LAYER**: PII Mask, Range Filter\n- **JOIN_LAYER**: \n- **AGG_LAYER**: \n\n### 2. \n CTE  `clean_orders`, `filtered_customer_metrics` `t1`, `t2`",:"`WITH ... AS (...)` ","handbook_protocol_(skl-000)_":" ** **  CTE  ** **  `clean_events`\n CTE  ** ** "},fullContent:`# SKL-203: CTE  (CTE Logic Orchestrator)

##  (Strategy Layer)

 AI Agent  CTE 

## 

### 1. 

- **BASE_LAYER**: Type Cast, Rename
- **FILTER_LAYER**: PII Mask, Range Filter
- **JOIN_LAYER**: 
- **AGG_LAYER**: 

### 2. 
 CTE  \`clean_orders\`, \`filtered_customer_metrics\` \`t1\`, \`t2\`

## 
\`WITH ... AS (...)\` 

## Handbook Protocol (SKL-000) 
 ** **  CTE  ** **  \`clean_events\`
 CTE  ** ** 
`},"204-wasm":{id:"204-wasm",title:"SKL-204:  (WASM Performance Strategist)",blocks:{overview:"","_(strategy_layer)":" AI Agent  DuckDB-WASM  4GB ",:"### 1.  (Sampling)\n-  `rowCount > 500,000`  `SUM/AVG`  `USING SAMPLE 10%`\n-  `SAMPLE 1000` \n\n### 2. \n-  Parquet  Metadata Projection Pushdown",:" SQL \n-  `SET memory_limit = '2GB';`"},fullContent:`# SKL-204:  (WASM Performance Strategist)

##  (Strategy Layer)

 AI Agent  DuckDB-WASM  4GB 

## 

### 1.  (Sampling)
-  \`rowCount > 500,000\`  \`SUM/AVG\`  \`USING SAMPLE 10%\`
-  \`SAMPLE 1000\` 

### 2. 
-  Parquet  Metadata Projection Pushdown

## 
 SQL 
-  \`SET memory_limit = '2GB';\`
`},"205-compliance":{id:"205-compliance",title:"SKL-205:  (Compliance & Erasure Policy)",blocks:{overview:"","_(strategy_layer)":" AI Agent  PII ",:"### 1. \n-  Phone, Email\n-  `md5`  `EXCLUDE`\n\n### 2. \n-  `isPII` ",:" `SKL-101`  `SENSITIVE` `SKL-301` "},fullContent:`# SKL-205:  (Compliance & Erasure Policy)

##  (Strategy Layer)

 AI Agent  PII 

## 

### 1. 
-  Phone, Email
-  \`md5\`  \`EXCLUDE\`

### 2. 
-  \`isPII\` 

## 
 \`SKL-101\`  \`SENSITIVE\` \`SKL-301\` 
`},"206-metric":{id:"206-metric",title:"SKL-206:  (Metric Semantic Factory)",blocks:{overview:"","_(strategy_layer)":" AI Agent  Metric Glossary",:`### 1. 
-  = /
- 

### 2. 
- //
-  \`MEA\` `,:'```json\n{\n  "metrics": [\n    { "key": "gmv", "formula": "sum(price * qty)", "label": "" }\n  ]\n}\n```'},fullContent:`# SKL-206:  (Metric Semantic Factory)

##  (Strategy Layer)

 AI Agent  Metric Glossary

## 

### 1. 
-  = /
- 

### 2. 
- //
-  \`MEA\` 

## 
\`\`\`json
{
  "metrics": [
    { "key": "gmv", "formula": "sum(price * qty)", "label": "" }
  ]
}
\`\`\`
`},"207-isolation":{id:"207-isolation",title:"SKL-207:  (Dynamic Isolation Policy)",blocks:{overview:"","_(strategy_layer)":" AI Agent ",:`### 1. ATTACH 
-  \`.db\` 
-  \`ATTACH 'tenant_x.db' AS sandbox;\` 

### 2.  (Restricted View)
-  System `,:" AI  SQL  `SELECT * FROM system.xxx` "},fullContent:`# SKL-207:  (Dynamic Isolation Policy)

##  (Strategy Layer)

 AI Agent 

## 

### 1. ATTACH 
-  \`.db\` 
-  \`ATTACH 'tenant_x.db' AS sandbox;\` 

### 2.  (Restricted View)
-  System 

## 
 AI  SQL  \`SELECT * FROM system.xxx\` 
`},"301-sql":{id:"301-sql",title:"SKL-301: SQL  (SQL Engineering & Execution)",blocks:{overview:"","_(execution_layer)":" AI Agent  DuckDB SQL","1.__(robustness)":"###  (SKL-013)\n- **CREATE**:  `IF NOT EXISTS`  `OR REPLACE`\n- **INSERT**:  `INSERT OR IGNORE`  `DELETE`  Batch\n- **ALTER**: \n\n### \n- **BEGIN TRANSACTION -> COMMIT / ROLLBACK**\n-  DDL  DML ","2._sql__(antipattern_check_/_skl-008)":" SQL\n-  **AP-02/03**:  `WHERE`  `DELETE`/`UPDATE`\n-  **AP-05**: \n-  **AP-01**:  `SELECT *`","3.__(assets)":"\n1. `01-clean.sql`: \n2. `02-schema.sql`: \n3. `03-analysis.sql`:  SQL",:"-  `PARALLEL`  `MEMORY_LIMIT` \n-  `parquet` ","handbook_protocol_(skl-000)_":` SQL  ** ** 
 ** **  Sequence
 ** **  SQL `},fullContent:`# SKL-301: SQL  (SQL Engineering & Execution)

##  (Execution Layer)

 AI Agent  DuckDB SQL

## 1.  (Robustness)

###  (SKL-013)
- **CREATE**:  \`IF NOT EXISTS\`  \`OR REPLACE\`
- **INSERT**:  \`INSERT OR IGNORE\`  \`DELETE\`  Batch
- **ALTER**: 

### 
- **BEGIN TRANSACTION -> COMMIT / ROLLBACK**
-  DDL  DML 

## 2. SQL  (Antipattern Check / SKL-008)

 SQL
-  **AP-02/03**:  \`WHERE\`  \`DELETE\`/\`UPDATE\`
-  **AP-05**: 
-  **AP-01**:  \`SELECT *\`

## 3.  (Assets)


1. \`01-clean.sql\`: 
2. \`02-schema.sql\`: 
3. \`03-analysis.sql\`:  SQL

## 

-  \`PARALLEL\`  \`MEMORY_LIMIT\` 
-  \`parquet\` 

## Handbook Protocol (SKL-000) 
 SQL  ** ** 
 ** **  Sequence
 ** **  SQL 
`},"302-safety":{id:"302-safety",title:"SKL-302:  (Safety & Rollback)",blocks:{overview:"","_(execution_layer)":" AI Agent ","1.__(skl-014)":" Undo \n\n|  |  |\n|----------|----------|\n| `CREATE TABLE` | `DROP TABLE IF EXISTS` |\n| `ADD COLUMN` | `ALTER TABLE DROP COLUMN` |\n| `RENAME` | `RENAME` () |","2.__(security)":'-  `"`  SQL \n-  SQL  HTML  XSS',"3._":`- **Snapshot**:  COPY  DuckDB 
- **Logging**: `,"_(checkpoint)":"- [ ]  `scripts/rollback.sql`\n- [ ] \n- [ ] "},fullContent:`# SKL-302:  (Safety & Rollback)

##  (Execution Layer)

 AI Agent 

## 1.  (SKL-014)

 Undo 

|  |  |
|----------|----------|
| \`CREATE TABLE\` | \`DROP TABLE IF EXISTS\` |
| \`ADD COLUMN\` | \`ALTER TABLE DROP COLUMN\` |
| \`RENAME\` | \`RENAME\` () |

## 2.  (Security)

-  \`"\`  SQL 
-  SQL  HTML  XSS

## 3. 

- **Snapshot**:  COPY  DuckDB 
- **Logging**: 

##  (Checkpoint)

- [ ]  \`scripts/rollback.sql\`
- [ ] 
- [ ] 
`},"303-report":{id:"303-report",title:"SKL-303:  (Narrative Weaver & Report)",blocks:{overview:"","_(execution_layer)":" AI Agent SQL ","1._":`- ** (Executive Summary)**: 50
- ** (Governance)**: PII 
- ** (Insights)**: 
- ** (Next Best Action)**: `,"2._":`-  (Bar, Line, Sankey)
-  (Data Evidence)`,"3._":"-  Markdown  `reports/analysis_yyyy-mm-dd.md`\n-  Summary ()",:`1. **** SQL 
2. ****
3. ****`},fullContent:`# SKL-303:  (Narrative Weaver & Report)

##  (Execution Layer)

 AI Agent SQL 

## 1. 

- ** (Executive Summary)**: 50
- ** (Governance)**: PII 
- ** (Insights)**: 
- ** (Next Best Action)**: 

## 2. 

-  (Bar, Line, Sankey)
-  (Data Evidence)

## 3. 

-  Markdown  \`reports/analysis_yyyy-mm-dd.md\`
-  Summary ()

## 

1. **** SQL 
2. ****
3. ****
`},"304-macro":{id:"304-macro",title:"SKL-304: SQL  (SQL Macro Factory)",blocks:{overview:"","_(execution_layer)":" AI Agent  DuckDB `MACRO` UI ",:`### 1. 
 Macro
- ****: \`CREATE OR REPLACE TEMPORARY MACRO growth_rate(curr, prev) AS (curr - prev) / prev;\`

### 2. 
 SQL  Macro  UI  \`SELECT growth_rate(...)\``,:`-  SQL 
- `,"handbook_protocol_(skl-000)_":" ** **  `CREATE TEMPORARY MACRO` \n ** **  Macro Session-level DuckDB "},fullContent:`# SKL-304: SQL  (SQL Macro Factory)

##  (Execution Layer)

 AI Agent  DuckDB \`MACRO\` UI 

## 

### 1. 
 Macro
- ****: \`CREATE OR REPLACE TEMPORARY MACRO growth_rate(curr, prev) AS (curr - prev) / prev;\`

### 2. 
 SQL  Macro  UI  \`SELECT growth_rate(...)\`

## 
-  SQL 
- 

## Handbook Protocol (SKL-000) 
 ** **  \`CREATE TEMPORARY MACRO\` 
 ** **  Macro Session-level DuckDB 
`},"305-assertion":{id:"305-assertion",title:"SKL-305:  (Physical Assertion Validator)",blocks:{overview:"","_(execution_layer)":" AI Agent  SQL ",:`### 1.  SQL
Null 

### 2. 

- ****: \`SELECT count(*) FROM final_result WHERE total_amount < 0;\` ( > 0 )`,:" `SKL-302` "},fullContent:`# SKL-305:  (Physical Assertion Validator)

##  (Execution Layer)

 AI Agent  SQL 

## 

### 1.  SQL
Null 

### 2. 

- ****: \`SELECT count(*) FROM final_result WHERE total_amount < 0;\` ( > 0 )

## 
 \`SKL-302\` 
`},"306-storage":{id:"306-storage",title:"SKL-306:  (Storage Optimizer)",blocks:{overview:"","_(execution_layer)":" AI Agent ",:`### 1. Parquet 

- **ROW_GROUP_SIZE**: 
- **COMPRESSION**:  CPU  \`SNAPPY\`  \`ZSTD\`

### 2. 

- ****: \`COPY (SELECT * FROM table) TO 'part_1.parquet' (FORMAT PARQUET);\``,:" Parquet  CSV "},fullContent:`# SKL-306:  (Storage Optimizer)

##  (Execution Layer)

 AI Agent 

## 

### 1. Parquet 

- **ROW_GROUP_SIZE**: 
- **COMPRESSION**:  CPU  \`SNAPPY\`  \`ZSTD\`

### 2. 

- ****: \`COPY (SELECT * FROM table) TO 'part_1.parquet' (FORMAT PARQUET);\`

## 
 Parquet  CSV 
`},"307-healing":{id:"307-healing",title:"SKL-307:  SQL  (Self-healing Pipeline)",blocks:{overview:"","_(execution_layer)":" AI Agent  SQL ",:"### 1. \n DuckDB Binder Error, Missing Column\n\n### 2. \n `SKL-101` `SKL-203`CTE  SQL ",:" `Correction Diff`"},fullContent:`# SKL-307:  SQL  (Self-healing Pipeline)

##  (Execution Layer)

 AI Agent  SQL 

## 

### 1. 
 DuckDB Binder Error, Missing Column

### 2. 
 \`SKL-101\` \`SKL-203\`CTE  SQL 

## 
 \`Correction Diff\`
`},"308-snapshot":{id:"308-snapshot",title:"SKL-308:  (Atomic Session Snapshot)",blocks:{overview:"","_(execution_layer)":" AI Agent  DDL  100% ",:"### 1. checkpoint \n `ALTER TABLE`  `DROP TABLE`  `CHECKPOINT;`  `.db` \n\n### 2. \n `ROLLBACK`  `snapshots/` ",:" `CREATE TABLE AS SELECT` (CTAS) "},fullContent:`# SKL-308:  (Atomic Session Snapshot)

##  (Execution Layer)

 AI Agent  DDL  100% 

## 

### 1. checkpoint 
 \`ALTER TABLE\`  \`DROP TABLE\`  \`CHECKPOINT;\`  \`.db\` 

### 2. 
 \`ROLLBACK\`  \`snapshots/\` 

## 
 \`CREATE TABLE AS SELECT\` (CTAS) 
`},"401-alc":{id:"401-alc",title:"SKL-401:  (Cognitive Alignment Loop - ALC)",blocks:{overview:"","_(meta_layer)":" AI Agent  SQL ",:`### 1. 
 AI  SQL  SQL
- ****:  \`id\`  \`primary_key\`
- ****: 

### 2. 
 Prompts`,:" SQL `User Preference Map`"},fullContent:`# SKL-401:  (Cognitive Alignment Loop - ALC)

##  (Meta Layer)

 AI Agent  SQL 

## 

### 1. 
 AI  SQL  SQL
- ****:  \`id\`  \`primary_key\`
- ****: 

### 2. 
 Prompts

## 
 SQL \`User Preference Map\`
`},"402-trace":{id:"402-trace",title:"SKL-402:  (Narrative Trace Weaver)",blocks:{overview:"","_(meta_layer)":" AI Agent  AI Chain-of-Thought",:`### 1. 

- ** A**:  \`amount\` 
- ** B**: 
- ** C**:  \`MEDIAN\`  \`AVG\`

### 2. 
 Deep Insight  SQL `,:"In  `## `  AI ","handbook_protocol_(skl-000)_":` ** ** 
 ** **  Median vs Avg
 ** **  Outliers `},fullContent:`# SKL-402:  (Narrative Trace Weaver)

##  (Meta Layer)

 AI Agent  AI Chain-of-Thought

## 

### 1. 

- ** A**:  \`amount\` 
- ** B**: 
- ** C**:  \`MEDIAN\`  \`AVG\`

### 2. 
 Deep Insight  SQL 

## 
In  \`## \`  AI 

## Handbook Protocol (SKL-000) 
 ** ** 
 ** **  Median vs Avg
 ** **  Outliers 
`},"403-compressor":{id:"403-compressor",title:"SKL-403:  (Prompt Semantic Compressor)",blocks:{overview:"","_(meta_layer)":" AI Agent  Skills  Token ",:`### 1. 
 \`Stage 0\`  Stages  Skills
- ****:  \`SKL-103 (Time Detector)\`

### 2. 
 Skills Cheatsheet  Prompt `,:" Prompt  30%-50%"},fullContent:`# SKL-403:  (Prompt Semantic Compressor)

##  (Meta Layer)

 AI Agent  Skills  Token 

## 

### 1. 
 \`Stage 0\`  Stages  Skills
- ****:  \`SKL-103 (Time Detector)\`

### 2. 
 Skills Cheatsheet  Prompt 

## 
 Prompt  30%-50%
`},"404-dbt":{id:"404-dbt",title:"SKL-404: DBT  (DBT Engineering Bridge)",blocks:{overview:"","_(meta_layer)":" AI Agent  AI  SQL  dbt",:"### 1. \n CTE  SQL  dbt  `.sql`  `{{ ref(...) }}`  `{{ source(...) }}`\n\n### 2. Schema \n `schema.yml` SKL-305SKL-206",:""},fullContent:`# SKL-404: DBT  (DBT Engineering Bridge)

##  (Meta Layer)

 AI Agent  AI  SQL  dbt

## 

### 1. 
 CTE  SQL  dbt  \`.sql\`  \`{{ ref(...) }}\`  \`{{ source(...) }}\`

### 2. Schema 
 \`schema.yml\` SKL-305SKL-206

## 

`},"405-ceo":{id:"405-ceo",title:"SKL-405:  (CEO-style Executive Summary)",blocks:{overview:"","_(meta_layer)":" AI Agent ",:`### 1. TL;DR 
 Insights  3 

### 2. 
SELECT count(*)  100 10%`,:" `###  `  200 "},fullContent:`# SKL-405:  (CEO-style Executive Summary)

##  (Meta Layer)

 AI Agent 

## 

### 1. TL;DR 
 Insights  3 

### 2. 
SELECT count(*)  100 10%

## 
 \`###  \`  200 
`},"001-format":{id:"001-format",title:"Untitled",blocks:{overview:""},fullContent:""}}};class $r{static TPL_CRUD(e){return{create:[`INSERT INTO "${e}" VALUES (...);`],read:[`SELECT * FROM "${e}" LIMIT 20;`,`SELECT count(*) FROM "${e}";`],update:[`UPDATE "${e}" SET col = val WHERE id = ...;`],delete:[`DELETE FROM "${e}" WHERE id = ...;`],extras:[`SELECT * FROM "${e}.csv";`,`COPY "${e}" TO 'out.parquet' (FORMAT PARQUET);`]}}static TPL_STATS(e,n){return`SELECT 
    COUNT(*) AS cnt,
    SUM("${n}") AS total,
    AVG("${n}")::INTEGER AS avg,
    MEDIAN("${n}")::INTEGER AS median,
    PERCENTILE_CONT(0.25) WITHIN GROUP (ORDER BY "${n}") AS p25,
    PERCENTILE_CONT(0.75) WITHIN GROUP (ORDER BY "${n}") AS p75,
    PERCENTILE_CONT(0.90) WITHIN GROUP (ORDER BY "${n}") AS p90,
    MIN("${n}") AS min,
    MAX("${n}") AS max,
    STDDEV("${n}") AS stddev
FROM "${e}";`}static get CORE_ENGINE_SYSTEM(){return`## 
DuckDB 

## 
 (SKL-000)
- 
-  CTE (SKL-203)  MACRO (SKL-304) 


-  (Perception)  (Strategy)  (Execution)
-  SQL  (SKL-402)


- : " Stage N/6 |  | "
- : {tableName}, {columnName}, {rowCount}`}static injectSkills(e){return e.map(n=>{const r=Vye.skills[n];return r?`

### [SKL-${n}] ${r.title}
${r.fullContent}`:""}).join("")}static buildSceneProbePrompt(e){const n=["000-protocol","101-semantic","401-alc"],r=["103-time","104-relation","105-localization","106-drift"];return`# Stage 0: 
${this.injectSkills([...n,...r])}`.replace(/\${tableName}/g,e.tableName).replace(/\${rowCount}/g,e.rowCount.toString()).replace(/\${colCount}/g,e.columnCount.toString()).replace(/\${sampleData}/g,e.sampleData||"")+`

## Output Format (JSON Only)
RETURN ONLY JSON OBJECT.`}static buildSemanticPrompt(e,n="EXPLORATION"){let i=`# Stage 1: 
${this.injectSkills(["101-semantic","201-governance","205-compliance","206-metric"])}`;return i=i.replace(/\${tableName}/g,e.tableName).replace(/\${userIntent}/g,n).replace(/\${sampleData}/g,e.sampleData||""),i+`

## Output Format (JSON Only)
RETURN ONLY JSON OBJECT { recommendedIntent, columns: [] }.`}static buildQualityPrompt(e){let r=`# Stage 2: 
${this.injectSkills(["102-quality","201-governance"])}`;const i=e.stats?JSON.stringify(e.stats,null,2):"N/A";return r=r.replace(/\${tableName}/g,e.tableName).replace(/\${stats}/g,i),r+`

## Output Format (JSON Only)
RETURN ONLY JSON OBJECT { overallScore, issues: [], recommendations: [] }.`}static buildOperationsPrompt(e,n="EXPLORATION"){let i=`# Stage 3: SQL 
${this.injectSkills(["301-sql","302-safety","203-cte","204-wasm","304-macro","305-assertion","308-snapshot"])}`;i=i.replace(/\${tableName}/g,e.tableName).replace(/\${userIntent}/g,n);const s=this.buildDataContext(e);return i+`

${s}

## CRITICAL INSTRUCTION: REALISTIC SQL GENERATION
1. **NO PLACEHOLDERS**: You MUST NOT use generic placeholders like 'val', 'col', 'id=...'.
2. **USE REAL VALUES**:
   - For INSERT: Generate a valid row using actual column names and realistic values from the stats/samples above.
   - For UPDATE: Choose a meaningful column (e.g. status, updated_at) and a specific condition based on real data (e.g. 'WHERE status = "PENDING"').
   - For DELETE: Use a specific, safe condition (e.g. 'WHERE id = 101' or 'WHERE created_at < "2023-01-01"').
3. **SYNTAX VALIDITY**: Ensure all SQL is valid DuckDB syntax. Quote identifier names if they contain special characters.


## Output Format (JSON Only)
RETURN ONLY JSON OBJECT { crud, transaction, scripts }.`}static buildInsightsPrompt(e){let r=`# Stage 4/5: 
${this.injectSkills(["202-insight","206-metric"])}`;const i=e.anomalies?JSON.stringify(e.anomalies.slice(0,5)):"[]",s=e.metrics?JSON.stringify(e.metrics):"[]";return r=r.replace(/\${tableName}/g,e.tableName).replace(/\${anomalies}/g,i).replace(/\${metrics}/g,s),r+`


## Output Format (JSON Only)
RETURN ONLY JSON OBJECT matching this structure:
{
  "insights": [ 
    { "title": "...", "observation": "...", "impact": "positive|negative", "category": "driver|anomaly" }
  ],
  "keyMetrics": [
    {
      "name": "Metric Name (e.g. ARPU)",
      "formula": "Calculation Formula (e.g. SUM(revenue)/COUNT(users))",
      "visual": "bar | line | number",
      "impact": "Core Business Value (Why it matters) - Explain in Chinese",
      "explanation": "Detailed Metric Definition & Context - Explain in Chinese",
      "unit": "currency | percentage | count"
    }
  ]
}`}static buildNarrativePrompt(e,n){var a;const r=this.injectSkills(["000-protocol","101-semantic","104-relation","303-report","402-trace","405-ceo","404-dbt"]);let i=`# Stage 6: 

## 
 @[.md] 

## 
1. ****: # DuckDB  SQL   ${e.tableName}
2. ****: 
   -  Markdown 
   - 
3. ****:  DuckDB/WASM 
4. ****: 
   -  ,  , --   
5. ** (ER )**: 
   -  \`mermaid erDiagram\` 
6. ****: 
   -  5-8  [SKL-000] , , , , , 
7. ** ()**: 

${r}`;const s=n.deepInsights?JSON.stringify(n.deepInsights.slice(0,5)):"[]",o=((a=n.qualityReport)==null?void 0:a.overallScore)||0;return i=i.replace(/\${tableName}/g,e.tableName).replace(/\${score}/g,o.toString()).replace(/\${insights}/g,s),i+`

## Output Guidance
 Markdown`}static buildRegexGenPrompt(e,n){return`# MOD_REGEX_GEN
## 
 DuckDB  (regexp_extract / regexp_replace) 

## 
: "${e}"
: "${n}"

##  (JSON Only)
{ "sql_pattern": "regexp_extract(col, 'pattern', 1)", "explanation": "..." }
 JSON `}static buildFixErrorPrompt(e,n){return`# MOD_FIX_ERROR
## 
 SQL  Diff

${this.injectSkills(["307-healing"])}

## 
SQL: ${e}
Error: ${n}

##  (JSON Only)
{ "fixed_sql": "Valid DuckDB SQL", "diff_explanation": "..." }
 JSON `}static buildSmartPivotPrompt(e,n){return`# MOD_SMART_PIVOT
## 
 DuckDB PIVOT 
: ${e}
: ${n}

##  (JSON Only)
{ "sql": "PIVOT ...", "structure": { "rows": [], "cols": [], "values": [] } }
 JSON `}static buildUnitTestPrompt(e,n){return`# MOD_UNIT_TEST
## 
 3-5  (Assertions)
: ${e}
Schema: ${JSON.stringify(n)}

## 
-  'SELECT count(*) FROM table WHERE <bad_condition>' 
-  0 

##  (JSON Only)
{ "tests": [ { "name": "...", "sql": "...", "severity": "critical" } ] }
 JSON `}static buildUnifiedChatPrompt(e,n){return` DuckDB 
    
    - : ${n.tableName}
    
    : "${e}"
    
     JSON: { "sql": "SELECT...", "explanation": "", "suggestion": "" }`}static buildSqlGenPrompt(e,n){return{prompt:`Schema:
${n}

Question: ${e}`,system:"You are a DuckDB SQL expert. Return ONLY raw SQL."}}static buildSqlFixPrompt(e,n,r){return{prompt:`Schema:
${r}

Broken SQL:
${e}

Error:
${n}`,system:"You are a SQL Debugger. Return ONLY fixed SQL."}}static buildDataContext(e){let n="No detailed statistics available.";e.stats&&Array.isArray(e.stats)&&e.stats.length>0&&(n=e.stats.slice(0,50).map(i=>{const s=i.name||i.column||"Unknown",o=i.type||"?",a=e.rowCount||1,l=(i.null_count/a*100).toFixed(1),c=(i.distinct_count/a*100).toFixed(1);let A=`[Scale: Nulls ${i.null_count}(${l}%), Distinct ${i.distinct_count}(${c}%)]`;if(A+=` [Range: ${i.min} to ${i.max}]`,i.mean!==void 0||i.avg!==void 0){const u=i.mean??i.avg;A+=` [Stats: Mean ${Number(u).toFixed(2)} | StdDev ${Number(i.std||0).toFixed(2)}]`,i.skew!==void 0&&(A+=` [Skew: ${Number(i.skew).toFixed(2)}]`)}if(i.top_k&&Array.isArray(i.top_k)&&i.top_k.length>0){const u=i.top_k.slice(0,8).map(h=>`"${h.value}"(${h.count})`).join(", ");A+=` [Top Distributions: ${u}]`}return i.distinct_count===a&&i.null_count===0&&(A+=" [Hint: Potential PK/Unique ID]"),i.distinct_count<10&&a>100&&(A+=" [Hint: Low Cardinality Dimension]"),`- **${s}** (${o}): ${A}`}).join(`
`));const r=e.sampleData?e.sampleData.slice(0,2e3):"No sample data.";return`###  Data Profiling (Top 50 Columns)
${n}

###  Sample Data Preview (First 15 Rows)
\`\`\`
${r}
\`\`\``}static buildUnifiedAnalysisPrompt(e,n="EXPLORATION"){const r=this.injectSkills(["000-protocol","101-semantic","102-quality","301-sql","203-cte","304-macro"]);e.sampleData;const i=this.buildDataContext(e);return`# Unified Data Analysis Pipeline

## 
 **** 

1. **Stage 0 - Scene Probe**: 
2. **Stage 1 - Semantic Analysis**:  (DIM/MEA/TIME/ID/TEXT)
3. **Stage 2 - Quality Audit**:  (0-100)
4. **Stage 3 - Operations**:  SQL  CRUD ++2+++ 2+  DuckDB 2+ SQL6+ 

## CRITICAL INSTRUCTION: REALISTIC SQL GENERATION
1. **NO PLACEHOLDERS**: You MUST NOT use generic placeholders like 'val', 'col', 'id=...'.
2. **USE REAL VALUES**:
   - For INSERT: Generate a valid row using actual column names and realistic values from the stats/samples above.
   - For UPDATE: Choose a meaningful column (e.g. status, updated_at) and a specific condition based on real data (e.g. 'WHERE status = "PENDING"').
   - For DELETE: Use a specific, safe condition (e.g. 'WHERE id = 101' or 'WHERE created_at < "2023-01-01"').

## 
- ****: \`${e.tableName}\`
- ****: ${e.rowCount}
- ****: ${e.columnCount}
- ****: ${n}

${i}

${r}

## Output Format (JSON Only)
 ** JSON **

\`\`\`json
{
  "probe": {
    "recommendedIntent": "EXPLORATION | AUDIT | REPORTING | FORECAST",
    "sceneType": "TRANSACTIONAL | ANALYTICAL | MASTER_DATA",
    "confidence": 0.95,
    "reasoning": ""  // NEW: 
  },
  "overview": "100-200",
  "semantic": {
    "columns": [
      {
        "name": "column_name",
        "semanticType": "DIM | MEA | TIME | ID | TEXT | CURR | PII",
        "confidenceScore": 95,  // NEW: 0-100 
        "confidenceLevel": "high | medium | low",  // NEW: 
        "reasoning": "",  // NEW: 
        "alternatives": [  // NEW: 
          { "type": "MEA", "confidence": 30 }
        ],
        "needsReview": false,  // NEW: <70true
        "description": "",
        "isPrimaryKey": false,
        "isForeignKey": false
      }
    ]
  },
  "quality": {
    "overallScore": 85,
    "overallScoreGrade": "A | B | C | D",  // NEW: 
    "dimensionScores": {  // NEW: 
      "completeness": 90,
      "consistency": 85,
      "accuracy": 80,
      "timeliness": 95,
      "uniqueness": 88
    },
    "reasoning": "",  // NEW: 
    "issues": [
      { "column": "col_name", "type": "Invalid Value | Missing | Schema Drift", "severity": "error | warning | info", "detail": "", "suggestion": "" }
    ],
    "recommendations": ["Recommendation 1"]
  },
  "snapshotInsights": [
    { 
      "title": "Insight Title", 
      "category": "driver | correlation | anomaly", 
      "observation": "Brief high-value observation", 
      "impact": "positive | negative | neutral",
      "assumption": "",  // NEW: 
      "limitation": "",  // NEW: 
      "confidenceScore": 85  // NEW: 1-100 
    }
  ],
  "keyMetrics": [
    {
      "name": "Metric Name",
      "formula": "Calculation Formula",
      "visual": "bar | line | number",
      "impact": "Core Business Value (Chinese)",
      "explanation": "Detailed Definition (Chinese)",
      "unit": "currency | percentage | count",
      "confidenceScore": 80,  // NEW: 
      "assumption": "",  // NEW: 
      "limitation": ""  // NEW: 
    }
  ],
  "operations": {
    "crud": {
      "read": {
        "problem": "",
        "syntaxTemplate": "SELECT [DISTINCT] col1, col2 FROM table WHERE condition ORDER BY col LIMIT n;",
        "examples": [
          { "title": "", "sql": "SELECT ... FROM ${e.tableName} ...", "explanation": "", "expectedColumns": ["col1", "col2"] }
        ],
        "gotchas": ["DuckDB "]
      },
      "create": {
        "problem": "",
        "syntaxTemplate": "INSERT INTO table (col1, col2) VALUES (v1, v2) RETURNING *;",
        "examples": [
          { "title": "", "sql": "INSERT INTO ${e.tableName} ...", "explanation": "", "expectedColumns": ["col1"] }
        ],
        "gotchas": [""]
      },
      "update": {
        "problem": "",
        "syntaxTemplate": "UPDATE table SET col = value WHERE condition;",
        "examples": [
          { "title": "", "sql": "UPDATE ${e.tableName} SET ...", "explanation": "", "expectedColumns": ["col1"] }
        ],
        "gotchas": [""]
      },
      "delete": {
        "problem": "",
        "syntaxTemplate": "DELETE FROM table WHERE condition;",
        "examples": [
          { "title": "", "sql": "DELETE FROM ${e.tableName} WHERE ...", "explanation": "", "expectedColumns": [] }
        ],
        "gotchas": [""]
      }
    },
    "transaction": {
      "safetyLevel": "SAFE | CAUTION | DANGER",
      "limitations": [
        { "title": "", "detail": "", "workaround": "" }
      ],
      "bestPractices": [
        { "title": "", "detail": "", "sql": "SQL" }
      ],
      "antiPatterns": [
        { "pattern": "", "fix": "" }
      ],
      "syntax": ["BEGIN TRANSACTION;", "-- your operations", "COMMIT;"]
    },
    "macros": [
      { "name": "macro_name", "sql": "CREATE MACRO ...", "description": "", "useCase": "", "params": [{"name": "param", "type": "type", "description": ""}] }
    ],
    "assertions": [
      { "name": "assertion_name", "sql": "SELECT ...", "description": "", "severity": "error | warning", "expectedValue": "", "fixSql": "SQL" }
    ],
    "scripts": [
      { "id": 1, "title": "Script Name", "sql": "SELECT ...", "category": "schema | crud | analysis | view | join | window", "description": "", "learningNote": "" }
    ]
  }
}
\`\`\`

**CRITICAL**:  JSON  3  (snapshotInsights)`}static buildHandbookBatch1Prompt(e){const{tableName:n,rowCount:r,columnCount:i,erDiagram:s,seedInserts:o,sampleData:a,columns:l,stats:c}=e,A={rowCount:r,columnCount:i,tableName:n,sampleData:a,stats:c||e.stats};return`#  DuckDB  - 

## 
${this.buildDataContext(A)}

## ER  ()
${s.mermaid}

## 
\`\`\`sql
${o}
\`\`\`

## 
${a}

---

##  Markdown

### 0. 
-  "${n}"  ${r} 
- DuckDB 
-  (, , --   )

### 0.5   (Stats Overview)
** Data Profiling **
- ****
- **** Top 3 
- ****
- ****
****

### 1. 
- 1.1 ER  ( Mermaid )
- 1.2  (CREATE TABLE for "${n}")
- 1.3  ( INSERT )

### 2.  ACRUD 
 (A1-A6) 

**A1  INSERT  **
**A2  SELECT **
**A3  SELECT **
**A4  SELECT  CTE**
**A5  UPDATE  **
**A6  DELETE  **

:
-  
-   ( SQL)
-   ( "${n}"  SQL)
-   (Markdown )
-   / 
-  

###   A   
 CRUD  (SELECT * FROM "${n}")`}static buildHandbookBatch2Prompt(e){var l;const{tableName:n,columns:r,erDiagram:i}=e,s=r.filter(c=>c.semanticType==="DIM").map(c=>c.name),o=r.filter(c=>c.semanticType==="MEA"||c.semanticType==="CURR").map(c=>c.name),a=(l=r.find(c=>c.semanticType==="TIME"))==null?void 0:l.name;return`#  DuckDB  - 

## 
- : \`${n}\`
- : ${s.join(", ")||""}
- : ${o.join(", ")||""}
- : ${a||""}

## ER 
${i.relationships.map(c=>`- ${c.from}  ${c.to} (${c.type})`).join(`
`)||""}

---

##  Markdown

### 3.  B (B1-B4)
**B1  INNER JOIN  **
**B2  LEFT JOIN  **
**B3  CROSS JOIN  **
**B4  SELF JOIN  **

### 4.  C (C1-C3)
**C1  CREATE VIEW  **
**C2  CREATE OR REPLACE  **
**C3  DROP VIEW  **

### 5.  D (D1-D3)
**D1  BEGIN TRANSACTION**
**D2  COMMIT  **
**D3  ROLLBACK  **

###   D   

### 6. 
 CTE + JOIN + 

:
-  
-  
-   ( "${n}")
-  
-  
-  `}static buildHandbookBatch3Prompt(e){var a;const{tableName:n,columns:r,rowCount:i}=e,s=r.filter(l=>l.semanticType==="MEA"||l.semanticType==="CURR").map(l=>l.name),o=(a=r.find(l=>l.semanticType==="TIME"))==null?void 0:a.name;return`#  DuckDB  - 

## 
- : \`${n}\`
- : ${i}
- : ${s.join(", ")||""}
- : ${o||""}

---

##  Markdown

### 7.  E (E1-E3)
**E1  ROW_NUMBER / RANK / DENSE_RANK**
**E2  LAG / LEAD  **
**E3    SUM() OVER (ROWS BETWEEN)**

### 8.  F (F1-F3)
**F1  COPY TO   CSV/Parquet**
**F2  COPY FROM  **
**F3  read_csv_auto  **

### 9.  G (G1-G4)
**G1  CASE WHEN  **
**G2  COALESCE / NULLIF  **
**G3  regexp_extract / regexp_replace  **
**G4  strftime / date_trunc  **

### 10.  HPIVOT  (H1-H2)
**H1  PIVOT  **
**H2  UNPIVOT  **

### 11.  I (I1-I3)
**I1  EXPLAIN ANALYZE  **
**I2  PRAGMA  **
**I3  SUMMARIZE  **

### 12. Cheat Sheet
 Markdown :
|  |  |  |
|------|------|------|
( SELECT, INSERT, UPDATE, DELETE, JOIN, , )

### 13. 
 Mermaid flowchart 

:
-  
-  
-   ( "${n}")
-  
-  
-  `}}class $ye{constructor(){this.lastCallTimestamp=0,this.pausedUntil=0,this.COOLDOWN_MS=5e3,this.queue=Promise.resolve()}async acquireLock(){const e=this.queue.then(async()=>{let n=Date.now();if(n<this.pausedUntil){const i=this.pausedUntil-n;console.log(`[AIThrottler] System globally paused for ${i}ms (Rate Limit)...`),await new Promise(s=>setTimeout(s,i)),n=Date.now()}const r=n-this.lastCallTimestamp;if(r<this.COOLDOWN_MS){const i=this.COOLDOWN_MS-r;console.log(`[AIThrottler] Throttling for ${i}ms...`),await new Promise(s=>setTimeout(s,i))}this.lastCallTimestamp=Date.now()});return this.queue=e,e}block(e){this.pausedUntil=Date.now()+e}getRemainingTime(){const e=Date.now(),n=Math.max(0,this.pausedUntil-e),r=Math.max(0,this.COOLDOWN_MS-(e-this.lastCallTimestamp));return Math.max(n,r)}reset(){this.lastCallTimestamp=0,this.pausedUntil=0}}const aM=new $ye;class Wye{getConfig(){const e=localStorage.getItem("duckdb_ai_provider")||"google",n=localStorage.getItem("duckdb_ai_api_key")||void 0||"",r=localStorage.getItem("duckdb_ai_base_url")||"",i=localStorage.getItem("duckdb_ai_model")||(e==="google"?"gemini-2.0-flash-exp":"llama-3.3-70b-versatile");return{provider:e,apiKey:n,baseUrl:r,model:i}}async callProvider(e,n,r=!1,i,s){var c,A,u,h,p,E,T;await aM.acquireLock();const o=this.getConfig();if(!o.apiKey)throw new Error("AI API Key not configured");const a=i||o.model;let l="";if(o.provider==="google"){const y=new N3({apiKey:o.apiKey});if(s){const R=await y.models.generateContentStream({model:a,contents:e,config:{systemInstruction:n,responseMimeType:r?"application/json":void 0}});for await(const I of R){const b=I.text;l+=b,s(b)}return l}else return(await y.models.generateContent({model:a,contents:e,config:{systemInstruction:n,responseMimeType:r?"application/json":void 0}})).text||""}else{let y=o.baseUrl||(o.provider==="groq"?"https://api.groq.com/openai/v1":"https://api.openai.com/v1");y.endsWith("/chat/completions")||(y=y.replace(/\/?$/,"/chat/completions"));const R=[];n&&R.push({role:"system",content:n}),R.push({role:"user",content:e});const I=await fetch(y,{method:"POST",headers:{Authorization:`Bearer ${o.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:a,messages:R,response_format:r&&!s?{type:"json_object"}:void 0,temperature:.1,stream:!!s})});if(!I.ok){const b=await I.json().catch(()=>({error:{message:I.statusText}}));throw new Error(`AI Provider Error (${I.status}): ${((c=b.error)==null?void 0:c.message)||I.statusText}`)}if(s&&I.body){const b=I.body.getReader(),B=new TextDecoder;let w="";for(;;){const{done:O,value:L}=await b.read();if(O)break;w+=B.decode(L,{stream:!0});const U=w.split(`
`);w=U.pop()||"";for(const G of U){const Q=G.trim();if(!Q||!Q.startsWith("data: "))continue;const Y=Q.slice(6);if(Y==="[DONE]")break;try{const j=((h=(u=(A=JSON.parse(Y).choices)==null?void 0:A[0])==null?void 0:u.delta)==null?void 0:h.content)||"";j&&(l+=j,s(j))}catch{}}}return l}else return((T=(E=(p=(await I.json()).choices)==null?void 0:p[0])==null?void 0:E.message)==null?void 0:T.content)||""}}async robustCall(e,n,r,i=!0,s=3,o){var A,u,h,p,E,T;let a=null,l,c=n;for(let y=0;y<=s;y++)try{const R=await this.callProvider(c,r,i,l,o);if(!i){if(R&&R.trim().length>0){try{await At.logAiTrace({prompt:c,response:R,model:this.getConfig().model,meta:{stage:e,attempt:y+1,type:"text"}})}catch(b){console.warn("Log failed",b)}return R}throw new Error("Empty response from AI provider")}const I=Qye.validate(e,R);if(I.isValid){try{await At.logAiTrace({prompt:c,response:JSON.stringify(I.data),model:this.getConfig().model,meta:{stage:e,attempt:y+1,type:"json"}})}catch(b){console.warn("Log failed",b)}return I.data}if(I.isPartial&&y===s)return console.warn(`[AIService] Returning partial result for ${e} after ${y} retries.`),I.data;console.warn(`[AIService] ${e} result invalid or partial (attempt ${y+1}/${s+1}), self-healing retry...`,I.missingFields),c=`${n}

[SELF_HEALING_FEEDBACK]
Your previous response was invalid. Missing/Error fields: ${I.missingFields.join(", ")}.
Please fix the JSON structure and ensure all required fields are present.`,a=new Error(`Incomplete AI response for ${e}: ${I.missingFields.join(", ")}`)}catch(R){if(console.error(`[AIService] ${e} call failed (attempt ${y+1}):`,R),a=R,(A=R.message)!=null&&A.includes("401")||(u=R.message)!=null&&u.includes("403")||(h=R.message)!=null&&h.includes("Invalid API Key"))throw console.error("[AIService]  Authentication failed. Please check your API Key in Settings."),R;if((p=R.message)!=null&&p.includes("429")||(E=R.message)!=null&&E.includes("503")){let I=0;const b=(T=R.message)==null?void 0:T.match(/try again in\s*(\d+(\.\d+)?)\s*s/i);b&&b[1]&&(I=Math.ceil(parseFloat(b[1])*1e3)+1500,console.log(`[AIService] Rate Limit detected. Dynamic wait: ${I}ms`));const B=Math.min(6e4,2e3*Math.pow(2,y)),w=Math.max(I,B);console.log(`[AIService] API Overloaded. Global Pause: ${w}ms...`),aM.block(w),await new Promise(O=>setTimeout(O,w))}else await new Promise(I=>setTimeout(I,1e3))}throw a||new Error(`AI generation failed for ${e}`)}async generateSql(e,n){try{const{prompt:r,system:i}=$r.buildSqlGenPrompt(e,n);return(await this.callProvider(r,i,!1)).trim()||"-- No SQL generated"}catch(r){return console.error("AIService Error:",r),`-- Error generating SQL: ${r.message}`}}async fixSql(e,n,r){try{const{prompt:i,system:s}=$r.buildSqlFixPrompt(e,n,r);return(await this.callProvider(i,s,!1)).replace(/```sql|```/g,"").trim()||e}catch(i){return`-- AI Fix Failed: ${i.message}`}}async generateSceneProbe(e){const n=$r.buildSceneProbePrompt(e);return await this.robustCall("probe",n,$r.CORE_ENGINE_SYSTEM,!0)}async generateSemanticColumns(e,n="EXPLORATION"){const r=$r.buildSemanticPrompt(e,n),i=await this.robustCall("semantic",r,$r.CORE_ENGINE_SYSTEM,!0);return i&&i.columns&&Array.isArray(i.columns)?i.columns:Array.isArray(i)?i:[]}async generateQualityReport(e){const n=$r.buildQualityPrompt(e);return await this.robustCall("quality",n,$r.CORE_ENGINE_SYSTEM,!0)}async generateSqlAssets(e,n="EXPLORATION"){const r=$r.buildOperationsPrompt(e,n);let i={};try{i=await this.robustCall("ops",r,$r.CORE_ENGINE_SYSTEM,!0)}catch(o){console.warn("SQL Ops Generation partial fail, using templates only",o),i={scripts:[]}}const s=$r.TPL_CRUD(e.tableName);return i.crud={...s,...i.crud||{}},(!i.scripts||!Array.isArray(i.scripts)||i.scripts.length===0)&&(i.scripts=[{title:" (Fallback)",category:"schema",interpretation:"",sql:`SELECT * FROM "${e.tableName}" LIMIT 50;`,reversible:!0}]),i&&Array.isArray(i.scripts)&&(i.scripts=i.scripts.map((o,a)=>({...o,id:a+1}))),i}async generateUnifiedAnalysis(e,n="EXPLORATION"){const r=$r.buildUnifiedAnalysisPrompt(e,n);let i=await this.robustCall("unified",r,$r.CORE_ENGINE_SYSTEM,!0);i.probe||(i.probe={recommendedIntent:"EXPLORATION"}),i.overview||(i.overview=`Analysis of ${e.tableName}. This dataset contains ${e.rowCount} rows and ${e.columnCount} columns. It appears to be a ${i.probe.sceneType||"data"} asset refined for ${i.probe.recommendedIntent||"analytical"} scenarios.`),i.semantic||(i.semantic={columns:[]}),i.quality||(i.quality={overallScore:85,issues:[{column:"GENERAL",type:"Schema Consistency",severity:"info",detail:"Schema looks standard for DuckDB ingestion.",suggestion:"Check for specific column constraints"}],recommendations:["Maintain consistent naming conventions","Consider adding primary keys if not present"]}),i.operations||(i.operations={scripts:[]}),i.keyMetrics||(i.keyMetrics=[]),(!i.snapshotInsights||i.snapshotInsights.length===0)&&(i.snapshotInsights=[{title:"Volume Profile",category:"driver",observation:`Dataset has ${e.rowCount} records across ${e.columnCount} dimensions.`,impact:"neutral"},{title:"Access Speed",category:"driver",observation:"Ingested into DuckDB's columnar storage for sub-millisecond querying.",impact:"positive"}]),Array.isArray(i.quality.issues)&&(i.quality.issues=i.quality.issues.map(o=>typeof o=="string"?{column:"GENERAL",type:"Observation",severity:"info",detail:o,suggestion:"Review data profile for details"}:o));const s=$r.TPL_CRUD(e.tableName);return i.operations.crud={...s,...i.operations.crud||{}},i.operations.scripts&&Array.isArray(i.operations.scripts)?i.operations.scripts=i.operations.scripts.map((o,a)=>({...o,id:a+1})):i.operations.scripts=[{id:1,title:" (Fallback)",category:"schema",interpretation:"",sql:`SELECT * FROM "${e.tableName}" LIMIT 50;`,reversible:!0}],i}async generateCausalGraph(e){return null}async generateKeyInsights(e){const n=$r.buildInsightsPrompt(e);return await this.robustCall("insights",n,$r.CORE_ENGINE_SYSTEM,!0)}async generateAssetNarrative(e,n){const r=$r.buildNarrativePrompt(e,n);return await this.robustCall("narrative",r,$r.CORE_ENGINE_SYSTEM,!1)}async unifiedChat(e,n){const r=$r.buildUnifiedChatPrompt(e,n),i=await this.callProvider(r,"Return structured JSON for BI assistant",!0);try{const s=JSON.parse(i);return{sql:s.sql.replace(/```sql/g,"").replace(/```/g,"").trim(),explanation:s.explanation,suggestion:s.suggestion}}catch{return{sql:i.includes("SELECT")?i:"SELECT * FROM "+n.tableName+" LIMIT 10",explanation:" SQL",suggestion:""}}}async generateRegex(e,n){const r=$r.buildRegexGenPrompt(e,n);return this.robustCall("regex_gen",r,$r.CORE_ENGINE_SYSTEM,!0)}async fixSqlError(e,n){const r=$r.buildFixErrorPrompt(e,n);return this.robustCall("fix_error",r,$r.CORE_ENGINE_SYSTEM,!0)}async generateSmartPivot(e,n){const r=$r.buildSmartPivotPrompt(e,n);return this.robustCall("smart_pivot",r,$r.CORE_ENGINE_SYSTEM,!0)}async generateUnitTests(e){const n=$r.buildUnitTestPrompt(e.tableName,e);return this.robustCall("unit_test",n,$r.CORE_ENGINE_SYSTEM,!0)}async generateNarrativeReport(e,n,r){var l,c,A;const i=`

      
      - : ${e.rowCount} 
      - : ${((l=n.qualityReport)==null?void 0:l.overallScore)||"N/A"}
      - : ${JSON.stringify((c=n.metricScorecards)==null?void 0:c.map(u=>u.name))}
      - : ${JSON.stringify((A=n.deepInsights)==null?void 0:A.map(u=>u.title))}

      
      2. 
         - 
         - 
         - 
         - 
      3. 

       [NARRATIVE] `;let s="";r==null||r(" ..."),await this.robustCall("core_analysis",i,"",!1,2,u=>{s+=u});const o=s.indexOf("[NARRATIVE]")+11,a=s.indexOf("[/NARRATIVE]");return a>-1?s.substring(o,a).trim():s.replace(/\[\/?NARRATIVE\]/g,"").trim()}async fetchAvailableModels(){const e=this.getConfig();if(!e.apiKey)throw new Error("API Key not configured. Please save your API key first.");try{if(e.provider==="google"){const r=await new N3({apiKey:e.apiKey}).models.list(),i=[];for await(const s of r)s.name&&s.displayName&&i.push({id:s.name.replace("models/",""),name:s.displayName});return i.length>0?i:this.getDefaultModels(e.provider)}else{let n=e.baseUrl||(e.provider==="groq"?"https://api.groq.com/openai/v1":"https://api.openai.com/v1");n=n.replace(/\/chat\/completions\/?$/,"");const r=`${n}/models`;try{const i=await fetch(r,{headers:{Authorization:`Bearer ${e.apiKey}`}});if(!i.ok)throw new Error(`API returned ${i.status}`);const o=((await i.json()).data||[]).filter(a=>a.id&&!a.id.includes("whisper")).map(a=>({id:a.id,name:a.id})).sort((a,l)=>a.name.localeCompare(l.name));return o.length>0?o:this.getDefaultModels(e.provider)}catch{return this.getDefaultModels(e.provider)}}}catch{return this.getDefaultModels(e.provider)}}getDefaultModels(e){switch(e){case"google":return[{id:"gemini-2.0-flash-exp",name:"Gemini 2.0 Flash (Exp)"},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash"}];case"groq":return[{id:"llama-3.3-70b-versatile",name:"Llama 3.3 70B Versatile"},{id:"llama-3.1-70b-versatile",name:"Llama 3.1 70B Versatile"},{id:"mixtral-8x7b-32768",name:"Mixtral 8x7B"}];case"openai":default:return[{id:"gpt-4o",name:"GPT-4o"},{id:"gpt-4-turbo",name:"GPT-4 Turbo"}]}}}const Uh=new Wye,lb=t=>{const e=t.toUpperCase();return e.includes("INT")||e.includes("FLOAT")||e.includes("DOUBLE")||e.includes("DECIMAL")?"#":e.includes("CHAR")||e.includes("TEXT")||e.includes("STRING")?"":e.includes("DATE")||e.includes("TIME")?"":e.includes("BOOL")?"":e.includes("LIST")||e.includes("ARRAY")?"":e.includes("STRUCT")||e.includes("MAP")?"":e.includes("JSON")?"":e.includes("BLOB")?"":""};var tr=(t=>(t.DASHBOARD="dashboard",t.DATA="data",t.STRUCTURE="structure",t.SQL="sql",t.HISTORY="history",t.AUDIT="audit",t.EXTENSIONS="extensions",t.TUTORIALS="tutorials",t.SCHEMA_GENERATOR="schema_generator",t.METRICS="metrics",t))(tr||{});/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yye=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jye=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=t=>{const e=jye(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zye=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qye=H.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>H.createElement("svg",{ref:l,...Kye,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Kq("lucide",i),...!s&&!zye(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,A])=>H.createElement(c,A)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(t,e)=>{const n=H.forwardRef(({className:r,...i},s)=>H.createElement(qye,{ref:s,iconNode:e,className:Kq(`lucide-${Yye(b3(t))}`,`lucide-${t}`,r),...i}));return n.displayName=b3(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xye=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],QF=Mt("activity",Xye);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jye=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zq=Mt("arrow-left",Jye);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zye=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],VF=Mt("book-open",Zye);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0e=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],t0e=Mt("brain-circuit",e0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],v3=Mt("calculator",n0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],i0e=Mt("calendar",r0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],e1=Mt("chart-column",s0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],a0e=Mt("chart-line",o0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],c0e=Mt("chart-no-axes-column-increasing",l0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0e=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],jh=Mt("chart-no-axes-column",A0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],h0e=Mt("chart-pie",u0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0e=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aA=Mt("check",d0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],TR=Mt("chevron-down",f0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$F=Mt("chevron-right",p0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bw=Mt("chevron-up",m0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rx=Mt("circle-alert",g0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O3=Mt("circle-check-big",E0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qq=Mt("circle-check",T0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],y0e=Mt("circle-question-mark",S0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],x0e=Mt("clipboard",C0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0e=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I0e=Mt("clock",R0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0e=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],w3=Mt("code",_0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],vw=Mt("copy",N0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0e=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Gh=Mt("database",b0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],WF=Mt("download",v0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],w0e=Mt("external-link",O0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],YF=Mt("file-text",L0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],D0e=Mt("file-up",B0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],M0e=Mt("folder-open",k0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0e=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],U0e=Mt("funnel",P0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0e=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],H0e=Mt("gauge",F0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0e=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],L3=Mt("git-compare",G0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0e=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],V0e=Mt("hash",Q0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0e=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],W0e=Mt("heart-handshake",$0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0e=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],B3=Mt("heart",Y0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0e=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],lM=Mt("layers",j0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0e=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],D3=Mt("layout-dashboard",K0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],q0e=Mt("layout-template",z0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0e=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Xq=Mt("lightbulb",X0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0e=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ix=Mt("link",J0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0e=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qh=Mt("loader-circle",Z0e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eCe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],yT=Mt("package",eCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tCe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],nCe=Mt("pen-line",tCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rCe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iCe=Mt("pen",rCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sCe=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],oCe=Mt("pin",sCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aCe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],cg=Mt("play",aCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lCe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lf=Mt("plus",lCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cCe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ow=Mt("refresh-cw",cCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ACe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uCe=Mt("save",ACe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hCe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jq=Mt("search",hCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dCe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fCe=Mt("settings",dCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pCe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mCe=Mt("sparkles",pCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gCe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ECe=Mt("square-pen",gCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TCe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cM=Mt("star",TCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SCe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],k3=Mt("sticky-note",SCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yCe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],_x=Mt("table",yCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CCe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],xCe=Mt("tag",CCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RCe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ICe=Mt("target",RCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ce=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],M3=Mt("terminal",_Ce);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NCe=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],bCe=Mt("test-tube-diagonal",NCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vCe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zf=Mt("trash-2",vCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OCe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wCe=Mt("trending-up",OCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LCe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ww=Mt("triangle-alert",LCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BCe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zq=Mt("upload",BCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DCe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],eX=Mt("wrench",DCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kCe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wm=Mt("x",kCe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MCe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],PCe=Mt("zap",MCe);class UCe{constructor(){this.dbName="DuckDBSchemaGenerator",this.version=3}async openDB(){return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>n(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=i=>{const s=i.target.result;s.objectStoreNames.contains("analyses")||s.createObjectStore("analyses",{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),s.objectStoreNames.contains("snippets")||s.createObjectStore("snippets",{keyPath:"id"}).createIndex("createdAt","createdAt",{unique:!1}),s.objectStoreNames.contains("dashboards")||s.createObjectStore("dashboards",{keyPath:"id"}).createIndex("updatedAt","updatedAt",{unique:!1})}})}async save(e){const n=await this.openDB(),i=n.transaction(["analyses"],"readwrite").objectStore("analyses");await new Promise((s,o)=>{const a=i.put(e);a.onsuccess=()=>s(),a.onerror=()=>o(a.error)}),n.close()}async getAll(){const r=(await this.openDB()).transaction(["analyses"],"readonly").objectStore("analyses");return new Promise((i,s)=>{const o=r.getAll();o.onsuccess=()=>{i(o.result.sort((a,l)=>l.timestamp-a.timestamp))},o.onerror=()=>s(o.error)})}async get(e){const i=(await this.openDB()).transaction(["analyses"],"readonly").objectStore("analyses");return new Promise((s,o)=>{const a=i.get(e);a.onsuccess=()=>s(a.result||null),a.onerror=()=>o(a.error)})}async delete(e){const n=await this.openDB(),i=n.transaction(["analyses"],"readwrite").objectStore("analyses");await new Promise((s,o)=>{const a=i.delete(e);a.onsuccess=()=>s(),a.onerror=()=>o(a.error)}),n.close()}async saveQuery(e){const n=await this.openDB(),i=n.transaction(["snippets"],"readwrite").objectStore("snippets");await new Promise((s,o)=>{const a=i.put(e);a.onsuccess=()=>s(),a.onerror=()=>o(a.error)}),n.close()}async getQueries(){const r=(await this.openDB()).transaction(["snippets"],"readonly").objectStore("snippets");return new Promise((i,s)=>{const o=r.getAll();o.onsuccess=()=>{i(o.result.sort((a,l)=>l.createdAt-a.createdAt))},o.onerror=()=>s(o.error)})}async deleteQuery(e){const n=await this.openDB(),i=n.transaction(["snippets"],"readwrite").objectStore("snippets");await new Promise((s,o)=>{const a=i.delete(e);a.onsuccess=()=>s(),a.onerror=()=>o(a.error)}),n.close()}async saveDashboard(e){const n=await this.openDB(),i=n.transaction(["dashboards"],"readwrite").objectStore("dashboards");await new Promise((s,o)=>{const a=i.put(e);a.onsuccess=()=>s(),a.onerror=()=>o(a.error)}),n.close()}async getDashboards(){const r=(await this.openDB()).transaction(["dashboards"],"readonly").objectStore("dashboards");return new Promise((i,s)=>{const o=r.getAll();o.onsuccess=()=>{i(o.result.sort((a,l)=>l.updatedAt-a.updatedAt))},o.onerror=()=>s(o.error)})}async deleteDashboard(e){const n=await this.openDB(),i=n.transaction(["dashboards"],"readwrite").objectStore("dashboards");await new Promise((s,o)=>{const a=i.delete(e);a.onsuccess=()=>s(),a.onerror=()=>o(a.error)}),n.close()}}const $a=new UCe,FCe=Object.freeze(Object.defineProperty({__proto__:null,dbService:$a},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function SR(t){return t+.5|0}const uf=(t,e,n)=>Math.max(Math.min(t,n),e);function mC(t){return uf(SR(t*2.55),0,255)}function Sf(t){return uf(SR(t*255),0,255)}function Lh(t){return uf(SR(t/2.55)/100,0,1)}function P3(t){return uf(SR(t*100),0,100)}const ec={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},AM=[..."0123456789ABCDEF"],HCe=t=>AM[t&15],GCe=t=>AM[(t&240)>>4]+AM[t&15],d_=t=>(t&240)>>4===(t&15),QCe=t=>d_(t.r)&&d_(t.g)&&d_(t.b)&&d_(t.a);function VCe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ec[t[1]]*17,g:255&ec[t[2]]*17,b:255&ec[t[3]]*17,a:e===5?ec[t[4]]*17:255}:(e===7||e===9)&&(n={r:ec[t[1]]<<4|ec[t[2]],g:ec[t[3]]<<4|ec[t[4]],b:ec[t[5]]<<4|ec[t[6]],a:e===9?ec[t[7]]<<4|ec[t[8]]:255})),n}const $Ce=(t,e)=>t<255?e(t):"";function WCe(t){var e=QCe(t)?HCe:GCe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+$Ce(t.a,e):void 0}const YCe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tX(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function jCe(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function KCe(t,e,n){const r=tX(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function zCe(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function jF(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,A;return s!==o&&(A=s-o,c=a>.5?A/(2-s-o):A/(s+o),l=zCe(n,r,i,A,s),l=l*60+.5),[l|0,c||0,a]}function KF(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Sf)}function zF(t,e,n){return KF(tX,t,e,n)}function qCe(t,e,n){return KF(KCe,t,e,n)}function XCe(t,e,n){return KF(jCe,t,e,n)}function nX(t){return(t%360+360)%360}function JCe(t){const e=YCe.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?mC(+e[5]):Sf(+e[5]));const i=nX(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=qCe(i,s,o):e[1]==="hsv"?r=XCe(i,s,o):r=zF(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function ZCe(t,e){var n=jF(t);n[0]=nX(n[0]+e),n=zF(n),t.r=n[0],t.g=n[1],t.b=n[2]}function exe(t){if(!t)return;const e=jF(t),n=e[0],r=P3(e[1]),i=P3(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Lh(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const U3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},F3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function txe(){const t={},e=Object.keys(F3),n=Object.keys(U3);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,U3[s]);s=parseInt(F3[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let f_;function nxe(t){f_||(f_=txe(),f_.transparent=[0,0,0,0]);const e=f_[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const rxe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ixe(t){const e=rxe.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?mC(o):uf(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?mC(r):uf(r,0,255)),i=255&(e[4]?mC(i):uf(i,0,255)),s=255&(e[6]?mC(s):uf(s,0,255)),{r,g:i,b:s,a:n}}}function sxe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Lh(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const t1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,FE=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function oxe(t,e,n){const r=FE(Lh(t.r)),i=FE(Lh(t.g)),s=FE(Lh(t.b));return{r:Sf(t1(r+n*(FE(Lh(e.r))-r))),g:Sf(t1(i+n*(FE(Lh(e.g))-i))),b:Sf(t1(s+n*(FE(Lh(e.b))-s))),a:t.a+n*(e.a-t.a)}}function p_(t,e,n){if(t){let r=jF(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=zF(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function rX(t,e){return t&&Object.assign(e||{},t)}function H3(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Sf(t[3]))):(e=rX(t,{r:0,g:0,b:0,a:1}),e.a=Sf(e.a)),e}function axe(t){return t.charAt(0)==="r"?ixe(t):JCe(t)}let iX=class uM{constructor(e){if(e instanceof uM)return e;const n=typeof e;let r;n==="object"?r=H3(e):n==="string"&&(r=VCe(e)||nxe(e)||axe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=rX(this._rgb);return e&&(e.a=Lh(e.a)),e}set rgb(e){this._rgb=H3(e)}rgbString(){return this._valid?sxe(this._rgb):void 0}hexString(){return this._valid?WCe(this._rgb):void 0}hslString(){return this._valid?exe(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=oxe(this._rgb,e._rgb,n)),this}clone(){return new uM(this.rgb)}alpha(e){return this._rgb.a=Sf(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=SR(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return p_(this._rgb,2,e),this}darken(e){return p_(this._rgb,2,-e),this}saturate(e){return p_(this._rgb,1,e),this}desaturate(e){return p_(this._rgb,1,-e),this}rotate(e){return ZCe(this._rgb,e),this}};/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function mh(){}const lxe=(()=>{let t=0;return()=>t++})();function Mr(t){return t===null||typeof t>"u"}function ys(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function wr(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Cc(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $A(t,e){return Cc(t)?t:e}function cr(t,e){return typeof t>"u"?e:t}const cxe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,sX=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function hi(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Yr(t,e,n,r){let i,s,o;if(ys(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(wr(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function wv(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Lv(t){if(ys(t))return t.map(Lv);if(wr(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Lv(t[n[i]]);return e}return t}function oX(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Axe(t,e,n,r){if(!oX(t))return;const i=e[t],s=n[t];wr(i)&&wr(s)?Iu(i,s,r):e[t]=Lv(s)}function Iu(t,e,n){const r=ys(e)?e:[e],i=r.length;if(!wr(t))return t;n=n||{};const s=n.merger||Axe;let o;for(let a=0;a<i;++a){if(o=r[a],!wr(o))continue;const l=Object.keys(o);for(let c=0,A=l.length;c<A;++c)s(l[c],t,o,n)}return t}function GC(t,e){return Iu(t,e,{merger:uxe})}function uxe(t,e,n){if(!oX(t))return;const r=e[t],i=n[t];wr(r)&&wr(i)?GC(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Lv(i))}const G3={"":t=>t,x:t=>t.x,y:t=>t.y};function hxe(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function dxe(t){const e=hxe(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Ym(t,e){return(G3[e]||(G3[e]=dxe(e)))(t)}function qF(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Nx=t=>typeof t<"u",Bf=t=>typeof t=="function",Q3=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function fxe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ts=Math.PI,Zi=2*ts,pxe=Zi+ts,Bv=Number.POSITIVE_INFINITY,mxe=ts/180,Ps=ts/2,qp=ts/4,V3=ts*2/3,aX=Math.log10,Tu=Math.sign;function QC(t,e,n){return Math.abs(t-e)<n}function $3(t){const e=Math.round(t);t=QC(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(aX(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function gxe(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function hS(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Exe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Txe(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Fh(t){return t*(ts/180)}function Sxe(t){return t*(180/ts)}function W3(t){if(!Cc(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function lX(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*ts&&(s+=Zi),{angle:s,distance:i}}function hM(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yxe(t,e){return(t-e+pxe)%Zi-ts}function Jd(t){return(t%Zi+Zi)%Zi}function bx(t,e,n,r){const i=Jd(t),s=Jd(e),o=Jd(n),a=Jd(s-i),l=Jd(o-i),c=Jd(i-s),A=Jd(i-o);return i===s||i===o||r&&s===o||a>l&&c<A}function Ho(t,e,n){return Math.max(e,Math.min(n,t))}function Cxe(t){return Ho(t,-32768,32767)}function hf(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function XF(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ym=(t,e,n,r)=>XF(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),xxe=(t,e,n)=>XF(t,n,r=>t[r][e]>=n);function Rxe(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const cX=["push","pop","shift","splice","unshift"];function Ixe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),cX.forEach(n=>{const r="_onData"+qF(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Y3(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(cX.forEach(s=>{delete t[s]}),delete t._chartjs)}function AX(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const uX=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function hX(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,uX.call(window,()=>{r=!1,t.apply(e,n)}))}}function _xe(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const JF=t=>t==="start"?"left":t==="end"?"right":"center",Mo=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Nxe=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function dX(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:A,minDefined:u,maxDefined:h}=o.getUserBounds();u&&(i=Ho(Math.min(ym(a,l,c).lo,n?r:ym(e,l,o.getPixelForValue(c)).lo),0,r-1)),h?s=Ho(Math.max(ym(a,o.axis,A,!0).hi+1,n?0:ym(e,l,o.getPixelForValue(A),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function fX(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const m_=t=>t===0||t===1,j3=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Zi/n)),K3=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Zi/n)+1,VC={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ps)+1,easeOutSine:t=>Math.sin(t*Ps),easeInOutSine:t=>-.5*(Math.cos(ts*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>m_(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>m_(t)?t:j3(t,.075,.3),easeOutElastic:t=>m_(t)?t:K3(t,.075,.3),easeInOutElastic(t){return m_(t)?t:t<.5?.5*j3(t*2,.1125,.45):.5+.5*K3(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-VC.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?VC.easeInBounce(t*2)*.5:VC.easeOutBounce(t*2-1)*.5+.5};function ZF(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function z3(t){return ZF(t)?t:new iX(t)}function n1(t){return ZF(t)?t:new iX(t).saturate(.5).darken(.1).hexString()}const bxe=["x","y","borderWidth","radius","tension"],vxe=["color","borderColor","backgroundColor"];function Oxe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:vxe},numbers:{type:"number",properties:bxe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function wxe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const q3=new Map;function Lxe(t,e){e=e||{};const n=t+JSON.stringify(e);let r=q3.get(n);return r||(r=new Intl.NumberFormat(t,e),q3.set(n,r)),r}function e2(t,e,n){return Lxe(e,n).format(t)}const Bxe={values(t){return ys(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=Dxe(t,n)}const o=aX(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),e2(t,r,l)}};function Dxe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var pX={formatters:Bxe};function kxe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pX.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const jm=Object.create(null),dM=Object.create(null);function $C(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function r1(t,e,n){return typeof e=="string"?Iu($C(t,e),n):Iu($C(t,""),e)}class Mxe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>n1(i.backgroundColor),this.hoverBorderColor=(r,i)=>n1(i.borderColor),this.hoverColor=(r,i)=>n1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return r1(this,e,n)}get(e){return $C(this,e)}describe(e,n){return r1(dM,e,n)}override(e,n){return r1(jm,e,n)}route(e,n,r,i){const s=$C(this,e),o=$C(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return wr(l)?Object.assign({},c,l):cr(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var es=new Mxe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Oxe,wxe,kxe]);function Pxe(t){return!t||Mr(t.size)||Mr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function X3(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Xp(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function J3(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function fM(t,e,n,r){mX(t,e,n,r,null)}function mX(t,e,n,r,i){let s,o,a,l,c,A,u,h;const p=e.pointStyle,E=e.rotation,T=e.radius;let y=(E||0)*mxe;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(T)||T<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,T,0,0,Zi):t.arc(n,r,T,0,Zi),t.closePath();break;case"triangle":A=i?i/2:T,t.moveTo(n+Math.sin(y)*A,r-Math.cos(y)*T),y+=V3,t.lineTo(n+Math.sin(y)*A,r-Math.cos(y)*T),y+=V3,t.lineTo(n+Math.sin(y)*A,r-Math.cos(y)*T),t.closePath();break;case"rectRounded":c=T*.516,l=T-c,o=Math.cos(y+qp)*l,u=Math.cos(y+qp)*(i?i/2-c:l),a=Math.sin(y+qp)*l,h=Math.sin(y+qp)*(i?i/2-c:l),t.arc(n-u,r-a,c,y-ts,y-Ps),t.arc(n+h,r-o,c,y-Ps,y),t.arc(n+u,r+a,c,y,y+Ps),t.arc(n-h,r+o,c,y+Ps,y+ts),t.closePath();break;case"rect":if(!E){l=Math.SQRT1_2*T,A=i?i/2:l,t.rect(n-A,r-l,2*A,2*l);break}y+=qp;case"rectRot":u=Math.cos(y)*(i?i/2:T),o=Math.cos(y)*T,a=Math.sin(y)*T,h=Math.sin(y)*(i?i/2:T),t.moveTo(n-u,r-a),t.lineTo(n+h,r-o),t.lineTo(n+u,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":y+=qp;case"cross":u=Math.cos(y)*(i?i/2:T),o=Math.cos(y)*T,a=Math.sin(y)*T,h=Math.sin(y)*(i?i/2:T),t.moveTo(n-u,r-a),t.lineTo(n+u,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":u=Math.cos(y)*(i?i/2:T),o=Math.cos(y)*T,a=Math.sin(y)*T,h=Math.sin(y)*(i?i/2:T),t.moveTo(n-u,r-a),t.lineTo(n+u,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),y+=qp,u=Math.cos(y)*(i?i/2:T),o=Math.cos(y)*T,a=Math.sin(y)*T,h=Math.sin(y)*(i?i/2:T),t.moveTo(n-u,r-a),t.lineTo(n+u,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(y)*T,a=Math.sin(y)*T,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(i?i/2:T),r+Math.sin(y)*T);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function vx(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function t2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function n2(t){t.restore()}function Uxe(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Fxe(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Hxe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Mr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Gxe(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,A=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,A),t.lineTo(a,A),t.stroke()}}function Qxe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ox(t,e,n,r,i,s={}){const o=ys(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,Hxe(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Qxe(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Mr(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),Gxe(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Dv(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*ts,ts,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ts,Ps,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Ps,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Ps,!0),t.lineTo(n+o.topLeft,r)}const Vxe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$xe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Wxe(t,e){const n=(""+t).match(Vxe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Yxe=t=>+t||0;function r2(t,e){const n={},r=wr(e),i=r?Object.keys(e):e,s=wr(t)?r?o=>cr(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=Yxe(s(o));return n}function gX(t){return r2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function PT(t){return r2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function wl(t){const e=gX(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function yo(t,e){t=t||{},e=e||es.font;let n=cr(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=cr(t.style,e.style);r&&!(""+r).match($xe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:cr(t.family,e.family),lineHeight:Wxe(cr(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:cr(t.weight,e.weight),string:""};return i.string=Pxe(i),i}function ki(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e)),n!==void 0&&ys(o)&&(o=o[n%o.length]),o!==void 0))return o}function jxe(t,e,n){const{min:r,max:i}=t,s=sX(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ag(t,e){return Object.assign(Object.create(t),e)}function i2(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=yX("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>i2([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return TX(a,l,()=>tRe(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return eV(a).includes(l)},ownKeys(a){return eV(a)},set(a,l,c){const A=a._storage||(a._storage=i());return a[l]=A[l]=c,delete a._keys,!0}})}function dS(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:EX(t,r),setContext:s=>dS(t,s,n,r),override:s=>dS(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return TX(s,o,()=>zxe(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function EX(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Bf(n)?n:()=>n,isIndexable:Bf(r)?r:()=>r}}const Kxe=(t,e)=>t?t+qF(e):e,s2=(t,e)=>wr(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function TX(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function zxe(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Bf(a)&&o.isScriptable(e)&&(a=qxe(e,a,t,n)),ys(a)&&a.length&&(a=Xxe(e,a,t,o.isIndexable)),s2(e,a)&&(a=dS(a,i,s&&s[e],o)),a}function qxe(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),s2(t,l)&&(l=o2(i._scopes,i,t,l)),l}function Xxe(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(wr(e[0])){const l=e,c=i._scopes.filter(A=>A!==l);e=[];for(const A of l){const u=o2(c,i,t,A);e.push(dS(u,s,o&&o[t],a))}}return e}function SX(t,e,n){return Bf(t)?t(e,n):t}const Jxe=(t,e)=>t===!0?e:typeof t=="string"?Ym(e,t):void 0;function Zxe(t,e,n,r,i){for(const s of e){const o=Jxe(n,s);if(o){t.add(o);const a=SX(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function o2(t,e,n,r){const i=e._rootScopes,s=SX(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=Z3(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=Z3(a,o,s,l,r),l===null)?!1:i2(Array.from(a),[""],i,s,()=>eRe(e,n,r))}function Z3(t,e,n,r,i){for(;n;)n=Zxe(t,e,n,r,i);return n}function eRe(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return ys(i)&&wr(n)?n:i||{}}function tRe(t,e,n,r){let i;for(const s of e)if(i=yX(Kxe(s,t),n),typeof i<"u")return s2(t,i)?o2(n,r,t,i):i}function yX(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function eV(t){let e=t._keys;return e||(e=t._keys=nRe(t._scopes)),e}function nRe(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const rRe=Number.EPSILON||1e-14,fS=(t,e)=>e<t.length&&!t[e].skip&&t[e],CX=t=>t==="x"?"y":"x";function iRe(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=hM(s,i),l=hM(o,s);let c=a/(a+l),A=l/(a+l);c=isNaN(c)?0:c,A=isNaN(A)?0:A;const u=r*c,h=r*A;return{previous:{x:s.x-u*(o.x-i.x),y:s.y-u*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function sRe(t,e,n){const r=t.length;let i,s,o,a,l,c=fS(t,0);for(let A=0;A<r-1;++A)if(l=c,c=fS(t,A+1),!(!l||!c)){if(QC(e[A],0,rRe)){n[A]=n[A+1]=0;continue}i=n[A]/e[A],s=n[A+1]/e[A],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[A]=i*o*e[A],n[A+1]=s*o*e[A])}}function oRe(t,e,n="x"){const r=CX(n),i=t.length;let s,o,a,l=fS(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=fS(t,c+1),!a)continue;const A=a[n],u=a[r];o&&(s=(A-o[n])/3,a[`cp1${n}`]=A-s,a[`cp1${r}`]=u-s*e[c]),l&&(s=(l[n]-A)/3,a[`cp2${n}`]=A+s,a[`cp2${r}`]=u+s*e[c])}}function aRe(t,e="x"){const n=CX(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=fS(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=fS(t,o+1),!!l){if(c){const A=c[e]-l[e];i[o]=A!==0?(c[n]-l[n])/A:0}s[o]=a?c?Tu(i[o-1])!==Tu(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}sRe(t,i,s),oRe(t,s,e)}function g_(t,e,n){return Math.max(Math.min(t,n),e)}function lRe(t,e){let n,r,i,s,o,a=vx(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&vx(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=g_(i.cp1x,e.left,e.right),i.cp1y=g_(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=g_(i.cp2x,e.left,e.right),i.cp2y=g_(i.cp2y,e.top,e.bottom)))}function cRe(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")aRe(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=iRe(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&lRe(t,n)}function a2(){return typeof window<"u"&&typeof document<"u"}function l2(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function kv(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Lw=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ARe(t,e){return Lw(t).getPropertyValue(e)}const uRe=["top","right","bottom","left"];function Dm(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=uRe[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const hRe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function dRe(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(hRe(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function cm(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Lw(n),s=i.boxSizing==="border-box",o=Dm(i,"padding"),a=Dm(i,"border","width"),{x:l,y:c,box:A}=dRe(t,n),u=o.left+(A&&a.left),h=o.top+(A&&a.top);let{width:p,height:E}=e;return s&&(p-=o.width+a.width,E-=o.height+a.height),{x:Math.round((l-u)/p*n.width/r),y:Math.round((c-h)/E*n.height/r)}}function fRe(t,e,n){let r,i;if(e===void 0||n===void 0){const s=l2(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Lw(s),l=Dm(a,"border","width"),c=Dm(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=kv(a.maxWidth,s,"clientWidth"),i=kv(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Bv,maxHeight:i||Bv}}const E_=t=>Math.round(t*10)/10;function pRe(t,e,n,r){const i=Lw(t),s=Dm(i,"margin"),o=kv(i.maxWidth,t,"clientWidth")||Bv,a=kv(i.maxHeight,t,"clientHeight")||Bv,l=fRe(t,e,n);let{width:c,height:A}=l;if(i.boxSizing==="content-box"){const h=Dm(i,"border","width"),p=Dm(i,"padding");c-=p.width+h.width,A-=p.height+h.height}return c=Math.max(0,c-s.width),A=Math.max(0,r?c/r:A-s.height),c=E_(Math.min(c,o,l.maxWidth)),A=E_(Math.min(A,a,l.maxHeight)),c&&!A&&(A=E_(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&A>l.height&&(A=l.height,c=E_(Math.floor(A*r))),{width:c,height:A}}function tV(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const mRe=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};a2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function nV(t,e){const n=ARe(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Am(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gRe(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function ERe(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Am(t,i,n),a=Am(i,s,n),l=Am(s,e,n),c=Am(o,a,n),A=Am(a,l,n);return Am(c,A,n)}const TRe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},SRe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function UT(t,e,n){return t?TRe(e,n):SRe()}function xX(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function RX(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function IX(t){return t==="angle"?{between:bx,compare:yxe,normalize:Jd}:{between:hf,compare:(e,n)=>e-n,normalize:e=>e}}function rV({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function yRe(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=IX(r),l=e.length;let{start:c,end:A,loop:u}=t,h,p;if(u){for(c+=l,A+=l,h=0,p=l;h<p&&o(a(e[c%l][r]),i,s);++h)c--,A--;c%=l,A%=l}return A<c&&(A+=l),{start:c,end:A,loop:u,style:t.style}}function CRe(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=IX(r),{start:A,end:u,loop:h,style:p}=yRe(t,e,n),E=[];let T=!1,y=null,R,I,b;const B=()=>l(i,b,R)&&a(i,b)!==0,w=()=>a(s,R)===0||l(s,b,R),O=()=>T||B(),L=()=>!T||w();for(let U=A,G=A;U<=u;++U)I=e[U%o],!I.skip&&(R=c(I[r]),R!==b&&(T=l(R,i,s),y===null&&O()&&(y=a(R,i)===0?U:G),y!==null&&L()&&(E.push(rV({start:y,end:U,loop:h,count:o,style:p})),y=null),G=U,b=R));return y!==null&&E.push(rV({start:y,end:u,loop:h,count:o,style:p})),E}function xRe(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=CRe(r[i],t.points,e);s.length&&n.push(...s)}return n}function RRe(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function IRe(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function _Re(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=RRe(n,i,s,r);if(r===!0)return iV(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return iV(t,IRe(n,o,l,c),n,e)}function iV(t,e,n,r){return!r||!r.setContext||!n?e:NRe(t,e,n,r)}function NRe(t,e,n,r){const i=t._chart.getContext(),s=sV(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let A=s,u=e[0].start,h=u;function p(E,T,y,R){const I=a?-1:1;if(E!==T){for(E+=l;n[E%l].skip;)E-=I;for(;n[T%l].skip;)T+=I;E%l!==T%l&&(c.push({start:E%l,end:T%l,loop:y,style:R}),A=R,u=T%l)}}for(const E of e){u=a?u:E.start;let T=n[u%l],y;for(h=u+1;h<=E.end;h++){const R=n[h%l];y=sV(r.setContext(Ag(i,{type:"segment",p0:T,p1:R,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),bRe(y,A)&&p(u,h-1,E.loop,A),T=R,A=y}u<h-1&&p(u,h-1,E.loop,A)}return c}function sV(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function bRe(t,e){if(!e)return!1;const n=[],r=function(i,s){return ZF(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class vRe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=uX.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ih=new vRe;const oV="transparent",ORe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=z3(t||oV),i=r.valid&&z3(e||oV);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class wRe{constructor(e,n,r,i){const s=n[r];i=ki([e.to,i,s,e.from]);const o=ki([e.from,s,i]);this._active=!0,this._fn=e.fn||ORe[e.type||typeof o],this._easing=VC[e.easing]||VC.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ki([e.to,n,i,e.from]),this._from=ki([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class _X{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!wr(e))return;const n=Object.keys(es.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!wr(s))return;const o={};for(const a of n)o[a]=s[a];(ys(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=BRe(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&LRe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const A=n[c];let u=s[c];const h=r.get(c);if(u)if(h&&u.active()){u.update(h,A,a);continue}else u.cancel();if(!h||!h.duration){e[c]=A;continue}s[c]=u=new wRe(h,e,c,A),i.push(u)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ih.add(this._chart,r),!0}}function LRe(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function BRe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function aV(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function DRe(t,e,n){if(n===!1)return!1;const r=aV(t,n),i=aV(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function kRe(t){let e,n,r,i;return wr(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function NX(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function lV(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=t.values[l],Cc(c)&&(s||e===0||Tu(e)===Tu(c))&&(e+=c)}return e}}function MRe(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function cV(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function PRe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function URe(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function FRe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function AV(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function uV(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,A=PRe(s,o,r),u=e.length;let h;for(let p=0;p<u;++p){const E=e[p],{[l]:T,[c]:y}=E,R=E._stacks||(E._stacks={});h=R[c]=FRe(i,A,T),h[a]=y,h._top=AV(h,o,!0,r.type),h._bottom=AV(h,o,!1,r.type);const I=h._visualValues||(h._visualValues={});I[a]=y}}function i1(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function HRe(t,e){return Ag(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function GRe(t,e,n){return Ag(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function R0(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const s1=t=>t==="reset"||t==="none",hV=(t,e)=>e?t:Object.assign({},t),QRe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:NX(n,!0),values:null};class yf{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=cV(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&R0(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(u,h,p,E)=>u==="x"?h:u==="r"?E:p,s=n.xAxisID=cr(r.xAxisID,i1(e,"x")),o=n.yAxisID=cr(r.yAxisID,i1(e,"y")),a=n.rAxisID=cr(r.rAxisID,i1(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),A=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Y3(this._data,this),e._stacked&&R0(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(wr(n))this._data=MRe(n);else if(r!==n){if(r){Y3(r,this);const i=this._cachedMeta;R0(i),i._parsed=[]}n&&Object.isExtensible(n)&&Ixe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=cV(n.vScale,n),n.stack!==r.stack&&(i=!0,R0(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&uV(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],A,u,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{ys(i[e])?h=this.parseArrayData(r,i,e,n):wr(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const p=()=>u[a]===null||c&&u[a]<c[a];for(A=0;A<n;++A)r._parsed[A+e]=u=h[A],l&&(p()&&(l=!1),c=u);r._sorted=l}o&&uV(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),A=s===o,u=new Array(i);let h,p,E;for(h=0,p=i;h<p;++h)E=h+r,u[h]={[a]:A||s.parse(c[E],E),[l]:o.parse(n[E],E)};return u}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,A,u;for(l=0,c=i;l<c;++l)A=l+r,u=n[A],a[l]={x:s.parse(u[0],A),y:o.parse(u[1],A)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let A,u,h,p;for(A=0,u=i;A<u;++A)h=A+r,p=n[h],c[A]={x:s.parse(Ym(p,a),h),y:o.parse(Ym(p,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:NX(i,!0),values:n._stacks[e.axis]._visualValues};return lV(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=lV(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=QRe(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:u}=URe(a);let h,p;function E(){p=i[h];const T=p[a.axis];return!Cc(p[e.axis])||A>T||u<T}for(h=0;h<o&&!(!E()&&(this.updateRangeFromParsed(c,e,p,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!E()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Cc(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=kRe(cr(this.options.clip,DRe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let A;for(r.dataset&&r.dataset.draw(e,s,a,l),A=a;A<a+l;++A){const u=i[A];u.hidden||(u.active&&c?o.push(u):u.draw(e,s))}for(A=0;A<o.length;++A)o[A].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=GRe(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=HRe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Nx(r);if(a)return hV(a,l);const c=this.chart.config,A=c.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),A),p=Object.keys(es.elements[e]),E=()=>this.getContext(r,i,n),T=c.resolveNamedOptions(h,p,E,u);return T.$shared&&(T.$shared=l,s[o]=Object.freeze(hV(T,l))),T}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const A=this.chart.config,u=A.datasetAnimationScopeKeys(this._type,n),h=A.getOptionScopes(this.getDataset(),u);l=A.createResolver(h,this.getContext(e,r,n))}const c=new _X(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||s1(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){s1(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!s1(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&R0(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}it(yf,"defaults",{}),it(yf,"datasetElementType",null),it(yf,"dataElementType",null);function VRe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=AX(r.sort((i,s)=>i-s))}return t._cache.$bar}function $Re(t){const e=t.iScale,n=VRe(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(Nx(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function WRe(t,e,n,r){const i=n.barThickness;let s,o;return Mr(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function YRe(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function jRe(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function bX(t,e,n,r){return ys(t)?jRe(t,e,n,r):e[n.axis]=n.parse(t,r),e}function dV(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,A,u,h;for(c=n,A=n+r;c<A;++c)h=e[c],u={},u[i.axis]=a||i.parse(o[c],c),l.push(bX(h,u,s,c));return l}function o1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function KRe(t,e,n){return t!==0?Tu(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function zRe(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function qRe(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:A}=zRe(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=A:(s[fV(A,o,a,l)]=!0,i=c)),s[fV(i,o,a,l)]=!0,t.borderSkipped=s}function fV(t,e,n,r){return r?(t=XRe(t,e,n),t=pV(t,n,e)):t=pV(t,e,n),t}function XRe(t,e,n){return t===e?n:t===n?e:t}function pV(t,e,n){return t==="start"?e:t==="end"?n:t}function JRe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class cb extends yf{parsePrimitiveData(e,n,r,i){return dV(e,n,r,i)}parseArrayData(e,n,r,i){return dV(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,A=o.axis==="x"?a:l,u=[];let h,p,E,T;for(h=r,p=r+i;h<p;++h)T=n[h],E={},E[s.axis]=s.parse(Ym(T,c),h),u.push(bX(Ym(T,A),E,o,h));return u}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=o1(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),A=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i);for(let p=n;p<n+r;p++){const E=this.getParsed(p),T=s||Mr(E[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,A),R=(E._stacks||{})[a.axis],I={horizontal:c,base:T.base,enableBorderRadius:!R||o1(E._custom)||o===R._top||o===R._bottom,x:c?T.head:y.center,y:c?y.center:T.head,height:c?y.size:Math.abs(T.size),width:c?Math.abs(T.size):y.size};h&&(I.options=u||this.resolveDataElementOptions(p,e[p].active?"active":i));const b=I.options||e[p].options;qRe(I,b,R,o),JRe(I,b,A.ratio),this.updateElement(e[p],p,I,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=r.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),A=c&&c[l.vScale.axis];if(Mr(A)||isNaN(A))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||$Re(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,A=o1(c);let u=l[n.axis],h=0,p=r?this.applyStack(n,l,r):u,E,T;p!==u&&(h=p-u,p=u),A&&(u=c.barStart,p=c.barEnd-c.barStart,u!==0&&Tu(u)!==Tu(c.barEnd)&&(h=0),h+=u);const y=!Mr(s)&&!A?s:h;let R=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?E=n.getPixelForValue(h+p):E=R,T=E-R,Math.abs(T)<o){T=KRe(T,n,a)*o,u===a&&(R-=T/2);const I=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),B=Math.min(I,b),w=Math.max(I,b);R=Math.max(Math.min(R,w),B),E=R+T,r&&!A&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(E)-n.getValueForPixel(R))}if(R===n.getPixelForValue(a)){const I=Tu(T)*n.getLineWidthForValue(a)/2;R+=I,T-=I}return{size:T,base:R,head:E,center:E+T/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=cr(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,A=i.barThickness==="flex"?YRe(e,n,i,c):WRe(e,n,i,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=A.start+A.chunk*u+A.chunk/2,l=Math.min(o,A.chunk*A.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&r[s].draw(this._ctx)}}it(cb,"id","bar"),it(cb,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),it(cb,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ZRe(t,e,n){let r=1,i=1,s=0,o=0;if(e<Zi){const a=t,l=a+e,c=Math.cos(a),A=Math.sin(a),u=Math.cos(l),h=Math.sin(l),p=(b,B,w)=>bx(b,a,l,!0)?1:Math.max(B,B*n,w,w*n),E=(b,B,w)=>bx(b,a,l,!0)?-1:Math.min(B,B*n,w,w*n),T=p(0,c,u),y=p(Ps,A,h),R=E(ts,c,u),I=E(ts+Ps,A,h);r=(T-R)/2,i=(y-I)/2,s=-(T+R)/2,o=-(y+I)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class CT extends yf{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(wr(r[e])){const{key:l="value"}=this._parsing;s=c=>+Ym(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Fh(this.options.rotation-90)}_getCircumference(){return Fh(this.options.circumference)}_getRotationExtents(){let e=Zi,n=-Zi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(cxe(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:A,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:E,offsetY:T}=ZRe(u,A,l),y=(r.width-o)/h,R=(r.height-o)/p,I=Math.max(Math.min(y,R)/2,0),b=sX(this.options.radius,I),B=Math.max(b*l,0),w=(b-B)/this._getVisibleDatasetWeightTotal();this.offsetX=E*b,this.offsetY=T*b,i.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Zi)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,A=(a.left+a.right)/2,u=(a.top+a.bottom)/2,h=s&&c.animateScale,p=h?0:this.innerRadius,E=h?0:this.outerRadius,{sharedOptions:T,includeOptions:y}=this._getSharedOptions(n,i);let R=this._getRotation(),I;for(I=0;I<n;++I)R+=this._circumference(I,s);for(I=n;I<n+r;++I){const b=this._circumference(I,s),B=e[I],w={x:A+this.offsetX,y:u+this.offsetY,startAngle:R,endAngle:R+b,circumference:b,outerRadius:E,innerRadius:p};y&&(w.options=T||this.resolveDataElementOptions(I,B.active?"active":i)),R+=b,this.updateElement(B,I,w,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Zi*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=e2(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(cr(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}it(CT,"id","doughnut"),it(CT,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),it(CT,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),it(CT,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Ab extends yf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=dX(n,i,o);this._drawStart=a,this._drawCount=l,fX(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:A,includeOptions:u}=this._getSharedOptions(n,i),h=o.axis,p=a.axis,{spanGaps:E,segment:T}=this.options,y=hS(E)?E:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||i==="none",I=n+r,b=e.length;let B=n>0&&this.getParsed(n-1);for(let w=0;w<b;++w){const O=e[w],L=R?O:{};if(w<n||w>=I){L.skip=!0;continue}const U=this.getParsed(w),G=Mr(U[p]),Q=L[h]=o.getPixelForValue(U[h],w),Y=L[p]=s||G?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,U,l):U[p],w);L.skip=isNaN(Q)||isNaN(Y)||G,L.stop=w>0&&Math.abs(U[h]-B[h])>y,T&&(L.parsed=U,L.raw=c.data[w]),u&&(L.options=A||this.resolveDataElementOptions(w,O.active?"active":i)),R||this.updateElement(O,w,L,i),B=U}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}it(Ab,"id","line"),it(Ab,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),it(Ab,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class pM extends CT{}it(pM,"id","pie"),it(pM,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ub extends yf{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=dX(n,r,i);if(this._drawStart=s,this._drawCount=o,fX(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,A=this.resolveDataElementOptions(n,i),u=this.getSharedOptions(A),h=this.includeOptions(i,u),p=o.axis,E=a.axis,{spanGaps:T,segment:y}=this.options,R=hS(T)?T:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||s||i==="none";let b=n>0&&this.getParsed(n-1);for(let B=n;B<n+r;++B){const w=e[B],O=this.getParsed(B),L=I?w:{},U=Mr(O[E]),G=L[p]=o.getPixelForValue(O[p],B),Q=L[E]=s||U?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[E],B);L.skip=isNaN(G)||isNaN(Q)||U,L.stop=B>0&&Math.abs(O[p]-b[p])>R,y&&(L.parsed=O,L.raw=c.data[B]),h&&(L.options=u||this.resolveDataElementOptions(B,w.active?"active":i)),I||this.updateElement(w,B,L,i),b=O}this.updateSharedOptions(u,i,A)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}it(ub,"id","scatter"),it(ub,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),it(ub,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Jp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class c2{constructor(e){it(this,"options");this.options=e||{}}static override(e){Object.assign(c2.prototype,e)}init(){}formats(){return Jp()}parse(){return Jp()}format(){return Jp()}add(){return Jp()}diff(){return Jp()}startOf(){return Jp()}endOf(){return Jp()}}var eIe={_date:c2};function tIe(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?xxe:ym;if(r){if(i._sharedOptions){const c=s[0],A=typeof c.getRange=="function"&&c.getRange(e);if(A){const u=l(s,e,n-A),h=l(s,e,n+A);return{lo:u.lo,hi:h.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Bw(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:A}=s[a],{lo:u,hi:h}=tIe(s[a],e,o,i);for(let p=u;p<=h;++p){const E=A[p];E.skip||r(E,c,p)}}}function nIe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function a1(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Bw(t,n,e,function(a,l,c){!i&&!vx(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function rIe(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:A}=o.getProps(["startAngle","endAngle"],r),{angle:u}=lX(o,{x:e.x,y:e.y});bx(u,c,A)&&i.push({element:o,datasetIndex:a,index:l})}return Bw(t,n,e,s),i}function iIe(t,e,n,r,i,s){let o=[];const a=nIe(n);let l=Number.POSITIVE_INFINITY;function c(A,u,h){const p=A.inRange(e.x,e.y,i);if(r&&!p)return;const E=A.getCenterPoint(i);if(!(!!s||t.isPointInArea(E))&&!p)return;const y=a(e,E);y<l?(o=[{element:A,datasetIndex:u,index:h}],l=y):y===l&&o.push({element:A,datasetIndex:u,index:h})}return Bw(t,n,e,c),o}function l1(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?rIe(t,e,n,i):iIe(t,e,n,r,i,s)}function mV(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Bw(t,n,e,(l,c,A)=>{l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:A}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var sIe={modes:{index(t,e,n,r){const i=cm(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?a1(t,i,s,r,o):l1(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const A=a[0].index,u=c.data[A];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:A})}),l):[]},dataset(t,e,n,r){const i=cm(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?a1(t,i,s,r,o):l1(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let A=0;A<c.length;++A)a.push({element:c[A],datasetIndex:l,index:A})}return a},point(t,e,n,r){const i=cm(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return a1(t,i,s,r,o)},nearest(t,e,n,r){const i=cm(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return l1(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=cm(e,t);return mV(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=cm(e,t);return mV(t,i,"y",n.intersect,r)}}};const vX=["left","top","right","bottom"];function I0(t,e){return t.filter(n=>n.pos===e)}function gV(t,e){return t.filter(n=>vX.indexOf(n.pos)===-1&&n.box.axis===e)}function _0(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function oIe(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function aIe(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!vX.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function lIe(t,e){const n=aIe(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],A=c&&a.stackWeight/c.weight;a.horizontal?(a.width=A?A*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=A?A*i:l&&e.availableHeight)}return n}function cIe(t){const e=oIe(t),n=_0(e.filter(c=>c.box.fullSize),!0),r=_0(I0(e,"left"),!0),i=_0(I0(e,"right")),s=_0(I0(e,"top"),!0),o=_0(I0(e,"bottom")),a=gV(e,"x"),l=gV(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:I0(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function EV(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function OX(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function AIe(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!wr(i)){n.size&&(t[i]-=n.size);const u=r[n.stack]||{size:0,count:1};u.size=Math.max(u.size,n.horizontal?s.height:s.width),n.size=u.size/u.count,t[i]+=n.size}s.getPadding&&OX(o,s.getPadding());const a=Math.max(0,e.outerWidth-EV(o,t,"left","right")),l=Math.max(0,e.outerHeight-EV(o,t,"top","bottom")),c=a!==t.w,A=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:A}:{same:A,other:c}}function uIe(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function hIe(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function gC(t,e,n,r){const i=[];let s,o,a,l,c,A;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,hIe(a.horizontal,e));const{same:u,other:h}=AIe(e,n,a,r);c|=u&&i.length,A=A||h,l.fullSize||i.push(a)}return c&&gC(i,e,n,r)||A}function T_(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function TV(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},A=a.stackWeight/c.weight||1;if(a.horizontal){const u=e.w*A,h=c.size||l.height;Nx(c.start)&&(o=c.start),l.fullSize?T_(l,i.left,o,n.outerWidth-i.right-i.left,h):T_(l,e.left+c.placed,o,u,h),c.start=o,c.placed+=u,o=l.bottom}else{const u=e.h*A,h=c.size||l.width;Nx(c.start)&&(s=c.start),l.fullSize?T_(l,s,i.top,h,n.outerHeight-i.bottom-i.top):T_(l,s,e.top+c.placed,h,u),c.start=s,c.placed+=u,s=l.right}}e.x=s,e.y=o}var Ac={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=wl(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=cIe(t.boxes),l=a.vertical,c=a.horizontal;Yr(t.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const A=l.reduce((T,y)=>y.box.options&&y.box.options.display===!1?T:T+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/A,hBoxMaxHeight:o/2}),h=Object.assign({},i);OX(h,wl(r));const p=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),E=lIe(l.concat(c),u);gC(a.fullSize,p,u,E),gC(l,p,u,E),gC(c,p,u,E)&&gC(l,p,u,E),uIe(p),TV(a.leftAndTop,p,u,E),p.x+=p.w,p.y+=p.h,TV(a.rightAndBottom,p,u,E),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Yr(a.chartArea,T=>{const y=T.box;Object.assign(y,t.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class wX{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class dIe extends wX{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const hb="$chartjs",fIe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SV=t=>t===null||t==="";function pIe(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[hb]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",SV(i)){const s=nV(t,"width");s!==void 0&&(t.width=s)}if(SV(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=nV(t,"height");s!==void 0&&(t.height=s)}return t}const LX=mRe?{passive:!0}:!1;function mIe(t,e,n){t&&t.addEventListener(e,n,LX)}function gIe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,LX)}function EIe(t,e){const n=fIe[t.type]||t.type,{x:r,y:i}=cm(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Mv(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function TIe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Mv(a.addedNodes,r),o=o&&!Mv(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function SIe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Mv(a.removedNodes,r),o=o&&!Mv(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const wx=new Map;let yV=0;function BX(){const t=window.devicePixelRatio;t!==yV&&(yV=t,wx.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function yIe(t,e){wx.size||window.addEventListener("resize",BX),wx.set(t,e)}function CIe(t){wx.delete(t),wx.size||window.removeEventListener("resize",BX)}function xIe(t,e,n){const r=t.canvas,i=r&&l2(r);if(!i)return;const s=hX((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,A=l.contentRect.height;c===0&&A===0||s(c,A)});return o.observe(i),yIe(t,s),o}function c1(t,e,n){n&&n.disconnect(),e==="resize"&&CIe(t)}function RIe(t,e,n){const r=t.canvas,i=hX(s=>{t.ctx!==null&&n(EIe(s,t))},t);return mIe(r,e,i),i}class IIe extends wX{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(pIe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[hb])return!1;const r=n[hb].initial;["height","width"].forEach(s=>{const o=r[s];Mr(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[hb],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:TIe,detach:SIe,resize:xIe}[n]||RIe;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:c1,detach:c1,resize:c1}[n]||gIe)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return pRe(e,n,r,i)}isAttached(e){const n=l2(e);return!!(n&&n.isConnected)}}function _Ie(t){return!a2()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?dIe:IIe}var YN;let od=(YN=class{constructor(){it(this,"x");it(this,"y");it(this,"active",!1);it(this,"options");it(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return hS(this.x)&&hS(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},it(YN,"defaults",{}),it(YN,"defaultRoutes"),YN);function NIe(t,e){const n=t.options.ticks,r=bIe(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?OIe(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return wIe(e,c,s,o/i),c;const A=vIe(s,e,i);if(o>0){let u,h;const p=o>1?Math.round((l-a)/(o-1)):null;for(S_(e,c,A,Mr(p)?0:a-p,a),u=0,h=o-1;u<h;u++)S_(e,c,A,s[u],s[u+1]);return S_(e,c,A,l,Mr(p)?e.length:l+p),c}return S_(e,c,A),c}function bIe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function vIe(t,e,n){const r=LIe(t),i=e.length/n;if(!r)return Math.max(i,1);const s=gxe(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function OIe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function wIe(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function S_(t,e,n,r,i){const s=cr(r,0),o=Math.min(cr(i,t.length),t.length);let a=0,l,c,A;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),A=s;A<0;)a++,A=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===A&&(e.push(t[c]),a++,A=Math.round(s+a*n))}function LIe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const BIe=t=>t==="left"?"right":t==="right"?"left":t,CV=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,xV=(t,e)=>Math.min(e||t,t);function RV(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function DIe(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function kIe(t,e){Yr(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function N0(t){return t.drawTicks?t.tickLength:0}function IV(t,e){if(!t.display)return 0;const n=yo(t.font,e),r=wl(t.padding);return(ys(t.text)?t.text.length:1)*n.lineHeight+r.height}function MIe(t,e){return Ag(t,{scale:e,type:"scale"})}function PIe(t,e,n){return Ag(t,{tick:n,index:e,type:"tick"})}function UIe(t,e,n){let r=JF(t);return(n&&e!=="right"||!n&&e==="right")&&(r=BIe(r)),r}function FIe(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:A}=l;let u=0,h,p,E;const T=o-i,y=a-s;if(t.isHorizontal()){if(p=Mo(r,s,a),wr(n)){const R=Object.keys(n)[0],I=n[R];E=A[R].getPixelForValue(I)+T-e}else n==="center"?E=(c.bottom+c.top)/2+T-e:E=CV(t,n,e);h=a-s}else{if(wr(n)){const R=Object.keys(n)[0],I=n[R];p=A[R].getPixelForValue(I)-y+e}else n==="center"?p=(c.left+c.right)/2-y+e:p=CV(t,n,e);E=Mo(r,o,i),u=n==="left"?-Ps:Ps}return{titleX:p,titleY:E,maxWidth:h,rotation:u}}class GS extends od{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=$A(e,Number.POSITIVE_INFINITY),n=$A(n,Number.NEGATIVE_INFINITY),r=$A(r,Number.POSITIVE_INFINITY),i=$A(i,Number.NEGATIVE_INFINITY),{min:$A(e,r),max:$A(n,i),minDefined:Cc(e),maxDefined:Cc(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:$A(n,$A(r,n)),max:$A(r,$A(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){hi(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jxe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?RV(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=NIe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){hi(this.options.afterUpdate,[this])}beforeSetDimensions(){hi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){hi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),hi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){hi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=hi(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){hi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){hi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=xV(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const A=this._getLabelSizes(),u=A.widest.width,h=A.highest.height,p=Ho(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),u+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-N0(e.grid)-n.padding-IV(e.title,this.chart.options.font),c=Math.sqrt(u*u+h*h),o=Sxe(Math.min(Math.asin(Ho((A.highest.height+6)/a,-1,1)),Math.asin(Ho(l/c,-1,1))-Math.asin(Ho(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){hi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){hi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=IV(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=N0(s)+l):(e.height=this.maxHeight,e.width=N0(s)+l),r.display&&this.ticks.length){const{first:c,last:A,widest:u,highest:h}=this._getLabelSizes(),p=r.padding*2,E=Fh(this.labelRotation),T=Math.cos(E),y=Math.sin(E);if(a){const R=r.mirror?0:y*u.width+T*h.height;e.height=Math.min(this.maxHeight,e.height+R+p)}else{const R=r.mirror?0:T*u.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+R+p)}this._calculatePadding(c,A,y,T)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const A=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=i*e.width,p=r*n.height):(h=r*e.height,p=i*n.width):s==="start"?p=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,p=n.width/2),this.paddingLeft=Math.max((h-A+o)*this.width/(this.width-A),0),this.paddingRight=Math.max((p-u+o)*this.width/(this.width-u),0)}else{let A=n.height/2,u=e.height/2;s==="start"?(A=0,u=e.height):s==="end"&&(A=n.height,u=0),this.paddingTop=A+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){hi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Mr(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=RV(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/xV(n,r));let c=0,A=0,u,h,p,E,T,y,R,I,b,B,w;for(u=0;u<n;u+=l){if(E=e[u].label,T=this._resolveTickFontOptions(u),i.font=y=T.string,R=s[y]=s[y]||{data:{},gc:[]},I=T.lineHeight,b=B=0,!Mr(E)&&!ys(E))b=X3(i,R.data,R.gc,b,E),B=I;else if(ys(E))for(h=0,p=E.length;h<p;++h)w=E[h],!Mr(w)&&!ys(w)&&(b=X3(i,R.data,R.gc,b,w),B+=I);o.push(b),a.push(B),c=Math.max(b,c),A=Math.max(B,A)}kIe(s,n);const O=o.indexOf(c),L=a.indexOf(A),U=G=>({width:o[G]||0,height:a[G]||0});return{first:U(0),last:U(n-1),widest:U(O),highest:U(L),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Cxe(this._alignToPixels?Xp(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=PIe(this.getContext(),e,r))}return this.$context||(this.$context=MIe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Fh(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),h=N0(s),p=[],E=a.setContext(this.getContext()),T=E.display?E.width:0,y=T/2,R=function(J){return Xp(r,J,T)};let I,b,B,w,O,L,U,G,Q,Y,K,j;if(o==="top")I=R(this.bottom),L=this.bottom-h,G=I-y,Y=R(e.top)+y,j=e.bottom;else if(o==="bottom")I=R(this.top),Y=e.top,j=R(e.bottom)-y,L=I+y,G=this.top+h;else if(o==="left")I=R(this.right),O=this.right-h,U=I-y,Q=R(e.left)+y,K=e.right;else if(o==="right")I=R(this.left),Q=e.left,K=R(e.right)-y,O=I+y,U=this.left+h;else if(n==="x"){if(o==="center")I=R((e.top+e.bottom)/2+.5);else if(wr(o)){const J=Object.keys(o)[0],te=o[J];I=R(this.chart.scales[J].getPixelForValue(te))}Y=e.top,j=e.bottom,L=I+y,G=L+h}else if(n==="y"){if(o==="center")I=R((e.left+e.right)/2);else if(wr(o)){const J=Object.keys(o)[0],te=o[J];I=R(this.chart.scales[J].getPixelForValue(te))}O=I-y,U=O-h,Q=e.left,K=e.right}const V=cr(i.ticks.maxTicksLimit,u),$=Math.max(1,Math.ceil(u/V));for(b=0;b<u;b+=$){const J=this.getContext(b),te=s.setContext(J),X=a.setContext(J),oe=te.lineWidth,F=te.color,ee=X.dash||[],le=X.dashOffset,q=te.tickWidth,we=te.tickColor,Oe=te.tickBorderDash||[],Ce=te.tickBorderDashOffset;B=DIe(this,b,l),B!==void 0&&(w=Xp(r,B,oe),c?O=U=Q=K=w:L=G=Y=j=w,p.push({tx1:O,ty1:L,tx2:U,ty2:G,x1:Q,y1:Y,x2:K,y2:j,width:oe,color:F,borderDash:ee,borderDashOffset:le,tickWidth:q,tickColor:we,tickBorderDash:Oe,tickBorderDashOffset:Ce}))}return this._ticksLength=u,this._borderValue=I,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:A,mirror:u}=s,h=N0(r.grid),p=h+A,E=u?-A:p,T=-Fh(this.labelRotation),y=[];let R,I,b,B,w,O,L,U,G,Q,Y,K,j="middle";if(i==="top")O=this.bottom-E,L=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+E,L=this._getXAxisLabelAlignment();else if(i==="left"){const $=this._getYAxisLabelAlignment(h);L=$.textAlign,w=$.x}else if(i==="right"){const $=this._getYAxisLabelAlignment(h);L=$.textAlign,w=$.x}else if(n==="x"){if(i==="center")O=(e.top+e.bottom)/2+p;else if(wr(i)){const $=Object.keys(i)[0],J=i[$];O=this.chart.scales[$].getPixelForValue(J)+p}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(e.left+e.right)/2-p;else if(wr(i)){const $=Object.keys(i)[0],J=i[$];w=this.chart.scales[$].getPixelForValue(J)}L=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?j="top":l==="end"&&(j="bottom"));const V=this._getLabelSizes();for(R=0,I=a.length;R<I;++R){b=a[R],B=b.label;const $=s.setContext(this.getContext(R));U=this.getPixelForTick(R)+s.labelOffset,G=this._resolveTickFontOptions(R),Q=G.lineHeight,Y=ys(B)?B.length:1;const J=Y/2,te=$.color,X=$.textStrokeColor,oe=$.textStrokeWidth;let F=L;o?(w=U,L==="inner"&&(R===I-1?F=this.options.reverse?"left":"right":R===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?c==="near"||T!==0?K=-Y*Q+Q/2:c==="center"?K=-V.highest.height/2-J*Q+Q:K=-V.highest.height+Q/2:c==="near"||T!==0?K=Q/2:c==="center"?K=V.highest.height/2-J*Q:K=V.highest.height-Y*Q,u&&(K*=-1),T!==0&&!$.showLabelBackdrop&&(w+=Q/2*Math.sin(T))):(O=U,K=(1-Y)*Q/2);let ee;if($.showLabelBackdrop){const le=wl($.backdropPadding),q=V.heights[R],we=V.widths[R];let Oe=K-le.top,Ce=0-le.left;switch(j){case"middle":Oe-=q/2;break;case"bottom":Oe-=q;break}switch(L){case"center":Ce-=we/2;break;case"right":Ce-=we;break;case"inner":R===I-1?Ce-=we:R>0&&(Ce-=we/2);break}ee={left:Ce,top:Oe,width:we+le.width,height:q+le.height,color:$.backdropColor}}y.push({label:B,font:G,textOffset:K,options:{rotation:T,color:te,strokeColor:X,strokeWidth:oe,textAlign:F,textBaseline:j,translation:[w,O],backdrop:ee}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Fh(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,A;return n==="left"?i?(A=this.right+s,r==="near"?c="left":r==="center"?(c="center",A+=l/2):(c="right",A+=l)):(A=this.right-a,r==="near"?c="right":r==="center"?(c="center",A-=l/2):(c="left",A=this.left)):n==="right"?i?(A=this.left+s,r==="near"?c="right":r==="center"?(c="center",A-=l/2):(c="left",A-=l)):(A=this.left+a,r==="near"?c="left":r==="center"?(c="center",A+=l/2):(c="right",A=this.right)):c="right",{textAlign:c,x:A}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,A)=>{!A.width||!A.color||(r.save(),r.lineWidth=A.width,r.strokeStyle=A.color,r.setLineDash(A.borderDash||[]),r.lineDashOffset=A.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,A,u,h;this.isHorizontal()?(c=Xp(e,this.left,o)-o/2,A=Xp(e,this.right,a)+a/2,u=h=l):(u=Xp(e,this.top,o)-o/2,h=Xp(e,this.bottom,a)+a/2,c=A=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,u),n.lineTo(A,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&t2(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,A=o.textOffset;Ox(r,c,0,A,l,a)}i&&n2(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=yo(r.font),o=wl(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||wr(n)?(l+=o.bottom,ys(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:A,maxWidth:u,rotation:h}=FIe(this,l,n,a);Ox(e,r.text,0,0,s,{color:r.color,maxWidth:u,rotation:h,textAlign:UIe(a,n,i),textBaseline:"middle",translation:[c,A]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=cr(e.grid&&e.grid.z,-1),i=cr(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==GS.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return yo(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class y_{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;QIe(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,HIe(e,o,r),this.override&&es.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in es[i]&&(delete es[i][r],this.override&&delete jm[r])}}function HIe(t,e,n){const r=Iu(Object.create(null),[n?es.get(n):{},es.get(e),t.defaults]);es.set(e,r),t.defaultRoutes&&GIe(e,t.defaultRoutes),t.descriptors&&es.describe(e,t.descriptors)}function GIe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");es.route(s,i,l,a)})}function QIe(t){return"id"in t&&"defaults"in t}class VIe{constructor(){this.controllers=new y_(yf,"datasets",!0),this.elements=new y_(od,"elements"),this.plugins=new y_(Object,"plugins"),this.scales=new y_(GS,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Yr(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=qF(e);hi(r["before"+i],[],r),n[e](r),hi(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var su=new VIe;class $Ie{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(hi(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Mr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=cr(r.options&&r.options.plugins,{}),s=WIe(r);return i===!1&&!n?[]:jIe(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function WIe(t){const e={},n=[],r=Object.keys(su.plugins.items);for(let s=0;s<r.length;s++)n.push(su.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function YIe(t,e){return!e&&t===!1?null:t===!0?{}:t}function jIe(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=YIe(r[l],i);c!==null&&s.push({plugin:a,options:KIe(t.config,{plugin:a,local:n[l]},c,o)})}return s}function KIe(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mM(t,e){const n=es.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function zIe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function qIe(t,e){return t===e?"_index_":"_value_"}function _V(t){if(t==="x"||t==="y"||t==="r")return t}function XIe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function gM(t,...e){if(_V(t))return t;for(const n of e){const r=n.axis||XIe(n.position)||t.length>1&&_V(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function NV(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function JIe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return NV(t,"x",n[0])||NV(t,"y",n[0])}return{}}function ZIe(t,e){const n=jm[t.type]||{scales:{}},r=e.scales||{},i=mM(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!wr(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=gM(o,a,JIe(o,t),es.scales[a.type]),c=qIe(l,i),A=n.scales||{};s[o]=GC(Object.create(null),[{axis:l},a,A[l],A[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||mM(a,e),A=(jm[a]||{}).scales||{};Object.keys(A).forEach(u=>{const h=zIe(u,l),p=o[h+"AxisID"]||h;s[p]=s[p]||Object.create(null),GC(s[p],[{axis:h},r[p],A[u]])})}),Object.keys(s).forEach(o=>{const a=s[o];GC(a,[es.scales[a.type],es.scale])}),s}function DX(t){const e=t.options||(t.options={});e.plugins=cr(e.plugins,{}),e.scales=ZIe(t,e)}function kX(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function e_e(t){return t=t||{},t.data=kX(t.data),DX(t),t}const bV=new Map,MX=new Set;function C_(t,e){let n=bV.get(t);return n||(n=e(),bV.set(t,n),MX.add(n)),n}const b0=(t,e,n)=>{const r=Ym(e,n);r!==void 0&&t.add(r)};class t_e{constructor(e){this._config=e_e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=kX(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),DX(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return C_(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return C_(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return C_(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return C_(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(A=>{e&&(l.add(e),A.forEach(u=>b0(l,e,u))),A.forEach(u=>b0(l,i,u)),A.forEach(u=>b0(l,jm[s]||{},u)),A.forEach(u=>b0(l,es,u)),A.forEach(u=>b0(l,dM,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),MX.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,jm[n]||{},es.datasets[n]||{},{type:n},es,dM]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=vV(this._resolverCache,e,i);let l=o;if(r_e(o,n)){s.$shared=!1,r=Bf(r)?r():r;const c=this.createResolver(e,r,a);l=dS(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=vV(this._resolverCache,e,r);return wr(n)?dS(s,n,void 0,i):s}}function vV(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:i2(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const n_e=t=>wr(t)&&Object.getOwnPropertyNames(t).some(e=>Bf(t[e]));function r_e(t,e){const{isScriptable:n,isIndexable:r}=EX(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Bf(a)||n_e(a))||o&&ys(a))return!0}return!1}var i_e="4.4.2";const s_e=["top","bottom","left","right","chartArea"];function OV(t,e){return t==="top"||t==="bottom"||s_e.indexOf(t)===-1&&e==="x"}function wV(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function LV(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),hi(n&&n.onComplete,[t],e)}function o_e(t){const e=t.chart,n=e.options.animation;hi(n&&n.onProgress,[t],e)}function PX(t){return a2()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const db={},BV=t=>{const e=PX(t);return Object.values(db).filter(n=>n.canvas===e).pop()};function a_e(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function l_e(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function x_(t,e,n){return t.options.clip?t[n]:e[n]}function c_e(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:x_(n,e,"left"),right:x_(n,e,"right"),top:x_(r,e,"top"),bottom:x_(r,e,"bottom")}:e}var qd;let yR=(qd=class{static register(...e){su.add(...e),DV()}static unregister(...e){su.remove(...e),DV()}constructor(e,n){const r=this.config=new t_e(n),i=PX(e),s=BV(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||_Ie(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,A=l&&l.width;if(this.id=lxe(),this.ctx=a,this.canvas=l,this.width=A,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $Ie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_xe(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],db[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ih.listen(this,"complete",LV),Ih.listen(this,"progress",o_e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Mr(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return su}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tV(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return J3(this.canvas,this.ctx),this}stop(){return Ih.stop(this),this}resize(e,n){Ih.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tV(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),hi(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Yr(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=gM(o,a),c=l==="r",A=l==="x";return{options:a,dposition:c?"chartArea":A?"bottom":"left",dtype:c?"radialLinear":A?"category":"linear"}}))),Yr(s,o=>{const a=o.options,l=a.id,c=gM(l,a),A=cr(a.type,o.dtype);(a.position===void 0||OV(a.position,c)!==OV(o.dposition))&&(a.position=o.dposition),i[l]=!0;let u=null;if(l in r&&r[l].type===A)u=r[l];else{const h=su.getScale(A);u=new h({id:l,type:A,ctx:this.ctx,chart:this}),r[u.id]=u}u.init(a,e)}),Yr(i,(o,a)=>{o||delete r[a]}),Yr(r,o=>{Ac.configure(this,o,o.options),Ac.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(wV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||mM(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=su.getController(a),{datasetElementType:c,dataElementType:A}=es.datasets[a];Object.assign(l,{dataElementType:su.getElement(A),datasetElementType:c&&su.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Yr(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,A=this.data.datasets.length;c<A;c++){const{controller:u}=this.getDatasetMeta(c),h=!i&&s.indexOf(u)===-1;u.buildOrUpdateElements(h),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Yr(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wV("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Yr(this.scales,e=>{Ac.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Q3(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;a_e(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Q3(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ac.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Yr(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Bf(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ih.has(this)?this.attached&&!Ih.running(this)&&Ih.start(this):(this.draw(),LV({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=c_e(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&t2(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&n2(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return vx(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=sIe.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ag(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Nx(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ih.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),J3(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete db[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Yr(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Yr(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Yr(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!wv(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(A=>!c.some(u=>A.datasetIndex===u.datasetIndex&&A.index===u.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=fxe(e),c=l_e(e,this._lastEvent,r,l);r&&(this._lastEvent=null,hi(s.onHover,[e,a,this],this),l&&hi(s.onClick,[e,a,this],this));const A=!wv(a,i);return(A||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,A}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},it(qd,"defaults",es),it(qd,"instances",db),it(qd,"overrides",jm),it(qd,"registry",su),it(qd,"version",i_e),it(qd,"getChart",BV),qd);function DV(){return Yr(yR.instances,t=>t._plugins.invalidate())}function A_e(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+Ps,r-Ps),t.closePath(),t.clip()}function u_e(t){return r2(t,["outerStart","outerEnd","innerStart","innerEnd"])}function h_e(t,e,n,r){const i=u_e(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return Ho(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ho(i.innerStart,0,o),innerEnd:Ho(i.innerEnd,0,o)}}function HE(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Pv(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:A}=e,u=Math.max(e.outerRadius+r+n-c,0),h=A>0?A+r+n+c:0;let p=0;const E=i-l;if(r){const $=A>0?A-r:0,J=u>0?u-r:0,te=($+J)/2,X=te!==0?E*te/(te+r):E;p=(E-X)/2}const T=Math.max(.001,E*u-n/ts)/u,y=(E-T)/2,R=l+y+p,I=i-y-p,{outerStart:b,outerEnd:B,innerStart:w,innerEnd:O}=h_e(e,h,u,I-R),L=u-b,U=u-B,G=R+b/L,Q=I-B/U,Y=h+w,K=h+O,j=R+w/Y,V=I-O/K;if(t.beginPath(),s){const $=(G+Q)/2;if(t.arc(o,a,u,G,$),t.arc(o,a,u,$,Q),B>0){const oe=HE(U,Q,o,a);t.arc(oe.x,oe.y,B,Q,I+Ps)}const J=HE(K,I,o,a);if(t.lineTo(J.x,J.y),O>0){const oe=HE(K,V,o,a);t.arc(oe.x,oe.y,O,I+Ps,V+Math.PI)}const te=(I-O/h+(R+w/h))/2;if(t.arc(o,a,h,I-O/h,te,!0),t.arc(o,a,h,te,R+w/h,!0),w>0){const oe=HE(Y,j,o,a);t.arc(oe.x,oe.y,w,j+Math.PI,R-Ps)}const X=HE(L,R,o,a);if(t.lineTo(X.x,X.y),b>0){const oe=HE(L,G,o,a);t.arc(oe.x,oe.y,b,R-Ps,G)}}else{t.moveTo(o,a);const $=Math.cos(G)*u+o,J=Math.sin(G)*u+a;t.lineTo($,J);const te=Math.cos(Q)*u+o,X=Math.sin(Q)*u+a;t.lineTo(te,X)}t.closePath()}function d_e(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Pv(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Zi||Zi))}return Pv(t,e,n,r,l,i),t.fill(),l}function f_e(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:A,borderDash:u,borderDashOffset:h}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(u||[]),t.lineDashOffset=h,p?(t.lineWidth=c*2,t.lineJoin=A||"round"):(t.lineWidth=c,t.lineJoin=A||"bevel");let E=e.endAngle;if(s){Pv(t,e,n,r,E,i);for(let T=0;T<s;++T)t.stroke();isNaN(a)||(E=o+(a%Zi||Zi))}p&&A_e(t,e,E),s||(Pv(t,e,n,r,E,i),t.stroke())}class Cm extends od{constructor(n){super();it(this,"circumference");it(this,"endAngle");it(this,"fullCircles");it(this,"innerRadius");it(this,"outerRadius");it(this,"pixelMargin");it(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=lX(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:A,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,T=cr(h,c-l)>=Zi||bx(o,l,c),y=hf(a,A+p,u+p);return T&&y}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:A}=this.options,u=(s+o)/2,h=(a+l+A+c)/2;return{x:r+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Zi?Math.floor(i/Zi):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(ts,i||0)),A=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,d_e(n,this,A,o,a),f_e(n,this,A,o,a),n.restore()}}it(Cm,"id","arc"),it(Cm,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),it(Cm,"defaultRoutes",{backgroundColor:"backgroundColor"}),it(Cm,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function UX(t,e,n=e){t.lineCap=cr(n.borderCapStyle,e.borderCapStyle),t.setLineDash(cr(n.borderDash,e.borderDash)),t.lineDashOffset=cr(n.borderDashOffset,e.borderDashOffset),t.lineJoin=cr(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=cr(n.borderWidth,e.borderWidth),t.strokeStyle=cr(n.borderColor,e.borderColor)}function p_e(t,e,n){t.lineTo(n.x,n.y)}function m_e(t){return t.stepped?Uxe:t.tension||t.cubicInterpolationMode==="monotone"?Fxe:p_e}function FX(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),A=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!A?r+c-l:c-l}}function g_e(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=FX(i,n,r),A=m_e(s);let{move:u=!0,reverse:h}=r||{},p,E,T;for(p=0;p<=c;++p)E=i[(a+(h?c-p:p))%o],!E.skip&&(u?(t.moveTo(E.x,E.y),u=!1):A(t,T,E,h,s.stepped),T=E);return l&&(E=i[(a+(h?c:0))%o],A(t,T,E,h,s.stepped)),!!l}function E_e(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=FX(i,n,r),{move:l=!0,reverse:c}=r||{};let A=0,u=0,h,p,E,T,y,R;const I=B=>(o+(c?a-B:B))%s,b=()=>{T!==y&&(t.lineTo(A,y),t.lineTo(A,T),t.lineTo(A,R))};for(l&&(p=i[I(0)],t.moveTo(p.x,p.y)),h=0;h<=a;++h){if(p=i[I(h)],p.skip)continue;const B=p.x,w=p.y,O=B|0;O===E?(w<T?T=w:w>y&&(y=w),A=(u*A+B)/++u):(b(),t.lineTo(B,w),E=O,u=0,T=y=w),R=w}b()}function EM(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?E_e:g_e}function T_e(t){return t.stepped?gRe:t.tension||t.cubicInterpolationMode==="monotone"?ERe:Am}function S_e(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),UX(t,e.options),t.stroke(i)}function y_e(t,e,n,r){const{segments:i,options:s}=e,o=EM(e);for(const a of i)UX(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const C_e=typeof Path2D=="function";function x_e(t,e,n,r){C_e&&!e.options.segment?S_e(t,e,n,r):y_e(t,e,n,r)}class xT extends od{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;cRe(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_Re(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=xRe(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=T_e(r);let c,A;for(c=0,A=o.length;c<A;++c){const{start:u,end:h}=o[c],p=s[u],E=s[h];if(p===E){a.push(p);continue}const T=Math.abs((i-p[n])/(E[n]-p[n])),y=l(p,E,T,r.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,r){return EM(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=EM(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),x_e(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}it(xT,"id","line"),it(xT,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),it(xT,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),it(xT,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function kV(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class FT extends od{constructor(n){super();it(this,"parsed");it(this,"skip");it(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return kV(this,n,"x",r)}inYRange(n,r){return kV(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!vx(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,fM(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}it(FT,"id","point"),it(FT,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),it(FT,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function HX(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,A,u;return t.horizontal?(u=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-u,A=r+u):(u=s/2,a=n-u,l=n+u,c=Math.min(r,i),A=Math.max(r,i)),{left:a,top:c,right:l,bottom:A}}function df(t,e,n,r){return t?0:Ho(e,n,r)}function R_e(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=gX(r);return{t:df(i.top,s.top,0,n),r:df(i.right,s.right,0,e),b:df(i.bottom,s.bottom,0,n),l:df(i.left,s.left,0,e)}}function I_e(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=PT(i),o=Math.min(e,n),a=t.borderSkipped,l=r||wr(i);return{topLeft:df(!l||a.top||a.left,s.topLeft,0,o),topRight:df(!l||a.top||a.right,s.topRight,0,o),bottomLeft:df(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:df(!l||a.bottom||a.right,s.bottomRight,0,o)}}function __e(t){const e=HX(t),n=e.right-e.left,r=e.bottom-e.top,i=R_e(t,n/2,r/2),s=I_e(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function A1(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&HX(t,r);return a&&(i||hf(e,a.left,a.right))&&(s||hf(n,a.top,a.bottom))}function N_e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function b_e(t,e){t.rect(e.x,e.y,e.w,e.h)}function u1(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class HT extends od{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=__e(this),a=N_e(o.radius)?Dv:b_e;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,u1(o,n,s)),e.clip(),a(e,u1(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,u1(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return A1(this,e,n,r)}inXRange(e,n){return A1(this,e,null,n)}inYRange(e,n){return A1(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}it(HT,"id","bar"),it(HT,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),it(HT,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const MV=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},v_e=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class PV extends od{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=hi(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=yo(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=MV(r,s);let c,A;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,A=this._fitRows(o,s,a,l)+10):(A=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(A,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],A=i+a;let u=e;s.textAlign="left",s.textBaseline="middle";let h=-1,p=-A;return this.legendItems.forEach((E,T)=>{const y=r+n/2+s.measureText(E.text).width;(T===0||c[c.length-1]+y+2*a>o)&&(u+=A,c[c.length-(T>0?0:1)]=0,p+=A,h++),l[T]={left:0,top:p,row:h,width:y,height:i},c[c.length-1]+=y+a}),u}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],A=o-e;let u=a,h=0,p=0,E=0,T=0;return this.legendItems.forEach((y,R)=>{const{itemWidth:I,itemHeight:b}=O_e(r,n,s,y,i);R>0&&p+b+2*a>A&&(u+=h+a,c.push({width:h,height:p}),E+=h+a,T++,h=p=0),l[R]={left:E,top:p,col:T,width:I,height:b},h=Math.max(h,I),p+=b+a}),u+=h,c.push({width:h,height:p}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=UT(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Mo(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Mo(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Mo(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Mo(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;t2(e,this),this._draw(),n2(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=es.color,l=UT(e.rtl,this.left,this.width),c=yo(o.font),{padding:A}=o,u=c.size,h=u/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:E,boxHeight:T,itemHeight:y}=MV(o,u),R=function(O,L,U){if(isNaN(E)||E<=0||isNaN(T)||T<0)return;i.save();const G=cr(U.lineWidth,1);if(i.fillStyle=cr(U.fillStyle,a),i.lineCap=cr(U.lineCap,"butt"),i.lineDashOffset=cr(U.lineDashOffset,0),i.lineJoin=cr(U.lineJoin,"miter"),i.lineWidth=G,i.strokeStyle=cr(U.strokeStyle,a),i.setLineDash(cr(U.lineDash,[])),o.usePointStyle){const Q={radius:T*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:G},Y=l.xPlus(O,E/2),K=L+h;mX(i,Q,Y,K,o.pointStyleWidth&&E)}else{const Q=L+Math.max((u-T)/2,0),Y=l.leftForLtr(O,E),K=PT(U.borderRadius);i.beginPath(),Object.values(K).some(j=>j!==0)?Dv(i,{x:Y,y:Q,w:E,h:T,radius:K}):i.rect(Y,Q,E,T),i.fill(),G!==0&&i.stroke()}i.restore()},I=function(O,L,U){Ox(i,U.text,O,L+y/2,c,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},b=this.isHorizontal(),B=this._computeTitleHeight();b?p={x:Mo(s,this.left+A,this.right-r[0]),y:this.top+A+B,line:0}:p={x:this.left+A,y:Mo(s,this.top+B+A,this.bottom-n[0].height),line:0},xX(this.ctx,e.textDirection);const w=y+A;this.legendItems.forEach((O,L)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const U=i.measureText(O.text).width,G=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),Q=E+h+U;let Y=p.x,K=p.y;l.setWidth(this.width),b?L>0&&Y+Q+A>this.right&&(K=p.y+=w,p.line++,Y=p.x=Mo(s,this.left+A,this.right-r[p.line])):L>0&&K+w>this.bottom&&(Y=p.x=Y+n[p.line].width+A,p.line++,K=p.y=Mo(s,this.top+B+A,this.bottom-n[p.line].height));const j=l.x(Y);if(R(j,K,O),Y=Nxe(G,Y+E+h,b?Y+Q:this.right,e.rtl),I(l.x(Y),K,O),b)p.x+=Q+A;else if(typeof O.text!="string"){const V=c.lineHeight;p.y+=GX(O,V)+A}else p.y+=w}),RX(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=yo(n.font),i=wl(n.padding);if(!n.display)return;const s=UT(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let A,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),A=this.top+c,u=Mo(e.align,u,this.right-h);else{const E=this.columnSizes.reduce((T,y)=>Math.max(T,y.height),0);A=c+Mo(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const p=Mo(a,u,u+h);o.textAlign=s.textAlign(JF(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ox(o,n.text,p,A,r)}_computeTitleHeight(){const e=this.options.title,n=yo(e.font),r=wl(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(hf(e,this.left,this.right)&&hf(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],hf(e,i.left,i.left+i.width)&&hf(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!B_e(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=v_e(i,r);i&&!s&&hi(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&hi(n.onHover,[e,r,this],this)}else r&&hi(n.onClick,[e,r,this],this)}}function O_e(t,e,n,r,i){const s=w_e(r,t,e,n),o=L_e(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function w_e(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function L_e(t,e,n){let r=t;return typeof e.text!="string"&&(r=GX(e,n)),r}function GX(t,e){const n=t.text?t.text.length:0;return e*n}function B_e(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var QX={id:"legend",_element:PV,start(t,e,n){const r=t.legend=new PV({ctx:t.ctx,options:n,chart:t});Ac.configure(t,r,n),Ac.addBox(t,r)},stop(t){Ac.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ac.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),A=wl(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class VX extends od{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ys(r.text)?r.text.length:1;this._padding=wl(r.padding);const s=i*yo(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,A,u;return this.isHorizontal()?(A=Mo(a,r,s),u=n+e,c=s-r):(o.position==="left"?(A=r+e,u=Mo(a,i,n),l=ts*-.5):(A=s-e,u=Mo(a,n,i),l=ts*.5),c=i-n),{titleX:A,titleY:u,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=yo(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Ox(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:JF(n.align),textBaseline:"middle",translation:[o,a]})}}function D_e(t,e){const n=new VX({ctx:t.ctx,options:e,chart:t});Ac.configure(t,n,e),Ac.addBox(t,n),t.titleBlock=n}var $X={id:"title",_element:VX,start(t,e,n){D_e(t,n)},stop(t){const e=t.titleBlock;Ac.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Ac.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const EC={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),A=hM(e,c);A<i&&(i=A,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function JA(t,e){return e&&(ys(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function _h(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function k_e(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function UV(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=yo(e.bodyFont),c=yo(e.titleFont),A=yo(e.footerFont),u=s.length,h=i.length,p=r.length,E=wl(e.padding);let T=E.height,y=0,R=r.reduce((B,w)=>B+w.before.length+w.lines.length+w.after.length,0);if(R+=t.beforeBody.length+t.afterBody.length,u&&(T+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),R){const B=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;T+=p*B+(R-p)*l.lineHeight+(R-1)*e.bodySpacing}h&&(T+=e.footerMarginTop+h*A.lineHeight+(h-1)*e.footerSpacing);let I=0;const b=function(B){y=Math.max(y,n.measureText(B).width+I)};return n.save(),n.font=c.string,Yr(t.title,b),n.font=l.string,Yr(t.beforeBody.concat(t.afterBody),b),I=e.displayColors?o+2+e.boxPadding:0,Yr(r,B=>{Yr(B.before,b),Yr(B.lines,b),Yr(B.after,b)}),I=0,n.font=A.string,Yr(t.footer,b),n.restore(),y+=E.width,{width:y,height:T}}function M_e(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function P_e(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function U_e(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),P_e(c,t,e,n)&&(c="center"),c}function FV(t,e,n){const r=n.yAlign||e.yAlign||M_e(t,n);return{xAlign:n.xAlign||e.xAlign||U_e(t,e,n,r),yAlign:r}}function F_e(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function H_e(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function HV(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:A,topRight:u,bottomLeft:h,bottomRight:p}=PT(o);let E=F_e(e,a);const T=H_e(e,l,c);return l==="center"?a==="left"?E+=c:a==="right"&&(E-=c):a==="left"?E-=Math.max(A,h)+i:a==="right"&&(E+=Math.max(u,p)+i),{x:Ho(E,0,r.width-e.width),y:Ho(T,0,r.height-e.height)}}function R_(t,e,n){const r=wl(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function GV(t){return JA([],_h(t))}function G_e(t,e,n){return Ag(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function QV(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const WX={beforeTitle:mh,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:mh,beforeBody:mh,beforeLabel:mh,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Mr(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:mh,afterBody:mh,beforeFooter:mh,footer:mh,afterFooter:mh};function Ma(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?WX[e].call(n,r):i}class TM extends od{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new _X(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=G_e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Ma(r,"beforeTitle",this,e),s=Ma(r,"title",this,e),o=Ma(r,"afterTitle",this,e);let a=[];return a=JA(a,_h(i)),a=JA(a,_h(s)),a=JA(a,_h(o)),a}getBeforeBody(e,n){return GV(Ma(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Yr(e,s=>{const o={before:[],lines:[],after:[]},a=QV(r,s);JA(o.before,_h(Ma(a,"beforeLabel",this,s))),JA(o.lines,Ma(a,"label",this,s)),JA(o.after,_h(Ma(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return GV(Ma(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Ma(r,"beforeFooter",this,e),s=Ma(r,"footer",this,e),o=Ma(r,"afterFooter",this,e);let a=[];return a=JA(a,_h(i)),a=JA(a,_h(s)),a=JA(a,_h(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(k_e(this.chart,n[l]));return e.filter&&(a=a.filter((A,u,h)=>e.filter(A,u,h,r))),e.itemSort&&(a=a.sort((A,u)=>e.itemSort(A,u,r))),Yr(a,A=>{const u=QV(e.callbacks,A);i.push(Ma(u,"labelColor",this,A)),s.push(Ma(u,"labelPointStyle",this,A)),o.push(Ma(u,"labelTextColor",this,A))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=EC[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=UV(this,r),c=Object.assign({},a,l),A=FV(this.chart,r,c),u=HV(r,c,A,this.chart);this.xAlign=A.xAlign,this.yAlign=A.yAlign,s={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:A,bottomRight:u}=PT(a),{x:h,y:p}=e,{width:E,height:T}=n;let y,R,I,b,B,w;return s==="center"?(B=p+T/2,i==="left"?(y=h,R=y-o,b=B+o,w=B-o):(y=h+E,R=y+o,b=B-o,w=B+o),I=y):(i==="left"?R=h+Math.max(l,A)+o:i==="right"?R=h+E-Math.max(c,u)-o:R=this.caretX,s==="top"?(b=p,B=b-o,y=R-o,I=R+o):(b=p+T,B=b+o,y=R+o,I=R-o),w=b),{x1:y,x2:R,x3:I,y1:b,y2:B,y3:w}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=UT(r.rtl,this.x,this.width);for(e.x=R_(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=yo(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,A=yo(s.bodyFont),u=R_(this,"left",s),h=i.x(u),p=l<A.lineHeight?(A.lineHeight-l)/2:0,E=n.y+p;if(s.usePointStyle){const T={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(h,c)+c/2,R=E+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,fM(e,T,y,R),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,fM(e,T,y,R)}else{e.lineWidth=wr(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const T=i.leftForLtr(h,c),y=i.leftForLtr(i.xPlus(h,1),c-2),R=PT(o.borderRadius);Object.values(R).some(I=>I!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Dv(e,{x:T,y:E,w:c,h:l,radius:R}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Dv(e,{x:y,y:E+1,w:c-2,h:l-2,radius:R}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(T,E,c,l),e.strokeRect(T,E,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,E+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:A}=r,u=yo(r.bodyFont);let h=u.lineHeight,p=0;const E=UT(r.rtl,this.x,this.width),T=function(U){n.fillText(U,E.x(e.x+p),e.y+h/2),e.y+=h+s},y=E.textAlign(o);let R,I,b,B,w,O,L;for(n.textAlign=o,n.textBaseline="middle",n.font=u.string,e.x=R_(this,y,r),n.fillStyle=r.bodyColor,Yr(this.beforeBody,T),p=a&&y!=="right"?o==="center"?c/2+A:c+2+A:0,B=0,O=i.length;B<O;++B){for(R=i[B],I=this.labelTextColors[B],n.fillStyle=I,Yr(R.before,T),b=R.lines,a&&b.length&&(this._drawColorBox(n,e,B,E,r),h=Math.max(u.lineHeight,l)),w=0,L=b.length;w<L;++w)T(b[w]),h=u.lineHeight;Yr(R.after,T)}p=0,h=u.lineHeight,Yr(this.afterBody,T),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=UT(r.rtl,this.x,this.width);for(e.x=R_(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=yo(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:A}=r,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:E}=PT(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+u,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+A-E),n.quadraticCurveTo(a+c,l+A,a+c-E,l+A),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,l+A),n.quadraticCurveTo(a,l+A,a,l+A-p),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+u),n.quadraticCurveTo(a,l,a+u,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=EC[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=UV(this,e),l=Object.assign({},o,this._size),c=FV(n,e,l),A=HV(e,l,c,n);(i._to!==A.x||s._to!==A.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,A))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=wl(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),xX(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),RX(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!wv(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!wv(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=EC[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}it(TM,"positioners",EC);var YX={id:"tooltip",_element:TM,positioners:EC,afterInit(t,e,n){n&&(t.tooltip=new TM({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:WX},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Q_e=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function V_e(t,e,n,r){const i=t.indexOf(e);if(i===-1)return Q_e(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const $_e=(t,e)=>t===null?null:Ho(Math.round(t),0,e);function VV(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Uv extends GS{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Mr(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:V_e(r,e,cr(n,e),this._addedLabels),$_e(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return VV.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}it(Uv,"id","category"),it(Uv,"defaults",{ticks:{callback:VV}});function W_e(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:A,maxDigits:u,includeBounds:h}=t,p=s||1,E=A-1,{min:T,max:y}=e,R=!Mr(o),I=!Mr(a),b=!Mr(c),B=(y-T)/(u+1);let w=$3((y-T)/E/p)*p,O,L,U,G;if(w<1e-14&&!R&&!I)return[{value:T},{value:y}];G=Math.ceil(y/w)-Math.floor(T/w),G>E&&(w=$3(G*w/E/p)*p),Mr(l)||(O=Math.pow(10,l),w=Math.ceil(w*O)/O),i==="ticks"?(L=Math.floor(T/w)*w,U=Math.ceil(y/w)*w):(L=T,U=y),R&&I&&s&&Exe((a-o)/s,w/1e3)?(G=Math.round(Math.min((a-o)/w,A)),w=(a-o)/G,L=o,U=a):b?(L=R?o:L,U=I?a:U,G=c-1,w=(U-L)/G):(G=(U-L)/w,QC(G,Math.round(G),w/1e3)?G=Math.round(G):G=Math.ceil(G));const Q=Math.max(W3(w),W3(L));O=Math.pow(10,Mr(l)?Q:l),L=Math.round(L*O)/O,U=Math.round(U*O)/O;let Y=0;for(R&&(h&&L!==o?(n.push({value:o}),L<o&&Y++,QC(Math.round((L+Y*w)*O)/O,o,$V(o,B,t))&&Y++):L<o&&Y++);Y<G;++Y){const K=Math.round((L+Y*w)*O)/O;if(I&&K>a)break;n.push({value:K})}return I&&h&&U!==a?n.length&&QC(n[n.length-1].value,a,$V(a,B,t))?n[n.length-1].value=a:n.push({value:a}):(!I||U===a)&&n.push({value:U}),n}function $V(t,e,{horizontal:n,minRotation:r}){const i=Fh(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Y_e extends GS{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Mr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Tu(i),c=Tu(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=W_e(i,s);return e.bounds==="ticks"&&Txe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return e2(e,this.chart.options.locale,this.options.ticks.format)}}class Fv extends Y_e{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Cc(e)?e:0,this.max=Cc(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Fh(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}it(Fv,"id","linear"),it(Fv,"defaults",{ticks:{callback:pX.formatters.numeric}});const Dw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ka=Object.keys(Dw);function WV(t,e){return t-e}function YV(t,e){if(Mr(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Cc(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(hS(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function jV(t,e,n,r){const i=Ka.length;for(let s=Ka.indexOf(t);s<i-1;++s){const o=Dw[Ka[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Ka[s]}return Ka[i-1]}function j_e(t,e,n,r,i){for(let s=Ka.length-1;s>=Ka.indexOf(n);s--){const o=Ka[s];if(Dw[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Ka[n?Ka.indexOf(n):0]}function K_e(t){for(let e=Ka.indexOf(t)+1,n=Ka.length;e<n;++e)if(Dw[Ka[e]].common)return Ka[e]}function KV(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=XF(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function z_e(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function zV(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:z_e(t,r,i,n)}class Hv extends GS{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new eIe._date(e.adapters.date);i.init(n),GC(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:YV(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Cc(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Cc(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=Rxe(i,s,o);return this._unit=n.unit||(r.autoSkip?jV(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):j_e(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:K_e(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),zV(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ho(n,0,o),r=Ho(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||jV(s.minUnit,n,r,this._getLabelCapacity(n)),a=cr(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=hS(l)||l===!0,A={};let u=n,h,p;if(c&&(u=+e.startOf(u,"isoWeek",l)),u=+e.startOf(u,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const E=i.ticks.source==="data"&&this.getDataTimestamps();for(h=u,p=0;h<r;h=+e.add(h,a,o),p++)KV(A,h,E);return(h===r||i.bounds==="ticks"||p===1)&&KV(A,h,E),Object.keys(A).sort(WV).map(T=>+T)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return hi(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,A=l&&a[l],u=c&&a[c],h=r[n],p=c&&u&&h&&h.major;return this._adapter.format(e,i||(p?u:A))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Fh(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,zV(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(YV(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return AX(e.sort(WV))}}it(Hv,"id","time"),it(Hv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function I_(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ym(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ym(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class qV extends Hv{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=I_(n,this.min),this._tableRange=I_(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,A;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)A=i[o+1],l=i[o-1],c=i[o],Math.round((A+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(I_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return I_(this._table,r*this._tableRange+this._minPos,!0)}}it(qV,"id","timeseries"),it(qV,"defaults",Hv.defaults);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var XV=(function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1})(),WC={toTextLines:function(t){var e=[],n;for(t=[].concat(t);t.length;)n=t.pop(),typeof n=="string"?e.unshift.apply(e,n.split(`
`)):Array.isArray(n)?t.push.apply(t,n):Mr(t)||e.unshift(""+n);return e},textSize:function(t,e,n){var r=[].concat(e),i=r.length,s=t.font,o=0,a;for(t.font=n.string,a=0;a<i;++a)o=Math.max(t.measureText(r[a]).width,o);return t.font=s,{height:i*n.lineHeight,width:o}},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},arrayDiff:function(t,e){var n=t.slice(),r=[],i,s,o,a;for(i=0,o=e.length;i<o;++i)a=e[i],s=n.indexOf(a),s===-1?r.push([a,1]):n.splice(s,1);for(i=0,o=n.length;i<o;++i)r.push([n[i],-1]);return r},rasterize:function(t){return Math.round(t*XV)/XV}};function h1(t,e){var n=e.x,r=e.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=t.x-n,s=t.y-r,o=Math.sqrt(i*i+s*s);return{x:o?i/o:0,y:o?s/o:-1}}function q_e(t,e,n,r,i){switch(i){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),r=Math.sin(i);break}return{x:t,y:e,vx:n,vy:r}}var X_e=0,jX=1,KX=2,zX=4,qX=8;function __(t,e,n){var r=X_e;return t<n.left?r|=jX:t>n.right&&(r|=KX),e<n.top?r|=qX:e>n.bottom&&(r|=zX),r}function J_e(t,e){for(var n=t.x0,r=t.y0,i=t.x1,s=t.y1,o=__(n,r,e),a=__(i,s,e),l,c,A;!(!(o|a)||o&a);)l=o||a,l&qX?(c=n+(i-n)*(e.top-r)/(s-r),A=e.top):l&zX?(c=n+(i-n)*(e.bottom-r)/(s-r),A=e.bottom):l&KX?(A=r+(s-r)*(e.right-n)/(i-n),c=e.right):l&jX&&(A=r+(s-r)*(e.left-n)/(i-n),c=e.left),l===o?(n=c,r=A,o=__(n,r,e)):(i=c,s=A,a=__(i,s,e));return{x0:n,x1:i,y0:r,y1:s}}function N_(t,e){var n=e.anchor,r=t,i,s;return e.clamp&&(r=J_e(r,e.area)),n==="start"?(i=r.x0,s=r.y0):n==="end"?(i=r.x1,s=r.y1):(i=(r.x0+r.x1)/2,s=(r.y0+r.y1)/2),q_e(i,s,t.vx,t.vy,e.align)}var b_={arc:function(t,e){var n=(t.startAngle+t.endAngle)/2,r=Math.cos(n),i=Math.sin(n),s=t.innerRadius,o=t.outerRadius;return N_({x0:t.x+r*s,y0:t.y+i*s,x1:t.x+r*o,y1:t.y+i*o,vx:r,vy:i},e)},point:function(t,e){var n=h1(t,e.origin),r=n.x*t.options.radius,i=n.y*t.options.radius;return N_({x0:t.x-r,y0:t.y-i,x1:t.x+r,y1:t.y+i,vx:n.x,vy:n.y},e)},bar:function(t,e){var n=h1(t,e.origin),r=t.x,i=t.y,s=0,o=0;return t.horizontal?(r=Math.min(t.x,t.base),s=Math.abs(t.base-t.x)):(i=Math.min(t.y,t.base),o=Math.abs(t.base-t.y)),N_({x0:r,y0:i+o,x1:r+s,y1:i,vx:n.x,vy:n.y},e)},fallback:function(t,e){var n=h1(t,e.origin);return N_({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)}},Hh=WC.rasterize;function Z_e(t){var e=t.borderWidth||0,n=t.padding,r=t.size.height,i=t.size.width,s=-i/2,o=-r/2;return{frame:{x:s-n.left-e,y:o-n.top-e,w:i+n.width+e*2,h:r+n.height+e*2},text:{x:s,y:o,w:i,h:r}}}function eNe(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return t.horizontal?{x:r,y:null}:{x:null,y:r}}function tNe(t){return t instanceof Cm?b_.arc:t instanceof FT?b_.point:t instanceof HT?b_.bar:b_.fallback}function nNe(t,e,n,r,i,s){var o=Math.PI/2;if(s){var a=Math.min(s,i/2,r/2),l=e+a,c=n+a,A=e+r-a,u=n+i-a;t.moveTo(e,c),l<A&&c<u?(t.arc(l,c,a,-Math.PI,-o),t.arc(A,c,a,-o,0),t.arc(A,u,a,0,o),t.arc(l,u,a,o,Math.PI)):l<A?(t.moveTo(l,n),t.arc(A,c,a,-o,o),t.arc(l,c,a,o,Math.PI+o)):c<u?(t.arc(l,c,a,-Math.PI,0),t.arc(l,u,a,0,Math.PI)):t.arc(l,c,a,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,r,i)}function rNe(t,e,n){var r=n.backgroundColor,i=n.borderColor,s=n.borderWidth;!r&&(!i||!s)||(t.beginPath(),nNe(t,Hh(e.x)+s/2,Hh(e.y)+s/2,Hh(e.w)-s,Hh(e.h)-s,n.borderRadius),t.closePath(),r&&(t.fillStyle=r,t.fill()),i&&s&&(t.strokeStyle=i,t.lineWidth=s,t.lineJoin="miter",t.stroke()))}function iNe(t,e,n){var r=n.lineHeight,i=t.w,s=t.x,o=t.y+r/2;return e==="center"?s+=i/2:(e==="end"||e==="right")&&(s+=i),{h:r,w:i,x:s,y:o}}function sNe(t,e,n){var r=t.shadowBlur,i=n.stroked,s=Hh(n.x),o=Hh(n.y),a=Hh(n.w);i&&t.strokeText(e,s,o,a),n.filled&&(r&&i&&(t.shadowBlur=0),t.fillText(e,s,o,a),r&&i&&(t.shadowBlur=r))}function oNe(t,e,n,r){var i=r.textAlign,s=r.color,o=!!s,a=r.font,l=e.length,c=r.textStrokeColor,A=r.textStrokeWidth,u=c&&A,h;if(!(!l||!o&&!u))for(n=iNe(n,i,a),t.font=a.string,t.textAlign=i,t.textBaseline="middle",t.shadowBlur=r.textShadowBlur,t.shadowColor=r.textShadowColor,o&&(t.fillStyle=s),u&&(t.lineJoin="round",t.lineWidth=A,t.strokeStyle=c),h=0,l=e.length;h<l;++h)sNe(t,e[h],{stroked:u,filled:o,w:n.w,x:n.x,y:n.y+n.h*h})}var XX=function(t,e,n,r){var i=this;i._config=t,i._index=r,i._model=null,i._rects=null,i._ctx=e,i._el=n};Iu(XX.prototype,{_modelize:function(t,e,n,r){var i=this,s=i._index,o=yo(ki([n.font,{}],r,s)),a=ki([n.color,es.color],r,s);return{align:ki([n.align,"center"],r,s),anchor:ki([n.anchor,"center"],r,s),area:r.chart.chartArea,backgroundColor:ki([n.backgroundColor,null],r,s),borderColor:ki([n.borderColor,null],r,s),borderRadius:ki([n.borderRadius,0],r,s),borderWidth:ki([n.borderWidth,0],r,s),clamp:ki([n.clamp,!1],r,s),clip:ki([n.clip,!1],r,s),color:a,display:t,font:o,lines:e,offset:ki([n.offset,4],r,s),opacity:ki([n.opacity,1],r,s),origin:eNe(i._el,r),padding:wl(ki([n.padding,4],r,s)),positioner:tNe(i._el),rotation:ki([n.rotation,0],r,s)*(Math.PI/180),size:WC.textSize(i._ctx,e,o),textAlign:ki([n.textAlign,"start"],r,s),textShadowBlur:ki([n.textShadowBlur,0],r,s),textShadowColor:ki([n.textShadowColor,a],r,s),textStrokeColor:ki([n.textStrokeColor,a],r,s),textStrokeWidth:ki([n.textStrokeWidth,0],r,s)}},update:function(t){var e=this,n=null,r=null,i=e._index,s=e._config,o,a,l,c=ki([s.display,!0],t,i);c&&(o=t.dataset.data[i],a=cr(hi(s.formatter,[o,t]),o),l=Mr(a)?[]:WC.toTextLines(a),l.length&&(n=e._modelize(c,l,s,t),r=Z_e(n))),e._model=n,e._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n=this,r=t.ctx,i=n._model,s=n._rects,o;this.visible()&&(r.save(),i.clip&&(o=i.area,r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()),r.globalAlpha=WC.bound(0,i.opacity,1),r.translate(Hh(e.x),Hh(e.y)),r.rotate(i.rotation),rNe(r,s.frame,i),oNe(r,i.lines,s.text,i),r.restore())}});var aNe=Number.MIN_SAFE_INTEGER||-9007199254740991,lNe=Number.MAX_SAFE_INTEGER||9007199254740991;function v0(t,e,n){var r=Math.cos(n),i=Math.sin(n),s=e.x,o=e.y;return{x:s+r*(t.x-s)-i*(t.y-o),y:o+i*(t.x-s)+r*(t.y-o)}}function JV(t,e){var n=lNe,r=aNe,i=e.origin,s,o,a,l,c;for(s=0;s<t.length;++s)o=t[s],a=o.x-i.x,l=o.y-i.y,c=e.vx*a+e.vy*l,n=Math.min(n,c),r=Math.max(r,c);return{min:n,max:r}}function v_(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);return{vx:(e.x-t.x)/i,vy:(e.y-t.y)/i,origin:t,ln:i}}var JX=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Iu(JX.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=1,r=e._rect;return t=v0(t,e.center(),-e._rotation),!(t.x<r.x-n||t.y<r.y-n||t.x>r.x+r.w+n*2||t.y>r.y+r.h+n*2)},intersects:function(t){var e=this._points(),n=t._points(),r=[v_(e[0],e[1]),v_(e[0],e[3])],i,s,o;for(this._rotation!==t._rotation&&r.push(v_(n[0],n[1]),v_(n[0],n[3])),i=0;i<r.length;++i)if(s=JV(e,r[i]),o=JV(n,r[i]),s.max<o.min||o.max<s.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,r=t.center();return[v0({x:e.x,y:e.y},r,n),v0({x:e.x+e.w,y:e.y},r,n),v0({x:e.x+e.w,y:e.y+e.h},r,n),v0({x:e.x,y:e.y+e.h},r,n)]}});function ZX(t,e,n){var r=e.positioner(t,e),i=r.vx,s=r.vy;if(!i&&!s)return{x:r.x,y:r.y};var o=n.w,a=n.h,l=e.rotation,c=Math.abs(o/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),A=Math.abs(o/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),u=1/Math.max(Math.abs(i),Math.abs(s));return c*=i*u,A*=s*u,c+=e.offset*i,A+=e.offset*s,{x:r.x+c,y:r.y+A}}function cNe(t,e){var n,r,i,s;for(n=t.length-1;n>=0;--n)for(i=t[n].$layout,r=n-1;r>=0&&i._visible;--r)s=t[r].$layout,s._visible&&i._box.intersects(s._box)&&e(i,s);return t}function ANe(t){var e,n,r,i,s,o,a;for(e=0,n=t.length;e<n;++e)r=t[e],i=r.$layout,i._visible&&(a=new Proxy(r._el,{get:(l,c)=>l.getProps([c],!0)[c]}),s=r.geometry(),o=ZX(a,r.model(),s),i._box.update(o,s,r.rotation()));return cNe(t,function(l,c){var A=l._hidable,u=c._hidable;A&&u||u?c._visible=!1:A&&(l._visible=!1)})}var YC={prepare:function(t){var e=[],n,r,i,s,o;for(n=0,i=t.length;n<i;++n)for(r=0,s=t[n].length;r<s;++r)o=t[n][r],e.push(o),o.$layout={_box:new JX,_hidable:!1,_visible:!0,_set:n,_idx:o._index};return e.sort(function(a,l){var c=a.$layout,A=l.$layout;return c._idx===A._idx?A._set-c._set:A._idx-c._idx}),this.update(e),e},update:function(t){var e=!1,n,r,i,s,o;for(n=0,r=t.length;n<r;++n)i=t[n],s=i.model(),o=i.$layout,o._hidable=s&&s.display==="auto",o._visible=i.visible(),e|=o._hidable;e&&ANe(t)},lookup:function(t,e){var n,r;for(n=t.length-1;n>=0;--n)if(r=t[n].$layout,r&&r._visible&&r._box.contains(e))return t[n];return null},draw:function(t,e){var n,r,i,s,o,a;for(n=0,r=e.length;n<r;++n)i=e[n],s=i.$layout,s._visible&&(o=i.geometry(),a=ZX(i._el,i.model(),o),s._box.update(a,o,i.rotation()),i.draw(t,a))}},uNe=function(t){if(Mr(t))return null;var e=t,n,r,i;if(wr(t))if(!Mr(t.label))e=t.label;else if(!Mr(t.r))e=t.r;else for(e="",n=Object.keys(t),i=0,r=n.length;i<r;++i)e+=(i!==0?", ":"")+n[i]+": "+t[n[i]];return""+e},hNe={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:uNe,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Fa="$datalabels",e9="$default";function dNe(t,e){var n=t.datalabels,r={},i=[],s,o;return n===!1?null:(n===!0&&(n={}),e=Iu({},[e,n]),s=e.labels||{},o=Object.keys(s),delete e.labels,o.length?o.forEach(function(a){s[a]&&i.push(Iu({},[e,s[a],{_key:a}]))}):i.push(e),r=i.reduce(function(a,l){return Yr(l.listeners||{},function(c,A){a[A]=a[A]||{},a[A][l._key||e9]=c}),delete l.listeners,a},{}),{labels:i,listeners:r})}function SM(t,e,n,r){if(e){var i=n.$context,s=n.$groups,o;e[s._set]&&(o=e[s._set][s._key],o&&hi(o,[i,r])===!0&&(t[Fa]._dirty=!0,n.update(i)))}}function fNe(t,e,n,r,i){var s,o;!n&&!r||(n?r?n!==r&&(o=s=!0):o=!0:s=!0,o&&SM(t,e.leave,n,i),s&&SM(t,e.enter,r,i))}function pNe(t,e){var n=t[Fa],r=n._listeners,i,s;if(!(!r.enter&&!r.leave)){if(e.type==="mousemove")s=YC.lookup(n._labels,e);else if(e.type!=="mouseout")return;i=n._hovered,n._hovered=s,fNe(t,r,i,s,e)}}function mNe(t,e){var n=t[Fa],r=n._listeners.click,i=r&&YC.lookup(n._labels,e);i&&SM(t,r,i,e)}var t9={id:"datalabels",defaults:hNe,beforeInit:function(t){t[Fa]={_actives:[]}},beforeUpdate:function(t){var e=t[Fa];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var r=e.index,i=t[Fa],s=i._datasets[r]=[],o=t.isDatasetVisible(r),a=t.data.datasets[r],l=dNe(a,n),c=e.meta.data||[],A=t.ctx,u,h,p,E,T,y,R,I;for(A.save(),u=0,p=c.length;u<p;++u)if(R=c[u],R[Fa]=[],o&&R&&t.getDataVisibility(u)&&!R.skip)for(h=0,E=l.labels.length;h<E;++h)T=l.labels[h],y=T._key,I=new XX(T,A,R,u),I.$groups={_set:r,_key:y||e9},I.$context={active:!1,chart:t,dataIndex:u,dataset:a,datasetIndex:r},I.update(I.$context),R[Fa].push(I),s.push(I);A.restore(),Iu(i._listeners,l.listeners,{merger:function(b,B,w){B[b]=B[b]||{},B[b][e.index]=w[b],i._listened=!0}})},afterUpdate:function(t){t[Fa]._labels=YC.prepare(t[Fa]._datasets)},afterDatasetsDraw:function(t){YC.draw(t,t[Fa]._labels)},beforeEvent:function(t,e){if(t[Fa]._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":pNe(t,n);break;case"click":mNe(t,n);break}}},afterEvent:function(t){var e=t[Fa],n=e._actives,r=e._actives=t.getActiveElements(),i=WC.arrayDiff(n,r),s,o,a,l,c,A,u;for(s=0,o=i.length;s<o;++s)if(c=i[s],c[1])for(u=c[0].element[Fa]||[],a=0,l=u.length;a<l;++a)A=u[a],A.$context.active=c[1]===1,A.update(A.$context);(e._dirty||i.length)&&(YC.update(e._labels),t.render()),delete e._dirty}};const gNe=({tables:t,onInsert:e})=>{const[n,r]=H.useState(new Set),[i,s]=H.useState({}),[o,a]=H.useState(null),l=async c=>{const A=new Set(n);if(A.has(c))A.delete(c),r(A);else if(A.add(c),r(A),!i[c]){a(c);try{const u=await At.getTableSchema(c);s(h=>({...h,[c]:u}))}catch(u){console.error(u)}finally{a(null)}}};return f.jsxs("div",{className:"flex flex-col select-none",children:[t.length===0&&f.jsxs("div",{className:"p-8 text-center text-xs text-monokai-comment italic",children:["No tables found.",f.jsx("br",{}),"Import data to get started."]}),t.map(c=>f.jsxs("div",{className:"border-b border-monokai-accent/30",children:[f.jsxs("div",{className:"p-2 hover:bg-monokai-accent cursor-pointer flex items-center gap-2 group transition-colors",onClick:()=>l(c),children:[f.jsx("span",{className:"text-[10px] text-monokai-comment group-hover:text-white transition-colors w-4 text-center",children:o===c?"":n.has(c)?"":""}),f.jsx("span",{className:"text-xs font-bold text-monokai-fg group-hover:text-monokai-blue truncate flex-1",title:c,children:c}),f.jsx("button",{className:"text-[10px] opacity-0 group-hover:opacity-100 text-monokai-comment hover:text-white px-2 py-0.5 rounded hover:bg-monokai-bg/50",onClick:A=>{A.stopPropagation(),e(c)},title:"Insert Table Name",children:""})]}),n.has(c)&&i[c]&&f.jsx("div",{className:"bg-[#1a1b18] shadow-inner py-1",children:i[c].map(A=>f.jsxs("div",{className:"pl-8 pr-2 py-1 text-[11px] font-mono text-monokai-comment hover:text-monokai-orange hover:bg-monokai-accent/20 cursor-pointer flex justify-between group items-center",onClick:()=>e(A.name),title:`Click to insert: ${A.name}`,children:[f.jsxs("span",{className:A.pk?"text-monokai-pink font-bold":"",children:[A.pk?" ":"",A.name]}),f.jsxs("span",{className:"opacity-50 text-[9px] flex items-center gap-1 group-hover:opacity-100",children:[lb(A.type)," ",A.type]})]},A.name))})]},c))]})};function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(null,arguments)}function ENe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}let yM=[],n9=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?n9:yM).push(n=n+t[e])})();function TNe(t){if(t<768)return!1;for(let e=0,n=yM.length;;){let r=e+n>>1;if(t<yM[r])n=r;else if(t>=n9[r])e=r+1;else return!0;if(e==n)return!1}}function ZV(t){return t>=127462&&t<=127487}const e$=8205;function SNe(t,e,n=!0,r=!0){return(n?r9:yNe)(t,e,r)}function r9(t,e,n){if(e==t.length)return e;e&&i9(t.charCodeAt(e))&&s9(t.charCodeAt(e-1))&&e--;let r=d1(t,e);for(e+=t$(r);e<t.length;){let i=d1(t,e);if(r==e$||i==e$||n&&TNe(i))e+=t$(i),r=i;else if(ZV(i)){let s=0,o=e-2;for(;o>=0&&ZV(d1(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function yNe(t,e,n){for(;e>0;){let r=r9(t,e-2,n);if(r<e)return r;e--}return 0}function d1(t,e){let n=t.charCodeAt(e);if(!s9(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return i9(r)?(n-55296<<10)+(r-56320)+65536:n}function i9(t){return t>=56320&&t<57344}function s9(t){return t>=55296&&t<56320}function t$(t){return t<65536?1:2}class kr{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=pS(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),uu.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=pS(this,e,n);let r=[];return this.decompose(e,n,r,0),uu.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new jC(this),s=new jC(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new jC(this,e)}iterRange(e,n=this.length){return new o9(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new a9(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?kr.empty:e.length<=32?new As(e):uu.from(As.split(e,[]))}}class As extends kr{constructor(e,n=CNe(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new xNe(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new As(n$(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=fb(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new As(a,o.length+s.length));else{let l=a.length>>1;r.push(new As(a.slice(0,l)),new As(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof As))return super.replace(e,n,r);[e,n]=pS(this,e,n);let i=fb(this.text,fb(r.text,n$(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new As(i,s):uu.from(As.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=pS(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new As(r,i)),r=[],i=-1);return i>-1&&n.push(new As(r,i)),n}}class uu extends kr{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let c=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?r.push(a):a.decompose(e-o,n-o,r,c)}o=l+1}}replace(e,n,r){if([e,n]=pS(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let A=this.children.slice();return A[i]=l,new uu(A,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=pS(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof uu))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let p of e)r+=p.lines;if(r<32){let p=[];for(let E of e)E.flatten(p);return new As(p,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,A=[];function u(p){let E;if(p.lines>s&&p instanceof uu)for(let T of p.children)u(T);else p.lines>o&&(l>o||!l)?(h(),a.push(p)):p instanceof As&&l&&(E=A[A.length-1])instanceof As&&p.lines+E.lines<=32?(l+=p.lines,c+=p.length+1,A[A.length-1]=new As(E.text.concat(p.text),E.length+1+p.length)):(l+p.lines>i&&h(),l+=p.lines,c+=p.length+1,A.push(p))}function h(){l!=0&&(a.push(A.length==1?A[0]:uu.from(A,c)),c=-1,l=A.length=0)}for(let p of e)u(p);return h(),a.length==1?a[0]:new uu(a,n)}}kr.empty=new As([""],0);function CNe(t){let e=-1;for(let n of t)e+=n.length+1;return e}function fb(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function n$(t,e,n){return fb(t,[""],e,n)}class jC{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof As?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof As?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof As){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof As?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class o9{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new jC(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class a9{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(kr.prototype[Symbol.iterator]=function(){return this.iter()},jC.prototype[Symbol.iterator]=o9.prototype[Symbol.iterator]=a9.prototype[Symbol.iterator]=function(){return this});let xNe=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function pS(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function to(t,e,n=!0,r=!0){return SNe(t,e,n,r)}function RNe(t){return t>=56320&&t<57344}function INe(t){return t>=55296&&t<56320}function Wa(t,e){let n=t.charCodeAt(e);if(!INe(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return RNe(r)?(n-55296<<10)+(r-56320)+65536:n}function A2(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function hu(t){return t<65536?1:2}const CM=/\r\n?|\n/;var Aa=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Aa||(Aa={}));class Su{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){xM(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Su(e)}composeDesc(e){return this.empty?e:e.empty?this:l9(this,e)}mapDesc(e,n=!1){return e.empty?this:RM(this,e,n)}mapPos(e,n=-1,r=Aa.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=Aa.Simple&&c>=e&&(r==Aa.TrackDel&&i<e&&c>e||r==Aa.TrackBefore&&i<e||r==Aa.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Su(e)}static create(e){return new Su(e)}}class Ls extends Su{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return xM(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return RM(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(kr.empty);r.push(o?e.slice(s,s+o):kr.empty)}s+=o}return new Ls(n,r)}compose(e){return this.empty?e:e.empty?this:l9(this,e,!0)}map(e,n=!1){return e.empty?this:RM(this,e,n,!0)}iterChanges(e,n=!1){xM(this,e,n)}get desc(){return Su.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Lx(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let A=Math.min(s.len,l-a);Po(i,A,-1);let u=s.ins==-1?-1:s.off==0?s.ins:0;Po(n,A,u),u>0&&ff(r,n,s.text),s.forward(A),a+=A}let c=e[o++];for(;a<c;){if(s.done)break e;let A=Math.min(s.len,c-a);Po(n,A,-1),Po(i,A,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(A),a+=A}}return{changes:new Ls(n,r),filtered:Su.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(A=!1){if(!A&&!i.length)return;o<n&&Po(i,n-o,-1);let u=new Ls(i,s);a=a?a.compose(u.map(a)):u,i=[],s=[],o=0}function c(A){if(Array.isArray(A))for(let u of A)c(u);else if(A instanceof Ls){if(A.length!=n)throw new RangeError(`Mismatched change set length (got ${A.length}, expected ${n})`);l(),a=a?a.compose(A.map(a)):A}else{let{from:u,to:h=u,insert:p}=A;if(u>h||u<0||h>n)throw new RangeError(`Invalid change range ${u} to ${h} (in doc of length ${n})`);let E=p?typeof p=="string"?kr.of(p.split(r||CM)):p:kr.empty,T=E.length;if(u==h&&T==0)return;u<o&&l(),u>o&&Po(i,u-o,-1),Po(i,h-u,T),ff(s,i,E),o=h}}return c(e),l(!a),a}static empty(e){return new Ls(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(kr.empty);r[i]=kr.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Ls(n,r)}static createSet(e,n){return new Ls(e,n)}}function Po(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function ff(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(kr.empty);t.push(n)}}function xM(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,A=s,u=kr.empty;for(;c+=a,A+=l,l&&r&&(u=u.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,c,s,A,u),i=c,s=A}}}function RM(t,e,n,r=!1){let i=[],s=r?[]:null,o=new Lx(t),a=new Lx(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Po(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let c=a.len;for(Po(i,a.ins,-1);c;){let A=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=A&&(Po(i,0,o.ins),s&&ff(s,i,o.text),l=o.i),o.forward(A),c-=A}a.next()}else if(o.ins>=0){let c=0,A=o.len;for(;A;)if(a.ins==-1){let u=Math.min(A,a.len);c+=u,A-=u,a.forward(u)}else if(a.ins==0&&a.len<A)A-=a.len,a.next();else break;Po(i,c,l<o.i?o.ins:0),s&&l<o.i&&ff(s,i,o.text),l=o.i,o.forward(o.len-A)}else{if(o.done&&a.done)return s?Ls.createSet(i,s):Su.create(i);throw new Error("Mismatched change set lengths")}}}function l9(t,e,n=!1){let r=[],i=n?[]:null,s=new Lx(t),o=new Lx(e);for(let a=!1;;){if(s.done&&o.done)return i?Ls.createSet(r,i):Su.create(r);if(s.ins==0)Po(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)Po(r,0,o.ins,a),i&&ff(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let A=o.ins==-1?-1:o.off?0:o.ins;Po(r,l,A,a),i&&A&&ff(i,r,o.text)}else o.ins==-1?(Po(r,s.off?0:s.len,l,a),i&&ff(i,r,s.textBit(l))):(Po(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&ff(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class Lx{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?kr.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?kr.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class xm{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new xm(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Qe.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Qe.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Qe.range(e.anchor,e.head)}static create(e,n,r){return new xm(e,n,r)}}class Qe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Qe.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Qe([this.main],0)}addRange(e,n=!0){return Qe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Qe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Qe(e.ranges.map(n=>xm.fromJSON(n)),e.main)}static single(e,n=e){return new Qe([Qe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Qe.normalized(e.slice(),n);r=s.to}return new Qe(e,n)}static cursor(e,n=0,r,i){return xm.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?xm.create(n,e,48|s):xm.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?Qe.range(l,a):Qe.range(a,l))}}return new Qe(e,n)}}function c9(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let u2=0;class wt{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=u2++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new wt(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:h2),!!e.static,e.enables)}of(e){return new pb([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new pb(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new pb(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function h2(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class pb{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=u2++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,A=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?c=!0:(((n=e[u.id])!==null&&n!==void 0?n:1)&1)==0&&A.push(e[u.id]);return{create(u){return u.values[o]=r(u),1},update(u,h){if(l&&h.docChanged||c&&(h.docChanged||h.selection)||IM(u,A)){let p=r(u);if(a?!r$(p,u.values[o],i):!i(p,u.values[o]))return u.values[o]=p,1}return 0},reconfigure:(u,h)=>{let p,E=h.config.address[s];if(E!=null){let T=Vv(h,E);if(this.dependencies.every(y=>y instanceof wt?h.facet(y)===u.facet(y):y instanceof Ro?h.field(y,!1)==u.field(y,!1):!0)||(a?r$(p=r(u),T,i):i(p=r(u),T)))return u.values[o]=T,0}else p=r(u);return u.values[o]=p,1}}}}function r$(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function IM(t,e){let n=!1;for(let r of e)KC(t,r)&1&&(n=!0);return n}function _Ne(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let A=0;A<r.length;A++){let u=Vv(l,r[A]);if(i[A]==2)for(let h of u)c.push(h);else c.push(u)}return e.combine(c)}return{create(l){for(let c of r)KC(l,c);return l.values[o]=a(l),1},update(l,c){if(!IM(l,s))return 0;let A=a(l);return e.compare(A,l.values[o])?0:(l.values[o]=A,1)},reconfigure(l,c){let A=IM(l,r),u=c.config.facets[e.id],h=c.facet(e);if(u&&!A&&h2(n,u))return l.values[o]=h,0;let p=a(l);return e.compare(p,h)?(l.values[o]=h,0):(l.values[o]=p,1)}}}const O_=wt.define({static:!0});class Ro{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new Ro(u2++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(O_).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let s=r.facet(O_),o=i.facet(O_),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,O_.of({field:this,create:e})]}get extension(){return this}}const gm={lowest:4,low:3,default:2,high:1,highest:0};function O0(t){return e=>new A9(e,t)}const ug={highest:O0(gm.highest),high:O0(gm.high),default:O0(gm.default),low:O0(gm.low),lowest:O0(gm.lowest)};class A9{constructor(e,n){this.inner=e,this.prec=n}}class kw{of(e){return new _M(this,e)}reconfigure(e){return kw.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class _M{constructor(e,n){this.compartment=e,this.inner=n}}class Qv{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let h of NNe(e,n,o))h instanceof Ro?i.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],c=[];for(let h of i)a[h.id]=c.length<<1,c.push(p=>h.slot(p));let A=r==null?void 0:r.config.facets;for(let h in s){let p=s[h],E=p[0].facet,T=A&&A[h]||[];if(p.every(y=>y.type==0))if(a[E.id]=l.length<<1|1,h2(T,p))l.push(r.facet(E));else{let y=E.combine(p.map(R=>R.value));l.push(r&&E.compare(y,r.facet(E))?r.facet(E):y)}else{for(let y of p)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=c.length<<1,c.push(R=>y.dynamicSlot(R)));a[E.id]=c.length<<1,c.push(y=>_Ne(y,E,p))}}let u=c.map(h=>h(a));return new Qv(e,o,u,a,l,s)}}function NNe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof _M&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof _M){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),s(c,a)}else if(o instanceof A9)s(o.inner,o.prec);else if(o instanceof Ro)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof pb)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,gm.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,gm.default),r.reduce((o,a)=>o.concat(a))}function KC(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Vv(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const u9=wt.define(),NM=wt.define({combine:t=>t.some(e=>e),static:!0}),h9=wt.define({combine:t=>t.length?t[0]:void 0,static:!0}),d9=wt.define(),f9=wt.define(),p9=wt.define(),m9=wt.define({combine:t=>t.length?t[0]:!1});class bu{constructor(e,n){this.type=e,this.value=n}static define(){return new bNe}}class bNe{of(e){return new bu(this,e)}}class vNe{constructor(e){this.map=e}of(e){return new jn(this,e)}}class jn{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new jn(this.type,n)}is(e){return this.type==e}static define(e={}){return new vNe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}jn.reconfigure=jn.define();jn.appendConfig=jn.define();class Us{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&c9(r,n.newLength),s.some(a=>a.type==Us.time)||(this.annotations=s.concat(Us.time.of(Date.now())))}static create(e,n,r,i,s,o){return new Us(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Us.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Us.time=bu.define();Us.userEvent=bu.define();Us.addToHistory=bu.define();Us.remote=bu.define();function ONe(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function g9(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=Ls.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:jn.mapEffects(t.effects,i).concat(jn.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function bM(t,e,n){let r=e.selection,i=GT(e.annotations);return e.userEvent&&(i=i.concat(Us.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ls?e.changes:Ls.of(e.changes||[],n,t.facet(h9)),selection:r&&(r instanceof Qe?r:Qe.single(r.anchor,r.head)),effects:GT(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function E9(t,e,n){let r=bM(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=g9(r,bM(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=Us.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return LNe(n?wNe(i):i)}function wNe(t){let e=t.startState,n=!0;for(let i of e.facet(d9)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:ONe(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Ls.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Us.create(e,i,t.selection&&t.selection.map(s),jn.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(f9);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof Us?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Us?t=s[0]:t=E9(e,GT(s),!1)}return t}function LNe(t){let e=t.startState,n=e.facet(p9),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=g9(r,bM(e,s,t.changes.newLength),!0))}return r==t?t:Us.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const BNe=[];function GT(t){return t==null?BNe:Array.isArray(t)?t:[t]}var Mi=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(Mi||(Mi={}));const DNe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let vM;try{vM=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function kNe(t){if(vM)return vM.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||DNe.test(n)))return!0}return!1}function MNe(t){return e=>{if(!/\S/.test(e))return Mi.Space;if(kNe(e))return Mi.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Mi.Word;return Mi.Other}}class Ir{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)KC(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return KC(this,r),Vv(this,r)}update(...e){return E9(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(kw.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(jn.reconfigure)?(n=null,r=a.value):a.is(jn.appendConfig)&&(n=null,r=GT(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=Qv.resolve(r,i,this),s=new Ir(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(NM)?e.newSelection:e.newSelection.asSingle();new Ir(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Qe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=GT(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),A=c.map(i);for(let h=0;h<a;h++)s[h]=s[h].map(A);let u=i.mapDesc(c,!0);s.push(l.range.map(u)),i=i.compose(A),o=jn.mapEffects(o,A).concat(jn.mapEffects(GT(l.effects),u))}return{changes:i,selection:Qe.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Ls?e:Ls.of(e,this.doc.length,this.facet(Ir.lineSeparator))}toText(e){return kr.of(e.split(this.facet(Ir.lineSeparator)||CM))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(KC(this,n),Vv(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Ro&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Ir.create({doc:e.doc,selection:Qe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Qv.resolve(e.extensions||[],new Map),r=e.doc instanceof kr?e.doc:kr.of((e.doc||"").split(n.staticFacet(Ir.lineSeparator)||CM)),i=e.selection?e.selection instanceof Qe?e.selection:Qe.single(e.selection.anchor,e.selection.head):Qe.single(0);return c9(i,r.length),n.staticFacet(NM)||(i=i.asSingle()),new Ir(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ir.tabSize)}get lineBreak(){return this.facet(Ir.lineSeparator)||`
`}get readOnly(){return this.facet(m9)}phrase(e,...n){for(let r of this.facet(Ir.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(u9))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return MNe(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=to(n,o,!1);if(s(n.slice(l,o))!=Mi.Word)break;o=l}for(;a<i;){let l=to(n,a);if(s(n.slice(a,l))!=Mi.Word)break;a=l}return o==a?null:Qe.range(o+r,a+r)}}Ir.allowMultipleSelections=NM;Ir.tabSize=wt.define({combine:t=>t.length?t[0]:4});Ir.lineSeparator=h9;Ir.readOnly=m9;Ir.phrases=wt.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Ir.languageData=u9;Ir.changeFilter=d9;Ir.transactionFilter=f9;Ir.transactionExtender=p9;kw.reconfigure=jn.define();function vu(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Df{eq(e){return this==e}range(e,n=e){return OM.create(e,n,this)}}Df.prototype.startSide=Df.prototype.endSide=0;Df.prototype.point=!1;Df.prototype.mapMode=Aa.TrackDel;function d2(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let OM=class T9{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new T9(e,n,r)}};function wM(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class f2{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],A=this.from[l]+e,u=this.to[l]+e,h,p;if(A==u){let E=n.mapPos(A,c.startSide,c.mapMode);if(E==null||(h=p=E,c.startSide!=c.endSide&&(p=n.mapPos(A,c.endSide),p<h)))continue}else if(h=n.mapPos(A,c.startSide),p=n.mapPos(u,c.endSide),h>p||h==p&&c.startSide>0&&c.endSide<=0)continue;(p-h||c.endSide-c.startSide)<0||(o<0&&(o=h),c.point&&(a=Math.max(a,p-h)),r.push(c),i.push(h-o),s.push(p-o))}return{mapped:r.length?new f2(i,s,r,a):null,pos:o}}}class dr{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new dr(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(wM)),this.isEmpty)return n.length?dr.of(n):this;let a=new S9(this,null,-1).goto(0),l=0,c=[],A=new Kh;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let u=n[l++];A.addInner(u.from,u.to,u.value)||c.push(u)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&A.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(A.addInner(a.from,a.to,a.value)||c.push(OM.create(a.from,a.to,a.value))),a.next());return A.finishInner(this.nextLayer.isEmpty&&!c.length?dr.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:A,pos:u}=l.map(a,e);A&&(i=Math.max(i,A.maxPoint),n.push(A),r.push(u))}}let s=this.nextLayer.map(e);return n.length==0?s:new dr(r,n,s||dr.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Bx.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Bx.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),a=n.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),l=i$(o,a,r),c=new w0(o,l,s),A=new w0(a,l,s);r.iterGaps((u,h,p)=>s$(c,u,A,h,p,i)),r.empty&&r.length==0&&s$(c,0,A,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(A=>!A.isEmpty&&n.indexOf(A)<0),o=n.filter(A=>!A.isEmpty&&e.indexOf(A)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=i$(s,o),l=new w0(s,a,0).goto(r),c=new w0(o,a,0).goto(r);for(;;){if(l.to!=c.to||!LM(l.active,c.active)||l.point&&(!c.point||!d2(l.point,c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,s=-1){let o=new w0(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let A=o.activeForPoint(o.to),u=o.pointFrom<n?A.length+1:o.point.startSide<0?A.length:Math.min(A.length,l);i.point(a,c,o.point,A,u,o.pointRank),l=Math.min(o.openEnd(c),A.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new Kh;for(let i of e instanceof OM?[e]:n?PNe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return dr.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=dr.empty;i=i.nextLayer)n=new dr(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}dr.empty=new dr([],[],null,-1);function PNe(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(wM(e,r)>0)return t.slice().sort(wM);e=r}return t}dr.empty.nextLayer=dr.empty;class Kh{finishChunk(e){this.chunks.push(new f2(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Kh)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(dr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=dr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function i$(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class S9{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Bx{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new S9(o,n,r,s));return i.length==1?i[0]:new Bx(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)f1(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)f1(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),f1(this.heap,0)}}}function f1(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class w0{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Bx.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){w_(this.active,e),w_(this.activeTo,e),w_(this.activeRank,e),this.minActive=o$(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;L_(this.active,n,r),L_(this.activeTo,n,i),L_(this.activeRank,n,s),e&&L_(e,n,this.cursor.from),this.minActive=o$(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&w_(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function s$(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e,c=!!s.boundChange;for(let A=!1;;){let u=t.to+l-n.to,h=u||t.endSide-n.endSide,p=h<0?t.to+l:n.to,E=Math.min(p,o);if(t.point||n.point?(t.point&&n.point&&d2(t.point,n.point)&&LM(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,E,t.point,n.point),A=!1):(A&&s.boundChange(a),E>a&&!LM(t.active,n.active)&&s.compareRange(a,E,t.active,n.active),c&&E<o&&(u||t.openEnd(p)!=n.openEnd(p))&&(A=!0)),p>o)break;a=p,h<=0&&t.next(),h>=0&&n.next()}}function LM(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!d2(t[n],e[n]))return!1;return!0}function w_(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function L_(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function o$(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function QS(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=to(t,i));return r}function BM(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=to(t,i)}return r===!0?-1:t.length}const DM="",a$=typeof Symbol>"u"?"__"+DM:Symbol.for(DM),kM=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),l$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class kf{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let A=[],u=/^@(\w+)\b/.exec(o[0]),h=u&&u[1]=="keyframes";if(u&&a==null)return l.push(o[0]+";");for(let p in a){let E=a[p];if(/&/.test(p))s(p.split(/,\s*/).map(T=>o.map(y=>T.replace(/&/,y))).reduce((T,y)=>T.concat(y)),E,l);else if(E&&typeof E=="object"){if(!u)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(i(p),E,A,h)}else E!=null&&A.push(p.replace(/_.*/,"").replace(/[A-Z]/g,T=>"-"+T.toLowerCase())+": "+E+";")}(A.length||h)&&l.push((r&&!u&&!c?o.map(r):o).join(", ")+" {"+A.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=l$[a$]||1;return l$[a$]=e+1,DM+e.toString(36)}static mount(e,n,r){let i=e[kM],s=r&&r.nonce;i?s&&i.setNonce(s):i=new UNe(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let c$=new Map;class UNe{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=c$.get(r);if(s)return e[kM]=s;this.sheet=new i.CSSStyleSheet,c$.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[kM]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Mf={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Dx={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},FNe=typeof navigator<"u"&&/Mac/.test(navigator.platform),HNe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var So=0;So<10;So++)Mf[48+So]=Mf[96+So]=String(So);for(var So=1;So<=24;So++)Mf[So+111]="F"+So;for(var So=65;So<=90;So++)Mf[So]=String.fromCharCode(So+32),Dx[So]=String.fromCharCode(So);for(var p1 in Mf)Dx.hasOwnProperty(p1)||(Dx[p1]=Mf[p1]);function GNe(t){var e=FNe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||HNe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Dx:Mf)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function si(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)y9(t,arguments[e]);return t}function y9(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)y9(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let aa=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},MM=typeof document<"u"?document:{documentElement:{style:{}}};const PM=/Edge\/(\d+)/.exec(aa.userAgent),C9=/MSIE \d/.test(aa.userAgent),UM=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(aa.userAgent),Mw=!!(C9||UM||PM),A$=!Mw&&/gecko\/(\d+)/i.test(aa.userAgent),m1=!Mw&&/Chrome\/(\d+)/.exec(aa.userAgent),QNe="webkitFontSmoothing"in MM.documentElement.style,FM=!Mw&&/Apple Computer/.test(aa.vendor),u$=FM&&(/Mobile\/\w+/.test(aa.userAgent)||aa.maxTouchPoints>2);var Ot={mac:u$||/Mac/.test(aa.platform),windows:/Win/.test(aa.platform),linux:/Linux|X11/.test(aa.platform),ie:Mw,ie_version:C9?MM.documentMode||6:UM?+UM[1]:PM?+PM[1]:0,gecko:A$,gecko_version:A$?+(/Firefox\/(\d+)/.exec(aa.userAgent)||[0,0])[1]:0,chrome:!!m1,chrome_version:m1?+m1[1]:0,ios:u$,android:/Android\b/.test(aa.userAgent),webkit_version:QNe?+(/\bAppleWebKit\/(\d+)/.exec(aa.userAgent)||[0,0])[1]:0,safari:FM,safari_version:FM?+(/\bVersion\/(\d+(\.\d+)?)/.exec(aa.userAgent)||[0,0])[1]:0,tabSize:MM.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function p2(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const $v=Object.create(null);function m2(t,e,n){if(t==e)return!0;t||(t=$v),e||(e=$v);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function VNe(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function h$(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function $Ne(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Ou{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var xo=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(xo||(xo={}));class un extends Df{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new CR(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Km(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=x9(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new Km(e,r,i,n,e.widget||null,!0)}static line(e){return new xR(e)}static set(e,n=!1){return dr.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}un.none=dr.empty;class CR extends un{constructor(e){let{start:n,end:r}=x9(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?p2(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||$v}eq(e){return this==e||e instanceof CR&&this.tagName==e.tagName&&m2(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}CR.prototype.point=!1;class xR extends un{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof xR&&this.spec.class==e.spec.class&&m2(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}xR.prototype.mapMode=Aa.TrackBefore;xR.prototype.point=!0;class Km extends un{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?Aa.TrackBefore:Aa.TrackAfter:Aa.TrackDel}get type(){return this.startSide!=this.endSide?xo.WidgetRange:this.startSide<=0?xo.WidgetBefore:xo.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Km&&WNe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Km.prototype.point=!0;function x9(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function WNe(t,e){return t==e||!!(t&&e&&t.compare(e))}function QT(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class kx extends Df{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof kx&&this.tagName==e.tagName&&m2(this.attributes,e.attributes)}static create(e){return new kx(e.tagName,e.attributes||$v)}static set(e,n=!1){return dr.of(e,n)}}kx.prototype.startSide=kx.prototype.endSide=-1;function Mx(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function HM(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function zC(t,e){if(!e.anchorNode)return!1;try{return HM(t,e.anchorNode)}catch{return!1}}function qC(t){return t.nodeType==3?Ux(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function XC(t,e,n,r){return n?d$(t,e,n,r,-1)||d$(t,e,n,r,1):!1}function Pf(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Wv(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function d$(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:zh(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Pf(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?zh(t):0}else return!1}}function zh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Px(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function YNe(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function R9(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function jNe(t,e,n,r,i,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let A=t,u=!1;A&&!u;)if(A.nodeType==1){let h,p=A==l.body,E=1,T=1;if(p)h=YNe(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(A).position)&&(u=!0),A.scrollHeight<=A.clientHeight&&A.scrollWidth<=A.clientWidth){A=A.assignedSlot||A.parentNode;continue}let I=A.getBoundingClientRect();({scaleX:E,scaleY:T}=R9(A,I)),h={left:I.left,right:I.left+A.clientWidth*E,top:I.top,bottom:I.top+A.clientHeight*T}}let y=0,R=0;if(i=="nearest")e.top<h.top?(R=e.top-(h.top+o),n>0&&e.bottom>h.bottom+R&&(R=e.bottom-h.bottom+o)):e.bottom>h.bottom&&(R=e.bottom-h.bottom+o,n<0&&e.top-R<h.top&&(R=e.top-(h.top+o)));else{let I=e.bottom-e.top,b=h.bottom-h.top;R=(i=="center"&&I<=b?e.top+I/2-b/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-b+o)-h.top}if(r=="nearest"?e.left<h.left?(y=e.left-(h.left+s),n>0&&e.right>h.right+y&&(y=e.right-h.right+s)):e.right>h.right&&(y=e.right-h.right+s,n<0&&e.left<h.left+y&&(y=e.left-(h.left+s))):y=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==a?e.left-s:e.right-(h.right-h.left)+s)-h.left,y||R)if(p)c.scrollBy(y,R);else{let I=0,b=0;if(R){let B=A.scrollTop;A.scrollTop+=R/T,b=(A.scrollTop-B)*T}if(y){let B=A.scrollLeft;A.scrollLeft+=y/E,I=(A.scrollLeft-B)*E}e={left:e.left-I,top:e.top-b,right:e.right-I,bottom:e.bottom-b},I&&Math.abs(I-y)<1&&(r="nearest"),b&&Math.abs(b-R)<1&&(i="nearest")}if(p)break;(e.top<h.top||e.bottom>h.bottom||e.left<h.left||e.right>h.right)&&(e={left:Math.max(e.left,h.left),right:Math.min(e.right,h.right),top:Math.max(e.top,h.top),bottom:Math.min(e.bottom,h.bottom)}),A=A.assignedSlot||A.parentNode}else if(A.nodeType==11)A=A.host;else break}function KNe(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class zNe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?zh(n):0),r,Math.min(e.focusOffset,r?zh(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let um=null;Ot.safari&&Ot.safari_version>=26&&(um=!1);function I9(t){if(t.setActive)return t.setActive();if(um)return t.focus(um);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(um==null?{get preventScroll(){return um={preventScroll:!0},!0}}:void 0),!um){um=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let f$;function Ux(t,e,n=e){let r=f$||(f$=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function VT(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function qNe(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function XNe(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,zh(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=zh(n))}else{if(n==t)return!0;r=Pf(n),n=n.parentNode}}function _9(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function N9(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=zh(n)}else if(n.parentNode&&!Wv(n))r=Pf(n),n=n.parentNode;else return null}}function b9(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Wv(n))r=Pf(n)+1,n=n.parentNode;else return null}}class nA{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new nA(e.parentNode,Pf(e),n)}static after(e,n){return new nA(e.parentNode,Pf(e)+1,n)}}var pi=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(pi||(pi={}));const zm=pi.LTR,g2=pi.RTL;function v9(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const JNe=v9("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ZNe=v9("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),GM=Object.create(null),WA=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);GM[e]=n,GM[n]=-e}function O9(t){return t<=247?JNe[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?ZNe[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const ebe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class mu{get dir(){return this.level%2?g2:zm}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function w9(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!w9(r.inner,i.inner))return!1}return!0}const di=[];function tbe(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let c=o,A=l,u=l;c<a;c++){let h=O9(t.charCodeAt(c));h==512?h=A:h==8&&u==4&&(h=16),di[c]=h==4?2:h,h&7&&(u=h),A=h}for(let c=o,A=l,u=l;c<a;c++){let h=di[c];if(h==128)c<a-1&&A==di[c+1]&&A&24?h=di[c]=A:di[c]=256;else if(h==64){let p=c+1;for(;p<a&&di[p]==64;)p++;let E=c&&A==8||p<n&&di[p]==8?u==1?1:8:256;for(let T=c;T<p;T++)di[T]=E;c=p-1}else h==8&&u==1&&(di[c]=1);A=h,h&7&&(u=h)}}}function nbe(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,A=o<r.length?r[o].from:n;for(let u=c,h,p,E;u<A;u++)if(p=GM[h=t.charCodeAt(u)])if(p<0){for(let T=a-3;T>=0;T-=3)if(WA[T+1]==-p){let y=WA[T+2],R=y&2?i:y&4?y&1?s:i:0;R&&(di[u]=di[WA[T]]=R),a=T;break}}else{if(WA.length==189)break;WA[a++]=u,WA[a++]=h,WA[a++]=l}else if((E=di[u])==2||E==1){let T=E==i;l=T?0:1;for(let y=a-3;y>=0;y-=3){let R=WA[y+2];if(R&2)break;if(T)WA[y+2]|=2;else{if(R&4)break;WA[y+2]|=4}}}}}function rbe(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let c=di[l];if(c==256){let A=l+1;for(;;)if(A==a){if(i==n.length)break;A=n[i++].to,a=i<n.length?n[i].from:e}else if(di[A]==256)A++;else break;let u=s==1,h=(A<e?di[A]:r)==1,p=u==h?u?1:2:r;for(let E=A,T=i,y=T?n[T-1].to:t;E>l;)E==y&&(E=n[--T].from,y=T?n[T-1].to:t),di[--E]=p;l=A}else s=c,l++}}}function QM(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let A=!0,u=!1;if(c==s.length||l<s[c].from){let T=di[l];T!=a&&(A=!1,u=T==16)}let h=!A&&a==1?[]:null,p=A?r:r+1,E=l;e:for(;;)if(c<s.length&&E==s[c].from){if(u)break e;let T=s[c];if(!A)for(let y=T.to,R=c+1;;){if(y==n)break e;if(R<s.length&&s[R].from==y)y=s[R++].to;else{if(di[y]==a)break e;break}}if(c++,h)h.push(T);else{T.from>l&&o.push(new mu(l,T.from,p));let y=T.direction==zm!=!(p%2);VM(t,y?r+1:r,i,T.inner,T.from,T.to,o),l=T.to}E=T.to}else{if(E==n||(A?di[E]!=a:di[E]==a))break;E++}h?QM(t,l,E,r+1,i,h,o):l<E&&o.push(new mu(l,E,p)),l=E}else for(let l=n,c=s.length;l>e;){let A=!0,u=!1;if(!c||l>s[c-1].to){let T=di[l-1];T!=a&&(A=!1,u=T==16)}let h=!A&&a==1?[]:null,p=A?r:r+1,E=l;e:for(;;)if(c&&E==s[c-1].to){if(u)break e;let T=s[--c];if(!A)for(let y=T.from,R=c;;){if(y==e)break e;if(R&&s[R-1].to==y)y=s[--R].from;else{if(di[y-1]==a)break e;break}}if(h)h.push(T);else{T.to<l&&o.push(new mu(T.to,l,p));let y=T.direction==zm!=!(p%2);VM(t,y?r+1:r,i,T.inner,T.from,T.to,o),l=T.from}E=T.from}else{if(E==e||(A?di[E-1]!=a:di[E-1]==a))break;E--}h?QM(t,E,l,r+1,i,h,o):E<l&&o.push(new mu(E,l,p)),l=E}}function VM(t,e,n,r,i,s,o){let a=e%2?2:1;tbe(t,i,s,r,a),nbe(t,i,s,r,a),rbe(i,s,r,a),QM(t,i,s,e,n,r,o)}function ibe(t,e,n){if(!t)return[new mu(0,0,e==g2?1:0)];if(e==zm&&!n.length&&!ebe.test(t))return L9(t.length);if(n.length)for(;t.length>di.length;)di[di.length]=256;let r=[],i=e==zm?0:1;return VM(t,i,i,n,0,t.length,r),r}function L9(t){return[new mu(0,t,0)]}let B9="";function sbe(t,e,n,r,i){var s;let o=r.head-t.from,a=mu.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,n);if(o==c){let h=a+=i?1:-1;if(h<0||h>=e.length)return null;l=e[a=h],o=l.side(!i,n),c=l.side(i,n)}let A=to(t.text,o,l.forward(i,n));(A<l.from||A>l.to)&&(A=c),B9=t.text.slice(Math.min(o,A),Math.max(o,A));let u=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return u&&A==c&&u.level+(i?0:1)<l.level?Qe.cursor(u.side(!i,n)+t.from,u.forward(i,n)?1:-1,u.level):Qe.cursor(A+t.from,l.forward(i,n)?-1:1,l.level)}function obe(t,e,n){for(let r=e;r<n;r++){let i=O9(t.charCodeAt(r));if(i==1)return zm;if(i==2||i==4)return g2}return zm}const D9=wt.define(),k9=wt.define(),M9=wt.define(),P9=wt.define(),$M=wt.define(),U9=wt.define(),F9=wt.define(),E2=wt.define(),T2=wt.define(),H9=wt.define({combine:t=>t.some(e=>e)}),G9=wt.define({combine:t=>t.some(e=>e)}),Q9=wt.define();class $T{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new $T(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new $T(Qe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const B_=jn.define({map:(t,e)=>t.map(e)}),V9=jn.define();function Xa(t,e,n){let r=t.facet(P9);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const Ph=wt.define({combine:t=>t.length?t[0]:!0});let abe=0;const RT=wt.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class fs{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(RT.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(RT.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new fs(abe++,e,r,i,a=>{let l=[];return o&&l.push(Pw.of(c=>{let A=c.plugin(a);return A?o(A):un.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return fs.define((r,i)=>new e(r,i),n)}}class g1{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Xa(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Xa(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Xa(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $9=wt.define(),S2=wt.define(),Pw=wt.define(),W9=wt.define(),y2=wt.define(),RR=wt.define(),Y9=wt.define();function p$(t,e){let n=t.state.facet(Y9);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return dr.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,A=o-e.from,u=i;for(let h=a.length-1;h>=0;h--,l--){let p=a[h].spec.bidiIsolate,E;if(p==null&&(p=obe(e.text,c,A)),l>0&&u.length&&(E=u[u.length-1]).to==c&&E.direction==p)E.to=A,u=E.inner;else{let T={from:c,to:A,direction:p,inner:[]};u.push(T),u=T.inner}}}}),i}const j9=wt.define();function C2(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(j9)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const TC=wt.define();class uc{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new uc(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0;;){let a=i<e.length?e[i].fromB:1e9,l=s<n.length?n[s]:1e9,c=Math.min(a,l);if(c==1e9)break;let A=c+o,u=c,h=A;for(;;)if(s<n.length&&n[s]<=u){let p=n[s+1];s+=2,u=Math.max(u,p);for(let E=i;E<e.length&&e[E].fromB<=u;E++)o=e[E].toA-e[E].toB;h=Math.max(h,p+o)}else if(i<e.length&&e[i].fromB<=u){let p=e[i++];u=Math.max(u,p.toB),h=Math.max(h,p.toA),o=p.toA-p.toB}else break;r.push(new uc(A,h,c,u))}return r}}class Yv{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Ls.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new uc(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new Yv(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const lbe=[];class Cs{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return lbe}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&VNe(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=Pf(this.dom),i=this.length?e>0:n>0;return new nA(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Fw)return e;return null}static get(e){return e.cmTile}}class Uw extends Cs{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,s=(e==null?void 0:e.node)==n?e:null,o=0;for(let a of this.children){if(a.sync(e),o+=a.length+a.breakAfter,i=r?r.nextSibling:n.firstChild,s&&i!=a.dom&&(s.written=!0),a.dom.parentNode==n)for(;i&&i!=a.dom;)i=m$(i);else n.insertBefore(a.dom,i);r=a.dom}for(i=r?r.nextSibling:n.firstChild,s&&i&&(s.written=!0);i;)i=m$(i);this.length=o}}function m$(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Fw extends Uw{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=Cs.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,s=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&s++,i=n.pop()}else{let o=r.children[i++];if(o instanceof Cf)n.push(i),r=o,i=0;else{let a=s+o.length,l=e(o,s);if(l!==void 0)return l;s=a+o.breakAfter}}}resolveBlock(e,n){let r,i=-1,s,o=-1;if(this.blockTiles((a,l)=>{let c=l+a.length;if(e>=l&&e<=c){if(a.isWidget()&&n>=-1&&n<=1){if(a.flags&32)return!0;a.flags&16&&(r=void 0)}(l<e||e==c&&(n<-1?a.length:a.covers(1)))&&(!r||!a.isWidget()&&r.isWidget())&&(r=a,i=e-l),(c>e||e==l&&(n>1?a.length:a.covers(-1)))&&(!s||!a.isWidget()&&s.isWidget())&&(s=a,o=e-l)}}),!r&&!s)throw new Error("No tile at position "+e);return r&&n<0||!s?{tile:r,offset:i}:{tile:s,offset:o}}}class Cf extends Uw{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new Cf(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class mS extends Uw{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new mS(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,s=-1,o=null,a=-1;function l(A,u){for(let h=0,p=0;h<A.children.length&&p<=u;h++){let E=A.children[h],T=p+E.length;T>=u&&(E.isComposite()?l(E,u-p):(!o||o.isHidden&&(n>0||r&&Abe(o,E)))&&(T>u||E.flags&32)?(o=E,a=u-p):(p<u||E.flags&16&&!E.isHidden)&&(i=E,s=u-p)),p=T}}l(this,e);let c=(n<0?i:o)||i||o;return c?{tile:c,offset:c==i?s:a}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):cbe(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:s}=r;if(this.dom.contains(i.dom))return i.isText()?new nA(i.dom,Math.min(i.dom.nodeValue.length,s)):i.domPosFor(s,i.flags&16?1:i.flags&32?-1:n);let o=r.tile.parent,a=!1;for(let l of o.children){if(a)return new nA(l.dom,0);l==r.tile&&(a=!0)}}return new nA(this.dom,0)}}function cbe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=qC(e);return n[n.length-1]||null}function Abe(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class za extends Uw{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new za(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class Rm extends Cs{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?Ot.chrome||Ot.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=Ux(this.dom,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return Ot.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Px(l,o<0):l||null}static of(e,n){let r=new Rm(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class qm extends Cs{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return Px(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let s=this.dom.getClientRects(),o=null;if(!s.length)return null;let a=this.flags&16?!0:this.flags&32?!1:e>0;for(let l=a?s.length-1:0;o=s[l],!(e>0?l==0:l==s.length-1||o.top<o.bottom);l+=a?-1:1);return Px(o,!a)}}get overrideDOMText(){if(!this.length)return kr.empty;let{root:e}=this;if(!e)return kr.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,s){return s||(s=e.toDOM(n),e.editable||(s.contentEditable="false")),new qm(s,r,e,i)}}class jv extends Cs{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return kr.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class ube{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:s,beforeBreak:o,parents:a}=this;for(;e||n>0;)if(i.isComposite())if(o){if(!e)break;r&&r.break(),e--,o=!1}else if(s==i.children.length){if(!e&&!a.length)break;r&&r.leave(i),o=!!i.breakAfter,{tile:i,index:s}=a.pop(),s++}else{let l=i.children[s],c=l.breakAfter;(n>0?l.length<=e:l.length<e)&&(!r||r.skip(l,0,l.length)!==!1||!l.isComposite)?(o=!!c,s++,e-=l.length):(a.push({tile:i,index:s}),i=l,s=0,r&&l.isComposite()&&r.enter(l))}else if(s==i.length)o=!!i.breakAfter,{tile:i,index:s}=a.pop(),s++;else if(e){let l=Math.min(e,i.length-s);r&&r.skip(i,s,s+l),e-=l,s+=l}else break;return this.tile=i,this.index=s,this.beforeBreak=o,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class hbe{constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class dbe{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var s;this.flushBuffer();let o=this.ensureMarks(n,r),a=o.lastChild;if(a&&a.isText()&&!(a.flags&8)&&a.length+e.length<512){this.cache.reused.set(a,2);let l=o.children[o.children.length-1]=new Rm(a.dom,a.text+e);l.parent=o}else o.append(i||Rm.of(e,(s=this.cache.find(Rm))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?E1(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let a=n.marks.length-1;a>=0;a--){let l=n.marks[a],c=i.lastChild;if(c instanceof za&&c.mark.eq(l.mark))c.dom!=l.dom&&c.setDOM(E1(l.dom)),i=c;else{if(this.cache.reused.get(l)){let u=Cs.get(l.dom);u&&u.setDOM(E1(l.dom))}let A=za.of(l.mark,l.dom);i.append(A),i=A}this.cache.reused.set(l,2)}let s=Cs.get(e.text);s&&this.cache.reused.set(s,2);let o=new Rm(e.text,e.text.nodeValue);o.flags|=8,i.append(o)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let s=this.ensureMarks(n,r);!i&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=K9);let i=mS.start(e,n||((r=this.cache.find(mS))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let s=e.length-1;s>=0;s--){let o=e[s],a;if(n>0&&(a=i.lastChild)&&a instanceof za&&a.mark.eq(o))i=a,n--;else{let l=za.of(o,(r=this.cache.find(za,c=>c.mark.eq(o)))===null||r===void 0?void 0:r.dom);i.append(l),i=l,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!g$(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(Ot.ios&&g$(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(T1,0,32)||new qm(T1.toDOM(),0,T1,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new hbe(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof Cf&&i.wrapper.eq(r.wrapper))n=i;else{let s=Cf.of(r.wrapper,(e=this.cache.find(Cf,o=>o.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(s),n=s}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(jv,void 0,1);return r&&(r.flags=n),r||new jv(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class fbe{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:o}=this.cursor.next(this.skipCount);if(this.skipCount=0,o)throw new Error("Ran out of text content when drawing inline views");this.text=i;let a=this.textOff=Math.min(e,i.length);return s?null:i.slice(0,a)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const Kv=[qm,mS,Rm,za,jv,Cf,Fw];for(let t=0;t<Kv.length;t++)Kv[t].bucket=t;class pbe{constructor(e){this.view=e,this.buckets=Kv.map(()=>[]),this.index=Kv.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,s=this.buckets[i],o=this.index[i];for(let a=s.length-1;a>=0;a--){let l=(a+o)%s.length,c=s[l];if((!n||n(c))&&!this.reused.has(c))return s.splice(l,1),l<o&&this.index[i]--,this.reused.set(c,r),c}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let s=0,o=0;;s++){if(s==i.length){if(o)return null;o=1,s=0}let a=i[s];if(!this.reused.has(a)&&(o==0?a.widget.compare(e):a.widget.constructor==e.constructor&&e.updateDOM(a.dom,this.view)))return i.splice(s,1),s<this.index[0]&&this.index[0]--,a.widget==e&&a.length==n&&(a.flags&497)==r?(this.reused.set(a,1),a):(this.reused.set(a,2),new qm(a.dom,n,e,a.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class mbe{constructor(e,n,r,i,s){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new pbe(e),this.text=new fbe(e.state.doc),this.builder=new dbe(this.cache,new Fw(e,e.contentDOM),dr.iter(r)),this.cache.reused.set(n,2),this.old=new ube(n),this.reuseWalker={skip:(o,a,l)=>{if(this.cache.add(o),o.isComposite())return!1},enter:o=>this.cache.add(o),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,s=0,o=0;;){let a=o<e.length?e[o++]:null,l=a?a.fromA:this.old.root.length;if(l>i){let c=l-i;this.preserve(c,!o,!a),i=l,s+=c}if(!a)break;n&&a.fromA<=n.range.fromA&&a.toA>=n.range.toA?(this.forward(a.fromA,n.range.fromA,n.range.fromA<n.range.toA?1:-1),this.emit(s,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,a.toA),this.emit(n.range.toB,a.toB)):(this.forward(a.fromA,a.toA),this.emit(s,a.toB)),s=a.toB,i=a.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=Tbe(this.old),s=this.openMarks;this.old.advance(e,r?1:-1,{skip:(o,a,l)=>{if(o.isWidget())if(this.openWidget)this.builder.continueWidget(l-a);else{let c=l>0||a<o.length?qm.of(o.widget,this.view,l-a,o.flags&496,this.cache.maybeReuse(o)):this.cache.reuse(o);c.flags&256?(c.flags&=-2,this.builder.addBlockWidget(c)):(this.builder.ensureLine(null),this.builder.addInlineWidget(c,i,s),s=i.length)}else if(o.isText())this.builder.ensureLine(null),!a&&l==o.length?this.builder.addText(o.text,i,s,this.cache.reuse(o)):(this.cache.add(o),this.builder.addText(o.text.slice(a,l),i,s)),s=i.length;else if(o.isLine())o.flags&=-2,this.cache.reused.set(o,1),this.builder.addLine(o);else if(o instanceof jv)this.cache.add(o);else if(o instanceof za)this.builder.ensureLine(null),this.builder.addMark(o,i,s),this.cache.reused.set(o,1),s=i.length;else return!1;this.openWidget=!1},enter:o=>{o.isLine()?this.builder.addLineStart(o.attrs,this.cache.maybeReuse(o)):(this.cache.add(o),o instanceof za&&i.unshift(o.mark)),this.openWidget=!1},leave:o=>{o.isLine()?i.length&&(i.length=s=0):o instanceof za&&(i.shift(),s=Math.min(s,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,s=0,o=dr.spans(this.decorations,e,n,{point:(a,l,c,A,u,h)=>{if(c instanceof Km){if(this.disallowBlockEffectsFor[h]){if(c.block)throw new RangeError("Block decorations may not be specified via plugins");if(l>this.view.state.doc.lineAt(a).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=A.length,u>A.length)i.continueWidget(l-a);else{let p=c.widget||(c.block?gS.block:gS.inline),E=gbe(c),T=this.cache.findWidget(p,l-a,E)||qm.of(p,this.view,l-a,E);c.block?(c.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(T)):(i.ensureLine(r),i.addInlineWidget(T,A,u))}r=null}else r=Ebe(r,c);l>a&&this.text.skip(l-a)},span:(a,l,c,A)=>{for(let u=a;u<l;){let h=this.text.next(Math.min(512,l-u));h==null?(i.addLineStartIfNotCovered(r),i.addBreak(),u++):(i.ensureLine(r),i.addText(h,c,u==a?A:c.length),u+=h.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=o>s,this.openMarks=o}forward(e,n,r=1){n-e<=10?this.old.advance(n-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let s=Cs.get(i);if(i==this.view.contentDOM)break;s instanceof za?n.push(s):s!=null&&s.isLine()?r=s:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new mS(i,K9):n.push(za.of(new CR({tagName:i.nodeName.toLowerCase(),attributes:$Ne(i)}),i))}return{line:r,marks:n}}}function g$(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function gbe(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const K9={class:"cm-line"};function Ebe(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&p2(n,t),r&&(t.class+=" "+r)),t}function Tbe(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof za&&e.push(r.mark)}return e}function E1(t){let e=Cs.get(t);return e&&e.setDOM(t.cloneNode()),t}class gS extends Ou{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}gS.inline=new gS("span");gS.block=new gS("div");const T1=new class extends Ou{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class E${constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=un.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Fw(e,e.contentDOM),this.updateInner([new uc(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:A,toA:u})=>u<this.minWidthFrom||A>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!bbe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?ybe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:A,to:u}=this.hasComposition;r=new uc(A,u,e.changes.mapPos(A,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Ot.ie||Ot.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.blockWrappers;this.updateDeco();let l=Rbe(o,this.decorations,e.changes);l.length&&(r=uc.extendWithRanges(r,l));let c=_be(a,this.blockWrappers,e.changes);return c.length&&(r=uc.extendWithRanges(r,c)),s&&!r.some(A=>A.fromA<=s.range.fromA&&A.toA>=s.range.toA)&&(r=s.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let o=this.tile,a=new mbe(this.view,o,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=a.run(e,n),WM(o,a.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Ot.chrome||Ot.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||r.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof S1&&i.push(s.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(V9)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,s=i==r,o=!s&&!(this.view.state.facet(Ph)||r.tabIndex>-1)&&zC(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(s||n||o))return;let a=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,c,A;if(l.empty?A=c=this.inlineDOMNearPos(l.anchor,l.assoc||1):(A=this.inlineDOMNearPos(l.head,l.head==l.from?1:-1),c=this.inlineDOMNearPos(l.anchor,l.anchor==l.from?1:-1)),Ot.gecko&&l.empty&&!this.hasComposition&&Sbe(c)){let h=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(h,c.node.childNodes[c.offset]||null)),c=A=new nA(h,0),a=!0}let u=this.view.observer.selectionRange;(a||!u.focusNode||(!XC(c.node,c.offset,u.anchorNode,u.anchorOffset)||!XC(A.node,A.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,l))&&(this.view.observer.ignore(()=>{Ot.android&&Ot.chrome&&r.contains(u.focusNode)&&Nbe(u.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let h=Mx(this.view.root);if(h)if(l.empty){if(Ot.gecko){let p=Cbe(c.node,c.offset);if(p&&p!=3){let E=(p==1?N9:b9)(c.node,c.offset);E&&(c=new nA(E.node,E.offset))}}h.collapse(c.node,c.offset),l.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=l.bidiLevel)}else if(h.extend){h.collapse(c.node,c.offset);try{h.extend(A.node,A.offset)}catch{}}else{let p=document.createRange();l.anchor>l.head&&([c,A]=[A,c]),p.setEnd(A.node,A.offset),p.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(p)}o&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(c,A)),this.impreciseAnchor=c.precise?null:new nA(u.anchorNode,u.anchorOffset),this.impreciseHead=A.precise?null:new nA(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&XC(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Mx(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=this.lineAt(n.head,n.assoc);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let A=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(A.node,A.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=n.from&&r.collapse(i,s)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let s;if(e==r.dom)s=r.dom.childNodes[n];else{let o=zh(e)==0?0:n==0?-1:1;for(;;){let a=e.parentNode;if(a==r.dom)break;o==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?o=-1:o=1),e=a}o<0?s=e:s=e.nextSibling}if(s==r.dom.firstChild)return i;for(;s&&!Cs.get(s);)s=s.nextSibling;if(!s)return i+r.length;for(let o=0,a=i;;o++){let l=r.children[o];if(l.dom==s)return a;a+=l.length+l.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,s=!1,o,a=-1,l=!1;return this.tile.blockTiles((c,A)=>{if(c.isWidget()){if(c.flags&32&&A>=e)return!0;c.flags&16&&(s=!0)}else{let u=A+c.length;if(A<=e&&(r=c,i=e-A,s=u<e),u>=e&&!o&&(o=c,a=e-A,l=A>e),A>e&&o)return!0}}),!r&&!o?this.domAtPos(e,n):(s&&o?r=null:l&&r&&(o=null),r&&n<0||!o?r.domIn(i,n):o.domIn(a,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof S1?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(s,o){if(s.isComposite())for(let a of s.children){if(a.length>=o){let l=i(a,o);if(l)return l}if(o-=a.length,o<0)break}else if(s.isText()&&o<s.length){let a=to(s.text,o);if(a==o)return null;let l=Ux(s.dom,o,a).getClientRects();for(let c=0;c<l.length;c++){let A=l[c];if(c==l.length-1||A.top<A.bottom&&A.left<A.right)return A}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==pi.LTR,c=0,A=(u,h,p)=>{for(let E=0;E<u.children.length&&!(h>i);E++){let T=u.children[E],y=h+T.length,R=T.dom.getBoundingClientRect(),{height:I}=R;if(p&&!E&&(c+=R.top-p.top),T instanceof Cf)y>r&&A(T,h,R);else if(h>=r&&(c>0&&n.push(-c),n.push(I+c),c=0,o)){let b=T.dom.lastChild,B=b?qC(b):[];if(B.length){let w=B[B.length-1],O=l?w.right-R.left:R.right-w.left;O>a&&(a=O,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=y)}}p&&E==u.children.length-1&&(c+=p.bottom-R.bottom),h=y+T.breakAfter}};return A(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?pi.RTL:pi.LTR}measureTextSize(){let e=this.tile.blockTiles(o=>{if(o.isLine()&&o.children.length&&o.length<=20){let a=0,l;for(let c of o.children){if(!c.isText()||/[^ -~]/.test(c.text))return;let A=qC(c.dom);if(A.length!=1)return;a+=A[0].width,l=A[0].height}if(a)return{lineHeight:o.dom.getBoundingClientRect().height,charWidth:a/o.length,textHeight:l}}});if(e)return e;let n=document.createElement("div"),r,i,s;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let o=qC(n.firstChild)[0];r=n.getBoundingClientRect().height,i=o&&o.width?o.width/27:7,s=o&&o.height?o.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:s}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.view.state.doc.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(un.replace({widget:new S1(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return un.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Pw).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(y2).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(dr.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(W9).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(Q9))try{if(c(this.view,e.range,e))return!0}catch(A){Xa(this.view.state,A,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=C2(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;jNe(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==pi.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){WM(this.tile)}}function WM(t,e){let n=e==null?void 0:e.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)WM(r,e)}}function Sbe(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function z9(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=N9(n.focusNode,n.focusOffset),i=b9(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=Cs.get(i.node);if(!a||a.isText()&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=Cs.get(r.node);!l||l.isText()&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function ybe(t,e,n){let r=z9(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc;return{range:new uc(l.mapPos(s),l.mapPos(o),s,o),text:i}}function Cbe(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let xbe=class{constructor(){this.changes=[]}compareRange(e,n){QT(e,n,this.changes)}comparePoint(e,n){QT(e,n,this.changes)}boundChange(e){QT(e,e,this.changes)}};function Rbe(t,e,n){let r=new xbe;return dr.compare(t,e,n,r),r.changes}class Ibe{constructor(){this.changes=[]}compareRange(e,n){QT(e,n,this.changes)}comparePoint(){}boundChange(e){QT(e,e,this.changes)}}function _be(t,e,n){let r=new Ibe;return dr.compare(t,e,n,r),r.changes}function Nbe(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function bbe(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class S1 extends Ou{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function vbe(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return Qe.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=to(i.text,s,!1):a=to(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=to(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=to(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return Qe.range(o+i.from,a+i.from)}function Obe(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+BM(o,s,t.state.tabSize)}function YM(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==xo.Text&&(i.type!=s.type||(n<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function wbe(t,e,n,r){let i=YM(t,e.head,e.assoc||-1),s=!r||i.type!=xo.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==pi.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Qe.cursor(l,n?-1:1)}return Qe.cursor(n?i.to:i.from,n?-1:1)}function T$(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=sbe(i,s,o,a,n),A=B9;if(!c){if(i.number==(n?t.state.doc.lines:1))return a;A=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(A))return a}else{if(!r)return c;l=r(A)}a=c}}function Lbe(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==Mi.Space&&(i=o),i==o}}function Bbe(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Qe.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,(e.empty?e.assoc:0)||(n?1:-1)),A=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let E=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-E.from))),a=(s<0?E.top:E.bottom)+A}let u=l.left+o,h=r??t.viewState.heightOracle.textHeight>>1,p=jM(t,{x:u,y:a+h*s},!1,s);return Qe.cursor(p.pos,p.assoc,void 0,o)}function JC(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function q9(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=JC(t,i.from,0);o!=i.from&&(s=Qe.cursor(o,-1))}else{let o=JC(t,i.from,-1),a=JC(t,i.to,1);(o!=i.from||a!=i.to)&&(s=Qe.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?Qe.create(n,e.mainIndex):e}function y1(t,e,n){let r=JC(t.state.facet(RR).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Qe.cursor(r,r<n.from?1:-1)}class du{constructor(e,n){this.pos=e,this.assoc=n}}function jM(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),s=i.top+t.viewState.paddingTop,{x:o,y:a}=e,l=a-s,c;for(;;){if(l<0)return new du(0,1);if(l>t.viewState.docHeight)return new du(t.state.doc.length,-1);if(c=t.elementAtHeight(l),r==null)break;if(c.type==xo.Text){if(r<0?c.to<t.viewport.from:c.from>t.viewport.to)break;let h=t.docView.coordsAt(r<0?c.from:c.to,r>0?-1:1);if(h&&(r<0?h.top<=l+s:h.bottom>=l+s))break}let u=t.viewState.heightOracle.textHeight/2;l=r>0?c.bottom+u:c.top-u}if(t.viewport.from>=c.to||t.viewport.to<=c.from){if(n)return null;if(c.type==xo.Text){let u=Obe(t,i,c,o,a);return new du(u,u==c.from?1:-1)}}if(c.type!=xo.Text)return l<(c.top+c.bottom)/2?new du(c.from,1):new du(c.to,-1);let A=t.docView.lineAt(c.from,2);return(!A||A.length!=c.length)&&(A=t.docView.lineAt(c.from,-2)),new Dbe(t,o,a,t.textDirectionAt(c.from)).scanTile(A,c.from)}class Dbe{constructor(e,n,r,i){this.view=e,this.x=n,this.y=r,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[mu.find(i,e-r.from,-1,n)].level==this.baseDir}dirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[mu.find(i,e-r.from,-1,n)].dir}bidiIn(e,n){let{spans:r,line:i}=this.bidiSpansAt(e);return r.length>1||r.length&&(r[0].level!=this.baseDir||r[0].to+i.from<n)}scan(e,n){let r=0,i=e.length-1,s=new Set,o=this.bidiIn(e[0],e[i]),a,l,c=-1,A=1e9,u;e:for(;r<i;){let p=i-r,E=r+i>>1;t:if(s.has(E)){let y=r+Math.floor(Math.random()*p);for(let R=0;R<p;R++){if(!s.has(y)){E=y;break t}y++,y==i&&(y=r)}break e}s.add(E);let T=n(E);if(T)for(let y=0;y<T.length;y++){let R=T[y],I=0;if(R.bottom<this.y)(!a||a.bottom<R.bottom)&&(a=R),I=1;else if(R.top>this.y)(!l||l.top>R.top)&&(l=R),I=-1;else{let b=R.left>this.x?this.x-R.left:R.right<this.x?this.x-R.right:0,B=Math.abs(b);B<A&&(c=E,A=B,u=R),b&&(I=b<0==(this.baseDir==pi.LTR)?-1:1)}I==-1&&(!o||this.baseDirAt(e[E],1))?i=E:I==1&&(!o||this.baseDirAt(e[E+1],-1))&&(r=E+1)}}if(!u){let p=a&&(!l||this.y-a.bottom<l.top-this.y)?a:l;return this.y=(p.top+p.bottom)/2,this.scan(e,n)}let h=(o?this.dirAt(e[c],1):this.baseDir)==pi.LTR;return{i:c,after:this.x>(u.left+u.right)/2==h}}scanText(e,n){let r=[];for(let s=0;s<e.length;s=to(e.text,s))r.push(n+s);r.push(n+e.length);let i=this.scan(r,s=>{let o=r[s]-n,a=r[s+1]-n;return Ux(e.dom,o,a).getClientRects()});return i.after?new du(r[i.i+1],-1):new du(r[i.i],1)}scanTile(e,n){if(!e.length)return new du(n,1);if(e.children.length==1){let a=e.children[0];if(a.isText())return this.scanText(a,n);if(a.isComposite())return this.scanTile(a,n)}let r=[n];for(let a=0,l=n;a<e.children.length;a++)r.push(l+=e.children[a].length);let i=this.scan(r,a=>{let l=e.children[a];return l.flags&48?null:(l.dom.nodeType==1?l.dom:Ux(l.dom,0,l.length)).getClientRects()}),s=e.children[i.i],o=r[i.i];return s.isText()?this.scanText(s,o):s.isComposite()?this.scanTile(s,o):i.after?new du(r[i.i+1],-1):new du(o,1)}}const SC="";class kbe{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(Ir.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=SC}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=Cs.get(i),a=i.nextSibling;if(a==n){o!=null&&o.breakAfter&&!a&&r!=this.view.contentDOM&&this.lineBreak();break}let l=Cs.get(a);(o&&l?o.breakAfter:(o?o.breakAfter:Wv(i))||Wv(a)&&(i.nodeName!="BR"||o!=null&&o.isWidget())&&this.text.length>s)&&!Pbe(a,n)&&this.lineBreak(),i=a}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){let n=Cs.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Mbe(e,r.node,r.offset)?n:0))}}function Mbe(t,e,n){for(;;){if(!e||n<zh(e))return!1;if(e==t)return!0;n=Pf(e)+1,e=e.parentNode}}function Pbe(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=Cs.get(t);if(!(r!=null&&r.isWidget()))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i!=null&&i.length)return!1}return!0}class S${constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Ube{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=X9(e.docView.tile,n,r,0))){let a=s||o?[]:Hbe(e),l=new kbe(a,e);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Gbe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!HM(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!HM(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),A=e.viewport;if((Ot.ios||Ot.chrome)&&e.state.selection.main.empty&&l!=c&&(A.from>0||A.to<e.state.doc.length)){let u=Math.min(l,c),h=Math.max(l,c),p=A.from-u,E=A.to-h;(p==0||p==1||u==0)&&(E==0||E==-1||h==e.state.doc.length)&&(l=0,c=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(Qe.range(c,l)):this.newSel=Qe.single(c,l)}}}function X9(t,e,n,r){if(t.isComposite()){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,A=r;l<t.children.length;l++){let u=t.children[l],h=c+u.length;if(c<e&&h>n)return X9(u,e,n,c);if(h>=e&&i==-1&&(i=l,s=c),c>n&&u.dom.parentNode==t.dom){o=l,a=A;break}A=h,c=h+u.breakAfter}return{from:s,to:a<0?r+t.length:a,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:o<t.children.length&&o>=0?t.children[o].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function J9(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||Ot.android&&e.text.length<a-o)&&(l=i.to,c="end");let A=Z9(t.state.doc.sliceString(o,a,SC),e.text,l-o,c);A&&(Ot.chrome&&s==13&&A.toB==A.from+2&&e.text.slice(A.from,A.toB)==SC+SC&&A.toB--,n={from:o+A.from,to:o+A.toA,insert:kr.of(e.text.slice(A.from,A.toB).split(SC))})}else r&&(!t.hasFocus&&t.state.facet(Ph)||zv(r,i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(Ot.mac||Ot.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Qe.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:kr.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:Ot.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Qe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:kr.of([" "])}),n)return x2(t,n,r,s);if(r&&!zv(r,i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin,a=="select.pointer"&&(r=q9(t.state.facet(RR).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function x2(t,e,n,r=-1){if(Ot.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Ot.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&VT(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&VT(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&VT(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=Fbe(t,e,n));return t.state.facet(U9).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function Fbe(t,e,n){let r,i=t.state,s=i.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let l=e.from<s.from?-1:1,c=l<0?s.from:s.to,A=JC(i.facet(RR).map(u=>u(t)),c,l);e.from==A&&(o=A)}if(o>-1)r={changes:e,selection:Qe.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",c=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let l=i.changes(e),c=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let A=t.state.sliceDoc(e.from,e.to),u,h=n&&z9(t,n.main.head);if(h){let E=e.insert.length-(e.to-e.from);u={from:h.from,to:h.to-E}}else u=t.state.doc.lineAt(s.head);let p=s.to-e.to;r=i.changeByRange(E=>{if(E.from==s.from&&E.to==s.to)return{changes:l,range:c||E.map(l)};let T=E.to-p,y=T-A.length;if(t.state.sliceDoc(y,T)!=A||T>=u.from&&y<=u.to)return{range:E};let R=i.changes({from:y,to:T,insert:e.insert}),I=E.to-s.to;return{changes:R,range:c?Qe.range(Math.max(0,c.anchor+I),Math.max(0,c.head+I)):E.map(R)}})}else r={changes:l,selection:c&&i.selection.replaceRange(c)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function Z9(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function Hbe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new S$(n,r)),(i!=n||s!=r)&&e.push(new S$(i,s))),e}function Gbe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Qe.single(n+e,r+e):null}function zv(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class Qbe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ot.safari&&e.contentDOM.addEventListener("input",()=>null),Ot.gecko&&rve(e.contentDOM.ownerDocument)}handleEvent(e){!qbe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Vbe(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&tJ.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ot.android&&Ot.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Ot.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=eJ.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||$be.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,VT(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:Ot.safari&&!Ot.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function y$(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Xa(n.state,i)}}}function Vbe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&n(a).handlers.push(y$(r.value,l))}if(o)for(let a in o){let l=o[a];l&&n(a).observers.push(y$(r.value,l))}}for(let r in hA)n(r).handlers.push(hA[r]);for(let r in xc)n(r).observers.push(xc[r]);return e}const eJ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],$be="dthko",tJ=[16,17,18,20,91,92,224,225],D_=6;function k_(t){return Math.max(0,t)*.7+8}function Wbe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Ybe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=KNe(e.contentDOM),this.atoms=e.state.facet(RR).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Ir.allowMultipleSelections)&&jbe(e,n),this.dragging=zbe(e,n)&&iJ(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Wbe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=C2(this.view);e.clientX-l.left<=i+D_?n=-k_(i-e.clientX):e.clientX+l.right>=o-D_&&(n=k_(e.clientX-o)),e.clientY-l.top<=s+D_?r=-k_(s-e.clientY):e.clientY+l.bottom>=a-D_&&(r=k_(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=q9(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function jbe(t,e){let n=t.state.facet(D9);return n.length?n[0](e):Ot.mac?e.metaKey:e.ctrlKey}function Kbe(t,e){let n=t.state.facet(k9);return n.length?n[0](e):Ot.mac?!e.altKey:!e.ctrlKey}function zbe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Mx(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function qbe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Cs.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const hA=Object.create(null),xc=Object.create(null),nJ=Ot.ie&&Ot.ie_version<15||Ot.ios&&Ot.webkit_version<604;function Xbe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),rJ(t,n.value)},50)}function Hw(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function rJ(t,e){e=Hw(t.state,E2,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(KM!=null&&n.selection.ranges.every(l=>l.empty)&&KM==s.toString()){let l=-1;r=n.changeByRange(c=>{let A=n.doc.lineAt(c.from);if(A.from==l)return{range:c};l=A.from;let u=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:A.from,insert:u},range:Qe.cursor(c.from+u.length)}})}else o?r=n.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Qe.cursor(l.from+c.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}xc.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};hA.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);xc.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};xc.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};hA.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(M9))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=Zbe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Ybe(t,e,n,r)),r&&t.observer.ignore(()=>{I9(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function C$(t,e,n,r){if(r==1)return Qe.cursor(e,n);if(r==2)return vbe(t.state,e,n);{let i=t.docView.lineAt(e,n),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Qe.range(o,a)}}const Jbe=Ot.ie&&Ot.ie_version<=11;let x$=null,R$=0,I$=0;function iJ(t){if(!Jbe)return t.detail;let e=x$,n=I$;return x$=t,I$=Date.now(),R$=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(R$+1)%3:1}function Zbe(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=iJ(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=t.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),c,A=C$(t,l.pos,l.assoc,r);if(n.pos!=l.pos&&!o){let u=C$(t,n.pos,n.assoc,r),h=Math.min(u.from,A.from),p=Math.max(u.to,A.to);A=h<A.from?Qe.range(h,p):Qe.range(p,h)}return o?i.replaceRange(i.main.extend(A.from,A.to)):a&&r==1&&i.ranges.length>1&&(c=eve(i,l.pos))?c:a?i.addRange(A):Qe.create([A])}}}function eve(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Qe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}hA.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=Qe.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Hw(t.state,T2,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};hA.dragend=t=>(t.inputState.draggedContent=null,!1);function _$(t,e,n,r){if(n=Hw(t.state,E2,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&Kbe(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}hA.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&_$(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return _$(t,e,r,!0),!0}return!1};hA.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=nJ?null:e.clipboardData;return n?(rJ(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(Xbe(t),!1)};function tve(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function nve(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:Hw(t,T2,e.join(t.lineBreak)),ranges:n,linewise:r}}let KM=null;hA.copy=hA.cut=(t,e)=>{if(!zC(t.contentDOM,t.observer.selectionRange))return!1;let{text:n,ranges:r,linewise:i}=nve(t.state);if(!n&&!i)return!1;KM=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=nJ?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(tve(t,n),!1)};const sJ=bu.define();function oJ(t,e){let n=[];for(let r of t.facet(F9)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:sJ.of(!0)}):null}function aJ(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=oJ(t.state,e);n?t.dispatch(n):t.update([])}},10)}xc.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),aJ(t)};xc.blur=t=>{t.observer.clearSelectionRange(),aJ(t)};xc.compositionstart=xc.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};xc.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ot.chrome&&Ot.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};xc.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};hA.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return x2(t,{from:l,to:c,insert:t.state.toText(s)},null),!0}}let i;if(Ot.chrome&&Ot.android&&(i=eJ.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Ot.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Ot.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>xc.compositionend(t,e),20),!1};const N$=new Set;function rve(t){N$.has(t)||(N$.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const b$=["pre-wrap","normal","pre-line","break-spaces"];let ES=!1;function v$(){ES=!1}class ive{constructor(e){this.lineWrapping=e,this.doc=kr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return b$.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=b$.indexOf(e)>-1,l=Math.abs(n-this.lineHeight)>.3||this.lineWrapping!=a||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let A=o[c];A<0?c++:this.heightSamples[Math.floor(A*10)]=!0}}return l}}class sve{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Zc{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?xo.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Km?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Zc(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var xi=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(xi||(xi={}));const mb=.001;class pa{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>mb&&(ES=!0),this.height=e)}replace(e,n,r){return pa.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:A,toB:u}=i[a],h=s.lineAt(l,xi.ByPosNoHeight,r.setDoc(n),0,0),p=h.to>=c?h:s.lineAt(c,xi.ByPosNoHeight,r,0,0);for(u+=p.to-c,c=p.to;a>0&&h.from<=i[a-1].toA;)l=i[a-1].fromA,A=i[a-1].fromB,a--,l<h.from&&(h=s.lineAt(l,xi.ByPosNoHeight,r,0,0));A+=h.from-l,l=h.from;let E=R2.build(r.setDoc(o),e,A,u);s=qv(s,s.replace(l,c,E))}return s.updateHeight(r,0)}static empty(){return new Il(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new ave(pa.of(e.slice(0,n)),o,pa.of(e.slice(r)))}}function qv(t,e){return t==e?t:(t.constructor!=e.constructor&&(ES=!0),e)}pa.prototype.size=1;const ove=un.replace({});class lJ extends pa{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new Zc(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new Zc(i,0,r,this.spaceAbove,ove):this.mainBlock(r,i)}lineAt(e,n,r,i,s){let o=this.mainBlock(i,s);return this.spaceAbove?this.blockAt(0,r,i,s).join(o):o}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.lineAt(0,xi.ByPos,r,i,s))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Il extends lJ{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new Zc(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Il||i instanceof Eo&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Eo?i=new Il(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):pa.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Eo extends pa{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),A=n.doc.lineAt(c),u=a+A.length*l,h=Math.max(r,e-u/2);return new Zc(A.from,A.length,h,u,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:A,length:u}=n.doc.line(s+c);return new Zc(A,u,r+a*c,a,0)}}lineAt(e,n,r,i,s){if(n==xi.ByHeight)return this.blockAt(e,r,i,s);if(n==xi.ByPosNoHeight){let{from:p,to:E}=r.doc.lineAt(e);return new Zc(p,E-p,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),A=a+c.length*l,u=c.number-o,h=i+a*u+l*(c.from-s-u);return new Zc(c.from,c.length,Math.max(i,Math.min(h,i+this.height-A)),A,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let A=e,u=i;A<=n;){let h=r.doc.lineAt(A);if(A==e){let E=h.number-a;u+=l*E+c*(e-s-E)}let p=l+c*h.length;o(new Zc(h.from,h.length,u,p,0)),u+=p,A=h.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof Eo?r[r.length-1]=new Eo(s.length+i):r.push(null,new Eo(i-1))}if(e>0){let s=r[0];s instanceof Eo?r[0]=new Eo(e+s.length):r.unshift(new Eo(e-1),null)}return pa.of(r)}decomposeLeft(e,n){n.push(new Eo(e-1),null)}decomposeRight(e,n){n.push(null,new Eo(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new Eo(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let A=e.doc.lineAt(a).length;o.length&&o.push(null);let u=i.heights[i.index++],h=0;u<0&&(h=-u,u=i.heights[i.index++]),l==-1?l=u:Math.abs(u-l)>=mb&&(l=-2);let p=new Il(A,u,h);p.outdated=!1,o.push(p),a+=A+1}a<=s&&o.push(null,new Eo(s-a).updateHeight(e,a));let c=pa.of(o);return(l<0||Math.abs(c.height-this.height)>=mb||Math.abs(l-this.heightMetrics(e,n).perLine)>=mb)&&(ES=!0),qv(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class ave extends pa{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==xi.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let A=n==xi.ByPosNoHeight?xi.ByPosNoHeight:xi.ByPos;return l?c.join(this.right.lineAt(a,A,r,o,a)):this.left.lineAt(a,A,r,i,s).join(c)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let c=this.lineAt(l,xi.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&O$(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),O$(s,a)}return pa.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?pa.of(this.break?[e,null,n]:[e,n]):(this.left=qv(this.left,e),this.right=qv(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function O$(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Eo&&(r=t[e+1])instanceof Eo&&t.splice(e-1,3,new Eo(n.length+1+r.length))}const lve=5;class R2{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Il?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Il(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new lJ(o,i,r)):(o||s||i>=lve)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Il(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new Eo(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Il)return e;let n=new Il(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Il)&&!this.isCovered?this.nodes.push(new Il(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Il&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new R2(r,e);return dr.spans(n,r,i,s,0),s.finish(r)}}function cve(t,e,n){let r=new Ave;return dr.compare(t,e,n,r,0),r.changes}class Ave{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&QT(e,n,this.changes,5)}}function uve(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let A=c,u=window.getComputedStyle(A);if((A.scrollHeight>A.clientHeight||A.scrollWidth>A.clientWidth)&&u.overflow!="visible"){let h=A.getBoundingClientRect();s=Math.max(s,h.left),o=Math.min(o,h.right),a=Math.max(a,h.top),l=Math.min(c==t.parentNode?i.innerHeight:l,h.bottom)}c=u.position=="absolute"||u.position=="fixed"?A.offsetParent:A.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function hve(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function dve(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class C1{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return un.replace({widget:new fve(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class fve extends Ou{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class w${constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=L$,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=pi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(S2).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new ive(n),this.stateDeco=B$(e),this.heightMap=pa.empty().applyChanges(this.stateDeco,kr.empty,this.heightOracle.setDoc(e.doc),[new uc(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=un.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new M_(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?L$:new I2(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(yC(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=B$(this.state);let i=e.changedRanges,s=uc.extendWithRanges(i,cve(r,this.stateDeco,e?e.changes:Ls.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);v$(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||ES)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(G9)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?pi.RTL:pi.LTR;let o=this.heightOracle.mustRefreshForWrapping(s)||this.mustMeasureContent,a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,A=0;if(a.width&&a.height){let{scaleX:B,scaleY:w}=R9(n,a);(B>.005&&Math.abs(this.scaleX-B)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=B,this.scaleY=w,c|=16,o=l=!0)}let u=(parseInt(r.paddingTop)||0)*this.scaleY,h=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=u||this.paddingBottom!=h)&&(this.paddingTop=u,this.paddingBottom=h,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=_9(e.scrollDOM);let E=(this.printing?dve:uve)(n,this.paddingTop),T=E.top-this.pixelViewport.top,y=E.bottom-this.pixelViewport.bottom;this.pixelViewport=E;let R=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(R!=this.inView&&(this.inView=R,R&&(l=!0)),!this.inView&&!this.scrollTarget&&!hve(e.dom))return 0;let I=a.width;if((this.contentDOMWidth!=I||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let B=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(B)&&(o=!0),o||i.lineWrapping&&Math.abs(I-this.contentDOMWidth)>i.charWidth){let{lineHeight:w,charWidth:O,textHeight:L}=e.docView.measureTextSize();o=w>0&&i.refresh(s,w,O,L,Math.max(5,I/O),B),o&&(e.docView.minWidth=0,c|=16)}T>0&&y>0?A=Math.max(T,y):T<0&&y<0&&(A=Math.min(T,y)),v$();for(let w of this.viewports){let O=w.from==this.viewport.from?B:e.docView.measureVisibleLineHeights(w);this.heightMap=(o?pa.empty().applyChanges(this.stateDeco,kr.empty,this.heightOracle,[new uc(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new sve(w.from,O))}ES&&(c|=2)}let b=!this.viewportIsAppropriate(this.viewport,A)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(A,this.scrollTarget),c|=this.updateForViewport()),(c&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new M_(i.lineAt(o-r*1e3,xi.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,xi.ByHeight,s,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let A=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=i.lineAt(c,xi.ByPos,s,0,0),h;n.y=="center"?h=(u.top+u.bottom)/2-A/2:n.y=="start"||n.y=="nearest"&&c<l.from?h=u.top:h=u.bottom-A,l=new M_(i.lineAt(h-1e3/2,xi.ByHeight,s,0,0).from,i.lineAt(h+A+1e3/2,xi.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new M_(this.heightMap.lineAt(r,xi.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,xi.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,xi.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,xi.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new C1(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=pi.LTR&&!r)return[];let a=[],l=(A,u,h,p)=>{if(u-A<s)return;let E=this.state.selection.main,T=[E.from];E.empty||T.push(E.to);for(let R of T)if(R>A&&R<u){l(A,R-10,h,p),l(R+10,u,h,p);return}let y=mve(e,R=>R.from>=h.from&&R.to<=h.to&&Math.abs(R.from-A)<s&&Math.abs(R.to-u)<s&&!T.some(I=>R.from<I&&R.to>I));if(!y){if(u<h.to&&n&&r&&n.visibleRanges.some(b=>b.from<=u&&b.to>=u)){let b=n.moveToLineBoundary(Qe.cursor(u),!1,!0).head;b>A&&(u=b)}let R=this.gapSize(h,A,u,p),I=r||R<2e6?R:2e6;y=new C1(A,u,R,I)}a.push(y)},c=A=>{if(A.length<o||A.type!=xo.Text)return;let u=pve(A.from,A.to,this.stateDeco);if(u.total<o)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,p,E;if(r){let T=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,R;if(h!=null){let I=U_(u,h),b=((this.visibleBottom-this.visibleTop)/2+T)/A.height;y=I-b,R=I+b}else y=(this.visibleTop-A.top-T)/A.height,R=(this.visibleBottom-A.top+T)/A.height;p=P_(u,y),E=P_(u,R)}else{let T=u.total*this.heightOracle.charWidth,y=i*this.heightOracle.charWidth,R=0;if(T>2e6)for(let O of e)O.from>=A.from&&O.from<A.to&&O.size!=O.displaySize&&O.from*this.heightOracle.charWidth+R<this.pixelViewport.left&&(R=O.size-O.displaySize);let I=this.pixelViewport.left+R,b=this.pixelViewport.right+R,B,w;if(h!=null){let O=U_(u,h),L=((b-I)/2+y)/T;B=O-L,w=O+L}else B=(I-y)/T,w=(b+y)/T;p=P_(u,B),E=P_(u,w)}p>A.from&&l(A.from,p,A,u),E<A.to&&l(E,A.to,A,u)};for(let A of this.viewportLines)Array.isArray(A.type)?A.type.forEach(c):c(A);return a}gapSize(e,n,r,i){let s=U_(i,r)-U_(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){C1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=un.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];dr.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||yC(this.heightMap.lineAt(e,xi.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||yC(this.heightMap.lineAt(this.scaler.fromDOM(e),xi.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return yC(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class M_{constructor(e,n){this.from=e,this.to=n}}function pve(t,e,n){let r=[],i=t,s=0;return dr.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function P_({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function U_(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function mve(t,e){for(let n of t)if(e(n))return n}const L$={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function B$(t){let e=t.facet(Pw).filter(r=>typeof r!="function"),n=t.facet(y2).filter(r=>typeof r!="function");return n.length&&e.push(dr.join(n)),e}class I2{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,xi.ByPos,e,0,0).top,A=n.lineAt(l,xi.ByPos,e,0,0).bottom;return i+=A-c,{from:a,to:l,top:c,bottom:A,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof I2?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function yC(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Zc(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>yC(i,e)):t._content)}const F_=wt.define({combine:t=>t.join(" ")}),zM=wt.define({combine:t=>t.indexOf(!0)>-1}),qM=kf.newName(),cJ=kf.newName(),AJ=kf.newName(),uJ={"&light":"."+cJ,"&dark":"."+AJ};function XM(t,e,n){return new kf(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const gve=XM("."+qM,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},uJ),Eve={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},x1=Ot.ie&&Ot.ie_version<=11;class Tve{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new zNe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Ot.ie&&Ot.ie_version<=11||Ot.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Ot.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Ot.chrome&&Ot.chrome_version<126)&&(this.editContext=new yve(e),e.state.facet(Ph)&&(e.contentDOM.editContext=this.editContext.editContext)),x1&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Ph)?r.root.activeElement!=this.dom:!zC(this.dom,i))return;let s=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Ot.ie&&Ot.ie_version<=11||Ot.android&&Ot.chrome)&&!r.state.selection.main.empty&&i.focusNode&&XC(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Mx(e.root);if(!n)return!1;let r=Ot.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Sve(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=zC(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&XNe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Eve),x1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),x1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&VT(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&zC(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new Ube(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=J9(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!zv(this.view.state.selection,n.newSel.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=D$(n,e.previousSibling||e.target.previousSibling,-1),i=D$(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ph)!=e.state.facet(Ph)&&(e.view.contentDOM.editContext=e.state.facet(Ph)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function D$(t,e,n){for(;e;){let r=Cs.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function k$(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor,1);return XC(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Sve(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return k$(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?k$(t,n):null}class yve{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c=l-a>r.text.length;a==this.from&&s<this.from?a=s:l==this.to&&s>this.to&&(l=s);let A=Z9(e.state.sliceDoc(a,l),r.text,(c?i.from:i.to)-a,c?"end":null);if(!A){let h=Qe.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));zv(h,i)||e.dispatch({selection:h,userEvent:"select"});return}let u={from:A.from+a,to:A.toA+a,insert:kr.of(r.text.slice(A.from,A.toB).split(`
`))};if((Ot.mac||Ot.android)&&u.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(u={from:a,to:l,insert:kr.of([r.text.replace("."," ")])}),this.pendingContextChange=u,!e.state.readOnly){let h=this.to-this.from+(u.to-u.from+u.insert.length);x2(e,u,Qe.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),u.from<u.to&&!u.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(a)){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let A=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;i.push(un.mark({attributes:{style:A}}).range(l,c))}}}e.dispatch({effects:V9.of(un.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Mx(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let A=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=A,this.to+=A;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=A,this.to+=A;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=A}n+=A}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class mt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||qNe(e.parent)||document,this.viewState=new w$(e.state||Ir.create(e)),e.scrollTo&&e.scrollTo.is(B_)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(RT).map(i=>new g1(i));for(let i of this.plugins)i.update(this);this.observer=new Tve(this),this.inputState=new Qbe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new E$(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let n=e.length==1&&e[0]instanceof Us?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let h of e){if(h.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=h.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(sJ))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=oJ(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,A=null;if(c?(this.observer.clearDelayedAndroidKey(),A=this.observer.readChange(),(A&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(A=null)):this.observer.clear(),s.facet(Ir.phrases)!=this.state.facet(Ir.phrases))return this.setState(s);i=Yv.create(this,s,e),i.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(u&&(u=u.map(h.changes)),h.scrollIntoView){let{main:p}=h.state.selection;u=new $T(p.empty?p:Qe.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of h.effects)p.is(B_)&&(u=p.value.clip(this.state))}this.viewState.update(i,u),this.bidiCache=Xv.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(TC)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(F_)!=i.state.facet(F_)&&(this.viewState.mustMeasureContent=!0),(n||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let h of this.state.facet($M))try{h(i)}catch(p){Xa(this.state,p,"update listener")}(l||A)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),A&&!J9(this,A)&&c.force&&VT(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new w$(e),this.plugins=e.facet(RT).map(r=>new g1(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new E$(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(RT),r=e.state.facet(RT);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new g1(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Xa(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(_9(r))s=-1,o=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(i);s=p.from,o=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let A=c.map(p=>{try{return p.read(this)}catch(E){return Xa(this.state,E),M$}}),u=Yv.create(this,this.state,[]),h=!1;u.flags|=l,n?n.flags|=l:n=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),h=this.docView.update(u),h&&this.docViewUpdate());for(let p=0;p<c.length;p++)if(A[p]!=M$)try{let E=c[p];E.write&&E.write(A[p],this)}catch(E){Xa(this.state,E)}if(h&&this.docView.updateSelection(!0),!u.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let E=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(E>1||E<-1){i=i+E,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet($M))a(n)}get themeClasses(){return qM+" "+(this.state.facet(zM)?AJ:cJ)+" "+this.state.facet(F_)}updateAttrs(){let e=P$(this,$9,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Ph)?"true":"false",class:"cm-content",style:`${Ot.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),P$(this,S2,n);let r=this.observer.ignore(()=>{let i=h$(this.contentDOM,this.contentAttrs,n),s=h$(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(mt.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(TC);let e=this.state.facet(mt.cspNonce);kf.mount(this.root,this.styleModules.concat(gve).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return y1(this,e,T$(this,e,n,r))}moveByGroup(e,n){return y1(this,e,T$(this,e,n,r=>Lbe(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return Qe.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return wbe(this,e,n,r)}moveVertically(e,n,r){return y1(this,e,Bbe(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=jM(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),jM(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[mu.find(s,e-i.from,-1,n)];return Px(r,o.dir==pi.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(H9)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Cve)return L9(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||w9(s.isolates,r=p$(this,e))))return s.order;r||(r=p$(this,e));let i=ibe(e.text,n,r);return this.bidiCache.push(new Xv(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ot.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{I9(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return B_.of(new $T(typeof e=="number"?Qe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return B_.of(new $T(Qe.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return fs.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return fs.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=kf.newName(),i=[F_.of(r),TC.of(XM(`.${r}`,e))];return n&&n.dark&&i.push(zM.of(!0)),i}static baseTheme(e){return ug.lowest(TC.of(XM("."+qM,e,uJ)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Cs.get(r)||Cs.get(e);return((n=i==null?void 0:i.root)===null||n===void 0?void 0:n.view)||null}}mt.styleModule=TC;mt.inputHandler=U9;mt.clipboardInputFilter=E2;mt.clipboardOutputFilter=T2;mt.scrollHandler=Q9;mt.focusChangeEffect=F9;mt.perLineTextDirection=H9;mt.exceptionSink=P9;mt.updateListener=$M;mt.editable=Ph;mt.mouseSelectionStyle=M9;mt.dragMovesSelection=k9;mt.clickAddsSelectionRange=D9;mt.decorations=Pw;mt.blockWrappers=W9;mt.outerDecorations=y2;mt.atomicRanges=RR;mt.bidiIsolatedRanges=Y9;mt.scrollMargins=j9;mt.darkTheme=zM;mt.cspNonce=wt.define({combine:t=>t.length?t[0]:""});mt.contentAttributes=S2;mt.editorAttributes=$9;mt.lineWrapping=mt.contentAttributes.of({class:"cm-lineWrapping"});mt.announce=jn.define();const Cve=4096,M$={};class Xv{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:pi.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new Xv(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function P$(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&p2(o,n)}return n}const xve=Ot.mac?"mac":Ot.windows?"win":Ot.linux?"linux":"key";function Rve(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function H_(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Ive=ug.default(mt.domEventHandlers({keydown(t,e){return dJ(hJ(e.state),t,e,"editor")}})),Gw=wt.define({enables:Ive}),U$=new WeakMap;function hJ(t){let e=t.facet(Gw),n=U$.get(e);return n||U$.set(e,n=bve(e.reduce((r,i)=>r.concat(i),[]))),n}function _ve(t,e,n){return dJ(hJ(t.state),e,t,n)}let cf=null;const Nve=4e3;function bve(t,e=xve){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,A)=>{var u,h;let p=n[o]||(n[o]=Object.create(null)),E=a.split(/ (?!$)/).map(R=>Rve(R,e));for(let R=1;R<E.length;R++){let I=E.slice(0,R).join(" ");i(I,!0),p[I]||(p[I]={preventDefault:!0,stopPropagation:!1,run:[b=>{let B=cf={view:b,prefix:I,scope:o};return setTimeout(()=>{cf==B&&(cf=null)},Nve),!0}]})}let T=E.join(" ");i(T,!1);let y=p[T]||(p[T]={preventDefault:!1,stopPropagation:!1,run:((h=(u=p._any)===null||u===void 0?void 0:u.run)===null||h===void 0?void 0:h.slice())||[]});l&&y.run.push(l),c&&(y.preventDefault=!0),A&&(y.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let A=n[c]||(n[c]=Object.create(null));A._any||(A._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:u}=o;for(let h in A)A[h].run.push(p=>u(p,JM))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let JM=null;function dJ(t,e,n,r){JM=e;let i=GNe(e),s=Wa(i,0),o=hu(s)==i.length&&i!=" ",a="",l=!1,c=!1,A=!1;cf&&cf.view==n&&cf.scope==r&&(a=cf.prefix+" ",tJ.indexOf(e.keyCode)<0&&(c=!0,cf=null));let u=new Set,h=y=>{if(y){for(let R of y.run)if(!u.has(R)&&(u.add(R),R(n)))return y.stopPropagation&&(A=!0),!0;y.preventDefault&&(y.stopPropagation&&(A=!0),c=!0)}return!1},p=t[r],E,T;return p&&(h(p[a+H_(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ot.windows&&e.ctrlKey&&e.altKey)&&!(Ot.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(E=Mf[e.keyCode])&&E!=i?(h(p[a+H_(E,e,!0)])||e.shiftKey&&(T=Dx[e.keyCode])!=i&&T!=E&&h(p[a+H_(T,e,!1)]))&&(l=!0):o&&e.shiftKey&&h(p[a+H_(i,e,!0)])&&(l=!0),!l&&h(p._any)&&(l=!0)),c&&(l=!0),l&&A&&e.stopPropagation(),JM=null,l}class IR{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=fJ(e);return[new IR(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return vve(e,n,r)}}function fJ(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==pi.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function F$(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function vve(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==pi.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=fJ(t),c=o.querySelector(".cm-line"),A=c&&window.getComputedStyle(c),u=a.left+(A?parseInt(A.paddingLeft)+Math.min(0,parseInt(A.textIndent)):0),h=a.right-(A?parseInt(A.paddingRight):0),p=YM(t,r,1),E=YM(t,i,-1),T=p.type==xo.Text?p:null,y=E.type==xo.Text?E:null;if(T&&(t.lineWrapping||p.widgetLineBreaks)&&(T=F$(t,r,1,T)),y&&(t.lineWrapping||E.widgetLineBreaks)&&(y=F$(t,i,-1,y)),T&&y&&T.from==y.from&&T.to==y.to)return I(b(n.from,n.to,T));{let w=T?b(n.from,null,T):B(p,!1),O=y?b(null,n.to,y):B(E,!0),L=[];return(T||p).to<(y||E).from-(T&&y?1:0)||p.widgetLineBreaks>1&&w.bottom+t.defaultLineHeight/2<O.top?L.push(R(u,w.bottom,h,O.top)):w.bottom<O.top&&t.elementAtHeight((w.bottom+O.top)/2).type==xo.Text&&(w.bottom=O.top=(w.bottom+O.top)/2),I(w).concat(L).concat(I(O))}function R(w,O,L,U){return new IR(e,w-l.left,O-l.top,Math.max(0,L-w),U-O)}function I({top:w,bottom:O,horizontal:L}){let U=[];for(let G=0;G<L.length;G+=2)U.push(R(L[G],w,L[G+1],O));return U}function b(w,O,L){let U=1e9,G=-1e9,Q=[];function Y(V,$,J,te,X){let oe=t.coordsAtPos(V,V==L.to?-2:2),F=t.coordsAtPos(J,J==L.from?2:-2);!oe||!F||(U=Math.min(oe.top,F.top,U),G=Math.max(oe.bottom,F.bottom,G),X==pi.LTR?Q.push(s&&$?u:oe.left,s&&te?h:F.right):Q.push(!s&&te?u:F.left,!s&&$?h:oe.right))}let K=w??L.from,j=O??L.to;for(let V of t.visibleRanges)if(V.to>K&&V.from<j)for(let $=Math.max(V.from,K),J=Math.min(V.to,j);;){let te=t.state.doc.lineAt($);for(let X of t.bidiSpans(te)){let oe=X.from+te.from,F=X.to+te.from;if(oe>=J)break;F>$&&Y(Math.max(oe,$),w==null&&oe<=K,Math.min(F,J),O==null&&F>=j,X.dir)}if($=te.to+1,$>=J)break}return Q.length==0&&Y(K,w==null,j,O==null,t.textDirection),{top:U,bottom:G,horizontal:Q}}function B(w,O){let L=a.top+(O?w.top:w.bottom);return{top:L,bottom:L,horizontal:[]}}}function Ove(t,e){return t.constructor==e.constructor&&t.eq(e)}class wve{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(gb)!=e.state.facet(gb)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(gb);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Ove(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,Ot.safari&&Ot.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const gb=wt.define();function pJ(t){return[fs.define(e=>new wve(e,t)),gb.of(t)]}const Fx=wt.define({combine(t){return vu(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Lve(t={}){return[Fx.of(t),Bve,Dve,kve,G9.of(!0)]}function mJ(t){return t.startState.facet(Fx)!=t.state.facet(Fx)}const Bve=pJ({above:!0,markers(t){let{state:e}=t,n=e.facet(Fx),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Qe.cursor(i.head,i.head>i.anchor?-1:1);for(let l of IR.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=mJ(t);return n&&H$(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){H$(e.state,t)},class:"cm-cursorLayer"});function H$(t,e){e.style.animationDuration=t.facet(Fx).cursorBlinkRate+"ms"}const Dve=pJ({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:IR.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||mJ(t)},class:"cm-selectionLayer"}),kve=ug.highest(mt.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),gJ=jn.define({map(t,e){return t==null?null:e.mapPos(t)}}),CC=Ro.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(gJ)?r.value:n,t)}}),Mve=fs.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(CC);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(CC)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(CC),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(CC)!=t&&this.view.dispatch({effects:gJ.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Pve(){return[CC,Mve]}function G$(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function Uve(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Fve{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,A)=>i(A,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,A)=>{let u=r(a,l,c);u&&A(c,c+a[0].length,u)};else if(r)this.addMatch=(a,l,c,A)=>A(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new Kh,r=n.add.bind(n);for(let{from:i,to:s}of Uve(e,this.maxLength))G$(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>=o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,A=Math.max(s.from,l.from),u=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){A=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){u=a;break}}let h=[],p,E=(T,y,R)=>h.push(R.range(T,y));if(l==c)for(this.regexp.lastIndex=A-l.from;(p=this.regexp.exec(l.text))&&p.index<u-l.from;)this.addMatch(p,e,p.index+l.from,E);else G$(e.state.doc,this.regexp,A,u,(T,y)=>this.addMatch(y,e,T,E));n=n.update({filterFrom:A,filterTo:u,filter:(T,y)=>T<A||y>u,add:h})}}return n}}const ZM=/x/.unicode!=null?"gu":"g",Hve=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,ZM),Gve={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let R1=null;function Qve(){var t;if(R1==null&&typeof document<"u"&&document.body){let e=document.body.style;R1=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return R1||!1}const Eb=wt.define({combine(t){let e=vu(t,{render:null,specialChars:Hve,addSpecialChars:null});return(e.replaceTabs=!Qve())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,ZM)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,ZM)),e}});function Vve(t={}){return[Eb.of(t),$ve()]}let Q$=null;function $ve(){return Q$||(Q$=fs.fromClass(class{constructor(t){this.view=t,this.decorations=un.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Eb)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Fve({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=Wa(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=QS(o.text,a,r-o.from);return un.replace({widget:new Kve((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=un.replace({widget:new jve(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Eb);t.startState.facet(Eb)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const Wve="";function Yve(t){return t>=32?Wve:t==10?"":String.fromCharCode(9216+t)}class jve extends Ou{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=Yve(this.code),r=e.state.phrase("Control character")+" "+(Gve[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Kve extends Ou{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function zve(){return Xve}const qve=un.line({class:"cm-activeLine"}),Xve=fs.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(qve.range(i.from)),e=i.from)}return un.set(n)}},{decorations:t=>t.decorations});class Jve extends Ou{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?qC(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=Px(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function Zve(t){let e=fs.fromClass(class{constructor(n){this.view=n,this.placeholder=t?un.set([un.widget({widget:new Jve(t),side:1}).range(0)]):un.none}get decorations(){return this.view.state.doc.length?un.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,mt.contentAttributes.of({"aria-placeholder":t})]:e}const eP=2e3;function eOe(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>eP||n.off>eP||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let c=t.doc.line(l);c.length<=a&&s.push(Qe.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let c=t.doc.line(l),A=BM(c.text,o,t.tabSize,!0);if(A<0)s.push(Qe.cursor(c.to));else{let u=BM(c.text,a,t.tabSize);s.push(Qe.range(c.from+A,c.from+u))}}}return s}function tOe(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function V$(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>eP?-1:i==r.length?tOe(t,e.clientX):QS(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function nOe(t,e){let n=V$(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=V$(t,i);if(!a)return r;let l=eOe(t.state,n,a);return l.length?o?Qe.create(l.concat(r.ranges)):Qe.create(l):r}}:null}function rOe(t){let e=(n=>n.altKey&&n.button==0);return mt.mouseSelectionStyle.of((n,r)=>e(r)?nOe(n,r):null)}const iOe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},sOe={style:"cursor: crosshair"};function oOe(t={}){let[e,n]=iOe[t.key||"Alt"],r=fs.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,mt.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?sOe:null})]}const G_="-10000px";class EJ{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let c=s[l],A=-1;if(c){for(let u=0;u<this.tooltips.length;u++){let h=this.tooltips[u];h&&h.create==c.create&&(A=u)}if(A<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let u=o[l]=this.tooltipViews[A];a&&(a[l]=n[A]),u.update&&u.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function aOe(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const I1=wt.define({combine:t=>{var e,n,r;return{position:Ot.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||aOe}}}),$$=new WeakMap,_2=fs.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(I1);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new EJ(t,N2,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(I1);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=G_,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Ot.safari){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else n=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=C2(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(I1).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:A}=c,u=t.pos[a],h=t.size[a];if(!u||l.clip!==!1&&(u.bottom<=Math.max(n.top,r.top)||u.top>=Math.min(n.bottom,r.bottom)||u.right<Math.max(n.left,r.left)-.1||u.left>Math.min(n.right,r.right)+.1)){A.style.top=G_;continue}let p=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,E=p?7:0,T=h.right-h.left,y=(e=$$.get(c))!==null&&e!==void 0?e:h.bottom-h.top,R=c.offset||cOe,I=this.view.textDirection==pi.LTR,b=h.width>r.right-r.left?I?r.left:r.right-h.width:I?Math.max(r.left,Math.min(u.left-(p?14:0)+R.x,r.right-T)):Math.min(Math.max(r.left,u.left-T+(p?14:0)-R.x),r.right-T),B=this.above[a];!l.strictSide&&(B?u.top-y-E-R.y<r.top:u.bottom+y+E+R.y>r.bottom)&&B==r.bottom-u.bottom>u.top-r.top&&(B=this.above[a]=!B);let w=(B?u.top-r.top:r.bottom-u.bottom)-E;if(w<y&&c.resize!==!1){if(w<this.view.defaultLineHeight){A.style.top=G_;continue}$$.set(c,y),A.style.height=(y=w)/s+"px"}else A.style.height&&(A.style.height="");let O=B?u.top-y-E-R.y:u.bottom+E+R.y,L=b+T;if(c.overlap!==!0)for(let U of o)U.left<L&&U.right>b&&U.top<O+y&&U.bottom>O&&(O=B?U.top-y-2-E:U.bottom+E+2);if(this.position=="absolute"?(A.style.top=(O-t.parent.top)/s+"px",W$(A,(b-t.parent.left)/i)):(A.style.top=O/s+"px",W$(A,b/i)),p){let U=u.left+(I?R.x:-R.x)-(b+14-7);p.style.left=U/i+"px"}c.overlap!==!0&&o.push({left:b,top:O,right:L,bottom:O+y}),A.classList.toggle("cm-tooltip-above",B),A.classList.toggle("cm-tooltip-below",!B),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=G_}},{eventObservers:{scroll(){this.maybeMeasure()}}});function W$(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const lOe=mt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),cOe={x:0,y:0},N2=wt.define({enables:[_2,lOe]}),Jv=wt.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class Qw{static create(e){return new Qw(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new EJ(e,Jv,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const AOe=N2.compute([Jv],t=>{let e=t.facet(Jv);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Qw.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class uOe{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.tile.nearest(n.target);if(!r)return;let i,s=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(A=>A.from<=i&&A.to>=i),c=l&&l.dir==pi.RTL?-1:1;s=n.x<a.left?-c:c}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Xa(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(_2),n=e?e.manager.tooltips.findIndex(r=>r.create==Qw.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!hOe(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!dOe(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Q_=4;function hOe(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-Q_&&e.clientX<=r+Q_&&e.clientY>=i-Q_&&e.clientY<=s+Q_}function dOe(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function fOe(t,e={}){let n=jn.define(),r=Ro.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,Aa.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(pOe)&&(i=[]);return i},provide:i=>Jv.from(i)});return{active:r,extension:[r,fs.define(i=>new uOe(i,t,r,n,e.hoverTime||300)),AOe]}}function TJ(t,e){let n=t.plugin(_2);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const pOe=jn.define(),Y$=wt.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function b2(t,e){let n=t.plugin(SJ),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const SJ=fs.fromClass(class{constructor(t){this.input=t.state.facet(Hx),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(Y$);this.top=new V_(t,!0,e.topContainer),this.bottom=new V_(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(Y$);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new V_(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new V_(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Hx);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let c=this.specs.indexOf(l),A;c<0?(A=l(t.view),a.push(A)):(A=this.panels[c],A.update&&A.update(t)),i.push(A),(A.top?s:o).push(A)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>mt.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class V_{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=j$(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=j$(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function j$(t){let e=t.nextSibling;return t.remove(),e}const Hx=wt.define({enables:SJ});function mOe(t,e){let n,r=new Promise(o=>n=o),i=o=>gOe(o,e,n);t.state.field(_1,!1)?t.dispatch({effects:yJ.of(i)}):t.dispatch({effects:jn.appendConfig.of(_1.init(()=>[i]))});let s=CJ.of(i);return{close:s,result:r.then(o=>((t.win.queueMicrotask||(l=>t.win.setTimeout(l,10)))(()=>{t.state.field(_1).indexOf(i)>-1&&t.dispatch({effects:s})}),o))}}const _1=Ro.define({create(){return[]},update(t,e){for(let n of e.effects)n.is(yJ)?t=[n.value].concat(t):n.is(CJ)&&(t=t.filter(r=>r!=n.value));return t},provide:t=>Hx.computeN([t],e=>e.field(t))}),yJ=jn.define(),CJ=jn.define();function gOe(t,e,n){let r=e.content?e.content(t,()=>o(null)):null;if(!r){if(r=si("form"),e.input){let a=si("input",e.input);/^(text|password|number|email|tel|url)$/.test(a.type)&&a.classList.add("cm-textfield"),a.name||(a.name="input"),r.appendChild(si("label",(e.label||"")+": ",a))}else r.appendChild(document.createTextNode(e.label||""));r.appendChild(document.createTextNode(" ")),r.appendChild(si("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=r.nodeName=="FORM"?[r]:r.querySelectorAll("form");for(let a=0;a<i.length;a++){let l=i[a];l.addEventListener("keydown",c=>{c.keyCode==27?(c.preventDefault(),o(null)):c.keyCode==13&&(c.preventDefault(),o(l))}),l.addEventListener("submit",c=>{c.preventDefault(),o(l)})}let s=si("div",r,si("button",{onclick:()=>o(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(s.className=e.class),s.classList.add("cm-dialog");function o(a){s.contains(s.ownerDocument.activeElement)&&t.focus(),n(a)}return{dom:s,top:e.top,mount:()=>{if(e.focus){let a;typeof e.focus=="string"?a=r.querySelector(e.focus):a=r.querySelector("input")||r.querySelector("button"),a&&"select"in a?a.select():a&&"focus"in a&&a.focus()}}}}class qh extends Df{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}qh.prototype.elementClass="";qh.prototype.toDOM=void 0;qh.prototype.mapMode=Aa.TrackBefore;qh.prototype.startSide=qh.prototype.endSide=-1;qh.prototype.point=!0;const Tb=wt.define(),EOe=wt.define(),TOe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>dr.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},ZC=wt.define();function SOe(t){return[xJ(),ZC.of({...TOe,...t})]}const K$=wt.define({combine:t=>t.some(e=>e)});function xJ(t){return[yOe]}const yOe=fs.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(ZC).map(e=>new q$(t,e)),this.fixed=!t.state.facet(K$);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(K$)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=dr.iter(this.view.state.facet(Tb),this.view.viewport.from),r=[],i=this.gutters.map(s=>new COe(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==xo.Text&&o){tP(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==xo.Text){tP(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(ZC),n=t.state.facet(ZC),r=t.docChanged||t.heightChanged||t.viewportChanged||!dr.eq(t.startState.facet(Tb),t.state.facet(Tb),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new q$(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>mt.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==pi.LTR?{left:r,right:i}:{right:r,left:i}})});function z$(t){return Array.isArray(t)?t:[t]}function tP(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class COe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=dr.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new RJ(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];tP(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(EOe)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class q${constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=z$(n.markers(e)),n.initialSpacer&&(this.spacer=new RJ(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=z$(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!dr.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class RJ{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),xOe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,c=!1;if(l){let A=l.elementClass;A&&(r+=" "+A);for(let u=o;u<this.markers.length;u++)if(this.markers[u].compare(l)){a=u,c=!0;break}}else a=this.markers.length;for(;o<a;){let A=this.markers[o++];if(A.toDOM){A.destroy(i);let u=i.nextSibling;i.remove(),i=u}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function xOe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const ROe=wt.define(),IOe=wt.define(),IT=wt.define({combine(t){return vu(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class N1 extends qh{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function b1(t,e){return t.state.facet(IT).formatNumber(e,t.state)}const _Oe=ZC.compute([IT],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(ROe)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new N1(b1(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(IOe)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(IT)!=e.state.facet(IT),initialSpacer(e){return new N1(b1(e,X$(e.state.doc.lines)))},updateSpacer(e,n){let r=b1(n.view,X$(n.view.state.doc.lines));return r==e.number?e:new N1(r)},domEventHandlers:t.facet(IT).domEventHandlers,side:"before"}));function NOe(t={}){return[IT.of(t),xJ(),_Oe]}function X$(t){let e=9;for(;e<t;)e=e*10+9;return e}const bOe=new class extends qh{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},vOe=Tb.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(bOe.range(i)))}return dr.of(e)});function OOe(){return vOe}const IJ=1024;let wOe=0;class v1{constructor(e,n){this.from=e,this.to=n}}class Ar{constructor(e={}){this.id=wOe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Rc.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Ar.closedBy=new Ar({deserialize:t=>t.split(" ")});Ar.openedBy=new Ar({deserialize:t=>t.split(" ")});Ar.group=new Ar({deserialize:t=>t.split(" ")});Ar.isolate=new Ar({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Ar.contextHash=new Ar({perNode:!0});Ar.lookAhead=new Ar({perNode:!0});Ar.mounted=new Ar({perNode:!0});class ex{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[Ar.mounted.id]}}const LOe=Object.create(null);let Rc=class _J{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):LOe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new _J(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ar.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Ar.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}};Rc.none=new Rc("",Object.create(null),0,8);class v2{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);if(o){i||(i=Object.assign({},r.props));let a=o[1],l=o[0];l.combine&&l.id in i&&(a=l.combine(i[l.id],a)),i[l.id]=a}}n.push(i?new Rc(r.name,i,r.id,r.flags):r)}return new v2(n)}}const $_=new WeakMap,J$=new WeakMap;var Xi;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(Xi||(Xi={}));class ds{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=ex.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new rP(this.topNode,e)}cursorAt(e,n=0,r=0){let i=$_.get(this)||this.topNode,s=new rP(i);return s.moveTo(e,n),$_.set(this,s._tree),s}get topNode(){return new Ec(this,0,0,null)}resolve(e,n=0){let r=Gx($_.get(this)||this.topNode,e,n,!1);return $_.set(this,r),r}resolveInner(e,n=0){let r=Gx(J$.get(this)||this.topNode,e,n,!0);return J$.set(this,r),r}resolveStack(e,n=0){return kOe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Xi.IncludeAnonymous)>0;for(let l=this.cursor(o|Xi.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:L2(Rc.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new ds(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new ds(Rc.none,n,r,i)))}static build(e){return MOe(e)}}ds.empty=new ds(Rc.none,[],[],0);class O2{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new O2(this.buffer,this.index)}}class Uf{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Rc.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(NJ(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new Uf(s,o,this.set)}}function NJ(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Gx(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Ec&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:Xi.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Ec&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class bJ{cursor(e=0){return new rP(this,e)}getChild(e,n=null,r=null){let i=Z$(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Z$(this,e,n,r)}resolve(e,n=0){return Gx(this,e,n,!1)}resolveInner(e,n=0){return Gx(this,e,n,!0)}matchContext(e){return nP(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Ec extends bJ{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=n>0?a.length:-1;e!=c;e+=n){let A=a[e],u=l[e]+o.from,h;if(!(!(s&Xi.EnterBracketed&&A instanceof ds&&(h=ex.get(A))&&!h.overlay&&h.bracketed&&r>=u&&r<=u+A.length)&&!NJ(i,r,u,u+A.length))){if(A instanceof Uf){if(s&Xi.ExcludeBuffers)continue;let p=A.findChild(0,A.buffer.length,n,r-u,i);if(p>-1)return new pf(new BOe(o,A,e,u),null,p)}else if(s&Xi.IncludeAnonymous||!A.type.isAnonymous||w2(A)){let p;if(!(s&Xi.IgnoreMounts)&&(p=ex.get(A))&&!p.overlay)return new Ec(p.tree,u,e,o);let E=new Ec(A,u,e,o);return s&Xi.IncludeAnonymous||!E.type.isAnonymous?E:E.nextChild(n<0?A.children.length-1:0,n,r,i,s)}}}if(s&Xi.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&Xi.IgnoreOverlays)&&(i=ex.get(this._tree))&&i.overlay){let s=e-this.from,o=r&Xi.EnterBracketed&&i.bracketed;for(let{from:a,to:l}of i.overlay)if((n>0||o?a<=s:a<s)&&(n<0||o?l>=s:l>s))return new Ec(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Z$(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function nP(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class BOe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class pf extends bJ{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new pf(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&Xi.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new pf(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new pf(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new pf(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new ds(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function vJ(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof Ec&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new DOe(i,n)}class DOe{constructor(e,n){this.heads=e,this.node=n}get next(){return vJ(this.heads)}}function kOe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof Ec?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=ex.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ec(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Gx(a,e,n,!1))}}return i?vJ(i):r}class rP{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~Xi.EnterBracketed,e instanceof Ec)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ec?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Xi.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Xi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Xi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Xi.IncludeAnonymous||a instanceof Uf||!a.type.isAnonymous||w2(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new pf(this.buffer,n,this.stack[i]);return this.bufferNode=new pf(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return nP(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return nP(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function w2(t){return t.children.some(e=>e instanceof Uf||!e.type.isAnonymous||w2(e))}function MOe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=IJ,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new O2(n,n.length):n,l=r.types,c=0,A=0;function u(w,O,L,U,G,Q){let{id:Y,start:K,end:j,size:V}=a,$=A,J=c;if(V<0)if(a.next(),V==-1){let ee=s[Y];L.push(ee),U.push(K-w);return}else if(V==-3){c=Y;return}else if(V==-4){A=Y;return}else throw new RangeError(`Unrecognized record size: ${V}`);let te=l[Y],X,oe,F=K-w;if(j-K<=i&&(oe=y(a.pos-O,G))){let ee=new Uint16Array(oe.size-oe.skip),le=a.pos-oe.size,q=ee.length;for(;a.pos>le;)q=R(oe.start,ee,q);X=new Uf(ee,j-oe.start,r),F=oe.start-w}else{let ee=a.pos-V;a.next();let le=[],q=[],we=Y>=o?Y:-1,Oe=0,Ce=j;for(;a.pos>ee;)we>=0&&a.id==we&&a.size>=0?(a.end<=Ce-i&&(E(le,q,K,Oe,a.end,Ce,we,$,J),Oe=le.length,Ce=a.end),a.next()):Q>2500?h(K,ee,le,q):u(K,ee,le,q,we,Q+1);if(we>=0&&Oe>0&&Oe<le.length&&E(le,q,K,Oe,K,Ce,we,$,J),le.reverse(),q.reverse(),we>-1&&Oe>0){let Ue=p(te,J);X=L2(te,le,q,0,le.length,0,j-K,Ue,Ue)}else X=T(te,le,q,j-K,$-j,J)}L.push(X),U.push(F)}function h(w,O,L,U){let G=[],Q=0,Y=-1;for(;a.pos>O;){let{id:K,start:j,end:V,size:$}=a;if($>4)a.next();else{if(Y>-1&&j<Y)break;Y<0&&(Y=V-i),G.push(K,j,V),Q++,a.next()}}if(Q){let K=new Uint16Array(Q*4),j=G[G.length-2];for(let V=G.length-3,$=0;V>=0;V-=3)K[$++]=G[V],K[$++]=G[V+1]-j,K[$++]=G[V+2]-j,K[$++]=$;L.push(new Uf(K,G[2]-j,r)),U.push(j-w)}}function p(w,O){return(L,U,G)=>{let Q=0,Y=L.length-1,K,j;if(Y>=0&&(K=L[Y])instanceof ds){if(!Y&&K.type==w&&K.length==G)return K;(j=K.prop(Ar.lookAhead))&&(Q=U[Y]+K.length+j)}return T(w,L,U,G,Q,O)}}function E(w,O,L,U,G,Q,Y,K,j){let V=[],$=[];for(;w.length>U;)V.push(w.pop()),$.push(O.pop()+L-G);w.push(T(r.types[Y],V,$,Q-G,K-Q,j)),O.push(G-L)}function T(w,O,L,U,G,Q,Y){if(Q){let K=[Ar.contextHash,Q];Y=Y?[K].concat(Y):[K]}if(G>25){let K=[Ar.lookAhead,G];Y=Y?[K].concat(Y):[K]}return new ds(w,O,L,U,Y)}function y(w,O){let L=a.fork(),U=0,G=0,Q=0,Y=L.end-i,K={size:0,start:0,skip:0};e:for(let j=L.pos-w;L.pos>j;){let V=L.size;if(L.id==O&&V>=0){K.size=U,K.start=G,K.skip=Q,Q+=4,U+=4,L.next();continue}let $=L.pos-V;if(V<0||$<j||L.start<Y)break;let J=L.id>=o?4:0,te=L.start;for(L.next();L.pos>$;){if(L.size<0)if(L.size==-3||L.size==-4)J+=4;else break e;else L.id>=o&&(J+=4);L.next()}G=te,U+=V,Q+=J}return(O<0||U==w)&&(K.size=U,K.start=G,K.skip=Q),K.size>4?K:void 0}function R(w,O,L){let{id:U,start:G,end:Q,size:Y}=a;if(a.next(),Y>=0&&U<o){let K=L;if(Y>4){let j=a.pos-(Y-4);for(;a.pos>j;)L=R(w,O,L)}O[--L]=K,O[--L]=Q-w,O[--L]=G-w,O[--L]=U}else Y==-3?c=U:Y==-4&&(A=U);return L}let I=[],b=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,I,b,-1,0);let B=(e=t.length)!==null&&e!==void 0?e:I.length?b[0]+I[0].length:0;return new ds(l[t.topID],I.reverse(),b.reverse(),B)}const eW=new WeakMap;function Sb(t,e){if(!t.isAnonymous||e instanceof Uf||e.type!=t)return 1;let n=eW.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof ds)){n=1;break}n+=Sb(t,r)}eW.set(e,n)}return n}function L2(t,e,n,r,i,s,o,a,l){let c=0;for(let E=r;E<i;E++)c+=Sb(t,e[E]);let A=Math.ceil(c*1.5/8),u=[],h=[];function p(E,T,y,R,I){for(let b=y;b<R;){let B=b,w=T[b],O=Sb(t,E[b]);for(b++;b<R;b++){let L=Sb(t,E[b]);if(O+L>=A)break;O+=L}if(b==B+1){if(O>A){let L=E[B];p(L.children,L.positions,0,L.children.length,T[B]+I);continue}u.push(E[B])}else{let L=T[b-1]+E[b-1].length-w;u.push(L2(t,E,T,B,b,w,L,null,l))}h.push(w+I-s)}}return p(e,n,r,i,0),(a||l)(u,h,o)}class km{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new km(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let A=a<n.length?n[a]:null,u=A?A.fromA:1e9;if(u-l>=r)for(;o&&o.from<u;){let h=o;if(l>=h.from||u<=h.to||c){let p=Math.max(h.from,l)-c,E=Math.min(h.to,u)-c;h=p>=E?null:new km(p,E,h.tree,h.offset+c,a>0,!!A)}if(h&&i.push(h),o.to>u)break;o=s<e.length?e[s++]:null}if(!A)break;l=A.toA,c=A.toA-A.toB}return i}}let OJ=class{startParse(e,n,r){return typeof e=="string"&&(e=new POe(e)),r=r?r.length?r.map(i=>new v1(i.from,i.to)):[new v1(0,0)]:[new v1(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}};class POe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Ar({perNode:!0});let UOe=0;class ac{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=UOe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof ac&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new ac(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new Zv(e);return r=>r.modified.indexOf(n)>-1?r:Zv.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let FOe=0;class Zv{constructor(e){this.name=e,this.instances=[],this.id=FOe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&HOe(n,a.modified));if(r)return r;let i=[],s=new ac(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=GOe(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(Zv.get(a,l));return s}}function HOe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function GOe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function wJ(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let u=0;;){if(a=="..."&&u>0&&u+3==i.length){o=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!h)throw new RangeError("Invalid path: "+i);if(s.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),u+=h[0].length,u==i.length)break;let p=i[u++];if(u==i.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+i);a=i.slice(u)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let A=new Qx(r,o,l>0?s.slice(0,l):null);e[c]=A.sort(e[c])}}return LJ.add(e)}const LJ=new Ar({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let s=new Qx(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});class Qx{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Qx.empty=new Qx([],2,null);function BJ(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function QOe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function VOe(t,e,n,r=0,i=t.length){let s=new $Oe(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class $Oe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(o)));let c=i,A=WOe(e)||Qx.empty,u=QOe(s,A.tags);if(u&&(c&&(c+=" "),c+=u,A.mode==1&&(i+=(i?" ":"")+u)),this.startSpan(Math.max(n,a),c),A.opaque)return;let h=e.tree&&e.tree.prop(Ar.mounted);if(h&&h.overlay){let p=e.node.enter(h.overlay[0].from+a,1),E=this.highlighters.filter(y=>!y.scope||y.scope(h.tree.type)),T=e.firstChild();for(let y=0,R=a;;y++){let I=y<h.overlay.length?h.overlay[y]:null,b=I?I.from+a:l,B=Math.max(n,R),w=Math.min(r,b);if(B<w&&T)for(;e.from<w&&(this.highlightRange(e,B,w,i,s),this.startSpan(Math.min(w,e.to),c),!(e.to>=b||!e.nextSibling())););if(!I||b>r)break;R=I.to+a,R>n&&(this.highlightRange(p.cursor(),Math.max(n,I.from+a),Math.min(r,R),"",E),this.startSpan(Math.min(r,R),c))}T&&e.parent()}else if(e.firstChild()){h&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function WOe(t){let e=t.type.prop(LJ);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ft=ac.define,W_=ft(),sf=ft(),tW=ft(sf),nW=ft(sf),of=ft(),Y_=ft(of),O1=ft(of),ZA=ft(),Zp=ft(ZA),YA=ft(),jA=ft(),iP=ft(),L0=ft(iP),j_=ft(),Re={comment:W_,lineComment:ft(W_),blockComment:ft(W_),docComment:ft(W_),name:sf,variableName:ft(sf),typeName:tW,tagName:ft(tW),propertyName:nW,attributeName:ft(nW),className:ft(sf),labelName:ft(sf),namespace:ft(sf),macroName:ft(sf),literal:of,string:Y_,docString:ft(Y_),character:ft(Y_),attributeValue:ft(Y_),number:O1,integer:ft(O1),float:ft(O1),bool:ft(of),regexp:ft(of),escape:ft(of),color:ft(of),url:ft(of),keyword:YA,self:ft(YA),null:ft(YA),atom:ft(YA),unit:ft(YA),modifier:ft(YA),operatorKeyword:ft(YA),controlKeyword:ft(YA),definitionKeyword:ft(YA),moduleKeyword:ft(YA),operator:jA,derefOperator:ft(jA),arithmeticOperator:ft(jA),logicOperator:ft(jA),bitwiseOperator:ft(jA),compareOperator:ft(jA),updateOperator:ft(jA),definitionOperator:ft(jA),typeOperator:ft(jA),controlOperator:ft(jA),punctuation:iP,separator:ft(iP),bracket:L0,angleBracket:ft(L0),squareBracket:ft(L0),paren:ft(L0),brace:ft(L0),content:ZA,heading:Zp,heading1:ft(Zp),heading2:ft(Zp),heading3:ft(Zp),heading4:ft(Zp),heading5:ft(Zp),heading6:ft(Zp),contentSeparator:ft(ZA),list:ft(ZA),quote:ft(ZA),emphasis:ft(ZA),strong:ft(ZA),link:ft(ZA),monospace:ft(ZA),strikethrough:ft(ZA),inserted:ft(),deleted:ft(),changed:ft(),invalid:ft(),meta:j_,documentMeta:ft(j_),annotation:ft(j_),processingInstruction:ft(j_),definition:ac.defineModifier("definition"),constant:ac.defineModifier("constant"),function:ac.defineModifier("function"),standard:ac.defineModifier("standard"),local:ac.defineModifier("local"),special:ac.defineModifier("special")};for(let t in Re){let e=Re[t];e instanceof ac&&(e.name=t)}BJ([{tag:Re.link,class:"tok-link"},{tag:Re.heading,class:"tok-heading"},{tag:Re.emphasis,class:"tok-emphasis"},{tag:Re.strong,class:"tok-strong"},{tag:Re.keyword,class:"tok-keyword"},{tag:Re.atom,class:"tok-atom"},{tag:Re.bool,class:"tok-bool"},{tag:Re.url,class:"tok-url"},{tag:Re.labelName,class:"tok-labelName"},{tag:Re.inserted,class:"tok-inserted"},{tag:Re.deleted,class:"tok-deleted"},{tag:Re.literal,class:"tok-literal"},{tag:Re.string,class:"tok-string"},{tag:Re.number,class:"tok-number"},{tag:[Re.regexp,Re.escape,Re.special(Re.string)],class:"tok-string2"},{tag:Re.variableName,class:"tok-variableName"},{tag:Re.local(Re.variableName),class:"tok-variableName tok-local"},{tag:Re.definition(Re.variableName),class:"tok-variableName tok-definition"},{tag:Re.special(Re.variableName),class:"tok-variableName2"},{tag:Re.definition(Re.propertyName),class:"tok-propertyName tok-definition"},{tag:Re.typeName,class:"tok-typeName"},{tag:Re.namespace,class:"tok-namespace"},{tag:Re.className,class:"tok-className"},{tag:Re.macroName,class:"tok-macroName"},{tag:Re.propertyName,class:"tok-propertyName"},{tag:Re.operator,class:"tok-operator"},{tag:Re.comment,class:"tok-comment"},{tag:Re.meta,class:"tok-meta"},{tag:Re.invalid,class:"tok-invalid"},{tag:Re.punctuation,class:"tok-punctuation"}]);var w1;const _T=new Ar;function YOe(t){return wt.define({combine:t?e=>e.concat(t):void 0})}const jOe=new Ar;class rA{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Ir.prototype.hasOwnProperty("tree")||Object.defineProperty(Ir.prototype,"tree",{get(){return ro(this)}}),this.parser=n,this.extension=[Ff.of(this),Ir.languageData.of((s,o,a)=>{let l=rW(s,o,a),c=l.type.prop(_T);if(!c)return[];let A=s.facet(c),u=l.type.prop(jOe);if(u){let h=l.resolve(o-l.from,a);for(let p of u)if(p.test(h,s)){let E=s.facet(p.facet);return p.type=="replace"?E:E.concat(A)}}return A})].concat(r)}isActiveAt(e,n,r=-1){return rW(e,n,r).type.prop(_T)==this.data}findRegions(e){let n=e.facet(Ff);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(_T)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Ar.mounted);if(a){if(a.tree.prop(_T)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof ds&&i(c,s.positions[l]+o)}};return i(ro(e),0),r}get allowsNesting(){return!0}}rA.setState=jn.define();function rW(t,e,n){let r=t.facet(Ff),i=ro(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Xi.ExcludeBuffers|Xi.EnterBracketed))s.type.isTop&&(i=s);return i}class eO extends rA{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=YOe(e.languageData);return new eO(n,e.parser.configure({props:[_T.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new eO(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ro(t){let e=t.field(rA.state,!1);return e?e.tree:ds.empty}class KOe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let B0=null;class tO{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new tO(e,n,[],ds.empty,0,r,[],null)}startParse(){return this.parser.startParse(new KOe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=ds.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(km.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(km.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=B0;B0=this;try{return e()}finally{B0=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=iW(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,A,u,h)=>l.push({fromA:c,toA:A,fromB:u,toB:h})),r=km.applyChanges(r,l),i=ds.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let A=e.mapPos(c.from,1),u=e.mapPos(c.to,-1);A<u&&a.push({from:A,to:u})}}}return new tO(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=iW(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends OJ{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=B0;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new ds(Rc.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return B0}}function iW(t,e,n){return km.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class TS{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new TS(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=tO.create(e.facet(Ff).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new TS(r)}}rA.state=Ro.define({create:TS.init,update(t,e){for(let n of e.effects)if(n.is(rA.setState))return n.value;return e.startState.facet(Ff)!=e.state.facet(Ff)?TS.init(e.state):t.apply(e)}});let DJ=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(DJ=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const L1=typeof navigator<"u"&&(!((w1=navigator.scheduling)===null||w1===void 0)&&w1.isInputPending)?()=>navigator.scheduling.isInputPending():null,zOe=fs.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(rA.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(rA.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=DJ(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(rA.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!L1?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>L1&&L1()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:rA.setState.of(new TS(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Xa(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ff=wt.define({combine(t){return t.length?t[0]:null},enables:t=>[rA.state,zOe,mt.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class qOe{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const XOe=wt.define(),Vw=wt.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function nO(t){let e=t.facet(Vw);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Vx(t,e){let n="",r=t.tabSize,i=t.facet(Vw)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function B2(t,e){t instanceof Ir&&(t=new $w(t));for(let r of t.state.facet(XOe)){let i=r(t,e);if(i!==void 0)return i}let n=ro(t.state);return n.length>=e?JOe(t,n,e):null}class $w{constructor(e,n={}){this.state=e,this.options=n,this.unit=nO(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return QS(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const kJ=new Ar;function JOe(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return MJ(r,t,n)}function MJ(t,e,n){for(let r=t;r;r=r.next){let i=ewe(r.node);if(i)return i(D2.create(e,n,r))}return 0}function ZOe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function ewe(t){let e=t.type.prop(kJ);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Ar.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>iwe(o,!0,1,void 0,s&&!ZOe(o)?i.from:void 0)}return t.parent==null?twe:null}function twe(){return 0}class D2 extends $w{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new D2(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(nwe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return MJ(this.context.next,this.base,this.pos)}}function nwe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function rwe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function iwe(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=rwe(t);return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function swe({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const owe=200;function awe(){return Ir.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+owe)return t;let s=n.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:c}of o.selection.ranges){let A=o.doc.lineAt(c);if(A.from==a)continue;a=A.from;let u=B2(o,A.from);if(u==null)continue;let h=/^\s*/.exec(A.text)[0],p=Vx(o,u);h!=p&&l.push({from:A.from,to:A.from+h.length,insert:p})}return l.length?[t,{changes:l,sequential:!0}]:t})}const lwe=wt.define(),PJ=new Ar;function cwe(t,e,n){let r=ro(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(PJ);if(l&&(a.to<r.length-50||r.length==t.doc.length||!Awe(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(s=c)}}return s}function Awe(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function rO(t,e,n){for(let r of t.facet(lwe)){let i=r(t,e,n);if(i)return i}return cwe(t,e,n)}function UJ(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Ww=jn.define({map:UJ}),_R=jn.define({map:UJ});function FJ(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Xm=Ro.define({create(){return un.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=sW(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(Ww)&&!uwe(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(QJ),i=r?un.replace({widget:new Ewe(r(e.state,n.value))}):oW;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(_R)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=sW(t,e.selection.main.head)),t},provide:t=>mt.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(oW.range(r,i))}return un.set(e,!0)}});function sW(t,e,n=e){let r=!1;return t.between(e,n,(i,s)=>{i<n&&s>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,s)=>i>=n||s<=e}):t}function iO(t,e,n){var r;let i=null;return(r=t.field(Xm,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function uwe(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function HJ(t,e){return t.field(Xm,!1)?e:e.concat(jn.appendConfig.of(VJ()))}const hwe=t=>{for(let e of FJ(t)){let n=rO(t.state,e.from,e.to);if(n)return t.dispatch({effects:HJ(t.state,[Ww.of(n),GJ(t,n)])}),!0}return!1},dwe=t=>{if(!t.state.field(Xm,!1))return!1;let e=[];for(let n of FJ(t)){let r=iO(t.state,n.from,n.to);r&&e.push(_R.of(r),GJ(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function GJ(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return mt.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const fwe=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=rO(e,i.from,i.to);s&&n.push(Ww.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:HJ(t.state,n)}),!!n.length},pwe=t=>{let e=t.state.field(Xm,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(_R.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},mwe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:hwe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:dwe},{key:"Ctrl-Alt-[",run:fwe},{key:"Ctrl-Alt-]",run:pwe}],gwe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},QJ=wt.define({combine(t){return vu(t,gwe)}});function VJ(t){return[Xm,ywe]}function $J(t,e){let{state:n}=t,r=n.facet(QJ),i=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=iO(t.state,a.from,a.to);l&&t.dispatch({effects:_R.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const oW=un.replace({widget:new class extends Ou{toDOM(t){return $J(t,null)}}});class Ewe extends Ou{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return $J(e,this.value)}}const Twe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class B1 extends qh{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Swe(t={}){let e={...Twe,...t},n=new B1(e,!0),r=new B1(e,!1),i=fs.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Ff)!=o.state.facet(Ff)||o.startState.field(Xm,!1)!=o.state.field(Xm,!1)||ro(o.startState)!=ro(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Kh;for(let l of o.viewportLineBlocks){let c=iO(o.state,l.from,l.to)?r:rO(o.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,SOe({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||dr.empty},initialSpacer(){return new B1(e,!1)},domEventHandlers:{...s,click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=iO(o.state,a.from,a.to);if(c)return o.dispatch({effects:_R.of(c)}),!0;let A=rO(o.state,a.from,a.to);return A?(o.dispatch({effects:Ww.of(A)}),!0):!1}}}),VJ()]}const ywe=mt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class VS{constructor(e,n){this.specs=e;let r;function i(a){let l=kf.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof rA?a=>a.prop(_T)==o.data:o?a=>a==o:void 0,this.style=BJ(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new kf(r):null,this.themeType=n.themeType}static define(e,n){return new VS(e,n||{})}}const sP=wt.define(),WJ=wt.define({combine(t){return t.length?[t[0]]:null}});function D1(t){let e=t.facet(sP);return e.length?e:t.facet(WJ)}function k2(t,e){let n=[xwe],r;return t instanceof VS&&(t.module&&n.push(mt.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(WJ.of(t)):r?n.push(sP.computeN([mt.darkTheme],i=>i.facet(mt.darkTheme)==(r=="dark")?[t]:[])):n.push(sP.of(t)),n}class Cwe{constructor(e){this.markCache=Object.create(null),this.tree=ro(e.state),this.decorations=this.buildDeco(e,D1(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=ro(e.state),r=D1(e.state),i=r!=D1(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return un.none;let r=new Kh;for(let{from:i,to:s}of e.visibleRanges)VOe(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=un.mark({class:l})))},i,s);return r.finish()}}const xwe=ug.high(fs.fromClass(Cwe,{decorations:t=>t.decorations})),Rwe=VS.define([{tag:Re.meta,color:"#404740"},{tag:Re.link,textDecoration:"underline"},{tag:Re.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Re.emphasis,fontStyle:"italic"},{tag:Re.strong,fontWeight:"bold"},{tag:Re.strikethrough,textDecoration:"line-through"},{tag:Re.keyword,color:"#708"},{tag:[Re.atom,Re.bool,Re.url,Re.contentSeparator,Re.labelName],color:"#219"},{tag:[Re.literal,Re.inserted],color:"#164"},{tag:[Re.string,Re.deleted],color:"#a11"},{tag:[Re.regexp,Re.escape,Re.special(Re.string)],color:"#e40"},{tag:Re.definition(Re.variableName),color:"#00f"},{tag:Re.local(Re.variableName),color:"#30a"},{tag:[Re.typeName,Re.namespace],color:"#085"},{tag:Re.className,color:"#167"},{tag:[Re.special(Re.variableName),Re.macroName],color:"#256"},{tag:Re.definition(Re.propertyName),color:"#00c"},{tag:Re.comment,color:"#940"},{tag:Re.invalid,color:"#f00"}]),Iwe=mt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),YJ=1e4,jJ="()[]{}",KJ=wt.define({combine(t){return vu(t,{afterCursor:!0,brackets:jJ,maxScanDistance:YJ,renderMatch:bwe})}}),_we=un.mark({class:"cm-matchingBracket"}),Nwe=un.mark({class:"cm-nonmatchingBracket"});function bwe(t){let e=[],n=t.matched?_we:Nwe;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const vwe=Ro.define({create(){return un.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(KJ);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=gu(e.state,i.head,-1,r)||i.head>0&&gu(e.state,i.head-1,1,r)||r.afterCursor&&(gu(e.state,i.head,1,r)||i.head<e.state.doc.length&&gu(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return un.set(n,!0)},provide:t=>mt.decorations.from(t)}),Owe=[vwe,Iwe];function wwe(t={}){return[KJ.of(t),Owe]}const Lwe=new Ar;function oP(t,e,n){let r=t.prop(e<0?Ar.openedBy:Ar.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function aP(t){let e=t.type.prop(Lwe);return e?e(t.node):t}function gu(t,e,n,r={}){let i=r.maxScanDistance||YJ,s=r.brackets||jJ,o=ro(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=oP(l.type,n,s);if(c&&l.from<l.to){let A=aP(l);if(A&&(n>0?e>=A.from&&e<A.to:e>A.from&&e<=A.to))return Bwe(t,e,n,l,A,c,s)}}return Dwe(t,e,n,o,a.type,i,s)}function Bwe(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,A=a==null?void 0:a.cursor();if(A&&(n<0?A.childBefore(r.from):A.childAfter(r.to)))do if(n<0?A.to<=r.from:A.from>=r.to){if(c==0&&s.indexOf(A.type.name)>-1&&A.from<A.to){let u=aP(A);return{start:l,end:u?{from:u.from,to:u.to}:void 0,matched:!0}}else if(oP(A.type,n,o))c++;else if(oP(A.type,-n,o)){if(c==0){let u=aP(A);return{start:l,end:u&&u.from<u.to?{from:u.from,to:u.to}:void 0,matched:!1}}c--}}while(n<0?A.prevSibling():A.nextSibling());return{start:l,matched:!1}}function Dwe(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},A=t.doc.iterRange(e,n>0?t.doc.length:0),u=0;for(let h=0;!A.next().done&&h<=s;){let p=A.value;n<0&&(h+=p.length);let E=e+h*n;for(let T=n>0?0:p.length-1,y=n>0?p.length:-1;T!=y;T+=n){let R=o.indexOf(p[T]);if(!(R<0||r.resolveInner(E+T,1).type!=i))if(R%2==0==n>0)u++;else{if(u==1)return{start:c,end:{from:E+T,to:E+T+1},matched:R>>1==l>>1};u--}}n>0&&(h+=p.length)}return A.done?{start:c,matched:!1}:null}const kwe=Object.create(null),aW=[Rc.none],lW=[],cW=Object.create(null),Mwe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Mwe[t]=Pwe(kwe,e);function k1(t,e){lW.indexOf(t)>-1||(lW.push(t),console.warn(e))}function Pwe(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let A=t[c]||Re[c];A?typeof A=="function"?l.length?l=l.map(A):k1(c,`Modifier ${c} used at start of tag`):l.length?k1(c,`Tag ${c} used as modifier`):l=Array.isArray(A)?A:[A]:k1(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=cW[i];if(s)return s.id;let o=cW[i]=Rc.define({id:aW.length,name:r,props:[wJ({[r]:n})]});return aW.push(o),o.id}pi.RTL,pi.LTR;const Uwe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=P2(t.state,n.from);return r.line?Fwe(t):r.block?Gwe(t):!1};function M2(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const Fwe=M2($we,0),Hwe=M2(zJ,0),Gwe=M2((t,e)=>zJ(t,e,Vwe(e)),0);function P2(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const D0=50;function Qwe(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-D0,r),o=t.sliceDoc(i,i+D0),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let A,u;i-r<=2*D0?A=u=t.sliceDoc(r,i):(A=t.sliceDoc(r,r+D0),u=t.sliceDoc(i-D0,i));let h=/^\s*/.exec(A)[0].length,p=/\s*$/.exec(u)[0].length,E=u.length-p-n.length;return A.slice(h,h+e.length)==e&&u.slice(E,E+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(A.charAt(h+e.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(u.charAt(E-1))?1:0}}:null}function Vwe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function zJ(t,e,n=e.selection.ranges){let r=n.map(s=>P2(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>Qwe(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:A}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:A.pos-A.margin,to:A.pos+l.close.length})}return{changes:s}}return null}function $we(t,e,n=e.selection.ranges){let r=[],i=-1;e:for(let{from:s,to:o}of n){let a=r.length,l=1e9,c;for(let A=s;A<=o;){let u=e.doc.lineAt(A);if(c==null&&(c=P2(e,u.from).line,!c))continue e;if(u.from>i&&(s==o||o>u.from)){i=u.from;let h=/^\s*/.exec(u.text)[0].length,p=h==u.length,E=u.text.slice(h,h+c.length)==c?h:-1;h<u.text.length&&h<l&&(l=h),r.push({line:u,comment:E,token:c,indent:h,empty:p,single:!1})}A=u.to+1}if(l<1e9)for(let A=a;A<r.length;A++)r[A].indent<r[A].line.text.length&&(r[A].indent=l);r.length==a+1&&(r[a].single=!0)}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:A,single:u}of r)(u||!A)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,A=c+l.length;o.text[A-o.from]==" "&&A++,s.push({from:c,to:A})}return{changes:s}}return null}const lP=bu.define(),Wwe=bu.define(),Ywe=wt.define(),qJ=wt.define({combine(t){return vu(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),XJ=Ro.define({create(){return Eu.empty},update(t,e){let n=e.state.facet(qJ),r=e.annotation(lP);if(r){let l=Ja.fromTransaction(e,r.selection),c=r.side,A=c==0?t.undone:t.done;return l?A=sO(A,A.length,n.minDepth,l):A=e7(A,e.startState.selection),new Eu(c==0?r.rest:A,c==0?A:r.rest)}let i=e.annotation(Wwe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Us.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Ja.fromTransaction(e),o=e.annotation(Us.time),a=e.annotation(Us.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Eu(t.done.map(Ja.fromJSON),t.undone.map(Ja.fromJSON))}});function jwe(t={}){return[XJ,qJ.of(t),mt.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?JJ:e.inputType=="historyRedo"?cP:null;return r?(e.preventDefault(),r(n)):!1}})]}function Yw(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(XJ,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const JJ=Yw(0,!1),cP=Yw(1,!1),Kwe=Yw(0,!0),zwe=Yw(1,!0);class Ja{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Ja(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Ja(e.changes&&Ls.fromJSON(e.changes),[],e.mapped&&Su.fromJSON(e.mapped),e.startSelection&&Qe.fromJSON(e.startSelection),e.selectionsAfter.map(Qe.fromJSON))}static fromTransaction(e,n){let r=hc;for(let i of e.startState.facet(Ywe)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new Ja(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,hc)}static selection(e){return new Ja(void 0,hc,void 0,void 0,e)}}function sO(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function qwe(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let c=n[l++],A=n[l++];a>=c&&o<=A&&(r=!0)}}),r}function Xwe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function ZJ(t,e){return t.length?e.length?t.concat(e):t:e}const hc=[],Jwe=200;function e7(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Jwe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),sO(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Ja.selection([e])]}function Zwe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function M1(t,e){if(!t.length)return t;let n=t.length,r=hc;for(;n;){let i=eLe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Ja.selection(r)]:hc}function eLe(t,e,n){let r=ZJ(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):hc,n);if(!t.changes)return Ja.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Ja(i,jn.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const tLe=/^(input\.type|delete)($|\.)/;class Eu{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Eu(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||tLe.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,qwe(a.changes,e.changes))||r=="input.type.compose")?o=sO(o,o.length-1,i.minDepth,new Ja(e.changes.compose(a.changes),ZJ(jn.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,hc)):o=sO(o,o.length,i.minDepth,e),new Eu(o,hc,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:hc;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Xwe(s[s.length-1],e)?this:new Eu(e7(this.done,e),this.undone,n,r)}addMapping(e){return new Eu(M1(this.done,e),M1(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||(s.startSelection?s.startSelection.map(s.changes.invertedDesc,1):n.selection);if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:lP.of({side:e,rest:Zwe(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?hc:i.slice(0,i.length-1);return s.mapped&&(a=M1(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:lP.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Eu.empty=new Eu(hc,hc);const nLe=[{key:"Mod-z",run:JJ,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:cP,preventDefault:!0},{linux:"Ctrl-Shift-z",run:cP,preventDefault:!0},{key:"Mod-u",run:Kwe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:zwe,preventDefault:!0}];function $S(t,e){return Qe.create(t.ranges.map(e),t.mainIndex)}function pA(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function mA({state:t,dispatch:e},n){let r=$S(t.selection,n);return r.eq(t.selection,!0)?!1:(e(pA(t,r)),!0)}function jw(t,e){return Qe.cursor(e?t.to:t.from)}function t7(t,e){return mA(t,n=>n.empty?t.moveByChar(n,e):jw(n,e))}function jo(t){return t.textDirectionAt(t.state.selection.main.head)==pi.LTR}const n7=t=>t7(t,!jo(t)),r7=t=>t7(t,jo(t));function i7(t,e){return mA(t,n=>n.empty?t.moveByGroup(n,e):jw(n,e))}const rLe=t=>i7(t,!jo(t)),iLe=t=>i7(t,jo(t));function sLe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Kw(t,e,n){let r=ro(t).resolveInner(e.head),i=n?Ar.closedBy:Ar.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;sLe(t,c,i)?r=c:l=n?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=n?gu(t,r.from,1):gu(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,Qe.cursor(a,n?-1:1)}const oLe=t=>mA(t,e=>Kw(t.state,e,!jo(t))),aLe=t=>mA(t,e=>Kw(t.state,e,jo(t)));function s7(t,e){return mA(t,n=>{if(!n.empty)return jw(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const o7=t=>s7(t,!1),a7=t=>s7(t,!0);function l7(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(mt.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function c7(t,e){let n=l7(t),{state:r}=t,i=$S(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):jw(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(s=mt.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(pA(r,i),{effects:s}),!0}const AW=t=>c7(t,!1),AP=t=>c7(t,!0);function ep(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Qe.cursor(r.from+s))}return i}const lLe=t=>mA(t,e=>ep(t,e,!0)),cLe=t=>mA(t,e=>ep(t,e,!1)),ALe=t=>mA(t,e=>ep(t,e,!jo(t))),uLe=t=>mA(t,e=>ep(t,e,jo(t))),hLe=t=>mA(t,e=>Qe.cursor(t.lineBlockAt(e.head).from,1)),dLe=t=>mA(t,e=>Qe.cursor(t.lineBlockAt(e.head).to,-1));function fLe(t,e,n){let r=!1,i=$S(t.selection,s=>{let o=gu(t,s.head,-1)||gu(t,s.head,1)||s.head>0&&gu(t,s.head-1,1)||s.head<t.doc.length&&gu(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Qe.cursor(a)});return r?(e(pA(t,i)),!0):!1}const pLe=({state:t,dispatch:e})=>fLe(t,e);function bc(t,e){let n=$S(t.state.selection,r=>{let i=e(r);return Qe.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(pA(t.state,n)),!0)}function A7(t,e){return bc(t,n=>t.moveByChar(n,e))}const u7=t=>A7(t,!jo(t)),h7=t=>A7(t,jo(t));function d7(t,e){return bc(t,n=>t.moveByGroup(n,e))}const mLe=t=>d7(t,!jo(t)),gLe=t=>d7(t,jo(t)),ELe=t=>bc(t,e=>Kw(t.state,e,!jo(t))),TLe=t=>bc(t,e=>Kw(t.state,e,jo(t)));function f7(t,e){return bc(t,n=>t.moveVertically(n,e))}const p7=t=>f7(t,!1),m7=t=>f7(t,!0);function g7(t,e){return bc(t,n=>t.moveVertically(n,e,l7(t).height))}const uW=t=>g7(t,!1),hW=t=>g7(t,!0),SLe=t=>bc(t,e=>ep(t,e,!0)),yLe=t=>bc(t,e=>ep(t,e,!1)),CLe=t=>bc(t,e=>ep(t,e,!jo(t))),xLe=t=>bc(t,e=>ep(t,e,jo(t))),RLe=t=>bc(t,e=>Qe.cursor(t.lineBlockAt(e.head).from)),ILe=t=>bc(t,e=>Qe.cursor(t.lineBlockAt(e.head).to)),dW=({state:t,dispatch:e})=>(e(pA(t,{anchor:0})),!0),fW=({state:t,dispatch:e})=>(e(pA(t,{anchor:t.doc.length})),!0),pW=({state:t,dispatch:e})=>(e(pA(t,{anchor:t.selection.main.anchor,head:0})),!0),mW=({state:t,dispatch:e})=>(e(pA(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),_Le=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),NLe=({state:t,dispatch:e})=>{let n=zw(t).map(({from:r,to:i})=>Qe.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Qe.create(n),userEvent:"select"})),!0},bLe=({state:t,dispatch:e})=>{let n=$S(t.selection,r=>{let i=ro(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return Qe.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(pA(t,n)),!0)};function E7(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let s of n.selection.ranges){let o=n.doc.lineAt(s.head);if(e?o.to<t.state.doc.length:o.from>0)for(let a=s;;){let l=t.moveVertically(a,e);if(l.head<o.from||l.head>o.to){i.some(c=>c.head==l.head)||i.push(l);break}else{if(l.head==a.head)break;a=l}}}return i.length==r.ranges.length?!1:(t.dispatch(pA(n,Qe.create(i,i.length-1))),!0)}const vLe=t=>E7(t,!1),OLe=t=>E7(t,!0),wLe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Qe.create([n.main]):n.main.empty||(r=Qe.create([Qe.cursor(n.main.head)])),r?(e(pA(t,r)),!0):!1};function NR(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=K_(t,l,!1)):l>o&&(n="delete.forward",l=K_(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=K_(t,o,!1),a=K_(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Qe.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?mt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function K_(t,e,n){if(t instanceof mt)for(let r of t.state.facet(mt.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const T7=(t,e,n)=>NR(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=QS(a,s.tabSize),A=c%nO(s)||nO(s);for(let u=0;u<A&&a[a.length-1-u]==" ";u++)i--;l=i}else l=to(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=to(o.text,l-o.from,!1,!1)+o.from);return l}),uP=t=>T7(t,!1,!0),S7=t=>T7(t,!0,!1),y7=(t,e)=>NR(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=to(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),A=o(c);if(a!=null&&A!=a)break;(c!=" "||r!=n.head)&&(a=A),r=l}return r}),C7=t=>y7(t,!1),LLe=t=>y7(t,!0),BLe=t=>NR(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),DLe=t=>NR(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),kLe=t=>NR(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),MLe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:kr.of(["",""])},range:Qe.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},PLe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:to(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:to(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:Qe.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function zw(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function x7(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of zw(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(Qe.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(Qe.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Qe.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const ULe=({state:t,dispatch:e})=>x7(t,e,!1),FLe=({state:t,dispatch:e})=>x7(t,e,!0);function R7(t,e,n){if(t.readOnly)return!1;let r=[];for(let s of zw(t))n?r.push({from:s.from,insert:t.doc.slice(s.from,s.to)+t.lineBreak}):r.push({from:s.to,insert:t.lineBreak+t.doc.slice(s.from,s.to)});let i=t.changes(r);return e(t.update({changes:i,selection:t.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const HLe=({state:t,dispatch:e})=>R7(t,e,!1),GLe=({state:t,dispatch:e})=>R7(t,e,!0),QLe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(zw(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=$S(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function VLe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=ro(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Ar.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const gW=I7(!1),$Le=I7(!0);function I7(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&VLe(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new $w(e,{simulateBreak:s,simulateDoubleBreak:!!l}),A=B2(c,s);for(A==null&&(A=QS(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let u=["",Vx(e,A)];return l&&u.push(Vx(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:kr.of(u)},range:Qe.cursor(s+1+u[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function U2(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:Qe.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const WLe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new $w(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=U2(t,(s,o,a)=>{let l=B2(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],A=Vx(t,l);(c!=A||a.from<s.from+c.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:A}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},_7=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(U2(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Vw)})}),{userEvent:"input.indent"})),!0),N7=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(U2(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=QS(i,t.tabSize),o=0,a=Vx(t,Math.max(0,s-nO(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),YLe=t=>(t.setTabFocusMode(),!0),jLe=[{key:"Ctrl-b",run:n7,shift:u7,preventDefault:!0},{key:"Ctrl-f",run:r7,shift:h7},{key:"Ctrl-p",run:o7,shift:p7},{key:"Ctrl-n",run:a7,shift:m7},{key:"Ctrl-a",run:hLe,shift:RLe},{key:"Ctrl-e",run:dLe,shift:ILe},{key:"Ctrl-d",run:S7},{key:"Ctrl-h",run:uP},{key:"Ctrl-k",run:BLe},{key:"Ctrl-Alt-h",run:C7},{key:"Ctrl-o",run:MLe},{key:"Ctrl-t",run:PLe},{key:"Ctrl-v",run:AP}],KLe=[{key:"ArrowLeft",run:n7,shift:u7,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:rLe,shift:mLe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:ALe,shift:CLe,preventDefault:!0},{key:"ArrowRight",run:r7,shift:h7,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:iLe,shift:gLe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:uLe,shift:xLe,preventDefault:!0},{key:"ArrowUp",run:o7,shift:p7,preventDefault:!0},{mac:"Cmd-ArrowUp",run:dW,shift:pW},{mac:"Ctrl-ArrowUp",run:AW,shift:uW},{key:"ArrowDown",run:a7,shift:m7,preventDefault:!0},{mac:"Cmd-ArrowDown",run:fW,shift:mW},{mac:"Ctrl-ArrowDown",run:AP,shift:hW},{key:"PageUp",run:AW,shift:uW},{key:"PageDown",run:AP,shift:hW},{key:"Home",run:cLe,shift:yLe,preventDefault:!0},{key:"Mod-Home",run:dW,shift:pW},{key:"End",run:lLe,shift:SLe,preventDefault:!0},{key:"Mod-End",run:fW,shift:mW},{key:"Enter",run:gW,shift:gW},{key:"Mod-a",run:_Le},{key:"Backspace",run:uP,shift:uP,preventDefault:!0},{key:"Delete",run:S7,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:C7,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:LLe,preventDefault:!0},{mac:"Mod-Backspace",run:DLe,preventDefault:!0},{mac:"Mod-Delete",run:kLe,preventDefault:!0}].concat(jLe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),zLe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:oLe,shift:ELe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:aLe,shift:TLe},{key:"Alt-ArrowUp",run:ULe},{key:"Shift-Alt-ArrowUp",run:HLe},{key:"Alt-ArrowDown",run:FLe},{key:"Shift-Alt-ArrowDown",run:GLe},{key:"Mod-Alt-ArrowUp",run:vLe},{key:"Mod-Alt-ArrowDown",run:OLe},{key:"Escape",run:wLe},{key:"Mod-Enter",run:$Le},{key:"Alt-l",mac:"Ctrl-l",run:NLe},{key:"Mod-i",run:bLe,preventDefault:!0},{key:"Mod-[",run:N7},{key:"Mod-]",run:_7},{key:"Mod-Alt-\\",run:WLe},{key:"Shift-Mod-k",run:QLe},{key:"Shift-Mod-\\",run:pLe},{key:"Mod-/",run:Uwe},{key:"Alt-A",run:Hwe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:YLe}].concat(KLe),qLe={key:"Tab",run:_7,shift:N7},EW=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class SS{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(EW(a)):EW,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Wa(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=A2(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=hu(e);let i=this.normalize(n);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(SS.prototype[Symbol.iterator]=function(){return this});const b7={from:-1,to:-1,match:/.*/.exec("")},F2="gm"+(/x/.unicode==null?"":"u");class v7{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=b7,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new O7(e,n,r,i,s);this.re=new RegExp(n,F2+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=oO(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=oO(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const P1=new WeakMap;class WT{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=P1.get(e);if(!i||i.from>=r||i.to<=n){let a=new WT(n,e.sliceString(n,r));return P1.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),P1.set(e,new WT(o,s)),new WT(n,s.slice(n-o,r-o))}}class O7{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=b7,this.matchPos=oO(e,i),this.re=new RegExp(n,F2+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=WT.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=oO(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=WT.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(v7.prototype[Symbol.iterator]=O7.prototype[Symbol.iterator]=function(){return this});function XLe(t){try{return new RegExp(t,F2),!0}catch{return!1}}function oO(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}const JLe=t=>{let{state:e}=t,n=String(e.doc.lineAt(t.state.selection.main.head).number),{close:r,result:i}=mOe(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:n},focus:!0,submitLabel:e.phrase("go")});return i.then(s=>{let o=s&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(s.elements.line.value);if(!o){t.dispatch({effects:r});return}let a=e.doc.lineAt(e.selection.main.head),[,l,c,A,u]=o,h=A?+A.slice(1):0,p=c?+c:a.number;if(c&&u){let y=p/100;l&&(y=y*(l=="-"?-1:1)+a.number/e.doc.lines),p=Math.round(e.doc.lines*y)}else c&&l&&(p=p*(l=="-"?-1:1)+a.number);let E=e.doc.line(Math.max(1,Math.min(e.doc.lines,p))),T=Qe.cursor(E.from+Math.max(0,Math.min(h,E.length)));t.dispatch({effects:[r,mt.scrollIntoView(T.from,{y:"center"})],selection:T})}),!0},ZLe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},eBe=wt.define({combine(t){return vu(t,ZLe,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function tBe(t){return[oBe,sBe]}const nBe=un.mark({class:"cm-selectionMatch"}),rBe=un.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function TW(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Mi.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Mi.Word)}function iBe(t,e,n,r){return t(e.sliceDoc(n,n+1))==Mi.Word&&t(e.sliceDoc(r-1,r))==Mi.Word}const sBe=fs.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(eBe),{state:n}=t,r=n.selection;if(r.ranges.length>1)return un.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return un.none;let l=n.wordAt(i.head);if(!l)return un.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return un.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(TW(o,n,i.from,i.to)&&iBe(o,n,i.from,i.to)))return un.none}else if(s=n.sliceDoc(i.from,i.to),!s)return un.none}let a=[];for(let l of t.visibleRanges){let c=new SS(n.doc,s,l.from,l.to);for(;!c.next().done;){let{from:A,to:u}=c.value;if((!o||TW(o,n,A,u))&&(i.empty&&A<=i.from&&u>=i.to?a.push(rBe.range(A,u)):(A>=i.to||u<=i.from)&&a.push(nBe.range(A,u)),a.length>e.maxMatches))return un.none}}return un.set(a)}},{decorations:t=>t.decorations}),oBe=mt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),aBe=({state:t,dispatch:e})=>{let{selection:n}=t,r=Qe.create(n.ranges.map(i=>t.wordAt(i.head)||Qe.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function lBe(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new SS(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new SS(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const cBe=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return aBe({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=lBe(t,r);return i?(e(t.update({selection:t.selection.addRange(Qe.range(i.from,i.to),!1),effects:mt.scrollIntoView(i.to)})),!0):!1},WS=wt.define({combine(t){return vu(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new xBe(e),scrollToMatch:e=>mt.scrollIntoView(e)})}});class w7{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||XLe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new pBe(this):new hBe(this)}getCursor(e,n=0,r){let i=e.doc?e:Ir.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?hT(this,i,n,r):uT(this,i,n,r)}}class L7{constructor(e){this.spec=e}}function ABe(t,e,n){return(r,i,s,o)=>{if(n&&!n(r,i,s,o))return!1;let a=r>=o&&i<=o+s.length?s.slice(r-o,i-o):e.doc.sliceString(r,i);return t(a,e,r,i)}}function uT(t,e,n,r){let i;return t.wholeWord&&(i=uBe(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(i=ABe(t.test,e,i)),new SS(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:s=>s.toLowerCase(),i)}function uBe(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(aO(i,n-s))!=Mi.Word||e(lO(i,n-s))!=Mi.Word)&&(e(lO(i,r-s))!=Mi.Word||e(aO(i,r-s))!=Mi.Word))}class hBe extends L7{constructor(e){super(e)}nextMatch(e,n,r){let i=uT(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=uT(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=uT(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=uT(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=uT(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function dBe(t,e,n){return(r,i,s)=>(!n||n(r,i,s))&&t(s[0],e,r,i)}function hT(t,e,n,r){let i;return t.wholeWord&&(i=fBe(e.charCategorizer(e.selection.main.head))),t.test&&(i=dBe(t.test,e,i)),new v7(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:i},n,r)}function aO(t,e){return t.slice(to(t,e,!1),e)}function lO(t,e){return t.slice(e,to(t,e))}function fBe(t){return(e,n,r)=>!r[0].length||(t(aO(r.input,r.index))!=Mi.Word||t(lO(r.input,r.index))!=Mi.Word)&&(t(lO(r.input,r.index+r[0].length))!=Mi.Word||t(aO(r.input,r.index+r[0].length))!=Mi.Word)}class pBe extends L7{nextMatch(e,n,r){let i=hT(this.spec,e,r,e.doc.length).next();return i.done&&(i=hT(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=hT(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return n})}matchAll(e,n){let r=hT(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=hT(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const $x=jn.define(),H2=jn.define(),xf=Ro.define({create(t){return new U1(hP(t).create(),null)},update(t,e){for(let n of e.effects)n.is($x)?t=new U1(n.value.create(),t.panel):n.is(H2)&&(t=new U1(t.query,n.value?G2:null));return t},provide:t=>Hx.from(t,e=>e.panel)});class U1{constructor(e,n){this.query=e,this.panel=n}}const mBe=un.mark({class:"cm-searchMatch"}),gBe=un.mark({class:"cm-searchMatch cm-searchMatch-selected"}),EBe=fs.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(xf))}update(t){let e=t.state.field(xf);(e!=t.startState.field(xf)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return un.none;let{view:n}=this,r=new Kh;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-500;)l=s[++i].to;t.highlight(n.state,a,l,(c,A)=>{let u=n.state.selection.ranges.some(h=>h.from==c&&h.to==A);r.add(c,A,u?gBe:mBe)})}return r.finish()}},{decorations:t=>t.decorations});function bR(t){return e=>{let n=e.state.field(xf,!1);return n&&n.query.spec.valid?t(e,n):k7(e)}}const cO=bR((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Qe.single(r.from,r.to),s=t.state.facet(WS);return t.dispatch({selection:i,effects:[Q2(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),D7(t),!0}),AO=bR((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=Qe.single(i.from,i.to),o=t.state.facet(WS);return t.dispatch({selection:s,effects:[Q2(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),D7(t),!0}),TBe=bR((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Qe.create(n.map(r=>Qe.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),SBe=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new SS(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(Qe.range(a.value.from,a.value.to))}return e(t.update({selection:Qe.create(s,o),userEvent:"select.search.matches"})),!0},SW=bR((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=s,a=[],l,c,A=[];o.from==r&&o.to==i&&(c=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(n,o.from,o.to),A.push(mt.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let u=t.state.changes(a);return o&&(l=Qe.single(o.from,o.to).map(u),A.push(Q2(t,o)),A.push(n.facet(WS).scrollToMatch(l.main,t))),t.dispatch({changes:u,selection:l,effects:A,userEvent:"input.replace"}),!0}),yBe=bR((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:mt.announce.of(r),userEvent:"input.replace.all"}),!0});function G2(t){return t.state.facet(WS).createPanel(t)}function hP(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(WS);return new w7({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function B7(t){let e=b2(t,G2);return e&&e.dom.querySelector("[main-field]")}function D7(t){let e=B7(t);e&&e==t.root.activeElement&&e.select()}const k7=t=>{let e=t.state.field(xf,!1);if(e&&e.panel){let n=B7(t);if(n&&n!=t.root.activeElement){let r=hP(t.state,e.query.spec);r.valid&&t.dispatch({effects:$x.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[H2.of(!0),e?$x.of(hP(t.state,e.query.spec)):jn.appendConfig.of(IBe)]});return!0},M7=t=>{let e=t.state.field(xf,!1);if(!e||!e.panel)return!1;let n=b2(t,G2);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:H2.of(!1)}),!0},CBe=[{key:"Mod-f",run:k7,scope:"editor search-panel"},{key:"F3",run:cO,shift:AO,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:cO,shift:AO,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:M7,scope:"editor search-panel"},{key:"Mod-Shift-l",run:SBe},{key:"Mod-Alt-g",run:JLe},{key:"Mod-d",run:cBe,preventDefault:!0}];class xBe{constructor(e){this.view=e;let n=this.query=e.state.field(xf).query.spec;this.commit=this.commit.bind(this),this.searchField=si("input",{value:n.search,placeholder:Tl(e,"Find"),"aria-label":Tl(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=si("input",{value:n.replace,placeholder:Tl(e,"Replace"),"aria-label":Tl(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=si("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=si("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=si("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return si("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=si("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>cO(e),[Tl(e,"next")]),r("prev",()=>AO(e),[Tl(e,"previous")]),r("select",()=>TBe(e),[Tl(e,"all")]),si("label",null,[this.caseField,Tl(e,"match case")]),si("label",null,[this.reField,Tl(e,"regexp")]),si("label",null,[this.wordField,Tl(e,"by word")]),...e.state.readOnly?[]:[si("br"),this.replaceField,r("replace",()=>SW(e),[Tl(e,"replace")]),r("replaceAll",()=>yBe(e),[Tl(e,"replace all")])],si("button",{name:"close",onclick:()=>M7(e),"aria-label":Tl(e,"close"),type:"button"},[""])])}commit(){let e=new w7({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:$x.of(e)}))}keydown(e){_ve(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?AO:cO)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),SW(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is($x)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(WS).top}}function Tl(t,e){return t.state.phrase(e)}const z_=30,q_=/[\s\.,:;?!]/;function Q2(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-z_),o=Math.min(i,n+z_),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<z_;l++)if(!q_.test(a[l+1])&&q_.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-z_;l--)if(!q_.test(a[l-1])&&q_.test(a[l])){a=a.slice(0,l);break}}return mt.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const RBe=mt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),IBe=[xf,ug.low(EBe),RBe];class P7{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=ro(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(F7(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function yW(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function _Be(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=yW(e)+yW(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function U7(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:_Be(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function NBe(t,e){return n=>{for(let r=ro(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class CW{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Mm(t){return t.selection.main.from}function F7(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const H7=bu.define();function bBe(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return{...t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:Qe.cursor(a.from+s+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const xW=new WeakMap;function vBe(t){if(!Array.isArray(t))return t;let e=xW.get(t);return e||xW.set(t,e=U7(t)),e}const uO=jn.define(),Wx=jn.define();class OBe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Wa(e,n),i=hu(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(Wa(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let I=Wa(e,0),b=hu(I),B=b==e.length?0:-100;if(I!=n[0])if(I==r[0])B+=-200;else return null;return this.ret(B,[0,b])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let I=0,b=Math.min(e.length,200);I<b&&c<l;){let B=Wa(e,I);(B==n[c]||B==r[c])&&(i[c++]=I),I+=hu(B)}if(c<l)return null}let A=0,u=0,h=!1,p=0,E=-1,T=-1,y=/[a-z]/.test(e),R=!0;for(let I=0,b=Math.min(e.length,200),B=0;I<b&&u<l;){let w=Wa(e,I);a<0&&(A<l&&w==n[A]&&(s[A++]=I),p<l&&(w==n[p]||w==r[p]?(p==0&&(E=I),T=I+1,p++):p=0));let O,L=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(O=A2(w))!=O.toLowerCase()?1:O!=O.toUpperCase()?2:0;(!I||L==1&&y||B==0&&L!=0)&&(n[u]==w||r[u]==w&&(h=!0)?o[u++]=I:o.length&&(R=!1)),B=L,I+=hu(w)}return u==l&&o[0]==0&&R?this.result(-100+(h?-200:0),o,e):p==l&&E==0?this.ret(-200-e.length+(T==e.length?0:-100),[0,T]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):p==l?this.ret(-900-e.length,[E,T]):u==l?this.result(-100+(h?-200:0)+-700+(R?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?hu(Wa(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class wBe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const eo=wt.define({combine(t){return vu(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:LBe,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>RW(e(r),n(r)),optionClass:(e,n)=>r=>RW(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function RW(t,e){return t?e?t+" "+e:t:e}function LBe(t,e,n,r,i,s){let o=t.textDirection==pi.RTL,a=o,l=!1,c="top",A,u,h=e.left-i.left,p=i.right-e.right,E=r.right-r.left,T=r.bottom-r.top;if(a&&h<Math.min(E,p)?a=!1:!a&&p<Math.min(E,h)&&(a=!0),E<=(a?h:p))A=Math.max(i.top,Math.min(n.top,i.bottom-T))-e.top,u=Math.min(400,a?h:p);else{l=!0,u=Math.min(400,(o?e.right:i.right-e.left)-30);let I=i.bottom-e.bottom;I>=T||I>e.top?A=n.bottom-e.top:(c="bottom",A=e.bottom-n.top)}let y=(e.bottom-e.top)/s.offsetHeight,R=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${A/y}px; max-width: ${u/R}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function BBe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<s.length;){let A=s[c++],u=s[c++];A>l&&o.appendChild(document.createTextNode(a.slice(l,A)));let h=o.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(a.slice(A,u))),h.className="cm-completionMatchedText",l=u}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function F1(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class DBe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(eo);this.optionContent=BBe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=F1(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let A=l.target,u;A&&A!=this.dom;A=A.parentNode)if(A.nodeName=="LI"&&(u=/-(\d+)$/.exec(A.id))&&+u[1]<c.length){this.applyCompletion(e,c[+u[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(eo).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Wx.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=F1(s.length,o,e.state.facet(eo).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=F1(n.options.length,n.selected,this.view.state.facet(eo).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:s}=i;if(!s)return;let o=typeof s=="string"?document.createTextNode(s):s(i);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,i)}).catch(a=>Xa(this.view.state,a,"completion info")):(this.addInfoPane(o,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&MBe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(eo).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let h=typeof c=="string"?c:c.name;if(h!=s&&(o>r.from||r.from==0))if(s=h,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let p=i.appendChild(document.createElement("completion-section"));p.textContent=h}}const A=i.appendChild(document.createElement("li"));A.id=n+"-"+o,A.setAttribute("role","option");let u=this.optionClass(a);u&&(A.className=u);for(let h of this.optionContent){let p=h(a,this.view.state,this.view,l);p&&A.appendChild(p)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function kBe(t,e){return n=>new DBe(n,t,e)}function MBe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function IW(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function PBe(t,e){let n=[],r=null,i=null,s=A=>{n.push(A);let{section:u}=A.completion;if(u){r||(r=[]);let h=typeof u=="string"?u:u.name;r.some(p=>p.name==h)||r.push(typeof u=="string"?{name:h}:u)}},o=e.facet(eo);for(let A of t)if(A.hasResult()){let u=A.result.getMatch;if(A.result.filter===!1)for(let h of A.result.options)s(new CW(h,A.source,u?u(h):[],1e9-n.length));else{let h=e.sliceDoc(A.from,A.to),p,E=o.filterStrict?new wBe(h):new OBe(h);for(let T of A.result.options)if(p=E.match(T.label)){let y=T.displayLabel?u?u(T,p.matched):[]:p.matched,R=p.score+(T.boost||0);if(s(new CW(T,A.source,y,R)),typeof T.section=="object"&&T.section.rank==="dynamic"){let{name:I}=T.section;i||(i=Object.create(null)),i[I]=Math.max(R,i[I]||-1e9)}}}}if(r){let A=Object.create(null),u=0,h=(p,E)=>(p.rank==="dynamic"&&E.rank==="dynamic"?i[E.name]-i[p.name]:0)||(typeof p.rank=="number"?p.rank:1e9)-(typeof E.rank=="number"?E.rank:1e9)||(p.name<E.name?-1:1);for(let p of r.sort(h))u-=1e5,A[p.name]=u;for(let p of n){let{section:E}=p.completion;E&&(p.score+=A[typeof E=="string"?E:E.name])}}let a=[],l=null,c=o.compareCompletions;for(let A of n.sort((u,h)=>h.score-u.score||c(u.completion,h.completion))){let u=A.completion;!l||l.label!=u.label||l.detail!=u.detail||l.type!=null&&u.type!=null&&l.type!=u.type||l.apply!=u.apply||l.boost!=u.boost?a.push(A):IW(A.completion)>IW(l)&&(a[a.length-1]=A),l=A.completion}return a}class NT{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new NT(this.options,_W(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let a=PBe(e,n);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=n.facet(eo).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let A=0;A<a.length;A++)if(a[A].completion==c){l=A;break}}return new NT(a,_W(r,l),{pos:e.reduce((c,A)=>A.hasResult()?Math.min(c,A.from):c,1e8),create:VBe,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new NT(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new NT(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class hO{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new hO(GBe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(eo),s=(r.override||n.languageDataAt("autocomplete",Mm(n)).map(vBe)).map(l=>(this.active.find(A=>A.source==l)||new dc(l,this.active.some(A=>A.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(V2));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!UBe(s,this.active)||a?o=NT.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new dc(l.source,0):l));for(let l of e.effects)l.is(Q7)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new hO(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?FBe:HBe}}function UBe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const FBe={"aria-autocomplete":"list"},HBe={};function _W(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const GBe=[];function G7(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(H7);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class dc{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=G7(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new dc(i.source,0)),r&4&&i.state==0&&(i=new dc(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(uO))i=new dc(i.source,1,s.value);else if(s.is(Wx))i=new dc(i.source,0);else if(s.is(V2))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Mm(e.state))}}class YT extends dc{constructor(e,n,r,i,s,o){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Mm(e.state);if(a>o||!i||n&2&&(Mm(e.startState)==this.from||a<this.limit))return new dc(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return QBe(i.validFor,e.state,s,o)?new YT(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new P7(e.state,a,!1)))?new YT(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Mm(e.state)):new dc(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new YT(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new dc(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function QBe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):F7(t,!0).test(i)}const V2=jn.define({map(t,e){return t.map(n=>n.map(e))}}),Q7=jn.define(),Ya=Ro.define({create(){return hO.start()},update(t,e){return t.update(e)},provide:t=>[N2.from(t,e=>e.tooltip),mt.contentAttributes.from(t,e=>e.attrs)]});function $2(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Ya).active.find(i=>i.source==e.source);return r instanceof YT?(typeof n=="string"?t.dispatch({...bBe(t.state,n,r.from,r.to),annotations:H7.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const VBe=kBe(Ya,$2);function X_(t,e="option"){return n=>{let r=n.state.field(Ya,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(eo).interactionDelay)return!1;let i=1,s;e=="page"&&(s=TJ(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:Q7.of(a)}),!0}}const $Be=t=>{let e=t.state.field(Ya,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(eo).interactionDelay?!1:$2(t,e.open.options[e.open.selected])},H1=t=>t.state.field(Ya,!1)?(t.dispatch({effects:uO.of(!0)}),!0):!1,WBe=t=>{let e=t.state.field(Ya,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Wx.of(null)}),!0)};class YBe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const jBe=50,KBe=1e3,zBe=fs.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Ya).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Ya),n=t.state.facet(eo);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Ya)==e)return;let r=t.transactions.some(s=>{let o=G7(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>jBe&&Date.now()-o.time>KBe){for(let a of o.context.abortListeners)try{a()}catch(l){Xa(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(uO)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Ya);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(eo).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Mm(e),r=new P7(e,n,t.explicit,this.view),i=new YBe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Wx.of(null)}),Xa(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(eo).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(eo),r=this.view.state.field(Ya);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=Mm(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new YT(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let A of s.updates)c=c.update(A,n);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new dc(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:V2.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Ya,!1);if(e&&e.tooltip&&this.view.state.facet(eo).closeOnBlur){let n=e.open&&TJ(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Wx.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:uO.of(!1)}),20),this.composing=0}}}),qBe=typeof navigator=="object"&&/Win/.test(navigator.platform),XBe=ug.highest(mt.domEventHandlers({keydown(t,e){let n=e.state.field(Ya,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(qBe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&$2(e,r),!1}})),JBe=mt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Yx={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Im=jn.define({map(t,e){let n=e.mapPos(t,-1,Aa.TrackAfter);return n??void 0}}),W2=new class extends Df{};W2.startSide=1;W2.endSide=-1;const V7=Ro.define({create(){return dr.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Im)&&(t=t.update({add:[W2.range(n.value,n.value+1)]}));return t}});function ZBe(){return[t1e,V7]}const G1="()[]{}<>";function $7(t){for(let e=0;e<G1.length;e+=2)if(G1.charCodeAt(e)==t)return G1.charAt(e+1);return A2(t<128?t:t+1)}function W7(t,e){return t.languageDataAt("closeBrackets",e)[0]||Yx}const e1e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),t1e=mt.inputHandler.of((t,e,n,r)=>{if((e1e?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&hu(Wa(r,0))==1||e!=i.from||n!=i.to)return!1;let s=i1e(t.state,r);return s?(t.dispatch(s),!0):!1}),n1e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=W7(t,t.selection.main.head).brackets||Yx.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=s1e(t.doc,o.head);for(let l of r)if(l==a&&qw(t.doc,o.head)==$7(Wa(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Qe.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},r1e=[{key:"Backspace",run:n1e}];function i1e(t,e){let n=W7(t,t.selection.main.head),r=n.brackets||Yx.brackets;for(let i of r){let s=$7(Wa(i,0));if(e==i)return s==i?l1e(t,i,r.indexOf(i+i+i)>-1,n):o1e(t,i,s,n.before||Yx.before);if(e==s&&Y7(t,t.selection.main.from))return a1e(t,i,s)}return null}function Y7(t,e){let n=!1;return t.field(V7).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function qw(t,e){let n=t.sliceString(e,e+2);return n.slice(0,hu(Wa(n,0)))}function s1e(t,e){let n=t.sliceString(e-2,e);return hu(Wa(n,0))==n.length?n:n.slice(1)}function o1e(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Im.of(o.to+e.length),range:Qe.range(o.anchor+e.length,o.head+e.length)};let a=qw(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Im.of(o.head+e.length),range:Qe.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function a1e(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&qw(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:Qe.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function l1e(t,e,n,r){let i=r.stringPrefixes||Yx.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Im.of(a.to+e.length),range:Qe.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=qw(t.doc,l),A;if(c==e){if(NW(t,l))return{changes:{insert:e+e,from:l},effects:Im.of(l+e.length),range:Qe.cursor(l+e.length)};if(Y7(t,l)){let h=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:Qe.cursor(l+h.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(A=bW(t,l-2*e.length,i))>-1&&NW(t,A))return{changes:{insert:e+e+e+e,from:l},effects:Im.of(l+e.length),range:Qe.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=Mi.Word&&bW(t,l,i)>-1&&!c1e(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Im.of(l+e.length),range:Qe.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function NW(t,e){let n=ro(t).resolveInner(e+1);return n.parent&&n.from==e}function c1e(t,e,n,r){let i=ro(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let A=i.firstChild;for(;A&&A.from==i.from&&A.to-A.from>n.length+l;){if(t.sliceDoc(A.to-n.length,A.to)==n)return!1;A=A.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function bW(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Mi.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=Mi.Word)return s}return-1}function A1e(t={}){return[XBe,Ya,eo.of(t),zBe,u1e,JBe]}const j7=[{key:"Ctrl-Space",run:H1},{mac:"Alt-`",run:H1},{mac:"Alt-i",run:H1},{key:"Escape",run:WBe},{key:"ArrowDown",run:X_(!0)},{key:"ArrowUp",run:X_(!1)},{key:"PageDown",run:X_(!0,"page")},{key:"PageUp",run:X_(!1,"page")},{key:"Enter",run:$Be}],u1e=ug.highest(Gw.computeN([eo],t=>t.facet(eo).defaultKeymap?[j7]:[]));class vW{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Em{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(jx).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((p,E)=>p.from-E.from||p.to-E.to),o=new Kh,a=[],l=0,c=r.doc.iter(),A=0,u=r.doc.length;for(let p=0;;){let E=p==s.length?null:s[p];if(!E&&!a.length)break;let T,y;if(a.length)T=l,y=a.reduce((b,B)=>Math.min(b,B.to),E&&E.from>T?E.from:1e8);else{if(T=E.from,T>u)break;y=E.to,a.push(E),p++}for(;p<s.length;){let b=s[p];if(b.from==T&&(b.to>b.from||b.to==T))a.push(b),p++,y=Math.min(b.to,y);else{y=Math.min(b.from,y);break}}y=Math.min(y,u);let R=!1;if(a.some(b=>b.from==T&&(b.to==y||y==u))&&(R=T==y,!R&&y-T<10)){let b=T-(A+c.value.length);b>0&&(c.next(b),A=T);for(let B=T;;){if(B>=y){R=!0;break}if(!c.lineBreak&&A+c.value.length>B)break;B=A+c.value.length,A+=c.value.length,c.next()}}let I=R1e(a);if(R)o.add(T,T,un.widget({widget:new S1e(I),diagnostics:a.slice()}));else{let b=a.reduce((B,w)=>w.markClass?B+" "+w.markClass:B,"");o.add(T,y,un.mark({class:"cm-lintRange cm-lintRange-"+I+b,diagnostics:a.slice(),inclusiveEnd:a.some(B=>B.to>y)}))}if(l=y,l==u)break;for(let b=0;b<a.length;b++)a[b].to<=l&&a.splice(b--,1)}let h=o.finish();return new Em(h,n,Hf(h))}}function Hf(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new vW(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new vW(r.from,s,r.diagnostic)}}),r}function h1e(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(jx).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(K7))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function d1e(t,e){return t.field(Nl,!1)?e:e.concat(jn.appendConfig.of(I1e))}const K7=jn.define(),Y2=jn.define(),z7=jn.define(),Nl=Ro.define({create(){return new Em(un.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=Hf(n,t.selected.diagnostic,s)||Hf(n,null,s)}!n.size&&i&&e.state.facet(jx).autoPanel&&(i=null),t=new Em(n,i,r)}for(let n of e.effects)if(n.is(K7)){let r=e.state.facet(jx).autoPanel?n.value.length?Kx.open:null:t.panel;t=Em.init(n.value,r,e.state)}else n.is(Y2)?t=new Em(t.diagnostics,n.value?Kx.open:null,t.selected):n.is(z7)&&(t=new Em(t.diagnostics,t.panel,n.value));return t},provide:t=>[Hx.from(t,e=>e.panel),mt.decorations.from(t,e=>e.diagnostics)]}),f1e=un.mark({class:"cm-lintRange cm-lintRange-active"});function p1e(t,e,n){let{diagnostics:r}=t.state.field(Nl),i,s=-1,o=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:A})=>{if(e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0)))return i=A.diagnostics,s=l,o=c,!1});let a=t.state.facet(jx).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:m1e(t,i)}}}:null}function m1e(t,e){return si("ul",{class:"cm-tooltip-lint"},e.map(n=>X7(t,n,!1)))}const g1e=t=>{let e=t.state.field(Nl,!1);(!e||!e.panel)&&t.dispatch({effects:d1e(t.state,[Y2.of(!0)])});let n=b2(t,Kx.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},OW=t=>{let e=t.state.field(Nl,!1);return!e||!e.panel?!1:(t.dispatch({effects:Y2.of(!1)}),!0)},E1e=t=>{let e=t.state.field(Nl,!1);if(!e)return!1;let n=t.state.selection.main,r=Hf(e.diagnostics,null,n.to+1);return!r&&(r=Hf(e.diagnostics,null,0),!r||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},T1e=[{key:"Mod-Shift-m",run:g1e,preventDefault:!0},{key:"F8",run:E1e}],jx=wt.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...vu(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:wW,tooltipFilter:wW,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,s)=>e(r,i,s)||n(r,i,s):e:n,autoPanel:(e,n)=>e||n})}}});function wW(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function q7(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function X7(t,e,n){var r;let i=n?q7(e.actions):[];return si("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},si("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=p=>{if(p.preventDefault(),a)return;a=!0;let E=Hf(t.state.field(Nl).diagnostics,e);E&&s.apply(t,E.from,E.to)},{name:c}=s,A=i[o]?c.indexOf(i[o]):-1,u=A<0?c:[c.slice(0,A),si("u",c.slice(A,A+1)),c.slice(A+1)],h=s.markClass?" "+s.markClass:"";return si("button",{type:"button",class:"cm-diagnosticAction"+h,onclick:l,onmousedown:l,"aria-label":` Action: ${c}${A<0?"":` (access key "${i[o]})"`}.`},u)}),e.source&&si("div",{class:"cm-diagnosticSource"},e.source))}class S1e extends Ou{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return si("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class LW{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=X7(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Kx{constructor(e){this.view=e,this.items=[];let n=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)OW(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=q7(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=Hf(this.view.state.field(Nl).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()}},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=si("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=si("div",{class:"cm-panel-lint"},this.list,si("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>OW(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Nl).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Nl),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let A of c.diagnostics){if(o.has(A))continue;o.add(A);let u=-1,h;for(let p=r;p<this.items.length;p++)if(this.items[p].diagnostic==A){u=p;break}u<0?(h=new LW(this.view,A),this.items.splice(r,0,h),i=!0):(h=this.items[u],u>r&&(this.items.splice(r,u-r),i=!0)),n&&h.diagnostic==n.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),s=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new LW(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Nl),r=Hf(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:z7.of(r)})}static open(e){return new Kx(e)}}function y1e(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function J_(t){return y1e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const C1e=mt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:J_("#d11")},".cm-lintRange-warning":{backgroundImage:J_("orange")},".cm-lintRange-info":{backgroundImage:J_("#999")},".cm-lintRange-hint":{backgroundImage:J_("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function x1e(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function R1e(t){let e="hint",n=1;for(let r of t){let i=x1e(r.severity);i>n&&(n=i,e=r.severity)}return e}const I1e=[Nl,mt.decorations.compute([Nl],t=>{let{selected:e,panel:n}=t.field(Nl);return!e||!n||e.from==e.to?un.none:un.set([f1e.range(e.from,e.to)])}),fOe(p1e,{hideOn:h1e}),C1e];var BW=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(r1e)),e.defaultKeymap!==!1&&(r=r.concat(zLe)),e.searchKeymap!==!1&&(r=r.concat(CBe)),e.historyKeymap!==!1&&(r=r.concat(nLe)),e.foldKeymap!==!1&&(r=r.concat(mwe)),e.completionKeymap!==!1&&(r=r.concat(j7)),e.lintKeymap!==!1&&(r=r.concat(T1e));var i=[];return e.lineNumbers!==!1&&i.push(NOe()),e.highlightActiveLineGutter!==!1&&i.push(OOe()),e.highlightSpecialChars!==!1&&i.push(Vve()),e.history!==!1&&i.push(jwe()),e.foldGutter!==!1&&i.push(Swe()),e.drawSelection!==!1&&i.push(Lve()),e.dropCursor!==!1&&i.push(Pve()),e.allowMultipleSelections!==!1&&i.push(Ir.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(awe()),e.syntaxHighlighting!==!1&&i.push(k2(Rwe,{fallback:!0})),e.bracketMatching!==!1&&i.push(wwe()),e.closeBrackets!==!1&&i.push(ZBe()),e.autocompletion!==!1&&i.push(A1e()),e.rectangularSelection!==!1&&i.push(rOe()),n!==!1&&i.push(oOe()),e.highlightActiveLine!==!1&&i.push(zve()),e.highlightSelectionMatches!==!1&&i.push(tBe()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Vw.of(" ".repeat(e.tabSize))),i.concat([Gw.of(r.flat())]).filter(Boolean)};const _1e="#e5c07b",DW="#e06c75",N1e="#56b6c2",b1e="#ffffff",yb="#abb2bf",dP="#7d8799",v1e="#61afef",O1e="#98c379",kW="#d19a66",w1e="#c678dd",L1e="#21252b",MW="#2c313a",PW="#282c34",Q1="#353a42",B1e="#3E4451",UW="#528bff",D1e=mt.theme({"&":{color:yb,backgroundColor:PW},".cm-content":{caretColor:UW},".cm-cursor, .cm-dropCursor":{borderLeftColor:UW},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:B1e},".cm-panels":{backgroundColor:L1e,color:yb},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:PW,color:dP,border:"none"},".cm-activeLineGutter":{backgroundColor:MW},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Q1},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Q1,borderBottomColor:Q1},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:MW,color:yb}}},{dark:!0}),k1e=VS.define([{tag:Re.keyword,color:w1e},{tag:[Re.name,Re.deleted,Re.character,Re.propertyName,Re.macroName],color:DW},{tag:[Re.function(Re.variableName),Re.labelName],color:v1e},{tag:[Re.color,Re.constant(Re.name),Re.standard(Re.name)],color:kW},{tag:[Re.definition(Re.name),Re.separator],color:yb},{tag:[Re.typeName,Re.className,Re.number,Re.changed,Re.annotation,Re.modifier,Re.self,Re.namespace],color:_1e},{tag:[Re.operator,Re.operatorKeyword,Re.url,Re.escape,Re.regexp,Re.link,Re.special(Re.string)],color:N1e},{tag:[Re.meta,Re.comment],color:dP},{tag:Re.strong,fontWeight:"bold"},{tag:Re.emphasis,fontStyle:"italic"},{tag:Re.strikethrough,textDecoration:"line-through"},{tag:Re.link,color:dP,textDecoration:"underline"},{tag:Re.heading,fontWeight:"bold",color:DW},{tag:[Re.atom,Re.bool,Re.special(Re.variableName)],color:kW},{tag:[Re.processingInstruction,Re.string,Re.inserted],color:O1e},{tag:Re.invalid,color:b1e}]),M1e=[D1e,k2(k1e)];var P1e=mt.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),U1e=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[];switch(n&&l.unshift(Gw.of([qLe])),a&&(typeof a=="boolean"?l.unshift(BW()):l.unshift(BW(a))),o&&l.unshift(Zve(o)),s){case"light":l.push(P1e);break;case"dark":l.push(M1e);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(mt.editable.of(!1)),i&&l.push(Ir.readOnly.of(!0)),[...l]},F1e=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class H1e{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class FW{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var V1=null,G1e=()=>typeof window>"u"?new FW:(V1||(V1=new FW),V1),HW=bu.define(),Q1e=200,V1e=[];function $1e(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:a=V1e,autoFocus:l,theme:c="light",height:A=null,minHeight:u=null,maxHeight:h=null,width:p=null,minWidth:E=null,maxWidth:T=null,placeholder:y="",editable:R=!0,readOnly:I=!1,indentWithTab:b=!0,basicSetup:B=!0,root:w,initialState:O}=t,[L,U]=H.useState(),[G,Q]=H.useState(),[Y,K]=H.useState(),j=H.useState(()=>({current:null}))[0],V=H.useState(()=>({current:null}))[0],$=mt.theme({"&":{height:A,minHeight:u,maxHeight:h,width:p,minWidth:E,maxWidth:T},"& .cm-scroller":{height:"100% !important"}}),J=mt.updateListener.of(oe=>{if(oe.docChanged&&typeof r=="function"&&!oe.transactions.some(le=>le.annotation(HW))){j.current?j.current.reset():(j.current=new H1e(()=>{if(V.current){var le=V.current;V.current=null,le()}j.current=null},Q1e),G1e().add(j.current));var F=oe.state.doc,ee=F.toString();r(ee,oe)}i&&i(F1e(oe))}),te=U1e({theme:c,editable:R,readOnly:I,placeholder:y,indentWithTab:b,basicSetup:B}),X=[J,$,...te];return o&&typeof o=="function"&&X.push(mt.updateListener.of(o)),X=X.concat(a),H.useLayoutEffect(()=>{if(L&&!Y){var oe={doc:e,selection:n,extensions:X},F=O?Ir.fromJSON(O.json,oe,O.fields):Ir.create(oe);if(K(F),!G){var ee=new mt({state:F,parent:L,root:w});Q(ee),s&&s(ee,F)}}return()=>{G&&(K(void 0),Q(void 0))}},[L,Y]),H.useEffect(()=>{t.container&&U(t.container)},[t.container]),H.useEffect(()=>()=>{G&&(G.destroy(),Q(void 0)),j.current&&(j.current.cancel(),j.current=null)},[G]),H.useEffect(()=>{l&&G&&G.focus()},[l,G]),H.useEffect(()=>{G&&G.dispatch({effects:jn.reconfigure.of(X)})},[c,a,A,u,h,p,E,T,y,R,I,b,B,r,o]),H.useEffect(()=>{if(e!==void 0){var oe=G?G.state.doc.toString():"";if(G&&e!==oe){var F=j.current&&!j.current.isDone,ee=()=>{G&&e!==G.state.doc.toString()&&G.dispatch({changes:{from:0,to:G.state.doc.toString().length,insert:e||""},annotations:[HW.of(!0)]})};F?V.current=ee:ee()}}},[e,G]),{state:Y,setState:K,view:G,setView:Q,container:L,setContainer:U}}var W1e=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Xw=H.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,autoFocus:A,theme:u="light",height:h,minHeight:p,maxHeight:E,width:T,minWidth:y,maxWidth:R,basicSetup:I,placeholder:b,indentWithTab:B,editable:w,readOnly:O,root:L,initialState:U}=t,G=ENe(t,W1e),Q=H.useRef(null),{state:Y,view:K,container:j,setContainer:V}=$1e({root:L,value:r,autoFocus:A,theme:u,height:h,minHeight:p,maxHeight:E,width:T,minWidth:y,maxWidth:R,basicSetup:I,placeholder:b,indentWithTab:B,editable:w,readOnly:O,selection:i,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:s,initialState:U});H.useImperativeHandle(e,()=>({editor:Q.current,state:Y,view:K}),[Q,j,Y,K]);var $=H.useCallback(te=>{Q.current=te,V(te)},[V]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var J=typeof u=="string"?"cm-theme-"+u:"cm-theme";return f.jsx("div",Gv({ref:$,className:""+J+(n?" "+n:"")},G))});Xw.displayName="CodeMirror";var GW={};let Y1e=class fP{constructor(e,n,r,i,s,o,a,l,c,A=0,u){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=A,this.parent=u}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new fP(e,[],n,r,r,0,[],0,i?new QW(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,A=this.reducePos-c;A>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=A):this.p.lastBigReductionSize<A&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=A));let u=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-u;if(i<s.minRepeatTerm||e&131072){let p=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,p,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let p=this.stack[l-3];this.state=s.getGoto(p,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:o}=this.p;this.pos=i;let a=o.stateFlag(s,1);!a&&(i>r||n<=o.maxNode)&&(this.reducePos=i),this.pushState(s,a?r:Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new fP(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new j1e(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new QW(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class QW{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class j1e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class dO{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new dO(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new dO(this.stack,this.pos,this.index)}}function Z_(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Cb{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const VW=new Cb;class K1e{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=VW,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=VW,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class jT{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;q1e(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}jT.prototype.contextual=jT.prototype.fallback=jT.prototype.extend=!1;jT.prototype.fallback=jT.prototype.extend=!1;class z1e{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function q1e(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;(a&t[o])!=0;){let c=t[o+1];for(let p=o+3;p<c;p+=2)if((t[p+1]&a)>0){let E=t[p];if(l.allows(E)&&(e.token.value==-1||e.token.value==E||X1e(E,e.token.value,i,s))){e.acceptToken(E);break}}let A=e.next,u=0,h=t[o+2];if(e.next<0&&h>u&&t[c+h*3-3]==65535){o=t[c+h*3-1];continue e}for(;u<h;){let p=u+h>>1,E=c+p+(p<<1),T=t[E],y=t[E+1]||65536;if(A<T)h=p;else if(A>=y)u=p+1;else{o=t[E+2],e.advance();continue e}}break}}function $W(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function X1e(t,e,n,r){let i=$W(n,r,e);return i<0||$W(n,r,t)<i}const Sl=typeof process<"u"&&GW&&/\bparse\b/.test(GW.LOG);let $1=null;function WW(t,e,n){let r=t.cursor(Xi.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class J1e{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?WW(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?WW(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof ds){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Ar.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class Z1e{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Cb)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if((1<<c&o)==0)continue;let A=s[c],u=this.tokens[c];if(!(r&&!A.fallback)&&((A.contextual||u.start!=e.pos||u.mask!=o||u.context!=a)&&(this.updateCachedToken(u,A,e),u.mask=o,u.context=a),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),u.value!=0)){let h=n;if(u.extended>-1&&(n=this.addActions(e,u.extended,u.end,n)),n=this.addActions(e,u.value,u.end,n),!A.extend&&(r=u,n>h))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new Cb,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Cb,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){(a&1)==0?e.value=a>>1:e.extended=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Bh(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(Bh(a,c+2),n,r,i));break}a[c]==n&&(i=this.putAction(Bh(a,c+1),n,r,i))}return i}}class eDe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new K1e(n,i),this.tokens=new Z1e(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Y1e.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new J1e(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&nDe(i);if(o)return Sl&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Sl&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return Sl&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&(r.sort((o,a)=>a.score-o.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=Sl?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,A=c?e.curContext.hash:0;for(let u=this.fragments.nodeAt(i);u;){let h=this.parser.nodeSet.types[u.type.id]==u.type?s.getGoto(e.state,u.type.id):-1;if(h>-1&&u.length&&(!c||(u.prop(Ar.contextHash)||0)==A))return e.useNode(u,h),Sl&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(u.type.id)})`),!0;if(!(u instanceof ds)||u.children.length==0||u.positions[0]>0)break;let p=u.children[0];if(p instanceof ds&&u.positions[0]==0)u=p;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Sl&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let A=l[c++],u=l[c++],h=l[c++],p=c==l.length||!r,E=p?e:e.split(),T=this.tokens.mainToken;if(E.apply(A,u,T?T.start:E.pos,h),Sl&&console.log(o+this.stackID(E)+` (via ${(A&65536)==0?"shift":`reduce of ${s.getName(A&65535)}`} for ${s.getName(u)} @ ${i}${E==e?"":", split"})`),p)return!0;E.pos>i?n.push(E):r.push(E)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return YW(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],c=n[(o<<1)+1],A=Sl?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Sl&&console.log(A+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let u=a.split(),h=A;for(let p=0;p<10&&u.forceReduce()&&(Sl&&console.log(h+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,r));p++)Sl&&(h=this.stackID(u)+" -> ");for(let p of a.recoverByInsert(l))Sl&&console.log(A+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Sl&&console.log(A+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),YW(a,r)):(!i||i.score<u.score)&&(i=u)}return i}stackToTree(e){return e.close(),ds.build({buffer:dO.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=($1||($1=new WeakMap)).get(e);return n||$1.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function YW(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class tDe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class fO extends OJ{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Ar[l]);for(let c=1;c<a.length;){let A=a[c++];if(A>=0)s(A,l,a[c++]);else{let u=a[c+-A];for(let h=-A;h>0;h--)s(a[c++],l,u);c++}}}this.nodeSet=new v2(n.map((a,l)=>Rc.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=IJ;let o=Z_(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(jW),this.states=Z_(e.states,Uint32Array),this.data=Z_(e.stateData),this.goto=Z_(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new jT(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new eDe(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Bh(r,s+2)];else{if(r[s+1]==2)return Bh(r,s+2);break}if(o==n||o==0)return Bh(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Bh(this.data,s+2);else break;i=n(Bh(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Bh(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(fO.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=jW(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new tDe(e,r,i)}static deserialize(e){return new fO(e)}}function Bh(t,e){return t[e]|t[e+1]<<16}function nDe(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function jW(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const rDe=36,KW=1,iDe=2,GE=3,W1=4,sDe=5,oDe=6,aDe=7,lDe=8,cDe=9,ADe=10,uDe=11,hDe=12,dDe=13,fDe=14,pDe=15,mDe=16,gDe=17,zW=18,EDe=19,J7=20,Z7=21,qW=22,TDe=23,SDe=24;function pP(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function yDe(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function hm(t,e,n){for(let r=!1;;){if(t.next<0)return;if(t.next==e&&!r){t.advance();return}r=n&&!r&&t.next==92,t.advance()}}function CDe(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let n=0;n<e.length;n++){if(t.next!=e.charCodeAt(n))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function xDe(t,e){let n="[{<(".indexOf(String.fromCharCode(e)),r=n<0?e:"]}>)".charCodeAt(n);for(;;){if(t.next<0)return;if(t.next==r&&t.peek(1)==39){t.advance(2);return}t.advance()}}function mP(t,e){for(;!(t.next!=95&&!pP(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function RDe(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),hm(t,e,!1)}else mP(t)}function XW(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function JW(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function ZW(t){for(;!(t.next<0||t.next==10);)t.advance()}function em(t,e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)==t)return!0;return!1}const Y1=` 	\r
`;function eZ(t,e,n){let r=Object.create(null);r.true=r.false=sDe,r.null=r.unknown=oDe;for(let i of t.split(" "))i&&(r[i]=J7);for(let i of e.split(" "))i&&(r[i]=Z7);for(let i of(n||"").split(" "))i&&(r[i]=SDe);return r}const IDe="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",_De="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",gP={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:eZ(_De,IDe)};function NDe(t,e,n,r){let i={};for(let s in gP)i[s]=(t.hasOwnProperty(s)?t:gP)[s];return e&&(i.words=eZ(e,n||"",r)),i}function tZ(t){return new z1e(e=>{var n;let{next:r}=e;if(e.advance(),em(r,Y1)){for(;em(e.next,Y1);)e.advance();e.acceptToken(rDe)}else if(r==36&&t.doubleDollarQuotedStrings){let i=mP(e,"");e.next==36&&(e.advance(),CDe(e,i),e.acceptToken(GE))}else if(r==39||r==34&&t.doubleQuotedStrings)hm(e,r,t.backslashEscapes),e.acceptToken(GE);else if(r==35&&t.hashComments||r==47&&e.next==47&&t.slashComments)ZW(e),e.acceptToken(KW);else if(r==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))ZW(e),e.acceptToken(KW);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(iDe)}else if((r==101||r==69)&&e.next==39)e.advance(),hm(e,39,!0),e.acceptToken(GE);else if((r==110||r==78)&&e.next==39&&t.charSetCasts)e.advance(),hm(e,39,t.backslashEscapes),e.acceptToken(GE);else if(r==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),hm(e,39,t.backslashEscapes),e.acceptToken(GE);break}if(!pP(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!em(e.peek(1),Y1)){let i=e.peek(1);e.advance(2),xDe(e,i),e.acceptToken(GE)}else if(em(r,t.identifierQuotes)){const i=r==91?93:r;hm(e,i,!1),e.acceptToken(EDe)}else if(r==40)e.acceptToken(aDe);else if(r==41)e.acceptToken(lDe);else if(r==123)e.acceptToken(cDe);else if(r==125)e.acceptToken(ADe);else if(r==91)e.acceptToken(uDe);else if(r==93)e.acceptToken(hDe);else if(r==59)e.acceptToken(dDe);else if(t.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),XW(e),e.acceptToken(qW);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(hm(e,i,t.backslashEscapes),e.acceptToken(TDe)):(XW(e,i),e.acceptToken(qW))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();yDe(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(W1)}else if(r==46&&e.next>=48&&e.next<=57)JW(e,!0),e.acceptToken(W1);else if(r==46)e.acceptToken(fDe);else if(r>=48&&r<=57)JW(e,!1),e.acceptToken(W1);else if(em(r,t.operatorChars)){for(;em(e.next,t.operatorChars);)e.advance();e.acceptToken(pDe)}else if(em(r,t.specialVar))e.next==r&&e.advance(),RDe(e),e.acceptToken(gDe);else if(r==58||r==44)e.acceptToken(mDe);else if(pP(r)){let i=mP(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?zW:(n=t.words[i.toLowerCase()])!==null&&n!==void 0?n:zW)}})}const nZ=tZ(gP),bDe=fO.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,nZ],topRules:{Script:[0,25]},tokenPrec:0});function EP(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function zx(t,e){let n=t.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(n);return r?r[2]:n}function pO(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function vDe(t,e){if(e.name=="CompositeIdentifier"){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)pO(r)&&n.push(zx(t,r));return n}return[zx(t,e)]}function eY(t,e){for(let n=[];;){if(!e||e.name!=".")return n;let r=EP(e);if(!pO(r))return n;n.unshift(zx(t,r)),e=EP(r)}}function ODe(t,e){let n=ro(t).resolveInner(e,-1),r=LDe(t.doc,n);return n.name=="Identifier"||n.name=="QuotedIdentifier"||n.name=="Keyword"?{from:n.from,quoted:n.name=="QuotedIdentifier"?t.doc.sliceString(n.from,n.from+1):null,parents:eY(t.doc,EP(n)),aliases:r}:n.name=="."?{from:e,quoted:null,parents:eY(t.doc,n),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const wDe=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function LDe(t,e){let n;for(let i=e;!n;i=i.parent){if(!i)return null;i.name=="Statement"&&(n=i)}let r=null;for(let i=n.firstChild,s=!1,o=null;i;i=i.nextSibling){let a=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,l=null;if(!s)s=a=="from";else if(a=="as"&&o&&pO(i.nextSibling))l=zx(t,i.nextSibling);else{if(a&&wDe.has(a))break;o&&pO(i)&&(l=zx(t,i))}l&&(r||(r=Object.create(null)),r[l]=vDe(t,o)),o=/Identifier$/.test(i.name)?i:null}return r}function BDe(t,e,n){return n.map(r=>({...r,label:r.label[0]==t?r.label:t+r.label+e,apply:void 0}))}const DDe=/^\w*$/,kDe=/^[`'"\[]?\w*[`'"\]]?$/;function tY(t){return t.self&&typeof t.self.label=="string"}class j2{constructor(e,n){this.idQuote=e,this.idCaseInsensitive=n,this.list=[],this.children=void 0}child(e){let n=this.children||(this.children=Object.create(null)),r=n[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(nY(e,"type",this.idQuote,this.idCaseInsensitive)),n[e]=new j2(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let n=this.list.findIndex(r=>r.label==e.label);n>-1?this.list[n]=e:this.list.push(e)}addCompletions(e){for(let n of e)this.addCompletion(typeof n=="string"?nY(n,"property",this.idQuote,this.idCaseInsensitive):n)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):tY(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let n of Object.keys(e)){let r=e[n],i=null,s=n.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;tY(r)&&(i=r.self,r=r.children);for(let a=0;a<s.length;a++)i&&a==s.length-1&&o.addCompletion(i),o=o.child(s[a].replace(/\\\./g,"."));o.addNamespace(r)}}}function nY(t,e,n,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:n+t+rZ(n)}}function rZ(t){return t==="["?"]":t}function MDe(t,e,n,r,i,s){var o;let a=((o=s==null?void 0:s.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new j2(a,!!(s!=null&&s.spec.caseInsensitiveIdentifiers)),c=i?l.child(i):null;return l.addNamespace(t),e&&(c||l).addCompletions(e),n&&l.addCompletions(n),c&&l.addCompletions(c.list),r&&l.addCompletions((c||l).child(r).list),A=>{let{parents:u,from:h,quoted:p,empty:E,aliases:T}=ODe(A.state,A.pos);if(E&&!A.explicit)return null;T&&u.length==1&&(u=T[u[0]]||u);let y=l;for(let I of u){for(;!y.children||!y.children[I];)if(y==l&&c)y=c;else if(y==c&&r)y=y.child(r);else return null;let b=y.maybeChild(I);if(!b)return null;y=b}let R=y.list;if(y==l&&T&&(R=R.concat(Object.keys(T).map(I=>({label:I,type:"constant"})))),p){let I=p[0],b=rZ(I),B=A.state.sliceDoc(A.pos,A.pos+1)==b;return{from:h,to:B?A.pos+1:void 0,options:BDe(I,b,R),validFor:kDe}}else return{from:h,options:R,validFor:DDe}}}function PDe(t){return t==Z7?"type":t==J7?"keyword":"variable"}function UDe(t,e,n){let r=Object.keys(t).map(i=>n(e?i.toUpperCase():i,PDe(t[i])));return NBe(["QuotedIdentifier","String","LineComment","BlockComment","."],U7(r))}let FDe=bDe.configure({props:[kJ.add({Statement:swe()}),PJ.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),wJ({Keyword:Re.keyword,Type:Re.typeName,Builtin:Re.standard(Re.name),Bits:Re.number,Bytes:Re.string,Bool:Re.bool,Null:Re.null,Number:Re.number,String:Re.string,Identifier:Re.name,QuotedIdentifier:Re.special(Re.string),SpecialVar:Re.special(Re.name),LineComment:Re.lineComment,BlockComment:Re.blockComment,Operator:Re.operator,"Semi Punctuation":Re.punctuation,"( )":Re.paren,"{ }":Re.brace,"[ ]":Re.squareBracket})]});class mO{constructor(e,n,r){this.dialect=e,this.language=n,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,n){return new mO(this.dialect,this.language.configure(e,n),this.spec)}static define(e){let n=NDe(e,e.keywords,e.types,e.builtin),r=eO.define({name:"sql",parser:FDe.configure({tokenizers:[{from:nZ,to:tZ(n)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new mO(n,r,e)}}function HDe(t,e){return{label:t,type:e,boost:-1}}function GDe(t,e=!1,n){return UDe(t.dialect.words,e,n||HDe)}function QDe(t){return t.schema?MDe(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||z2):()=>null}function VDe(t){return t.schema?(t.dialect||z2).language.data.of({autocomplete:QDe(t)}):[]}function K2(t={}){let e=t.dialect||z2;return new qOe(e.language,[VDe(t),e.language.data.of({autocomplete:GDe(e,t.upperCaseKeywords,t.keywordCompletion)})])}const z2=mO.define({}),Ie=t=>t.flatMap($De),$De=t=>xb(YDe(t)).map(WDe),WDe=t=>t.replace(/ +/g," ").trim(),YDe=t=>({type:"mandatory_block",items:q2(t,0)[0]}),q2=(t,e,n)=>{const r=[];for(;t[e];){const[i,s]=jDe(t,e);if(r.push(i),e=s,t[e]==="|")e++;else if(t[e]==="}"||t[e]==="]"){if(n!==t[e])throw new Error(`Unbalanced parenthesis in: ${t}`);return e++,[r,e]}else if(e===t.length){if(n)throw new Error(`Unbalanced parenthesis in: ${t}`);return[r,e]}else throw new Error(`Unexpected "${t[e]}"`)}return[r,e]},jDe=(t,e)=>{const n=[];for(;;){const[r,i]=KDe(t,e);if(r)n.push(r),e=i;else break}return n.length===1?[n[0],e]:[{type:"concatenation",items:n},e]},KDe=(t,e)=>{if(t[e]==="{")return zDe(t,e+1);if(t[e]==="[")return qDe(t,e+1);{let n="";for(;t[e]&&/[A-Za-z0-9_ ]/.test(t[e]);)n+=t[e],e++;return[n,e]}},zDe=(t,e)=>{const[n,r]=q2(t,e,"}");return[{type:"mandatory_block",items:n},r]},qDe=(t,e)=>{const[n,r]=q2(t,e,"]");return[{type:"optional_block",items:n},r]},xb=t=>{if(typeof t=="string")return[t];if(t.type==="concatenation")return t.items.map(xb).reduce(XDe,[""]);if(t.type==="mandatory_block")return t.items.flatMap(xb);if(t.type==="optional_block")return["",...t.items.flatMap(xb)];throw new Error(`Unknown node type: ${t}`)},XDe=(t,e)=>{const n=[];for(const r of t)for(const i of e)n.push(r+i);return n};var He;(function(t){t.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",t.IDENTIFIER="IDENTIFIER",t.STRING="STRING",t.VARIABLE="VARIABLE",t.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",t.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",t.RESERVED_KEYWORD="RESERVED_KEYWORD",t.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",t.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",t.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",t.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",t.RESERVED_CLAUSE="RESERVED_CLAUSE",t.RESERVED_SELECT="RESERVED_SELECT",t.RESERVED_JOIN="RESERVED_JOIN",t.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",t.ARRAY_KEYWORD="ARRAY_KEYWORD",t.CASE="CASE",t.END="END",t.WHEN="WHEN",t.ELSE="ELSE",t.THEN="THEN",t.LIMIT="LIMIT",t.BETWEEN="BETWEEN",t.AND="AND",t.OR="OR",t.XOR="XOR",t.OPERATOR="OPERATOR",t.COMMA="COMMA",t.ASTERISK="ASTERISK",t.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",t.OPEN_PAREN="OPEN_PAREN",t.CLOSE_PAREN="CLOSE_PAREN",t.LINE_COMMENT="LINE_COMMENT",t.BLOCK_COMMENT="BLOCK_COMMENT",t.DISABLE_COMMENT="DISABLE_COMMENT",t.NUMBER="NUMBER",t.NAMED_PARAMETER="NAMED_PARAMETER",t.QUOTED_PARAMETER="QUOTED_PARAMETER",t.NUMBERED_PARAMETER="NUMBERED_PARAMETER",t.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",t.CUSTOM_PARAMETER="CUSTOM_PARAMETER",t.DELIMITER="DELIMITER",t.EOF="EOF"})(He=He||(He={}));const iZ=t=>({type:He.EOF,raw:"EOF",text:"EOF",start:t}),Gf=iZ(1/0),QE=t=>e=>e.type===t.type&&e.text===t.text,Qf={ARRAY:QE({text:"ARRAY",type:He.RESERVED_DATA_TYPE}),BY:QE({text:"BY",type:He.RESERVED_KEYWORD}),SET:QE({text:"SET",type:He.RESERVED_CLAUSE}),STRUCT:QE({text:"STRUCT",type:He.RESERVED_DATA_TYPE}),WINDOW:QE({text:"WINDOW",type:He.RESERVED_CLAUSE}),VALUES:QE({text:"VALUES",type:He.RESERVED_CLAUSE})},sZ=t=>t===He.RESERVED_DATA_TYPE||t===He.RESERVED_KEYWORD||t===He.RESERVED_FUNCTION_NAME||t===He.RESERVED_KEYWORD_PHRASE||t===He.RESERVED_DATA_TYPE_PHRASE||t===He.RESERVED_CLAUSE||t===He.RESERVED_SELECT||t===He.RESERVED_SET_OPERATION||t===He.RESERVED_JOIN||t===He.ARRAY_KEYWORD||t===He.CASE||t===He.END||t===He.WHEN||t===He.ELSE||t===He.THEN||t===He.LIMIT||t===He.BETWEEN||t===He.AND||t===He.OR||t===He.XOR,JDe=t=>t===He.AND||t===He.OR||t===He.XOR,ZDe=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"],eke=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],tke=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"],nke=Ie(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),rke=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),rY=Ie(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),j1=Ie(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),ike=Ie(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),ske=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),oke=Ie(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),ake=Ie([]),lke={name:"bigquery",tokenizerOptions:{reservedSelect:nke,reservedClauses:[...rke,...j1,...rY],reservedSetOperations:ike,reservedJoins:ske,reservedKeywordPhrases:oke,reservedDataTypePhrases:ake,reservedKeywords:eke,reservedDataTypes:tke,reservedFunctionNames:ZDe,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:cke},formatOptions:{onelineClauses:[...rY,...j1],tabularOnelineClauses:j1}};function cke(t){return Ake(uke(t))}function Ake(t){let e=Gf;return t.map(n=>n.text==="OFFSET"&&e.text==="["?(e=n,Object.assign(Object.assign({},n),{type:He.RESERVED_FUNCTION_NAME})):(e=n,n))}function uke(t){var e;const n=[];for(let r=0;r<t.length;r++){const i=t[r];if((Qf.ARRAY(i)||Qf.STRUCT(i))&&((e=t[r+1])===null||e===void 0?void 0:e.text)==="<"){const s=hke(t,r+1),o=t.slice(r,s+1);n.push({type:He.IDENTIFIER,raw:o.map(iY("raw")).join(""),text:o.map(iY("text")).join(""),start:i.start}),r=s}else n.push(i)}return n}const iY=t=>e=>e.type===He.IDENTIFIER||e.type===He.COMMA?e[t]+" ":e[t];function hke(t,e){let n=0;for(let r=e;r<t.length;r++){const i=t[r];if(i.text==="<"?n++:i.text===">"?n--:i.text===">>"&&(n-=2),n===0)return r}return t.length-1}const dke=["BIT_AND","BIT_OR","BIT_XOR","BLAKE3","CAST","CHARACTER_LENGTH","CHAR_LENGTH","COVAR_POP","COVAR_SAMP","CRC32","CRC32IEEE","CRC64","DATE","DATE_DIFF","DATE_FORMAT","DATE_TRUNC","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","FORMAT_BYTES","FQDN","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","HOUR","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","IPv4CIDRToRange","IPv4NumToString","IPv4NumToStringClassC","IPv4StringToNum","IPv4StringToNumOrDefault","IPv4StringToNumOrNull","IPv4ToIPv6","IPv6CIDRToRange","IPv6NumToString","IPv6StringToNum","IPv6StringToNumOrDefault","IPv6StringToNumOrNull","JSONAllPaths","JSONAllPathsWithTypes","JSONArrayLength","JSONDynamicPaths","JSONDynamicPathsWithTypes","JSONExtract","JSONExtractArrayRaw","JSONExtractArrayRawCaseInsensitive","JSONExtractBool","JSONExtractBoolCaseInsensitive","JSONExtractCaseInsensitive","JSONExtractFloat","JSONExtractFloatCaseInsensitive","JSONExtractInt","JSONExtractIntCaseInsensitive","JSONExtractKeys","JSONExtractKeysAndValues","JSONExtractKeysAndValuesCaseInsensitive","JSONExtractKeysAndValuesRaw","JSONExtractKeysAndValuesRawCaseInsensitive","JSONExtractKeysCaseInsensitive","JSONExtractRaw","JSONExtractRawCaseInsensitive","JSONExtractString","JSONExtractStringCaseInsensitive","JSONExtractUInt","JSONExtractUIntCaseInsensitive","JSONHas","JSONKey","JSONLength","JSONMergePatch","JSONSharedDataPaths","JSONSharedDataPathsWithTypes","JSONType","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_QUERY","JSON_VALUE","L1Distance","L1Norm","L1Normalize","L2Distance","L2Norm","L2Normalize","L2SquaredDistance","L2SquaredNorm","LAST_DAY","LinfDistance","LinfNorm","LinfNormalize","LpDistance","LpNorm","LpNormalize","MACNumToString","MACStringToNum","MACStringToOUI","MAP_FROM_ARRAYS","MD4","MD5","MILLISECOND","MINUTE","MONTH","OCTET_LENGTH","QUARTER","REGEXP_EXTRACT","REGEXP_MATCHES","REGEXP_REPLACE","RIPEMD160","SCHEMA","SECOND","SHA1","SHA224","SHA256","SHA384","SHA512","SHA512_256","STD","STDDEV_POP","STDDEV_SAMP","ST_LineFromWKB","ST_MLineFromWKB","ST_MPolyFromWKB","ST_PointFromWKB","ST_PolyFromWKB","SUBSTRING_INDEX","SVG","TIMESTAMP_DIFF","TO_BASE64","TO_DAYS","TO_UNIXTIME","ULIDStringToDateTime","URLHash","URLHierarchy","URLPathHierarchy","UTCTimestamp","UTC_timestamp","UUIDNumToString","UUIDStringToNum","UUIDToNum","UUIDv7ToDateTime","VAR_POP","VAR_SAMP","YEAR","YYYYMMDDToDate","YYYYMMDDToDate32","YYYYMMDDhhmmssToDateTime","YYYYMMDDhhmmssToDateTime64","_CAST","__actionName","__bitBoolMaskAnd","__bitBoolMaskOr","__bitSwapLastTwo","__bitWrapperFunc","__getScalar","__patchPartitionID","__scalarSubqueryResult","abs","accurateCast","accurateCastOrDefault","accurateCastOrNull","acos","acosh","addDate","addDays","addHours","addInterval","addMicroseconds","addMilliseconds","addMinutes","addMonths","addNanoseconds","addQuarters","addSeconds","addTupleOfIntervals","addWeeks","addYears","addressToLine","addressToLineWithInlines","addressToSymbol","aes_decrypt_mysql","aes_encrypt_mysql","age","aggThrow","alphaTokens","analysisOfVariance","anova","any","anyHeavy","anyLast","anyLastRespectNulls","anyLast_respect_nulls","anyRespectNulls","anyValueRespectNulls","any_respect_nulls","any_value","any_value_respect_nulls","appendTrailingCharIfAbsent","approx_top_count","approx_top_k","approx_top_sum","argMax","argMin","array","arrayAUC","arrayAUCPR","arrayAll","arrayAvg","arrayCompact","arrayConcat","arrayCount","arrayCumSum","arrayCumSumNonNegative","arrayDifference","arrayDistinct","arrayDotProduct","arrayElement","arrayElementOrNull","arrayEnumerate","arrayEnumerateDense","arrayEnumerateDenseRanked","arrayEnumerateUniq","arrayEnumerateUniqRanked","arrayExists","arrayFill","arrayFilter","arrayFirst","arrayFirstIndex","arrayFirstOrNull","arrayFlatten","arrayFold","arrayIntersect","arrayJaccardIndex","arrayJoin","arrayLast","arrayLastIndex","arrayLastOrNull","arrayLevenshteinDistance","arrayLevenshteinDistanceWeighted","arrayMap","arrayMax","arrayMin","arrayNormalizedGini","arrayPRAUC","arrayPartialReverseSort","arrayPartialShuffle","arrayPartialSort","arrayPopBack","arrayPopFront","arrayProduct","arrayPushBack","arrayPushFront","arrayROCAUC","arrayRandomSample","arrayReduce","arrayReduceInRanges","arrayResize","arrayReverse","arrayReverseFill","arrayReverseSort","arrayReverseSplit","arrayRotateLeft","arrayRotateRight","arrayShiftLeft","arrayShiftRight","arrayShingles","arrayShuffle","arraySimilarity","arraySlice","arraySort","arraySplit","arrayStringConcat","arraySum","arraySymmetricDifference","arrayUnion","arrayUniq","arrayWithConstant","arrayZip","arrayZipUnaligned","array_agg","array_concat_agg","ascii","asin","asinh","assumeNotNull","atan","atan2","atanh","authenticatedUser","avg","avgWeighted","bar","base32Decode","base32Encode","base58Decode","base58Encode","base64Decode","base64Encode","base64URLDecode","base64URLEncode","basename","bech32Decode","bech32Encode","bin","bitAnd","bitCount","bitHammingDistance","bitNot","bitOr","bitPositionsToArray","bitRotateLeft","bitRotateRight","bitShiftLeft","bitShiftRight","bitSlice","bitTest","bitTestAll","bitTestAny","bitXor","bitmapAnd","bitmapAndCardinality","bitmapAndnot","bitmapAndnotCardinality","bitmapBuild","bitmapCardinality","bitmapContains","bitmapHasAll","bitmapHasAny","bitmapMax","bitmapMin","bitmapOr","bitmapOrCardinality","bitmapSubsetInRange","bitmapSubsetLimit","bitmapToArray","bitmapTransform","bitmapXor","bitmapXorCardinality","bitmaskToArray","bitmaskToList","blockNumber","blockSerializedSize","blockSize","boundingRatio","buildId","byteHammingDistance","byteSize","byteSlice","byteSwap","caseWithExpr","caseWithExpression","caseWithoutExpr","caseWithoutExpression","catboostEvaluate","categoricalInformationValue","cbrt","ceil","ceiling","changeDay","changeHour","changeMinute","changeMonth","changeSecond","changeYear","char","cityHash64","clamp","coalesce","colorOKLCHToSRGB","colorSRGBToOKLCH","compareSubstrings","concat","concatAssumeInjective","concatWithSeparator","concatWithSeparatorAssumeInjective","concat_ws","connectionId","connection_id","contingency","convertCharset","corr","corrMatrix","corrStable","cos","cosh","cosineDistance","count","countDigits","countEqual","countMatches","countMatchesCaseInsensitive","countSubstrings","countSubstringsCaseInsensitive","countSubstringsCaseInsensitiveUTF8","covarPop","covarPopMatrix","covarPopStable","covarSamp","covarSampMatrix","covarSampStable","cramersV","cramersVBiasCorrected","curdate","currentDatabase","currentProfiles","currentQueryID","currentRoles","currentSchemas","currentUser","current_database","current_date","current_query_id","current_schemas","current_timestamp","current_user","cutFragment","cutIPv6","cutQueryString","cutQueryStringAndFragment","cutToFirstSignificantSubdomain","cutToFirstSignificantSubdomainCustom","cutToFirstSignificantSubdomainCustomRFC","cutToFirstSignificantSubdomainCustomWithWWW","cutToFirstSignificantSubdomainCustomWithWWWRFC","cutToFirstSignificantSubdomainRFC","cutToFirstSignificantSubdomainWithWWW","cutToFirstSignificantSubdomainWithWWWRFC","cutURLParameter","cutWWW","damerauLevenshteinDistance","dateDiff","dateName","dateTime64ToSnowflake","dateTime64ToSnowflakeID","dateTimeToSnowflake","dateTimeToSnowflakeID","dateTimeToUUIDv7","dateTrunc","date_bin","date_diff","decodeHTMLComponent","decodeURLComponent","decodeURLFormComponent","decodeXMLComponent","decrypt","defaultProfiles","defaultRoles","defaultValueOfArgumentType","defaultValueOfTypeName","degrees","deltaSum","deltaSumTimestamp","demangle","denseRank","dense_rank","detectCharset","detectLanguage","detectLanguageMixed","detectLanguageUnknown","detectProgrammingLanguage","detectTonality","dictGet","dictGetAll","dictGetChildren","dictGetDate","dictGetDateOrDefault","dictGetDateTime","dictGetDateTimeOrDefault","dictGetDescendants","dictGetFloat32","dictGetFloat32OrDefault","dictGetFloat64","dictGetFloat64OrDefault","dictGetHierarchy","dictGetIPv4","dictGetIPv4OrDefault","dictGetIPv6","dictGetIPv6OrDefault","dictGetInt16","dictGetInt16OrDefault","dictGetInt32","dictGetInt32OrDefault","dictGetInt64","dictGetInt64OrDefault","dictGetInt8","dictGetInt8OrDefault","dictGetOrDefault","dictGetOrNull","dictGetString","dictGetStringOrDefault","dictGetUInt16","dictGetUInt16OrDefault","dictGetUInt32","dictGetUInt32OrDefault","dictGetUInt64","dictGetUInt64OrDefault","dictGetUInt8","dictGetUInt8OrDefault","dictGetUUID","dictGetUUIDOrDefault","dictHas","dictIsIn","displayName","distanceL1","distanceL2","distanceL2Squared","distanceLinf","distanceLp","distinctDynamicTypes","distinctJSONPaths","distinctJSONPathsAndTypes","divide","divideDecimal","divideOrNull","domain","domainRFC","domainWithoutWWW","domainWithoutWWWRFC","dotProduct","dumpColumnStructure","dynamicElement","dynamicType","e","editDistance","editDistanceUTF8","empty","emptyArrayDate","emptyArrayDateTime","emptyArrayFloat32","emptyArrayFloat64","emptyArrayInt16","emptyArrayInt32","emptyArrayInt64","emptyArrayInt8","emptyArrayString","emptyArrayToSingle","emptyArrayUInt16","emptyArrayUInt32","emptyArrayUInt64","emptyArrayUInt8","enabledProfiles","enabledRoles","encodeURLComponent","encodeURLFormComponent","encodeXMLComponent","encrypt","endsWith","endsWithUTF8","entropy","equals","erf","erfc","errorCodeToName","estimateCompressionRatio","evalMLMethod","exp","exp10","exp2","exponentialMovingAverage","exponentialTimeDecayedAvg","exponentialTimeDecayedCount","exponentialTimeDecayedMax","exponentialTimeDecayedSum","extract","extractAll","extractAllGroups","extractAllGroupsHorizontal","extractAllGroupsVertical","extractGroups","extractKeyValuePairs","extractKeyValuePairsWithEscaping","extractTextFromHTML","extractURLParameter","extractURLParameterNames","extractURLParameters","factorial","farmFingerprint64","farmHash64","file","filesystemAvailable","filesystemCapacity","filesystemUnreserved","finalizeAggregation","financialInternalRateOfReturn","financialInternalRateOfReturnExtended","financialNetPresentValue","financialNetPresentValueExtended","firstLine","firstSignificantSubdomain","firstSignificantSubdomainCustom","firstSignificantSubdomainCustomRFC","firstSignificantSubdomainRFC","firstValueRespectNulls","first_value","first_value_respect_nulls","flameGraph","flatten","flattenTuple","floor","formatDateTime","formatDateTimeInJodaSyntax","formatQuery","formatQueryOrNull","formatQuerySingleLine","formatQuerySingleLineOrNull","formatReadableDecimalSize","formatReadableQuantity","formatReadableSize","formatReadableTimeDelta","formatRow","formatRowNoNewline","fragment","fromDaysSinceYearZero","fromDaysSinceYearZero32","fromModifiedJulianDay","fromModifiedJulianDayOrNull","fromUTCTimestamp","fromUnixTimestamp","fromUnixTimestamp64Micro","fromUnixTimestamp64Milli","fromUnixTimestamp64Nano","fromUnixTimestamp64Second","fromUnixTimestampInJodaSyntax","from_utc_timestamp","fullHostName","fuzzBits","gccMurmurHash","gcd","generateRandomStructure","generateSerialID","generateSnowflakeID","generateULID","generateUUIDv4","generateUUIDv7","geoDistance","geoToH3","geoToS2","geohashDecode","geohashEncode","geohashesInBox","getClientHTTPHeader","getMacro","getMaxTableNameLengthForDatabase","getMergeTreeSetting","getOSKernelVersion","getServerPort","getServerSetting","getSetting","getSettingOrDefault","getSizeOfEnumType","getSubcolumn","getTypeSerializationStreams","globalIn","globalInIgnoreSet","globalNotIn","globalNotInIgnoreSet","globalNotNullIn","globalNotNullInIgnoreSet","globalNullIn","globalNullInIgnoreSet","globalVariable","greatCircleAngle","greatCircleDistance","greater","greaterOrEquals","greatest","groupArray","groupArrayInsertAt","groupArrayIntersect","groupArrayLast","groupArrayMovingAvg","groupArrayMovingSum","groupArraySample","groupArraySorted","groupBitAnd","groupBitOr","groupBitXor","groupBitmap","groupBitmapAnd","groupBitmapOr","groupBitmapXor","groupConcat","groupNumericIndexedVector","groupUniqArray","group_concat","h3CellAreaM2","h3CellAreaRads2","h3Distance","h3EdgeAngle","h3EdgeLengthKm","h3EdgeLengthM","h3ExactEdgeLengthKm","h3ExactEdgeLengthM","h3ExactEdgeLengthRads","h3GetBaseCell","h3GetDestinationIndexFromUnidirectionalEdge","h3GetFaces","h3GetIndexesFromUnidirectionalEdge","h3GetOriginIndexFromUnidirectionalEdge","h3GetPentagonIndexes","h3GetRes0Indexes","h3GetResolution","h3GetUnidirectionalEdge","h3GetUnidirectionalEdgeBoundary","h3GetUnidirectionalEdgesFromHexagon","h3HexAreaKm2","h3HexAreaM2","h3HexRing","h3IndexesAreNeighbors","h3IsPentagon","h3IsResClassIII","h3IsValid","h3Line","h3NumHexagons","h3PointDistKm","h3PointDistM","h3PointDistRads","h3ToCenterChild","h3ToChildren","h3ToGeo","h3ToGeoBoundary","h3ToParent","h3ToString","h3UnidirectionalEdgeIsValid","h3kRing","halfMD5","has","hasAll","hasAny","hasColumnInTable","hasSubsequence","hasSubsequenceCaseInsensitive","hasSubsequenceCaseInsensitiveUTF8","hasSubsequenceUTF8","hasSubstr","hasThreadFuzzer","hasToken","hasTokenCaseInsensitive","hasTokenCaseInsensitiveOrNull","hasTokenOrNull","hex","hilbertDecode","hilbertEncode","histogram","hiveHash","hop","hopEnd","hopStart","hostName","hostname","hypot","icebergBucket","icebergHash","icebergTruncate","identity","idnaDecode","idnaEncode","if","ifNotFinite","ifNull","ignore","inIgnoreSet","indexHint","indexOf","indexOfAssumeSorted","initcap","initcapUTF8","initialQueryID","initialQueryStartTime","initial_query_id","initial_query_start_time","initializeAggregation","instr","intDiv","intDivOrNull","intDivOrZero","intExp10","intExp2","intHash32","intHash64","intervalLengthSum","isConstant","isDecimalOverflow","isDynamicElementInSharedData","isFinite","isIPAddressInRange","isIPv4String","isIPv6String","isInfinite","isMergeTreePartCoveredBy","isNaN","isNotDistinctFrom","isNotNull","isNull","isNullable","isValidJSON","isValidUTF8","isZeroOrNull","jaroSimilarity","jaroWinklerSimilarity","javaHash","javaHashUTF16LE","joinGet","joinGetOrNull","jsonMergePatch","jumpConsistentHash","kafkaMurmurHash","keccak256","kolmogorovSmirnovTest","kostikConsistentHash","kql_array_sort_asc","kql_array_sort_desc","kurtPop","kurtSamp","lag","lagInFrame","largestTriangleThreeBuckets","lastValueRespectNulls","last_value","last_value_respect_nulls","lcase","lcm","lead","leadInFrame","least","left","leftPad","leftPadUTF8","leftUTF8","lemmatize","length","lengthUTF8","less","lessOrEquals","levenshteinDistance","levenshteinDistanceUTF8","lgamma","ln","locate","log","log10","log1p","log2","logTrace","lowCardinalityIndices","lowCardinalityKeys","lower","lowerUTF8","lpad","ltrim","lttb","makeDate","makeDate32","makeDateTime","makeDateTime64","mannWhitneyUTest","map","mapAdd","mapAll","mapApply","mapConcat","mapContains","mapContainsKey","mapContainsKeyLike","mapContainsValue","mapContainsValueLike","mapExists","mapExtractKeyLike","mapExtractValueLike","mapFilter","mapFromArrays","mapFromString","mapKeys","mapPartialReverseSort","mapPartialSort","mapPopulateSeries","mapReverseSort","mapSort","mapSubtract","mapUpdate","mapValues","match","materialize","max","max2","maxIntersections","maxIntersectionsPosition","maxMappedArrays","meanZTest","median","medianBFloat16","medianBFloat16Weighted","medianDD","medianDeterministic","medianExact","medianExactHigh","medianExactLow","medianExactWeighted","medianExactWeightedInterpolated","medianGK","medianInterpolatedWeighted","medianTDigest","medianTDigestWeighted","medianTiming","medianTimingWeighted","mergeTreePartInfo","metroHash64","mid","min","min2","minMappedArrays","minSampleSizeContinous","minSampleSizeContinuous","minSampleSizeConversion","minus","mismatches","mod","modOrNull","modulo","moduloLegacy","moduloOrNull","moduloOrZero","monthName","mortonDecode","mortonEncode","multiFuzzyMatchAllIndices","multiFuzzyMatchAny","multiFuzzyMatchAnyIndex","multiIf","multiMatchAllIndices","multiMatchAny","multiMatchAnyIndex","multiSearchAllPositions","multiSearchAllPositionsCaseInsensitive","multiSearchAllPositionsCaseInsensitiveUTF8","multiSearchAllPositionsUTF8","multiSearchAny","multiSearchAnyCaseInsensitive","multiSearchAnyCaseInsensitiveUTF8","multiSearchAnyUTF8","multiSearchFirstIndex","multiSearchFirstIndexCaseInsensitive","multiSearchFirstIndexCaseInsensitiveUTF8","multiSearchFirstIndexUTF8","multiSearchFirstPosition","multiSearchFirstPositionCaseInsensitive","multiSearchFirstPositionCaseInsensitiveUTF8","multiSearchFirstPositionUTF8","multiply","multiplyDecimal","murmurHash2_32","murmurHash2_64","murmurHash3_128","murmurHash3_32","murmurHash3_64","negate","neighbor","nested","netloc","ngramDistance","ngramDistanceCaseInsensitive","ngramDistanceCaseInsensitiveUTF8","ngramDistanceUTF8","ngramMinHash","ngramMinHashArg","ngramMinHashArgCaseInsensitive","ngramMinHashArgCaseInsensitiveUTF8","ngramMinHashArgUTF8","ngramMinHashCaseInsensitive","ngramMinHashCaseInsensitiveUTF8","ngramMinHashUTF8","ngramSearch","ngramSearchCaseInsensitive","ngramSearchCaseInsensitiveUTF8","ngramSearchUTF8","ngramSimHash","ngramSimHashCaseInsensitive","ngramSimHashCaseInsensitiveUTF8","ngramSimHashUTF8","ngrams","nonNegativeDerivative","normL1","normL2","normL2Squared","normLinf","normLp","normalizeL1","normalizeL2","normalizeLinf","normalizeLp","normalizeQuery","normalizeQueryKeepNames","normalizeUTF8NFC","normalizeUTF8NFD","normalizeUTF8NFKC","normalizeUTF8NFKD","normalizedQueryHash","normalizedQueryHashKeepNames","notEmpty","notEquals","notILike","notIn","notInIgnoreSet","notLike","notNullIn","notNullInIgnoreSet","nothing","nothingNull","nothingUInt64","now","now64","nowInBlock","nowInBlock64","nth_value","ntile","nullIf","nullIn","nullInIgnoreSet","numbers","numericIndexedVectorAllValueSum","numericIndexedVectorBuild","numericIndexedVectorCardinality","numericIndexedVectorGetValue","numericIndexedVectorPointwiseAdd","numericIndexedVectorPointwiseDivide","numericIndexedVectorPointwiseEqual","numericIndexedVectorPointwiseGreater","numericIndexedVectorPointwiseGreaterEqual","numericIndexedVectorPointwiseLess","numericIndexedVectorPointwiseLessEqual","numericIndexedVectorPointwiseMultiply","numericIndexedVectorPointwiseNotEqual","numericIndexedVectorPointwiseSubtract","numericIndexedVectorShortDebugString","numericIndexedVectorToMap","overlay","overlayUTF8","parseDateTime","parseDateTime32BestEffort","parseDateTime32BestEffortOrNull","parseDateTime32BestEffortOrZero","parseDateTime64","parseDateTime64BestEffort","parseDateTime64BestEffortOrNull","parseDateTime64BestEffortOrZero","parseDateTime64BestEffortUS","parseDateTime64BestEffortUSOrNull","parseDateTime64BestEffortUSOrZero","parseDateTime64InJodaSyntax","parseDateTime64InJodaSyntaxOrNull","parseDateTime64InJodaSyntaxOrZero","parseDateTime64OrNull","parseDateTime64OrZero","parseDateTimeBestEffort","parseDateTimeBestEffortOrNull","parseDateTimeBestEffortOrZero","parseDateTimeBestEffortUS","parseDateTimeBestEffortUSOrNull","parseDateTimeBestEffortUSOrZero","parseDateTimeInJodaSyntax","parseDateTimeInJodaSyntaxOrNull","parseDateTimeInJodaSyntaxOrZero","parseDateTimeOrNull","parseDateTimeOrZero","parseReadableSize","parseReadableSizeOrNull","parseReadableSizeOrZero","parseTimeDelta","partitionID","partitionId","path","pathFull","percentRank","percent_rank","pi","plus","pmod","pmodOrNull","pointInEllipses","pointInPolygon","polygonAreaCartesian","polygonAreaSpherical","polygonConvexHullCartesian","polygonPerimeterCartesian","polygonPerimeterSpherical","polygonsDistanceCartesian","polygonsDistanceSpherical","polygonsEqualsCartesian","polygonsIntersectCartesian","polygonsIntersectSpherical","polygonsIntersectionCartesian","polygonsIntersectionSpherical","polygonsSymDifferenceCartesian","polygonsSymDifferenceSpherical","polygonsUnionCartesian","polygonsUnionSpherical","polygonsWithinCartesian","polygonsWithinSpherical","port","portRFC","position","positionCaseInsensitive","positionCaseInsensitiveUTF8","positionUTF8","positiveModulo","positiveModuloOrNull","positive_modulo","positive_modulo_or_null","pow","power","printf","proportionsZTest","protocol","punycodeDecode","punycodeEncode","quantile","quantileBFloat16","quantileBFloat16Weighted","quantileDD","quantileDeterministic","quantileExact","quantileExactExclusive","quantileExactHigh","quantileExactInclusive","quantileExactLow","quantileExactWeighted","quantileExactWeightedInterpolated","quantileGK","quantileInterpolatedWeighted","quantileTDigest","quantileTDigestWeighted","quantileTiming","quantileTimingWeighted","quantiles","quantilesBFloat16","quantilesBFloat16Weighted","quantilesDD","quantilesDeterministic","quantilesExact","quantilesExactExclusive","quantilesExactHigh","quantilesExactInclusive","quantilesExactLow","quantilesExactWeighted","quantilesExactWeightedInterpolated","quantilesGK","quantilesInterpolatedWeighted","quantilesTDigest","quantilesTDigestWeighted","quantilesTiming","quantilesTimingWeighted","queryID","queryString","queryStringAndFragment","query_id","radians","rand","rand32","rand64","randBernoulli","randBinomial","randCanonical","randChiSquared","randConstant","randExponential","randFisherF","randLogNormal","randNegativeBinomial","randNormal","randPoisson","randStudentT","randUniform","randomFixedString","randomPrintableASCII","randomString","randomStringUTF8","rank","rankCorr","readWKBLineString","readWKBMultiLineString","readWKBMultiPolygon","readWKBPoint","readWKBPolygon","readWKTLineString","readWKTMultiLineString","readWKTMultiPolygon","readWKTPoint","readWKTPolygon","readWKTRing","regexpExtract","regexpQuoteMeta","regionHierarchy","regionIn","regionToArea","regionToCity","regionToContinent","regionToCountry","regionToDistrict","regionToName","regionToPopulation","regionToTopContinent","reinterpret","reinterpretAsDate","reinterpretAsDateTime","reinterpretAsFixedString","reinterpretAsFloat32","reinterpretAsFloat64","reinterpretAsInt128","reinterpretAsInt16","reinterpretAsInt256","reinterpretAsInt32","reinterpretAsInt64","reinterpretAsInt8","reinterpretAsString","reinterpretAsUInt128","reinterpretAsUInt16","reinterpretAsUInt256","reinterpretAsUInt32","reinterpretAsUInt64","reinterpretAsUInt8","reinterpretAsUUID","repeat","replace","replaceAll","replaceOne","replaceRegexpAll","replaceRegexpOne","replicate","retention","reverse","reverseUTF8","revision","right","rightPad","rightPadUTF8","rightUTF8","round","roundAge","roundBankers","roundDown","roundDuration","roundToExp2","rowNumberInAllBlocks","rowNumberInBlock","row_number","rpad","rtrim","runningAccumulate","runningConcurrency","runningDifference","runningDifferenceStartingWithFirstValue","s2CapContains","s2CapUnion","s2CellsIntersect","s2GetNeighbors","s2RectAdd","s2RectContains","s2RectIntersection","s2RectUnion","s2ToGeo","scalarProduct","searchAll","searchAny","sequenceCount","sequenceMatch","sequenceMatchEvents","sequenceNextNode","seriesDecomposeSTL","seriesOutliersDetectTukey","seriesPeriodDetectFFT","serverTimeZone","serverTimezone","serverUUID","shardCount","shardNum","showCertificate","sigmoid","sign","simpleJSONExtractBool","simpleJSONExtractFloat","simpleJSONExtractInt","simpleJSONExtractRaw","simpleJSONExtractString","simpleJSONExtractUInt","simpleJSONHas","simpleLinearRegression","sin","singleValueOrNull","sinh","sipHash128","sipHash128Keyed","sipHash128Reference","sipHash128ReferenceKeyed","sipHash64","sipHash64Keyed","skewPop","skewSamp","sleep","sleepEachRow","snowflakeIDToDateTime","snowflakeIDToDateTime64","snowflakeToDateTime","snowflakeToDateTime64","soundex","space","sparkBar","sparkbar","sparseGrams","sparseGramsHashes","sparseGramsHashesUTF8","sparseGramsUTF8","splitByAlpha","splitByChar","splitByNonAlpha","splitByRegexp","splitByString","splitByWhitespace","sqid","sqidDecode","sqidEncode","sqrt","startsWith","startsWithUTF8","stddevPop","stddevPopStable","stddevSamp","stddevSampStable","stem","stochasticLinearRegression","stochasticLogisticRegression","str_to_date","str_to_map","stringBytesEntropy","stringBytesUniq","stringJaccardIndex","stringJaccardIndexUTF8","stringToH3","structureToCapnProtoSchema","structureToProtobufSchema","studentTTest","subBitmap","subDate","substr","substring","substringIndex","substringIndexUTF8","substringUTF8","subtractDays","subtractHours","subtractInterval","subtractMicroseconds","subtractMilliseconds","subtractMinutes","subtractMonths","subtractNanoseconds","subtractQuarters","subtractSeconds","subtractTupleOfIntervals","subtractWeeks","subtractYears","sum","sumCount","sumKahan","sumMapFiltered","sumMapFilteredWithOverflow","sumMapWithOverflow","sumMappedArrays","sumWithOverflow","svg","synonyms","tan","tanh","tcpPort","tgamma","theilsU","throwIf","tid","timeDiff","timeSeriesDeltaToGrid","timeSeriesDerivToGrid","timeSeriesFromGrid","timeSeriesGroupArray","timeSeriesIdToTags","timeSeriesIdToTagsGroup","timeSeriesIdeltaToGrid","timeSeriesInstantDeltaToGrid","timeSeriesInstantRateToGrid","timeSeriesIrateToGrid","timeSeriesLastToGrid","timeSeriesLastTwoSamples","timeSeriesPredictLinearToGrid","timeSeriesRange","timeSeriesRateToGrid","timeSeriesResampleToGridWithStaleness","timeSeriesStoreTags","timeSeriesTagsGroupToTags","timeSlot","timeSlots","timeZone","timeZoneOf","timeZoneOffset","time_bucket","timestamp","timestampDiff","timestamp_diff","timezone","timezoneOf","timezoneOffset","toBFloat16","toBFloat16OrNull","toBFloat16OrZero","toBool","toColumnTypeName","toDate","toDate32","toDate32OrDefault","toDate32OrNull","toDate32OrZero","toDateOrDefault","toDateOrNull","toDateOrZero","toDateTime","toDateTime32","toDateTime64","toDateTime64OrDefault","toDateTime64OrNull","toDateTime64OrZero","toDateTimeOrDefault","toDateTimeOrNull","toDateTimeOrZero","toDayOfMonth","toDayOfWeek","toDayOfYear","toDaysSinceYearZero","toDecimal128","toDecimal128OrDefault","toDecimal128OrNull","toDecimal128OrZero","toDecimal256","toDecimal256OrDefault","toDecimal256OrNull","toDecimal256OrZero","toDecimal32","toDecimal32OrDefault","toDecimal32OrNull","toDecimal32OrZero","toDecimal64","toDecimal64OrDefault","toDecimal64OrNull","toDecimal64OrZero","toDecimalString","toFixedString","toFloat32","toFloat32OrDefault","toFloat32OrNull","toFloat32OrZero","toFloat64","toFloat64OrDefault","toFloat64OrNull","toFloat64OrZero","toHour","toIPv4","toIPv4OrDefault","toIPv4OrNull","toIPv4OrZero","toIPv6","toIPv6OrDefault","toIPv6OrNull","toIPv6OrZero","toISOWeek","toISOYear","toInt128","toInt128OrDefault","toInt128OrNull","toInt128OrZero","toInt16","toInt16OrDefault","toInt16OrNull","toInt16OrZero","toInt256","toInt256OrDefault","toInt256OrNull","toInt256OrZero","toInt32","toInt32OrDefault","toInt32OrNull","toInt32OrZero","toInt64","toInt64OrDefault","toInt64OrNull","toInt64OrZero","toInt8","toInt8OrDefault","toInt8OrNull","toInt8OrZero","toInterval","toIntervalDay","toIntervalHour","toIntervalMicrosecond","toIntervalMillisecond","toIntervalMinute","toIntervalMonth","toIntervalNanosecond","toIntervalQuarter","toIntervalSecond","toIntervalWeek","toIntervalYear","toJSONString","toLastDayOfMonth","toLastDayOfWeek","toLowCardinality","toMillisecond","toMinute","toModifiedJulianDay","toModifiedJulianDayOrNull","toMonday","toMonth","toMonthNumSinceEpoch","toNullable","toQuarter","toRelativeDayNum","toRelativeHourNum","toRelativeMinuteNum","toRelativeMonthNum","toRelativeQuarterNum","toRelativeSecondNum","toRelativeWeekNum","toRelativeYearNum","toSecond","toStartOfDay","toStartOfFifteenMinutes","toStartOfFiveMinute","toStartOfFiveMinutes","toStartOfHour","toStartOfISOYear","toStartOfInterval","toStartOfMicrosecond","toStartOfMillisecond","toStartOfMinute","toStartOfMonth","toStartOfNanosecond","toStartOfQuarter","toStartOfSecond","toStartOfTenMinutes","toStartOfWeek","toStartOfYear","toString","toStringCutToZero","toTime","toTime64","toTime64OrNull","toTime64OrZero","toTimeOrNull","toTimeOrZero","toTimeWithFixedDate","toTimeZone","toTimezone","toTypeName","toUInt128","toUInt128OrDefault","toUInt128OrNull","toUInt128OrZero","toUInt16","toUInt16OrDefault","toUInt16OrNull","toUInt16OrZero","toUInt256","toUInt256OrDefault","toUInt256OrNull","toUInt256OrZero","toUInt32","toUInt32OrDefault","toUInt32OrNull","toUInt32OrZero","toUInt64","toUInt64OrDefault","toUInt64OrNull","toUInt64OrZero","toUInt8","toUInt8OrDefault","toUInt8OrNull","toUInt8OrZero","toUTCTimestamp","toUUID","toUUIDOrDefault","toUUIDOrNull","toUUIDOrZero","toUnixTimestamp","toUnixTimestamp64Micro","toUnixTimestamp64Milli","toUnixTimestamp64Nano","toUnixTimestamp64Second","toValidUTF8","toWeek","toYYYYMM","toYYYYMMDD","toYYYYMMDDhhmmss","toYear","toYearNumSinceEpoch","toYearWeek","to_utc_timestamp","today","tokens","topK","topKWeighted","topLevelDomain","topLevelDomainRFC","transactionID","transactionLatestSnapshot","transactionOldestSnapshot","transform","translate","translateUTF8","trim","trimBoth","trimLeft","trimRight","trunc","tryBase32Decode","tryBase58Decode","tryBase64Decode","tryBase64URLDecode","tryDecrypt","tryIdnaEncode","tryPunycodeDecode","tumble","tumbleEnd","tumbleStart","tuple","tupleConcat","tupleDivide","tupleDivideByNumber","tupleElement","tupleHammingDistance","tupleIntDiv","tupleIntDivByNumber","tupleIntDivOrZero","tupleIntDivOrZeroByNumber","tupleMinus","tupleModulo","tupleModuloByNumber","tupleMultiply","tupleMultiplyByNumber","tupleNames","tupleNegate","tuplePlus","tupleToNameValuePairs","ucase","unbin","unhex","uniq","uniqCombined","uniqCombined64","uniqExact","uniqHLL12","uniqTheta","uniqThetaIntersect","uniqThetaNot","uniqThetaUnion","uniqUpTo","upper","upperUTF8","uptime","user","validateNestedArraySizes","varPop","varPopStable","varSamp","varSampStable","variantElement","variantType","vectorDifference","vectorSum","version","visibleWidth","visitParamExtractBool","visitParamExtractFloat","visitParamExtractInt","visitParamExtractRaw","visitParamExtractString","visitParamExtractUInt","visitParamHas","week","welchTTest","widthBucket","width_bucket","windowFunnel","windowID","wkb","wkt","wordShingleMinHash","wordShingleMinHashArg","wordShingleMinHashArgCaseInsensitive","wordShingleMinHashArgCaseInsensitiveUTF8","wordShingleMinHashArgUTF8","wordShingleMinHashCaseInsensitive","wordShingleMinHashCaseInsensitiveUTF8","wordShingleMinHashUTF8","wordShingleSimHash","wordShingleSimHashCaseInsensitive","wordShingleSimHashCaseInsensitiveUTF8","wordShingleSimHashUTF8","wyHash64","xor","xxHash32","xxHash64","xxh3","yandexConsistentHash","yearweek","yesterday","zookeeperSessionUptime","MergeTree","ReplacingMergeTree","SummingMergeTree","AggregatingMergeTree","CollapsingMergeTree","VersionedCollapsingMergeTree","GraphiteMergeTree","CoalescingMergeTree","Atomic","Shared","Lazy","Replicated","PostgreSQL","MySQL","SQLite","MaterializedPostgreSQL","DataLakeCatalog"],fke=["ACCESS","ACTION","ADD","ADMIN","AFTER","ALGORITHM","ALIAS","ALL","ALLOWED_LATENESS","ALTER","AND","ANTI","APPEND","APPLY","AS","ASC","ASCENDING","ASOF","ASSUME","AST","ASYNC","ATTACH","AUTO_INCREMENT","AZURE","BACKUP","BAGEXPANSION","BASE_BACKUP","BCRYPT_HASH","BCRYPT_PASSWORD","BEGIN","BETWEEN","BIDIRECTIONAL","BOTH","BY","CACHE","CACHES","CASCADE","CASE","CHANGE","CHANGEABLE_IN_READONLY","CHANGED","CHARACTER","CHECK","CLEANUP","CLEAR","CLUSTER","CLUSTERS","CLUSTER_HOST_IDS","CN","CODEC","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPRESSION","CONST","CONSTRAINT","CREATE","CROSS","CUBE","CURRENT","D","DATA","DATABASE","DATABASES","DAYS","DD","DDL","DEDUPLICATE","DEFAULT","DEFINER","DELAY","DELETE","DELETED","DEPENDS","DESC","DESCENDING","DESCRIBE","DETACH","DETACHED","DICTIONARIES","DICTIONARY","DISK","DISTINCT","DIV","DOUBLE_SHA1_HASH","DOUBLE_SHA1_PASSWORD","DROP","ELSE","ENABLED","END","ENFORCED","ENGINE","ENGINES","EPHEMERAL","ESTIMATE","EVENT","EVENTS","EVERY","EXCEPT","EXCHANGE","EXISTS","EXPLAIN","EXPRESSION","EXTENDED","EXTERNAL","FAKE","FALSE","FETCH","FIELDS","FILESYSTEM","FILL","FILTER","FINAL","FIRST","FOLLOWING","FOR","FOREIGN","FORMAT","FREEZE","FROM","FULL","FULLTEXT","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GRANTEES","GRANTS","GRANULARITY","GROUP","GROUPING","GROUPS","H","HASH","HAVING","HDFS","HH","HIERARCHICAL","HOST","HOURS","HTTP","IDENTIFIED","ILIKE","IN","INDEX","INDEXES","INDICES","INFILE","INHERIT","INJECTIVE","INNER","INSERT","INTERPOLATE","INTERSECT","INTERVAL","INTO","INVISIBLE","INVOKER","IP","IS","IS_OBJECT_ID","JOIN","JWT","KERBEROS","KEY","KEYED","KEYS","KILL","KIND","LARGE","LAST","LAYOUT","LDAP","LEADING","LEVEL","LIFETIME","LIGHTWEIGHT","LIKE","LIMIT","LIMITS","LINEAR","LIST","LIVE","LOCAL","M","MASK","MATERIALIZED","MCS","MEMORY","MERGES","METRICS","MI","MICROSECOND","MICROSECONDS","MILLISECONDS","MINUTES","MM","MODIFY","MONTHS","MOVE","MS","MUTATION","N","NAME","NAMED","NANOSECOND","NANOSECONDS","NEXT","NO","NONE","NOT","NO_PASSWORD","NS","NULL","NULLS","OBJECT","OFFSET","ON","ONLY","OPTIMIZE","OPTION","OR","ORDER","OUTER","OUTFILE","OVER","OVERRIDABLE","OVERRIDE","PART","PARTIAL","PARTITION","PARTITIONS","PART_MOVE_TO_SHARD","PASTE","PERIODIC","PERMANENTLY","PERMISSIVE","PERSISTENT","PIPELINE","PLAINTEXT_PASSWORD","PLAN","POLICY","POPULATE","PRECEDING","PRECISION","PREWHERE","PRIMARY","PRIVILEGES","PROCESSLIST","PROFILE","PROJECTION","PROTOBUF","PULL","Q","QQ","QUALIFY","QUARTERS","QUERY","QUOTA","RANDOMIZE","RANDOMIZED","RANGE","READONLY","REALM","RECOMPRESS","RECURSIVE","REFERENCES","REFRESH","REGEXP","REMOVE","RENAME","RESET","RESPECT","RESTORE","RESTRICT","RESTRICTIVE","RESUME","REVOKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","S","S3","SALT","SAMPLE","SAN","SCHEME","SECONDS","SECURITY","SELECT","SEMI","SEQUENTIAL","SERVER","SET","SETS","SETTING","SETTINGS","SHA256_HASH","SHA256_PASSWORD","SHARD","SHOW","SIGNED","SIMPLE","SNAPSHOT","SOURCE","SPATIAL","SQL","SQL_TSI_DAY","SQL_TSI_HOUR","SQL_TSI_MICROSECOND","SQL_TSI_MILLISECOND","SQL_TSI_MINUTE","SQL_TSI_MONTH","SQL_TSI_NANOSECOND","SQL_TSI_QUARTER","SQL_TSI_SECOND","SQL_TSI_WEEK","SQL_TSI_YEAR","SS","SSH_KEY","SSL_CERTIFICATE","STALENESS","START","STATISTICS","STDOUT","STEP","STORAGE","STRICT","STRICTLY_ASCENDING","SUBPARTITION","SUBPARTITIONS","SUSPEND","SYNC","SYNTAX","SYSTEM","TABLE","TABLES","TAGS","TEMPORARY","TEST","THAN","THEN","TIES","TIME","TO","TOP","TOTALS","TRACKING","TRAILING","TRANSACTION","TREE","TRIGGER","TRUE","TRUNCATE","TTL","TYPE","TYPEOF","UNBOUNDED","UNDROP","UNFREEZE","UNION","UNIQUE","UNSET","UNSIGNED","UNTIL","UPDATE","URL","USE","USING","UUID","VALID","VALUES","VARYING","VIEW","VISIBLE","VOLUME","WATCH","WATERMARK","WEEKS","WHEN","WHERE","WINDOW","WITH","WITH_ITEMINDEX","WK","WRITABLE","WW","YEARS","YY","YYYY","ZKPATH"],pke=["AGGREGATEFUNCTION","ARRAY","BFLOAT16","BIGINT","BIGINT SIGNED","BIGINT UNSIGNED","BINARY","BINARY LARGE OBJECT","BINARY VARYING","BIT","BLOB","BYTE","BYTEA","BOOL","CHAR","CHAR LARGE OBJECT","CHAR VARYING","CHARACTER","CHARACTER LARGE OBJECT","CHARACTER VARYING","CLOB","DEC","DOUBLE","DOUBLE PRECISION","DATE","DATE32","DATETIME","DATETIME32","DATETIME64","DECIMAL","DECIMAL128","DECIMAL256","DECIMAL32","DECIMAL64","DYNAMIC","ENUM","ENUM","ENUM16","ENUM8","FIXED","FLOAT","FIXEDSTRING","FLOAT32","FLOAT64","GEOMETRY","INET4","INET6","INT","INT SIGNED","INT UNSIGNED","INT1","INT1 SIGNED","INT1 UNSIGNED","INTEGER","INTEGER SIGNED","INTEGER UNSIGNED","IPV4","IPV6","INT128","INT16","INT256","INT32","INT64","INT8","INTERVALDAY","INTERVALHOUR","INTERVALMICROSECOND","INTERVALMILLISECOND","INTERVALMINUTE","INTERVALMONTH","INTERVALNANOSECOND","INTERVALQUARTER","INTERVALSECOND","INTERVALWEEK","INTERVALYEAR","JSON","LONGBLOB","LONGTEXT","LINESTRING","LOWCARDINALITY","MEDIUMBLOB","MEDIUMINT","MEDIUMINT SIGNED","MEDIUMINT UNSIGNED","MEDIUMTEXT","MAP","MULTILINESTRING","MULTIPOLYGON","NATIONAL CHAR","NATIONAL CHAR VARYING","NATIONAL CHARACTER","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NCHAR","NCHAR LARGE OBJECT","NCHAR VARYING","NUMERIC","NVARCHAR","NESTED","NOTHING","NULLABLE","OBJECT","POINT","POLYGON","REAL","RING","SET","SIGNED","SINGLE","SMALLINT","SMALLINT SIGNED","SMALLINT UNSIGNED","SIMPLEAGGREGATEFUNCTION","STRING","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYINT SIGNED","TINYINT UNSIGNED","TINYTEXT","TIME","TIME64","TUPLE","UINT128","UINT16","UINT256","UINT32","UINT64","UINT8","UNSIGNED","UUID","VARBINARY","VARCHAR","VARCHAR2","VARIANT","YEAR","BOOL","BOOLEAN"],mke=Ie(["SELECT [DISTINCT]","MODIFY QUERY SELECT [DISTINCT]"]),gke=Ie(["SET","WITH","FROM","SAMPLE","PREWHERE","WHERE","GROUP BY","HAVING","QUALIFY","ORDER BY","LIMIT","SETTINGS","INTO OUTFILE","FORMAT","WINDOW","PARTITION BY","INSERT INTO","VALUES","DEPENDS ON","MOVE {USER | ROLE | QUOTA | SETTINGS PROFILE | ROW POLICY}","GRANT","REVOKE","CHECK GRANT","SET [DEFAULT] ROLE [NONE | ALL | ALL EXCEPT]","DEDUPLICATE BY","MODIFY STATISTICS","TYPE","ALTER USER [IF EXISTS]","ALTER [ROW] POLICY [IF EXISTS]","DROP {USER | ROLE | QUOTA | PROFILE | SETTINGS PROFILE | ROW POLICY | POLICY} [IF EXISTS]"]),sY=Ie(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),K1=Ie(["ALL EXCEPT","ON CLUSTER","UPDATE","SYSTEM RELOAD {DICTIONARIES | DICTIONARY | FUNCTIONS | FUNCTION | ASYNCHRONOUS METRICS}","SYSTEM DROP {DNS CACHE | MARK CACHE | ICEBERG METADATA CACHE | TEXT INDEX DICTIONARY CACHE | TEXT INDEX HEADER CACHE | TEXT INDEX POSTINGS CACHE | REPLICA | DATABASE REPLICA | UNCOMPRESSED CACHE | COMPILED EXPRESSION CACHE | QUERY CONDITION CACHE | QUERY CACHE | FORMAT SCHEMA CACHE | FILESYSTEM CACHE}","SYSTEM FLUSH LOGS","SYSTEM RELOAD {CONFIG | USERS}","SYSTEM SHUTDOWN","SYSTEM KILL","SYSTEM FLUSH DISTRIBUTED","SYSTEM START DISTRIBUTED SENDS","SYSTEM {STOP | START} {LISTEN | MERGES | TTL MERGES | MOVES | FETCHES | REPLICATED SENDS | REPLICATION QUEUES | PULLING REPLICATION LOG}","SYSTEM {SYNC | RESTART | RESTORE} REPLICA","SYSTEM {SYNC | RESTORE} DATABASE REPLICA","SYSTEM RESTART REPLICAS","SYSTEM UNFREEZE","SYSTEM WAIT LOADING PARTS","SYSTEM {LOAD | UNLOAD} PRIMARY KEY","SYSTEM {STOP | START} [REPLICATED] VIEW","SYSTEM {STOP | START} VIEWS","SYSTEM {REFRESH | CANCEL | WAIT} VIEW","WITH NAME","SHOW [CREATE] {TABLE | TEMPORARY TABLE | DICTIONARY | VIEW | DATABASE}","SHOW DATABASES [[NOT] {LIKE | ILIKE}]","SHOW [FULL] [TEMPORARY] TABLES [FROM | IN]","SHOW [EXTENDED] [FULL] COLUMNS {FROM | IN}","ATTACH {TABLE | DICTIONARY | DATABASE} [IF NOT EXISTS]","DETACH {TABLE | DICTIONARY | DATABASE} [IF EXISTS]","PERMANENTLY","SYNC","DROP {DICTIONARY | DATABASE | PROFILE | VIEW | FUNCTION | NAMED COLLECTION} [IF EXISTS]","DROP [TEMPORARY] TABLE [IF EXISTS] [IF EMPTY]","RENAME TO","EXISTS [TEMPORARY] {TABLE | DICTIONARY | DATABASE}","KILL QUERY","OPTIMIZE TABLE","RENAME {TABLE | DICTIONARY | DATABASE}","EXCHANGE {TABLES | DICTIONARIES}","TRUNCATE TABLE [IF EXISTS]","EXECUTE AS","USE","TO","UNDROP TABLE","CREATE {DATABASE | NAMED COLLECTION} [IF NOT EXISTS]","CREATE [OR REPLACE] {VIEW | DICTIONARY} [IF NOT EXISTS]","CREATE MATERIALIZED VIEW [IF NOT EXISTS]","CREATE FUNCTION","CREATE {USER | ROLE | QUOTA | SETTINGS PROFILE} [IF NOT EXISTS | OR REPLACE]","CREATE [ROW] POLICY [IF NOT EXISTS | OR REPLACE]","REPLACE [TEMPORARY] TABLE [IF NOT EXISTS]","ALTER {ROLE | QUOTA | SETTINGS PROFILE} [IF EXISTS]","ALTER [TEMPORARY] TABLE","ALTER NAMED COLLECTION [IF EXISTS]","GRANTEES","NOT IDENTIFIED","RESET AUTHENTICATION METHODS TO NEW","{IDENTIFIED | ADD IDENTIFIED} [WITH | BY]","[ADD | DROP] HOST {LOCAL | NAME | REGEXP | IP | LIKE}","VALID UNTIL","DROP [ALL] {PROFILES | SETTINGS}","{ADD | MODIFY} SETTINGS","ADD PROFILES","APPLY DELETED MASK","IN PARTITION","{ADD | DROP | RENAME | CLEAR | COMMENT | MODIFY | ALTER | MATERIALIZE} COLUMN","{DETACH | DROP | ATTACH | FETCH | MOVE} {PART | PARTITION}","DROP DETACHED {PART | PARTITION}","{FORGET | REPLACE} PARTITION","CLEAR COLUMN","{FREEZE | UNFREEZE} [PARTITION]","CLEAR INDEX","TO {DISK | VOLUME}","[DELETE | REWRITE PARTS] IN PARTITION","{MODIFY | RESET} SETTING","DELETE WHERE","MODIFY ORDER BY","{MODIFY | REMOVE} SAMPLE BY","{ADD | MATERIALIZE | CLEAR} INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","GRANULARITY","AFTER","FIRST","ADD CONSTRAINT [IF NOT EXISTS]","DROP CONSTRAINT [IF EXISTS]","MODIFY TTL","REMOVE TTL","ADD STATISTICS [IF NOT EXISTS]","{DROP | CLEAR} STATISTICS [IF EXISTS]","MATERIALIZE STATISTICS [ALL | IF EXISTS]","KEYED BY","NOT KEYED","FOR [RANDOMIZED] INTERVAL","AS {PERMISSIVE | RESTRICTIVE}","FOR SELECT","ADD PROJECTION [IF NOT EXISTS]","{DROP | MATERIALIZE | CLEAR} PROJECTION [IF EXISTS]","REFRESH {EVERY | AFTER}","RANDOMIZE FOR","APPEND","APPEND TO","DELETE FROM","EXPLAIN [AST | SYNTAX | QUERY TREE | PLAN | PIPELINE | ESTIMATE | TABLE OVERRIDE]","GRANT ON CLUSTER","GRANT CURRENT GRANTS","WITH GRANT OPTION","REVOKE ON CLUSTER","ADMIN OPTION FOR","CHECK TABLE","PARTITION ID","{DESC | DESCRIBE} TABLE"]),Eke=Ie(["UNION [ALL | DISTINCT]","PARALLEL WITH"]),Tke=Ie(["[GLOBAL] [INNER|LEFT|RIGHT|FULL|CROSS] [OUTER|SEMI|ANTI|ANY|ALL|ASOF] JOIN","[LEFT] ARRAY JOIN"]),Ske=Ie(["{ROWS | RANGE} BETWEEN","ALTER MATERIALIZE STATISTICS"]),yke={name:"clickhouse",tokenizerOptions:{reservedSelect:mke,reservedClauses:[...gke,...sY,...K1],reservedSetOperations:Eke,reservedJoins:Tke,reservedKeywordPhrases:Ske,reservedKeywords:fke,reservedDataTypes:pke,reservedFunctionNames:dke,extraParens:["[]","{}"],lineCommentTypes:["#","--"],nestedBlockComments:!1,underscoresInNumbers:!0,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq-bs',"``"],paramTypes:{custom:[{regex:String.raw`\{[^:']+:[^}]+\}`,key:t=>{const e=/\{([^:]+):/.exec(t);return e?e[1].trim():t}}]},operators:["%","||","?",":","==","<=>","->"],postProcess:Cke},formatOptions:{onelineClauses:[...sY,...K1],tabularOnelineClauses:K1}};function Cke(t){return t.map((e,n)=>{const r=t[n+1]||Gf,i=t[n-1]||Gf;return e.type===He.RESERVED_SELECT&&(r.type===He.COMMA||i.type===He.RESERVED_CLAUSE||i.type===He.COMMA)?Object.assign(Object.assign({},e),{type:He.RESERVED_KEYWORD}):Qf.SET(e)&&r.type===He.OPEN_PAREN?Object.assign(Object.assign({},e),{type:He.RESERVED_FUNCTION_NAME}):e})}const xke=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"],Rke=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],Ike=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"],_ke=Ie(["SELECT [ALL | DISTINCT]"]),Nke=Ie(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),oY=Ie(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),z1=Ie(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),bke=Ie(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),vke=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),Oke=Ie(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),wke=Ie([]),Lke={name:"db2",tokenizerOptions:{reservedSelect:_ke,reservedClauses:[...Nke,...oY,...z1],reservedSetOperations:bke,reservedJoins:vke,reservedKeywordPhrases:Oke,reservedDataTypePhrases:wke,reservedKeywords:Rke,reservedDataTypes:Ike,reservedFunctionNames:xke,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","=",">","<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...oY,...z1],tabularOnelineClauses:z1}},Bke=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"],Dke=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],kke=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"],Mke=Ie(["SELECT [ALL | DISTINCT]"]),Pke=Ie(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),aY=Ie(["CREATE [OR REPLACE] TABLE"]),q1=Ie(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),Uke=Ie(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),Fke=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),Hke=Ie(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),Gke=Ie([]),Qke={name:"db2i",tokenizerOptions:{reservedSelect:Mke,reservedClauses:[...Pke,...aY,...q1],reservedSetOperations:Uke,reservedJoins:Fke,reservedKeywordPhrases:Hke,reservedDataTypePhrases:Gke,reservedKeywords:Dke,reservedDataTypes:kke,reservedFunctionNames:Bke,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","=",">","<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...aY,...q1],tabularOnelineClauses:q1}},Vke=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"],$ke=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],Wke=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"],Yke=Ie(["SELECT [ALL | DISTINCT]"]),jke=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),lY=Ie(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),X1=Ie(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),Kke=Ie(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),zke=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),qke=Ie(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"]),Xke=Ie(["TIMESTAMP WITH TIME ZONE"]),Jke={name:"duckdb",tokenizerOptions:{reservedSelect:Yke,reservedClauses:[...jke,...lY,...X1],reservedSetOperations:Kke,reservedJoins:zke,reservedKeywordPhrases:qke,reservedDataTypePhrases:Xke,supportsXor:!0,reservedKeywords:$ke,reservedDataTypes:Wke,reservedFunctionNames:Vke,nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...lY,...X1],tabularOnelineClauses:X1}},Zke=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"],eMe=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],tMe=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"],nMe=Ie(["SELECT [ALL | DISTINCT]"]),rMe=Ie(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),cY=Ie(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),J1=Ie(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),iMe=Ie(["UNION [ALL | DISTINCT]"]),sMe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),oMe=Ie(["{ROWS | RANGE} BETWEEN"]),aMe=Ie([]),lMe={name:"hive",tokenizerOptions:{reservedSelect:nMe,reservedClauses:[...rMe,...cY,...J1],reservedSetOperations:iMe,reservedJoins:sMe,reservedKeywordPhrases:oMe,reservedDataTypePhrases:aMe,reservedKeywords:eMe,reservedDataTypes:tMe,reservedFunctionNames:Zke,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...cY,...J1],tabularOnelineClauses:J1}};function Jw(t){return t.map((e,n)=>{const r=t[n+1]||Gf;if(Qf.SET(e)&&r.text==="(")return Object.assign(Object.assign({},e),{type:He.RESERVED_FUNCTION_NAME});const i=t[n-1]||Gf;return Qf.VALUES(e)&&i.text==="="?Object.assign(Object.assign({},e),{type:He.RESERVED_FUNCTION_NAME}):e})}const cMe=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],AMe=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],uMe=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"],hMe=Ie(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),dMe=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),AY=Ie(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),Z1=Ie(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),fMe=Ie(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),pMe=Ie(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),mMe=Ie(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),gMe=Ie([]),EMe={name:"mariadb",tokenizerOptions:{reservedSelect:hMe,reservedClauses:[...dMe,...AY,...Z1],reservedSetOperations:fMe,reservedJoins:pMe,reservedKeywordPhrases:mMe,reservedDataTypePhrases:gMe,supportsXor:!0,reservedKeywords:cMe,reservedDataTypes:AMe,reservedFunctionNames:uMe,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:Jw},formatOptions:{onelineClauses:[...AY,...Z1],tabularOnelineClauses:Z1}},TMe=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],SMe=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],yMe=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],CMe=Ie(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),xMe=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),uY=Ie(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),eD=Ie(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),RMe=Ie(["UNION [ALL | DISTINCT]"]),IMe=Ie(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),_Me=Ie(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),NMe=Ie([]),bMe={name:"mysql",tokenizerOptions:{reservedSelect:CMe,reservedClauses:[...xMe,...uY,...eD],reservedSetOperations:RMe,reservedJoins:IMe,reservedKeywordPhrases:_Me,reservedDataTypePhrases:NMe,supportsXor:!0,reservedKeywords:TMe,reservedDataTypes:SMe,reservedFunctionNames:yMe,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Jw},formatOptions:{onelineClauses:[...uY,...eD],tabularOnelineClauses:eD}},vMe=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],OMe=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],wMe=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],LMe=Ie(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),BMe=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),hY=Ie(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),tD=Ie(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),DMe=Ie(["UNION [ALL | DISTINCT]"]),kMe=Ie(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),MMe=Ie(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),PMe=Ie([]),UMe={name:"tidb",tokenizerOptions:{reservedSelect:LMe,reservedClauses:[...BMe,...hY,...tD],reservedSetOperations:DMe,reservedJoins:kMe,reservedKeywordPhrases:MMe,reservedDataTypePhrases:PMe,supportsXor:!0,reservedKeywords:vMe,reservedDataTypes:OMe,reservedFunctionNames:wMe,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Jw},formatOptions:{onelineClauses:[...hY,...tD],tabularOnelineClauses:tD}},FMe=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"],HMe=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],GMe=[],QMe=Ie(["SELECT [ALL | DISTINCT]"]),VMe=Ie(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),dY=Ie(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),$Me=Ie(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),WMe=Ie(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),YMe=Ie(["{ROWS | RANGE | GROUPS} BETWEEN"]),jMe=Ie([]),KMe={name:"n1ql",tokenizerOptions:{reservedSelect:QMe,reservedClauses:[...VMe,...dY],reservedSetOperations:$Me,reservedJoins:WMe,reservedKeywordPhrases:YMe,reservedDataTypePhrases:jMe,supportsXor:!0,reservedKeywords:HMe,reservedDataTypes:GMe,reservedFunctionNames:FMe,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:dY}},zMe=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],qMe=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"],XMe=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"],JMe=Ie(["SELECT [ALL | DISTINCT | UNIQUE]"]),ZMe=Ie(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),fY=Ie(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),nD=Ie(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),ePe=Ie(["UNION [ALL]","MINUS","INTERSECT"]),tPe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),nPe=Ie(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),rPe=Ie([]),iPe={name:"plsql",tokenizerOptions:{reservedSelect:JMe,reservedClauses:[...ZMe,...fY,...nD],reservedSetOperations:ePe,reservedJoins:tPe,reservedKeywordPhrases:nPe,reservedDataTypePhrases:rPe,supportsXor:!0,reservedKeywords:zMe,reservedDataTypes:qMe,reservedFunctionNames:XMe,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:sPe},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...fY,...nD],tabularOnelineClauses:nD}};function sPe(t){let e=Gf;return t.map(n=>Qf.SET(n)&&Qf.BY(e)?Object.assign(Object.assign({},n),{type:He.RESERVED_KEYWORD}):(sZ(n.type)&&(e=n),n))}const oPe=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","UUIDV4","UUIDV7","UUID_EXTRACT_TIMESTAMP","UUID_EXTRACT_VERSION","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"],aPe=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],lPe=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"],cPe=Ie(["SELECT [ALL | DISTINCT]"]),APe=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),pY=Ie(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),rD=Ie(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMENT ON","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),uPe=Ie(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),hPe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),dPe=Ie(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),fPe=Ie(["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"]),pPe={name:"postgresql",tokenizerOptions:{reservedSelect:cPe,reservedClauses:[...APe,...pY,...rD],reservedSetOperations:uPe,reservedJoins:hPe,reservedKeywordPhrases:dPe,reservedDataTypePhrases:fPe,reservedKeywords:aPe,reservedDataTypes:lPe,reservedFunctionNames:oPe,nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...pY,...rD],tabularOnelineClauses:rD}},mPe=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"],gPe=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],EPe=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"],TPe=Ie(["SELECT [ALL | DISTINCT]"]),SPe=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),mY=Ie(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),iD=Ie(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),yPe=Ie(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),CPe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),xPe=Ie(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),RPe=Ie([]),IPe={name:"redshift",tokenizerOptions:{reservedSelect:TPe,reservedClauses:[...SPe,...mY,...iD],reservedSetOperations:yPe,reservedJoins:CPe,reservedKeywordPhrases:xPe,reservedDataTypePhrases:RPe,reservedKeywords:gPe,reservedDataTypes:EPe,reservedFunctionNames:mPe,extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...mY,...iD],tabularOnelineClauses:iD}},_Pe=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],NPe=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"],bPe=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"],vPe=Ie(["SELECT [ALL | DISTINCT]"]),OPe=Ie(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),gY=Ie(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),sD=Ie(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),wPe=Ie(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),LPe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),BPe=Ie(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),DPe=Ie([]),kPe={name:"spark",tokenizerOptions:{reservedSelect:vPe,reservedClauses:[...OPe,...gY,...sD],reservedSetOperations:wPe,reservedJoins:LPe,reservedKeywordPhrases:BPe,reservedDataTypePhrases:DPe,supportsXor:!0,reservedKeywords:_Pe,reservedDataTypes:NPe,reservedFunctionNames:bPe,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:MPe},formatOptions:{onelineClauses:[...gY,...sD],tabularOnelineClauses:sD}};function MPe(t){return t.map((e,n)=>{const r=t[n-1]||Gf,i=t[n+1]||Gf;return Qf.WINDOW(e)&&i.type===He.OPEN_PAREN?Object.assign(Object.assign({},e),{type:He.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===He.RESERVED_KEYWORD&&!(r.text==="COLLECTION"&&i.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:He.IDENTIFIER,text:e.raw}):e})}const PPe=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"],UPe=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],FPe=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"],HPe=Ie(["SELECT [ALL | DISTINCT]"]),GPe=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"]),EY=Ie(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),oD=Ie(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),QPe=Ie(["UNION [ALL]","EXCEPT","INTERSECT"]),VPe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),$Pe=Ie(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),WPe=Ie([]),YPe={name:"sqlite",tokenizerOptions:{reservedSelect:HPe,reservedClauses:[...GPe,...EY,...oD],reservedSetOperations:QPe,reservedJoins:VPe,reservedKeywordPhrases:$Pe,reservedDataTypePhrases:WPe,reservedKeywords:UPe,reservedDataTypes:FPe,reservedFunctionNames:PPe,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...EY,...oD],tabularOnelineClauses:oD}},jPe=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"],KPe=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],zPe=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],qPe=Ie(["SELECT [ALL | DISTINCT]"]),XPe=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),TY=Ie(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),aD=Ie(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),JPe=Ie(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),ZPe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),eUe=Ie(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),tUe=Ie([]),nUe={name:"sql",tokenizerOptions:{reservedSelect:qPe,reservedClauses:[...XPe,...TY,...aD],reservedSetOperations:JPe,reservedJoins:ZPe,reservedKeywordPhrases:eUe,reservedDataTypePhrases:tUe,reservedKeywords:KPe,reservedDataTypes:zPe,reservedFunctionNames:jPe,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...TY,...aD],tabularOnelineClauses:aD}},rUe=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"],iUe=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],sUe=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"],oUe=Ie(["SELECT [ALL | DISTINCT]"]),aUe=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),SY=Ie(["CREATE TABLE [IF NOT EXISTS]"]),lD=Ie(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),lUe=Ie(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),cUe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),AUe=Ie(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),uUe=Ie([]),hUe={name:"trino",tokenizerOptions:{reservedSelect:oUe,reservedClauses:[...aUe,...SY,...lD],reservedSetOperations:lUe,reservedJoins:cUe,reservedKeywordPhrases:AUe,reservedDataTypePhrases:uUe,reservedKeywords:iUe,reservedDataTypes:sUe,reservedFunctionNames:rUe,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...SY,...lD],tabularOnelineClauses:lD}},dUe=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"],fUe=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],pUe=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],mUe=Ie(["SELECT [ALL | DISTINCT]"]),gUe=Ie(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"]),yY=Ie(["CREATE TABLE"]),cD=Ie(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),EUe=Ie(["UNION [ALL]","EXCEPT","INTERSECT"]),TUe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),SUe=Ie(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),yUe=Ie([]),CUe={name:"transactsql",tokenizerOptions:{reservedSelect:mUe,reservedClauses:[...gUe,...yY,...cD],reservedSetOperations:EUe,reservedJoins:TUe,reservedKeywordPhrases:SUe,reservedDataTypePhrases:yUe,reservedKeywords:fUe,reservedDataTypes:pUe,reservedFunctionNames:dUe,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...yY,...cD],tabularOnelineClauses:cD}},xUe=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],RUe=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"],IUe=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"],_Ue=Ie(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),NUe=Ie(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),CY=Ie(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),AD=Ie(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),bUe=Ie(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),vUe=Ie(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),OUe=Ie(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),wUe=Ie([]),LUe={name:"singlestoredb",tokenizerOptions:{reservedSelect:_Ue,reservedClauses:[...NUe,...CY,...AD],reservedSetOperations:bUe,reservedJoins:vUe,reservedKeywordPhrases:OUe,reservedDataTypePhrases:wUe,reservedKeywords:xUe,reservedDataTypes:RUe,reservedFunctionNames:IUe,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:Jw},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...CY,...AD],tabularOnelineClauses:AD}},BUe=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER  Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"],DUe=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],kUe=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"],MUe=Ie(["SELECT [ALL | DISTINCT]"]),PUe=Ie(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),xY=Ie(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),uD=Ie(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),UUe=Ie(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),FUe=Ie(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),HUe=Ie(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),GUe=Ie([]),QUe={name:"snowflake",tokenizerOptions:{reservedSelect:MUe,reservedClauses:[...PUe,...xY,...uD],reservedSetOperations:UUe,reservedJoins:FUe,reservedKeywordPhrases:HUe,reservedDataTypePhrases:GUe,reservedKeywords:DUe,reservedDataTypes:kUe,reservedFunctionNames:BUe,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...xY,...uD],tabularOnelineClauses:uD}},VUe=Object.freeze(Object.defineProperty({__proto__:null,bigquery:lke,clickhouse:yke,db2:Lke,db2i:Qke,duckdb:Jke,hive:lMe,mariadb:EMe,mysql:bMe,n1ql:KMe,plsql:iPe,postgresql:pPe,redshift:IPe,singlestoredb:LUe,snowflake:QUe,spark:kPe,sql:nUe,sqlite:YPe,tidb:UMe,transactsql:CUe,trino:hUe},Symbol.toStringTag,{value:"Module"})),tx=t=>t[t.length-1],oZ=t=>t.sort((e,n)=>n.length-e.length||e.localeCompare(n)),Rb=t=>t.replace(/\s+/gu," "),hD=t=>/\n/.test(t),lA=t=>t.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),RY=/\s+/uy,hg=t=>new RegExp(`(?:${t})`,"uy"),$Ue=t=>t.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),WUe=t=>t+"(?:-"+t+")*",YUe=({prefixes:t,requirePrefix:e})=>`(?:${t.map($Ue).join("|")}${e?"":"|"})`,jUe=t=>new RegExp(`(?:${t.map(lA).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),IY=(t,e=[])=>{const n=t==="open"?0:1,r=["()",...e].map(i=>i[n]);return hg(r.map(lA).join("|"))},_Y=t=>hg(`${oZ(t).map(lA).join("|")}`),KUe=({rest:t,dashes:e})=>t||e?`(?![${t||""}${e?"-":""}])`:"",gh=(t,e={})=>{if(t.length===0)return/^\b$/u;const n=KUe(e),r=oZ(t).map(lA).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${r})${n}\\b`,"iuy")},dD=(t,e)=>{if(!t.length)return;const n=t.map(lA).join("|");return hg(`(?:${n})(?:${e})`)},zUe=()=>{const t={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",n=Object.entries(t).map(([o,a])=>e.replace(/{left}/g,lA(o)).replace(/{right}/g,lA(a))),r=lA(Object.keys(t).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${r}])(?:(?!\k<tag>').)*?\k<tag>`}|${n.join("|")})'`},NY={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":zUe()},aZ=t=>typeof t=="string"?NY[t]:"regex"in t?t.regex:YUe(t)+NY[t.quote],qUe=t=>hg(t.map(e=>"regex"in e?e.regex:aZ(e)).join("|")),lZ=t=>t.map(aZ).join("|"),bY=t=>hg(lZ(t)),XUe=(t={})=>hg(cZ(t)),cZ=({first:t,rest:e,dashes:n,allowFirstCharNumber:r}={})=>{const i="\\p{Alphabetic}\\p{Mark}_",s="\\p{Decimal_Number}",o=lA(t??""),a=lA(e??""),l=r?`[${i}${s}${o}][${i}${s}${a}]*`:`[${i}${o}][${i}${s}${a}]*`;return n?WUe(l):l};function AZ(t,e){const n=t.slice(0,e).split(/\n/);return{line:n.length,col:n[n.length-1].length+1}}class JUe{constructor(e,n){this.rules=e,this.dialectName=n,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;const n=[];let r;for(;this.index<this.input.length;){const i=this.getWhitespace();if(this.index<this.input.length){if(r=this.getNextToken(),!r)throw this.createParseError();n.push(Object.assign(Object.assign({},r),{precedingWhitespace:i}))}}return n}createParseError(){const e=this.input.slice(this.index,this.index+10),{line:n,col:r}=AZ(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${n} column ${r}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){RY.lastIndex=this.index;const e=RY.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(const e of this.rules){const n=this.match(e);if(n)return n}}match(e){e.regex.lastIndex=this.index;const n=e.regex.exec(this.input);if(n){const r=n[0],i={type:e.type,raw:r,text:e.text?e.text(r):r,start:this.index};return e.key&&(i.key=e.key(r)),this.index+=r.length,i}}}const vY=/\/\*/uy,ZUe=/[\s\S]/uy,eFe=/\*\//uy;class tFe{constructor(){this.lastIndex=0}exec(e){let n="",r,i=0;if(r=this.matchSection(vY,e))n+=r,i++;else return null;for(;i>0;)if(r=this.matchSection(vY,e))n+=r,i++;else if(r=this.matchSection(eFe,e))n+=r,i--;else if(r=this.matchSection(ZUe,e))n+=r;else return null;return[n]}matchSection(e,n){e.lastIndex=this.lastIndex;const r=e.exec(n);return r&&(this.lastIndex+=r[0].length),r?r[0]:null}}let nFe=class{constructor(e,n){this.cfg=e,this.dialectName=n,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,n){const r=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,n),...this.rulesAfterParams],i=new JUe(r,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(i):i}buildRulesBeforeParams(e){var n,r,i;return this.validRules([{type:He.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:He.BLOCK_COMMENT,regex:e.nestedBlockComments?new tFe:/(\/\*[^]*?\*\/)/uy},{type:He.LINE_COMMENT,regex:jUe((n=e.lineCommentTypes)!==null&&n!==void 0?n:["--"])},{type:He.QUOTED_IDENTIFIER,regex:bY(e.identTypes)},{type:He.NUMBER,regex:e.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:He.RESERVED_KEYWORD_PHRASE,regex:gh((r=e.reservedKeywordPhrases)!==null&&r!==void 0?r:[],e.identChars),text:vs},{type:He.RESERVED_DATA_TYPE_PHRASE,regex:gh((i=e.reservedDataTypePhrases)!==null&&i!==void 0?i:[],e.identChars),text:vs},{type:He.CASE,regex:/CASE\b/iuy,text:vs},{type:He.END,regex:/END\b/iuy,text:vs},{type:He.BETWEEN,regex:/BETWEEN\b/iuy,text:vs},{type:He.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:vs},{type:He.RESERVED_CLAUSE,regex:gh(e.reservedClauses,e.identChars),text:vs},{type:He.RESERVED_SELECT,regex:gh(e.reservedSelect,e.identChars),text:vs},{type:He.RESERVED_SET_OPERATION,regex:gh(e.reservedSetOperations,e.identChars),text:vs},{type:He.WHEN,regex:/WHEN\b/iuy,text:vs},{type:He.ELSE,regex:/ELSE\b/iuy,text:vs},{type:He.THEN,regex:/THEN\b/iuy,text:vs},{type:He.RESERVED_JOIN,regex:gh(e.reservedJoins,e.identChars),text:vs},{type:He.AND,regex:/AND\b/iuy,text:vs},{type:He.OR,regex:/OR\b/iuy,text:vs},{type:He.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:vs},...e.operatorKeyword?[{type:He.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:He.RESERVED_FUNCTION_NAME,regex:gh(e.reservedFunctionNames,e.identChars),text:vs},{type:He.RESERVED_DATA_TYPE,regex:gh(e.reservedDataTypes,e.identChars),text:vs},{type:He.RESERVED_KEYWORD,regex:gh(e.reservedKeywords,e.identChars),text:vs}])}buildRulesAfterParams(e){var n,r;return this.validRules([{type:He.VARIABLE,regex:e.variableTypes?qUe(e.variableTypes):void 0},{type:He.STRING,regex:bY(e.stringTypes)},{type:He.IDENTIFIER,regex:XUe(e.identChars)},{type:He.DELIMITER,regex:/[;]/uy},{type:He.COMMA,regex:/[,]/y},{type:He.OPEN_PAREN,regex:IY("open",e.extraParens)},{type:He.CLOSE_PAREN,regex:IY("close",e.extraParens)},{type:He.OPERATOR,regex:_Y(["+","-","/",">","<","=","<>","<=",">=","!=",...(n=e.operators)!==null&&n!==void 0?n:[]])},{type:He.ASTERISK,regex:/[*]/uy},{type:He.PROPERTY_ACCESS_OPERATOR,regex:_Y([".",...(r=e.propertyAccessOperators)!==null&&r!==void 0?r:[]])}])}buildParamRules(e,n){var r,i,s,o,a;const l={named:(n==null?void 0:n.named)||((r=e.paramTypes)===null||r===void 0?void 0:r.named)||[],quoted:(n==null?void 0:n.quoted)||((i=e.paramTypes)===null||i===void 0?void 0:i.quoted)||[],numbered:(n==null?void 0:n.numbered)||((s=e.paramTypes)===null||s===void 0?void 0:s.numbered)||[],positional:typeof(n==null?void 0:n.positional)=="boolean"?n.positional:(o=e.paramTypes)===null||o===void 0?void 0:o.positional,custom:(n==null?void 0:n.custom)||((a=e.paramTypes)===null||a===void 0?void 0:a.custom)||[]};return this.validRules([{type:He.NAMED_PARAMETER,regex:dD(l.named,cZ(e.paramChars||e.identChars)),key:c=>c.slice(1)},{type:He.QUOTED_PARAMETER,regex:dD(l.quoted,lZ(e.identTypes)),key:c=>(({tokenKey:A,quoteChar:u})=>A.replace(new RegExp(lA("\\"+u),"gu"),u))({tokenKey:c.slice(2,-1),quoteChar:c.slice(-1)})},{type:He.NUMBERED_PARAMETER,regex:dD(l.numbered,"[0-9]+"),key:c=>c.slice(1)},{type:He.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(c=>{var A;return{type:He.CUSTOM_PARAMETER,regex:hg(c.regex),key:(A=c.key)!==null&&A!==void 0?A:(u=>u)}})])}validRules(e){return e.filter(n=>!!n.regex)}};const vs=t=>Rb(t.toUpperCase()),OY=new Map,rFe=t=>{let e=OY.get(t);return e||(e=iFe(t),OY.set(t,e)),e},iFe=t=>({tokenizer:new nFe(t.tokenizerOptions,t.name),formatOptions:sFe(t.formatOptions)}),sFe=t=>{var e;return{alwaysDenseOperators:t.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(t.onelineClauses.map(n=>[n,!0])),tabularOnelineClauses:Object.fromEntries(((e=t.tabularOnelineClauses)!==null&&e!==void 0?e:t.onelineClauses).map(n=>[n,!0]))}};function oFe(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"?" ".repeat(10):t.useTabs?"	":" ".repeat(t.tabWidth)}function VE(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"}class aFe{constructor(e){this.params=e,this.index=0}get({key:e,text:n}){return this.params?e?this.params[e]:this.params[this.index++]:n}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}}var Ib={exports:{}},lFe=Ib.exports,wY;function cFe(){return wY||(wY=1,(function(t){(function(e,n){t.exports?t.exports=n():e.nearley=n()})(lFe,function(){function e(c,A,u){return this.id=++e.highestId,this.name=c,this.symbols=A,this.postprocess=u,this}e.highestId=0,e.prototype.toString=function(c){var A=typeof c>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,c).map(l).join(" ")+"  "+this.symbols.slice(c).map(l).join(" ");return this.name+"  "+A};function n(c,A,u,h){this.rule=c,this.dot=A,this.reference=u,this.data=[],this.wantedBy=h,this.isComplete=this.dot===c.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(c){var A=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return A.left=this,A.right=c,A.isComplete&&(A.data=A.build(),A.right=void 0),A},n.prototype.build=function(){var c=[],A=this;do c.push(A.right.data),A=A.left;while(A.left);return c.reverse(),c},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))};function r(c,A){this.grammar=c,this.index=A,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(c){for(var A=this.states,u=this.wants,h=this.completed,p=0;p<A.length;p++){var E=A[p];if(E.isComplete){if(E.finish(),E.data!==o.fail){for(var T=E.wantedBy,y=T.length;y--;){var R=T[y];this.complete(R,E)}if(E.reference===this.index){var I=E.rule.name;(this.completed[I]=this.completed[I]||[]).push(E)}}}else{var I=E.rule.symbols[E.dot];if(typeof I!="string"){this.scannable.push(E);continue}if(u[I]){if(u[I].push(E),h.hasOwnProperty(I))for(var b=h[I],y=0;y<b.length;y++){var B=b[y];this.complete(E,B)}}else u[I]=[E],this.predict(I)}}},r.prototype.predict=function(c){for(var A=this.grammar.byName[c]||[],u=0;u<A.length;u++){var h=A[u],p=this.wants[c],E=new n(h,0,this.index,p);this.states.push(E)}},r.prototype.complete=function(c,A){var u=c.nextState(A);this.states.push(u)};function i(c,A){this.rules=c,this.start=A||this.rules[0].name;var u=this.byName={};this.rules.forEach(function(h){u.hasOwnProperty(h.name)||(u[h.name]=[]),u[h.name].push(h)})}i.fromCompiled=function(h,A){var u=h.Lexer;h.ParserStart&&(A=h.ParserStart,h=h.ParserRules);var h=h.map(function(E){return new e(E.name,E.symbols,E.postprocess)}),p=new i(h,A);return p.lexer=u,p};function s(){this.reset("")}s.prototype.reset=function(c,A){this.buffer=c,this.index=0,this.line=A?A.line:1,this.lastLineBreak=A?-A.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var c=this.buffer[this.index++];return c===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:c}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(c,A){var u=this.buffer;if(typeof u=="string"){var h=u.split(`
`).slice(Math.max(0,this.line-5),this.line),p=u.indexOf(`
`,this.index);p===-1&&(p=u.length);var E=this.index-this.lastLineBreak,T=String(this.line).length;return A+=" at line "+this.line+" col "+E+`:

`,A+=h.map(function(R,I){return y(this.line-h.length+I+1,T)+" "+R},this).join(`
`),A+=`
`+y("",T+E)+`^
`,A}else return A+" at index "+(this.index-1);function y(R,I){var b=String(R);return Array(I-b.length+1).join(" ")+b}};function o(c,A,u){if(c instanceof i)var h=c,u=A;else var h=i.fromCompiled(c,A);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new s};for(var p in u||{})this.options[p]=u[p];this.lexer=this.options.lexer,this.lexerState=void 0;var E=new r(h,0);this.table=[E],E.wants[h.start]=[],E.predict(h.start),E.process(),this.current=0}o.fail={},o.prototype.feed=function(c){var A=this.lexer;A.reset(c,this.lexerState);for(var u;;){try{if(u=A.next(),!u)break}catch(L){var T=new r(this.grammar,this.current+1);this.table.push(T);var h=new Error(this.reportLexerError(L));throw h.offset=this.current,h.token=L.token,h}var p=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var E=this.current+1,T=new r(this.grammar,E);this.table.push(T);for(var y=u.text!==void 0?u.text:u.value,R=A.constructor===s?u.value:u,I=p.scannable,b=I.length;b--;){var B=I[b],w=B.rule.symbols[B.dot];if(w.test?w.test(R):w.type?w.type===u.type:w.literal===y){var O=B.nextState({data:R,token:u,isToken:!0,reference:E-1});T.states.push(O)}}if(T.process(),T.states.length===0){var h=new Error(this.reportError(u));throw h.offset=this.current,h.token=u,h}this.options.keepHistory&&(p.lexerState=A.save()),this.current++}return p&&(this.lexerState=A.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(c){var A,u,h=c.token;return h?(A="input "+JSON.stringify(h.text[0])+" (lexer error)",u=this.lexer.formatError(h,"Syntax error")):(A="input (lexer error)",u=c.message),this.reportErrorCommon(u,A)},o.prototype.reportError=function(c){var A=(c.type?c.type+" token: ":"")+JSON.stringify(c.value!==void 0?c.value:c),u=this.lexer.formatError(c,"Syntax error");return this.reportErrorCommon(u,A)},o.prototype.reportErrorCommon=function(c,A){var u=[];u.push(c);var h=this.table.length-2,p=this.table[h],E=p.states.filter(function(y){var R=y.rule.symbols[y.dot];return R&&typeof R!="string"});if(E.length===0)u.push("Unexpected "+A+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(p.states,u);else{u.push("Unexpected "+A+`. Instead, I was expecting to see one of the following:
`);var T=E.map(function(y){return this.buildFirstStateStack(y,[])||[y]},this);T.forEach(function(y){var R=y[0],I=R.rule.symbols[R.dot],b=this.getSymbolDisplay(I);u.push("A "+b+" based on:"),this.displayStateStack(y,u)},this)}return u.push(""),u.join(`
`)},o.prototype.displayStateStack=function(c,A){for(var u,h=0,p=0;p<c.length;p++){var E=c[p],T=E.rule.toString(E.dot);T===u?h++:(h>0&&A.push("    ^ "+h+" more lines identical to this"),h=0,A.push("    "+T)),u=T}},o.prototype.getSymbolDisplay=function(c){return a(c)},o.prototype.buildFirstStateStack=function(c,A){if(A.indexOf(c)!==-1)return null;if(c.wantedBy.length===0)return[c];var u=c.wantedBy[0],h=[c].concat(A),p=this.buildFirstStateStack(u,h);return p===null?null:[c].concat(p)},o.prototype.save=function(){var c=this.table[this.current];return c.lexerState=this.lexerState,c},o.prototype.restore=function(c){var A=c.index;this.current=A,this.table[A]=c,this.table.splice(A+1),this.lexerState=c.lexerState,this.results=this.finish()},o.prototype.rewind=function(c){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[c])},o.prototype.finish=function(){var c=[],A=this.grammar.start,u=this.table[this.table.length-1];return u.states.forEach(function(h){h.rule.name===A&&h.dot===h.rule.symbols.length&&h.reference===0&&h.data!==o.fail&&c.push(h)}),c.map(function(h){return h.data})};function a(c){var A=typeof c;if(A==="string")return c;if(A==="object"){if(c.literal)return JSON.stringify(c.literal);if(c instanceof RegExp)return"character matching "+c;if(c.type)return c.type+" token";if(c.test)return"token matching "+String(c.test);throw new Error("Unknown symbol type: "+c)}}function l(c){var A=typeof c;if(A==="string")return c;if(A==="object"){if(c.literal)return JSON.stringify(c.literal);if(c instanceof RegExp)return c.toString();if(c.type)return"%"+c.type;if(c.test)return"<"+String(c.test)+">";throw new Error("Unknown symbol type: "+c)}}return{Parser:o,Grammar:i,Rule:e}})})(Ib)),Ib.exports}var AFe=cFe();const uFe=kS(AFe);function hFe(t){return t.map(dFe).map(fFe).map(pFe).map(mFe).map(gFe)}const dFe=(t,e,n)=>{if(sZ(t.type)){const r=EFe(n,e);if(r&&r.type===He.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:He.IDENTIFIER,text:t.raw});const i=YS(n,e);if(i&&i.type===He.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:He.IDENTIFIER,text:t.raw})}return t},fFe=(t,e,n)=>{if(t.type===He.RESERVED_FUNCTION_NAME){const r=YS(n,e);if(!r||!uZ(r))return Object.assign(Object.assign({},t),{type:He.IDENTIFIER,text:t.raw})}return t},pFe=(t,e,n)=>{if(t.type===He.RESERVED_DATA_TYPE){const r=YS(n,e);if(r&&uZ(r))return Object.assign(Object.assign({},t),{type:He.RESERVED_PARAMETERIZED_DATA_TYPE})}return t},mFe=(t,e,n)=>{if(t.type===He.IDENTIFIER){const r=YS(n,e);if(r&&hZ(r))return Object.assign(Object.assign({},t),{type:He.ARRAY_IDENTIFIER})}return t},gFe=(t,e,n)=>{if(t.type===He.RESERVED_DATA_TYPE){const r=YS(n,e);if(r&&hZ(r))return Object.assign(Object.assign({},t),{type:He.ARRAY_KEYWORD})}return t},EFe=(t,e)=>YS(t,e,-1),YS=(t,e,n=1)=>{let r=1;for(;t[e+r*n]&&TFe(t[e+r*n]);)r++;return t[e+r*n]},uZ=t=>t.type===He.OPEN_PAREN&&t.text==="(",hZ=t=>t.type===He.OPEN_PAREN&&t.text==="[",TFe=t=>t.type===He.BLOCK_COMMENT||t.type===He.LINE_COMMENT;class dZ{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,n){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){const{line:n,col:r}=AZ(this.input,e.start);return`Parse error at token: ${e.text} at line ${n} column ${r}`}has(e){return e in He}}var jt;(function(t){t.statement="statement",t.clause="clause",t.set_operation="set_operation",t.function_call="function_call",t.parameterized_data_type="parameterized_data_type",t.array_subscript="array_subscript",t.property_access="property_access",t.parenthesis="parenthesis",t.between_predicate="between_predicate",t.case_expression="case_expression",t.case_when="case_when",t.case_else="case_else",t.limit_clause="limit_clause",t.all_columns_asterisk="all_columns_asterisk",t.literal="literal",t.identifier="identifier",t.keyword="keyword",t.data_type="data_type",t.parameter="parameter",t.operator="operator",t.comma="comma",t.line_comment="line_comment",t.block_comment="block_comment",t.disable_comment="disable_comment"})(jt=jt||(jt={}));function fD(t){return t[0]}const _n=new dZ(t=>[]),tm=([[t]])=>t,qs=t=>({type:jt.keyword,tokenType:t.type,text:t.text,raw:t.raw}),LY=t=>({type:jt.data_type,text:t.text,raw:t.raw}),Js=(t,{leading:e,trailing:n})=>(e!=null&&e.length&&(t=Object.assign(Object.assign({},t),{leadingComments:e})),n!=null&&n.length&&(t=Object.assign(Object.assign({},t),{trailingComments:n})),t),SFe=(t,{leading:e,trailing:n})=>{if(e!=null&&e.length){const[r,...i]=t;t=[Js(r,{leading:e}),...i]}if(n!=null&&n.length){const r=t.slice(0,-1),i=t[t.length-1];t=[...r,Js(i,{trailing:n})]}return t},yFe={Lexer:_n,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:t=>t[0].concat([t[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([t])=>{const e=t[t.length-1];return e&&!e.hasSemicolon?e.children.length>0?t:t.slice(0,-1):t}},{name:"statement$subexpression$1",symbols:[_n.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[_n.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([t,[e]])=>({type:jt.statement,children:t,hasSemicolon:e.type===He.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([t,e])=>[...t,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:tm},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[_n.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:fD},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[_n.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([t,e,n,r])=>{if(r){const[i,s]=r;return{type:jt.limit_clause,limitKw:Js(qs(t),{trailing:e}),offset:n,count:s}}else return{type:jt.limit_clause,limitKw:Js(qs(t),{trailing:e}),count:n}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[_n.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([t,[e,n]])=>({type:jt.clause,nameKw:qs(t),children:[e,...n]})},{name:"select_clause",symbols:[_n.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([t])=>({type:jt.clause,nameKw:qs(t),children:[]})},{name:"all_columns_asterisk",symbols:[_n.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:jt.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"other_clause",symbols:[_n.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([t,e])=>({type:jt.clause,nameKw:qs(t),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"set_operation",symbols:[_n.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([t,e])=>({type:jt.set_operation,nameKw:qs(t),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:fD},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([t,e])=>Js(t,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([t,e])=>Js(e,{leading:t})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([t,e])=>Js(e,{leading:t})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:tm},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:tm},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:tm},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:tm},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:tm},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:tm},{name:"array_subscript",symbols:[_n.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([t,e,n])=>({type:jt.array_subscript,array:Js({type:jt.identifier,quoted:!1,text:t.text},{trailing:e}),parenthesis:n})},{name:"array_subscript",symbols:[_n.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([t,e,n])=>({type:jt.array_subscript,array:Js(qs(t),{trailing:e}),parenthesis:n})},{name:"function_call",symbols:[_n.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([t,e,n])=>({type:jt.function_call,nameKw:Js(qs(t),{trailing:e}),parenthesis:n})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([t,e,n])=>({type:jt.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([t,e,n])=>({type:jt.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([t,e,n])=>({type:jt.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",_n.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([t,e,n,r,[i]])=>({type:jt.property_access,object:Js(t,{trailing:e}),operator:n.text,property:Js(i,{leading:r})})},{name:"between_predicate",symbols:[_n.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",_n.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([t,e,n,r,i,s,o])=>({type:jt.between_predicate,betweenKw:qs(t),expr1:SFe(n,{leading:e,trailing:r}),andKw:qs(i),expr2:[Js(o,{leading:s})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:fD},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:t=>t[0].concat([t[1]])},{name:"case_expression",symbols:[_n.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",_n.has("END")?{type:"END"}:END],postprocess:([t,e,n,r,i])=>({type:jt.case_expression,caseKw:Js(qs(t),{trailing:e}),endKw:qs(i),expr:n||[],clauses:r})},{name:"case_clause",symbols:[_n.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",_n.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([t,e,n,r,i,s])=>({type:jt.case_when,whenKw:Js(qs(t),{trailing:e}),thenKw:Js(qs(r),{trailing:i}),condition:n,result:s})},{name:"case_clause",symbols:[_n.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([t,e,n])=>({type:jt.case_else,elseKw:Js(qs(t),{trailing:e}),result:n})},{name:"comma$subexpression$1",symbols:[_n.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[t]])=>({type:jt.comma})},{name:"asterisk$subexpression$1",symbols:[_n.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[t]])=>({type:jt.operator,text:t.text})},{name:"operator$subexpression$1",symbols:[_n.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[t]])=>({type:jt.operator,text:t.text})},{name:"identifier$subexpression$1",symbols:[_n.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[_n.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[_n.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[t]])=>({type:jt.identifier,quoted:t.type!=="IDENTIFIER",text:t.text})},{name:"parameter$subexpression$1",symbols:[_n.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[_n.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[_n.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[_n.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[_n.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[t]])=>({type:jt.parameter,key:t.key,text:t.text})},{name:"literal$subexpression$1",symbols:[_n.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[_n.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[t]])=>({type:jt.literal,text:t.text})},{name:"keyword$subexpression$1",symbols:[_n.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[_n.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[_n.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[t]])=>qs(t)},{name:"data_type$subexpression$1",symbols:[_n.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[_n.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[t]])=>LY(t)},{name:"data_type",symbols:[_n.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([t,e,n])=>({type:jt.parameterized_data_type,dataType:Js(LY(t),{trailing:e}),parenthesis:n})},{name:"logic_operator$subexpression$1",symbols:[_n.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[_n.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[_n.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[t]])=>qs(t)},{name:"other_keyword$subexpression$1",symbols:[_n.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[_n.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[_n.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[_n.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[t]])=>qs(t)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:t=>t[0].concat([t[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([t])=>t},{name:"comment",symbols:[_n.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([t])=>({type:jt.line_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[_n.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([t])=>({type:jt.block_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[_n.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([t])=>({type:jt.disable_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})}],ParserStart:"main"},{Parser:CFe,Grammar:xFe}=uFe;function RFe(t){let e={};const n=new dZ(i=>[...hFe(t.tokenize(i,e)),iZ(i.length)]),r=new CFe(xFe.fromCompiled(yFe),{lexer:n});return{parse:(i,s)=>{e=s;const{results:o}=r.feed(i);if(o.length===1)return o[0];throw o.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(o,void 0,2)}`)}}}var Fe;(function(t){t[t.SPACE=0]="SPACE",t[t.NO_SPACE=1]="NO_SPACE",t[t.NO_NEWLINE=2]="NO_NEWLINE",t[t.NEWLINE=3]="NEWLINE",t[t.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",t[t.INDENT=5]="INDENT",t[t.SINGLE_INDENT=6]="SINGLE_INDENT"})(Fe=Fe||(Fe={}));class fZ{constructor(e){this.indentation=e,this.items=[]}add(...e){for(const n of e)switch(n){case Fe.SPACE:this.items.push(Fe.SPACE);break;case Fe.NO_SPACE:this.trimHorizontalWhitespace();break;case Fe.NO_NEWLINE:this.trimWhitespace();break;case Fe.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(Fe.NEWLINE);break;case Fe.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(Fe.MANDATORY_NEWLINE);break;case Fe.INDENT:this.addIndentation();break;case Fe.SINGLE_INDENT:this.items.push(Fe.SINGLE_INDENT);break;default:this.items.push(n)}}trimHorizontalWhitespace(){for(;IFe(tx(this.items));)this.items.pop()}trimWhitespace(){for(;_Fe(tx(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(tx(this.items)){case Fe.NEWLINE:this.items.pop(),this.items.push(e);break;case Fe.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(Fe.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case Fe.SPACE:return" ";case Fe.NEWLINE:case Fe.MANDATORY_NEWLINE:return`
`;case Fe.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}}const IFe=t=>t===Fe.SPACE||t===Fe.SINGLE_INDENT,_Fe=t=>t===Fe.SPACE||t===Fe.SINGLE_INDENT||t===Fe.NEWLINE;function BY(t,e){if(e==="standard")return t;let n=[];return t.length>=10&&t.includes(" ")&&([t,...n]=t.split(" ")),e==="tabularLeft"?t=t.padEnd(9," "):t=t.padStart(9," "),t+["",...n].join(" ")}function DY(t){return JDe(t)||t===He.RESERVED_CLAUSE||t===He.RESERVED_SELECT||t===He.RESERVED_SET_OPERATION||t===He.RESERVED_JOIN||t===He.LIMIT}const pD="top-level",NFe="block-level";class pZ{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(pD)}increaseBlockLevel(){this.indentTypes.push(NFe)}decreaseTopLevel(){this.indentTypes.length>0&&tx(this.indentTypes)===pD&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===pD;);}}class bFe extends fZ{constructor(e){super(new pZ("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(n=>this.addToLength(n)),this.length>this.expressionWidth)throw new TP;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===Fe.MANDATORY_NEWLINE||e===Fe.NEWLINE)throw new TP;e===Fe.INDENT||e===Fe.SINGLE_INDENT||e===Fe.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===Fe.NO_NEWLINE||e===Fe.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}}class TP extends Error{}class gO{constructor({cfg:e,dialectCfg:n,params:r,layout:i,inline:s=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=n,this.inline=s,this.params=r,this.layout=i}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case jt.function_call:return this.formatFunctionCall(e);case jt.parameterized_data_type:return this.formatParameterizedDataType(e);case jt.array_subscript:return this.formatArraySubscript(e);case jt.property_access:return this.formatPropertyAccess(e);case jt.parenthesis:return this.formatParenthesis(e);case jt.between_predicate:return this.formatBetweenPredicate(e);case jt.case_expression:return this.formatCaseExpression(e);case jt.case_when:return this.formatCaseWhen(e);case jt.case_else:return this.formatCaseElse(e);case jt.clause:return this.formatClause(e);case jt.set_operation:return this.formatSetOperation(e);case jt.limit_clause:return this.formatLimitClause(e);case jt.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case jt.literal:return this.formatLiteral(e);case jt.identifier:return this.formatIdentifier(e);case jt.parameter:return this.formatParameter(e);case jt.operator:return this.formatOperator(e);case jt.comma:return this.formatComma(e);case jt.line_comment:return this.formatLineComment(e);case jt.block_comment:return this.formatBlockComment(e);case jt.disable_comment:return this.formatBlockComment(e);case jt.data_type:return this.formatDataType(e);case jt.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let n;switch(e.array.type){case jt.data_type:n=this.showDataType(e.array);break;case jt.keyword:n=this.showKw(e.array);break;default:n=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(n)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(Fe.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){const n=this.formatInlineExpression(e.children);n?(this.layout.add(e.openParen),this.layout.add(...n.getLayoutItems()),this.layout.add(Fe.NO_SPACE,e.closeParen,Fe.SPACE)):(this.layout.add(e.openParen,Fe.NEWLINE),VE(this.cfg)?(this.layout.add(Fe.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(Fe.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(Fe.NEWLINE,Fe.INDENT,e.closeParen,Fe.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),Fe.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(Fe.NO_SPACE,Fe.SPACE,this.showNonTabularKw(e.andKw),Fe.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(Fe.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(Fe.NEWLINE,Fe.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(Fe.NEWLINE,Fe.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(Fe.NEWLINE,Fe.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):VE(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return VE(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(Fe.NEWLINE,Fe.INDENT,this.showKw(e.nameKw),Fe.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(Fe.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(Fe.NEWLINE,Fe.INDENT,this.showKw(e.nameKw),Fe.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(Fe.NEWLINE,Fe.INDENT,this.showKw(e.nameKw),Fe.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(Fe.NEWLINE,Fe.INDENT,this.showKw(e.nameKw),Fe.NEWLINE),this.layout.add(Fe.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(Fe.NEWLINE,Fe.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),VE(this.cfg)?this.layout.add(Fe.SPACE):this.layout.add(Fe.NEWLINE,Fe.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(Fe.NO_SPACE,",",Fe.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",Fe.SPACE)}formatLiteral(e){this.layout.add(e.text,Fe.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),Fe.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),Fe.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(Fe.NO_SPACE,e):e===":"?this.layout.add(Fe.NO_SPACE,e,Fe.SPACE):this.layout.add(e,Fe.SPACE)}formatComma(e){this.inline?this.layout.add(Fe.NO_SPACE,",",Fe.SPACE):this.layout.add(Fe.NO_SPACE,",",Fe.NEWLINE,Fe.INDENT)}withComments(e,n){this.formatComments(e.leadingComments),n(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(n=>{n.type===jt.line_comment?this.formatLineComment(n):this.formatBlockComment(n)})}formatLineComment(e){hD(e.precedingWhitespace||"")?this.layout.add(Fe.NEWLINE,Fe.INDENT,e.text,Fe.MANDATORY_NEWLINE,Fe.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(Fe.NO_NEWLINE,Fe.SPACE,e.text,Fe.MANDATORY_NEWLINE,Fe.INDENT):this.layout.add(e.text,Fe.MANDATORY_NEWLINE,Fe.INDENT)}formatBlockComment(e){e.type===jt.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(n=>{this.layout.add(Fe.NEWLINE,Fe.INDENT,n)}),this.layout.add(Fe.NEWLINE,Fe.INDENT)):this.layout.add(e.text,Fe.SPACE)}isMultilineBlockComment(e){return hD(e.text)||hD(e.precedingWhitespace||"")}isDocComment(e){const n=e.split(/\n/);return/^\/\*\*?$/.test(n[0])&&n.slice(1,n.length-1).every(r=>/^\s*\*/.test(r))&&/^\s*\*\/$/.test(tx(n))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(n=>/^\s*\*/.test(n)?" "+n.replace(/^\s*/,""):n):e.split(/\n/).map(n=>n.replace(/^\s*/,""))}formatSubExpression(e){return new gO({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){const n=this.params.getPositionalParameterIndex();try{return new gO({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new bFe(this.cfg.expressionWidth),inline:!0}).format(e)}catch(r){if(r instanceof TP){this.params.setPositionalParameterIndex(n);return}else throw r}}formatKeywordNode(e){switch(e.tokenType){case He.RESERVED_JOIN:return this.formatJoin(e);case He.AND:case He.OR:case He.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){VE(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(Fe.NEWLINE,Fe.INDENT,this.showKw(e),Fe.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(Fe.NEWLINE,Fe.INDENT,this.showKw(e),Fe.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),Fe.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?VE(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(Fe.NEWLINE,Fe.INDENT,this.showKw(e),Fe.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(Fe.NEWLINE,Fe.INDENT,this.showKw(e),Fe.SPACE):this.layout.add(this.showKw(e),Fe.NEWLINE,Fe.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),Fe.SPACE)}showKw(e){return DY(e.tokenType)?BY(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return Rb(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return DY(e.tokenType)?BY(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return Rb(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return Rb(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}}class vFe{constructor(e,n){this.dialect=e,this.cfg=n,this.params=new aFe(this.cfg.params)}format(e){const n=this.parse(e);return this.formatAst(n).trimEnd()}parse(e){return RFe(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(n=>this.formatStatement(n)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){const n=new gO({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new fZ(new pZ(oFe(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?n.add(Fe.NEWLINE,";"):n.add(Fe.NO_NEWLINE,";")),n.toString()}}class _b extends Error{}function OFe(t){const e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(const n of e)if(n in t)throw new _b(`${n} config is no more supported.`);if(t.expressionWidth<=0)throw new _b(`expressionWidth config must be positive number. Received ${t.expressionWidth} instead.`);if(t.params&&!wFe(t.params)&&console.warn('WARNING: All "params" option values should be strings.'),t.paramTypes&&!LFe(t.paramTypes))throw new _b("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return t}function wFe(t){return(t instanceof Array?t:Object.values(t)).every(n=>typeof n=="string")}function LFe(t){return t.custom&&Array.isArray(t.custom)?t.custom.every(e=>e.regex!==""):!0}var BFe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const mZ={bigquery:"bigquery",clickhouse:"clickhouse",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},DFe=Object.keys(mZ),kFe={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},MFe=(t,e={})=>{if(typeof e.language=="string"&&!DFe.includes(e.language))throw new _b(`Unsupported SQL dialect: ${e.language}`);const n=mZ[e.language||"sql"];return PFe(t,Object.assign(Object.assign({},e),{dialect:VUe[n]}))},PFe=(t,e)=>{var{dialect:n}=e,r=BFe(e,["dialect"]);if(typeof t!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof t);const i=OFe(Object.assign(Object.assign({},kFe),r));return new vFe(rFe(n),i).format(t)},Eh=["rgba(249, 38, 114, 0.8)","rgba(166, 226, 46, 0.8)","rgba(102, 217, 239, 0.8)","rgba(253, 151, 31, 0.8)","rgba(174, 129, 255, 0.8)","rgba(230, 219, 116, 0.8)"],mD=(t,e,n)=>{if(t.length===0)return 0;const r=t.map(i=>Number(i[e]));switch(n){case"count":return t.length;case"sum":return r.reduce((i,s)=>i+s,0);case"avg":return r.reduce((i,s)=>i+s,0)/r.length;case"min":return Math.min(...r);case"max":return Math.max(...r);case"none":default:return r[0]||0}},X2=(t,e)=>{if(!t||t.length===0)return{labels:[],datasets:[]};const{xKey:n,yKeys:r,groupBy:i,aggregation:s,type:o,yRightKeys:a}=e,l=n?Array.from(new Set(t.map(A=>String(A[n])))):t.map((A,u)=>String(u+1));let c=[];if(i&&r.length>0){const A=r[0];c=Array.from(new Set(t.map(h=>String(h[i])))).map((h,p)=>{const E=l.map(T=>{const y=t.filter(R=>String(R[n])===T&&String(R[i])===h);return mD(y,A,s)});return{label:h,data:E,backgroundColor:Eh[p%Eh.length],borderColor:Eh[p%Eh.length].replace("0.8","1"),borderWidth:1,fill:o==="area",tension:.4}})}else if(c=r.map((A,u)=>{var E;const h=l.map(T=>{const y=n?t.filter(R=>String(R[n])===T):[t[Number(T)-1]];return mD(y,A,s)}),p=((E=e.colors)==null?void 0:E[u])||Eh[u%Eh.length];return{label:A,data:h,backgroundColor:o==="pie"||o==="doughnut"?Eh:p,borderColor:o==="pie"||o==="doughnut"?"#fff":p.replace("0.8","1"),borderWidth:1,fill:o==="area",tension:.4,yAxisID:"y"}}),a&&a.length>0){const A=a.map((u,h)=>{const p=l.map(T=>{const y=n?t.filter(R=>String(R[n])===T):[t[Number(T)-1]];return mD(y,u,s)}),E=Eh[(h+r.length)%Eh.length];return{label:`${u} (R)`,data:p,type:"line",backgroundColor:E,borderColor:E.replace("0.8","1"),borderWidth:2,yAxisID:"y1"}});c=[...c,...A]}return{labels:l,datasets:c}},J2=t=>{const e=t.type==="pie"||t.type==="doughnut";return{responsive:!0,maintainAspectRatio:!1,indexAxis:t.horizontal?"y":"x",plugins:{legend:{display:t.showLegend!==!1,labels:{color:"#f8f8f2",font:{family:"monospace"}}},datalabels:{display:t.showValues?"auto":!1,color:"#fff",formatter:n=>typeof n=="number"?n.toFixed(2).replace(/\.00$/,""):n},title:{display:!!t.title,text:t.title,color:"#fff",font:{size:14,weight:"bold"}}},scales:e?{x:{display:!1},y:{display:!1}}:{x:{stacked:!!t.stacked,ticks:{color:"gray"},grid:{color:"#333"}},y:{display:!0,stacked:!!t.stacked,ticks:{color:"gray"},grid:{color:"#333"},title:{display:!!t.yAxisLabel,text:t.yAxisLabel||"",color:"white"}},...t.yRightKeys&&t.yRightKeys.length>0?{y1:{display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:"gray"}}}:{}},elements:{bar:{borderRadius:4},line:{tension:.3}}}},gZ="label";function kY(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function UFe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function EZ(t,e){t.labels=e}function TZ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gZ;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function FFe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gZ;const n={labels:[],datasets:[]};return EZ(n,t.labels),TZ(n,t.datasets,e),n}function HFe(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:A,updateMode:u,...h}=t,p=H.useRef(null),E=H.useRef(),T=()=>{p.current&&(E.current=new yR(p.current,{type:o,data:FFe(a,s),options:l&&{...l},plugins:c}),kY(e,E.current))},y=()=>{kY(e,null),E.current&&(E.current.destroy(),E.current=null)};return H.useEffect(()=>{!i&&E.current&&l&&UFe(E.current,l)},[i,l]),H.useEffect(()=>{!i&&E.current&&EZ(E.current.config.data,a.labels)},[i,a.labels]),H.useEffect(()=>{!i&&E.current&&a.datasets&&TZ(E.current.config.data,a.datasets,s)},[i,a.datasets]),H.useEffect(()=>{E.current&&(i?(y(),setTimeout(T)):E.current.update(u))},[i,l,a.labels,a.datasets,u]),H.useEffect(()=>{E.current&&(y(),setTimeout(T))},[o]),H.useEffect(()=>(T(),()=>y()),[]),no.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},h),A)}const GFe=H.forwardRef(HFe);function vR(t,e){return yR.register(e),H.forwardRef((n,r)=>no.createElement(GFe,Object.assign({},n,{ref:r,type:t})))}const yS=vR("line",Ab),Z2=vR("bar",cb),eH=vR("doughnut",CT),tH=vR("pie",pM),nH=vR("scatter",ub);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SP=function(t,e){return SP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},SP(t,e)};function gA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");SP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var yP=function(){return yP=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yP.apply(this,arguments)};function oa(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(A){try{c(r.next(A))}catch(u){o(u)}}function l(A){try{c(r.throw(A))}catch(u){o(u)}}function c(A){A.done?s(A.value):i(A.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Do(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(A){return l([c,A])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(A){c=[6,A],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function eN(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var Xh=(function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),Zw=function(t,e){return Xh.fromClientRect(t,e.getBoundingClientRect())},QFe=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Xh(0,0,r,i)},eL=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},cs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},MY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",VFe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tN=0;tN<MY.length;tN++)VFe[MY.charCodeAt(tN)]=tN;var PY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nN=0;nN<PY.length;nN++)xC[PY.charCodeAt(nN)]=nN;var $Fe=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)s=xC[t.charCodeAt(r)],o=xC[t.charCodeAt(r+1)],a=xC[t.charCodeAt(r+2)],l=xC[t.charCodeAt(r+3)],A[i++]=s<<2|o>>4,A[i++]=(o&15)<<4|a>>2,A[i++]=(a&3)<<6|l&63;return c},WFe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},YFe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Pm=5,rH=11,gD=2,jFe=rH-Pm,SZ=65536>>Pm,KFe=1<<Pm,ED=KFe-1,zFe=1024>>Pm,qFe=SZ+zFe,XFe=qFe,JFe=32,ZFe=XFe+JFe,e2e=65536>>rH,t2e=1<<jFe,n2e=t2e-1,UY=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},r2e=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},i2e=function(t,e){var n=$Fe(t),r=Array.isArray(n)?YFe(n):new Uint32Array(n),i=Array.isArray(n)?WFe(n):new Uint16Array(n),s=24,o=UY(i,s/2,r[4]/2),a=r[5]===2?UY(i,(s+r[4])/2):r2e(r,Math.ceil((s+r[4])/4));return new s2e(r[0],r[1],r[2],r[3],o,a)},s2e=(function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Pm],n=(n<<gD)+(e&ED),this.data[n];if(e<=65535)return n=this.index[SZ+(e-55296>>Pm)],n=(n<<gD)+(e&ED),this.data[n];if(e<this.highStart)return n=ZFe-e2e+(e>>rH),n=this.index[n],n+=e>>Pm&n2e,n=this.index[n],n=(n<<gD)+(e&ED),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),FY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o2e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rN=0;rN<FY.length;rN++)o2e[FY.charCodeAt(rN)]=rN;var a2e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",HY=50,l2e=1,yZ=2,CZ=3,c2e=4,A2e=5,GY=7,xZ=8,QY=9,mf=10,CP=11,VY=12,xP=13,u2e=14,RC=15,RP=16,iN=17,k0=18,h2e=19,$Y=20,IP=21,M0=22,TD=23,$E=24,Cl=25,IC=26,_C=27,WE=28,d2e=29,Tm=30,f2e=31,sN=32,oN=33,_P=34,NP=35,bP=36,qx=37,vP=38,Nb=39,bb=40,SD=41,RZ=42,p2e=43,m2e=[9001,65288],IZ="!",Er="",aN="",OP=i2e(a2e),Th=[Tm,bP],wP=[l2e,yZ,CZ,A2e],_Z=[mf,xZ],WY=[_C,IC],g2e=wP.concat(_Z),YY=[vP,Nb,bb,_P,NP],E2e=[RC,xP],T2e=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,o){var a=OP.get(s);if(a>HY?(i.push(!0),a-=HY):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(o),n.push(RP);if(a===c2e||a===CP){if(o===0)return r.push(o),n.push(Tm);var l=n[o-1];return g2e.indexOf(l)===-1?(r.push(r[o-1]),n.push(l)):(r.push(o),n.push(Tm))}if(r.push(o),a===f2e)return n.push(e==="strict"?IP:qx);if(a===RZ||a===d2e)return n.push(Tm);if(a===p2e)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(qx):n.push(Tm);n.push(a)}),[r,n,i]},yD=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var o=r[s];if(o===e)return!0;if(o!==mf)break}if(i===mf)for(var s=n;s>0;){s--;var a=r[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=n;l<=r.length;){l++;var o=r[l];if(o===e)return!0;if(o!==mf)break}if(a!==mf)break}return!1},jY=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===mf)n--;else return r}return 0},S2e=function(t,e,n,r,i){if(n[r]===0)return Er;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return Er;var o=s-1,a=s+1,l=e[s],c=o>=0?e[o]:0,A=e[a];if(l===yZ&&A===CZ)return Er;if(wP.indexOf(l)!==-1)return IZ;if(wP.indexOf(A)!==-1||_Z.indexOf(A)!==-1)return Er;if(jY(s,e)===xZ)return aN;if(OP.get(t[s])===CP||(l===sN||l===oN)&&OP.get(t[a])===CP||l===GY||A===GY||l===QY||[mf,xP,RC].indexOf(l)===-1&&A===QY||[iN,k0,h2e,$E,WE].indexOf(A)!==-1||jY(s,e)===M0||yD(TD,M0,s,e)||yD([iN,k0],IP,s,e)||yD(VY,VY,s,e))return Er;if(l===mf)return aN;if(l===TD||A===TD)return Er;if(A===RP||l===RP)return aN;if([xP,RC,IP].indexOf(A)!==-1||l===u2e||c===bP&&E2e.indexOf(l)!==-1||l===WE&&A===bP||A===$Y||Th.indexOf(A)!==-1&&l===Cl||Th.indexOf(l)!==-1&&A===Cl||l===_C&&[qx,sN,oN].indexOf(A)!==-1||[qx,sN,oN].indexOf(l)!==-1&&A===IC||Th.indexOf(l)!==-1&&WY.indexOf(A)!==-1||WY.indexOf(l)!==-1&&Th.indexOf(A)!==-1||[_C,IC].indexOf(l)!==-1&&(A===Cl||[M0,RC].indexOf(A)!==-1&&e[a+1]===Cl)||[M0,RC].indexOf(l)!==-1&&A===Cl||l===Cl&&[Cl,WE,$E].indexOf(A)!==-1)return Er;if([Cl,WE,$E,iN,k0].indexOf(A)!==-1)for(var u=s;u>=0;){var h=e[u];if(h===Cl)return Er;if([WE,$E].indexOf(h)!==-1)u--;else break}if([_C,IC].indexOf(A)!==-1)for(var u=[iN,k0].indexOf(l)!==-1?o:s;u>=0;){var h=e[u];if(h===Cl)return Er;if([WE,$E].indexOf(h)!==-1)u--;else break}if(vP===l&&[vP,Nb,_P,NP].indexOf(A)!==-1||[Nb,_P].indexOf(l)!==-1&&[Nb,bb].indexOf(A)!==-1||[bb,NP].indexOf(l)!==-1&&A===bb||YY.indexOf(l)!==-1&&[$Y,IC].indexOf(A)!==-1||YY.indexOf(A)!==-1&&l===_C||Th.indexOf(l)!==-1&&Th.indexOf(A)!==-1||l===$E&&Th.indexOf(A)!==-1||Th.concat(Cl).indexOf(l)!==-1&&A===M0&&m2e.indexOf(t[a])===-1||Th.concat(Cl).indexOf(A)!==-1&&l===k0)return Er;if(l===SD&&A===SD){for(var p=n[s],E=1;p>0&&(p--,e[p]===SD);)E++;if(E%2!==0)return Er}return l===sN&&A===oN?Er:aN},y2e=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=T2e(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[Cl,Tm,RZ].indexOf(a)!==-1?qx:a}));var o=e.wordBreak==="keep-all"?s.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,i,o]},C2e=(function(){function t(e,n,r,i){this.codePoints=e,this.required=n===IZ,this.start=r,this.end=i}return t.prototype.slice=function(){return cs.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),x2e=function(t,e){var n=eL(t),r=y2e(n,e),i=r[0],s=r[1],o=r[2],a=n.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var A=Er;c<a&&(A=S2e(n,s,i,++c,o))===Er;);if(A!==Er||c===a){var u=new C2e(n,A,l,c);return l=c,{value:u,done:!1}}return{done:!0,value:null}}}},R2e=1,I2e=2,wR=4,KY=8,EO=10,zY=47,nx=92,_2e=9,N2e=32,lN=34,P0=61,b2e=35,v2e=36,O2e=37,cN=39,AN=40,U0=41,w2e=95,Ga=45,L2e=33,B2e=60,D2e=62,k2e=64,M2e=91,P2e=93,U2e=61,F2e=123,uN=63,H2e=125,qY=124,G2e=126,Q2e=128,XY=65533,CD=42,_m=43,V2e=44,$2e=58,W2e=59,Xx=46,Y2e=0,j2e=8,K2e=11,z2e=14,q2e=31,X2e=127,KA=-1,NZ=48,bZ=97,vZ=101,J2e=102,Z2e=117,eHe=122,OZ=65,wZ=69,LZ=70,tHe=85,nHe=90,Uo=function(t){return t>=NZ&&t<=57},rHe=function(t){return t>=55296&&t<=57343},YE=function(t){return Uo(t)||t>=OZ&&t<=LZ||t>=bZ&&t<=J2e},iHe=function(t){return t>=bZ&&t<=eHe},sHe=function(t){return t>=OZ&&t<=nHe},oHe=function(t){return iHe(t)||sHe(t)},aHe=function(t){return t>=Q2e},hN=function(t){return t===EO||t===_2e||t===N2e},TO=function(t){return oHe(t)||aHe(t)||t===w2e},JY=function(t){return TO(t)||Uo(t)||t===Ga},lHe=function(t){return t>=Y2e&&t<=j2e||t===K2e||t>=z2e&&t<=q2e||t===X2e},af=function(t,e){return t!==nx?!1:e!==EO},dN=function(t,e,n){return t===Ga?TO(e)||af(e,n):TO(t)?!0:!!(t===nx&&af(t,e))},xD=function(t,e,n){return t===_m||t===Ga?Uo(e)?!0:e===Xx&&Uo(n):Uo(t===Xx?e:t)},cHe=function(t){var e=0,n=1;(t[e]===_m||t[e]===Ga)&&(t[e]===Ga&&(n=-1),e++);for(var r=[];Uo(t[e]);)r.push(t[e++]);var i=r.length?parseInt(cs.apply(void 0,r),10):0;t[e]===Xx&&e++;for(var s=[];Uo(t[e]);)s.push(t[e++]);var o=s.length,a=o?parseInt(cs.apply(void 0,s),10):0;(t[e]===wZ||t[e]===vZ)&&e++;var l=1;(t[e]===_m||t[e]===Ga)&&(t[e]===Ga&&(l=-1),e++);for(var c=[];Uo(t[e]);)c.push(t[e++]);var A=c.length?parseInt(cs.apply(void 0,c),10):0;return n*(i+a*Math.pow(10,-o))*Math.pow(10,l*A)},AHe={type:2},uHe={type:3},hHe={type:4},dHe={type:13},fHe={type:8},pHe={type:21},mHe={type:9},gHe={type:10},EHe={type:11},THe={type:12},SHe={type:14},fN={type:23},yHe={type:1},CHe={type:25},xHe={type:24},RHe={type:26},IHe={type:27},_He={type:28},NHe={type:29},bHe={type:31},LP={type:32},BZ=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(eL(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==LP;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case lN:return this.consumeStringToken(lN);case b2e:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(JY(n)||af(r,i)){var s=dN(n,r,i)?I2e:R2e,o=this.consumeName();return{type:5,value:o,flags:s}}break;case v2e:if(this.peekCodePoint(0)===P0)return this.consumeCodePoint(),dHe;break;case cN:return this.consumeStringToken(cN);case AN:return AHe;case U0:return uHe;case CD:if(this.peekCodePoint(0)===P0)return this.consumeCodePoint(),SHe;break;case _m:if(xD(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case V2e:return hHe;case Ga:var a=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(xD(a,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(dN(a,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ga&&c===D2e)return this.consumeCodePoint(),this.consumeCodePoint(),xHe;break;case Xx:if(xD(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case zY:if(this.peekCodePoint(0)===CD)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===CD&&(A=this.consumeCodePoint(),A===zY))return this.consumeToken();if(A===KA)return this.consumeToken()}break;case $2e:return RHe;case W2e:return IHe;case B2e:if(this.peekCodePoint(0)===L2e&&this.peekCodePoint(1)===Ga&&this.peekCodePoint(2)===Ga)return this.consumeCodePoint(),this.consumeCodePoint(),CHe;break;case k2e:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),p=this.peekCodePoint(2);if(dN(u,h,p)){var o=this.consumeName();return{type:7,value:o}}break;case M2e:return _He;case nx:if(af(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case P2e:return NHe;case U2e:if(this.peekCodePoint(0)===P0)return this.consumeCodePoint(),fHe;break;case F2e:return EHe;case H2e:return THe;case Z2e:case tHe:var E=this.peekCodePoint(0),T=this.peekCodePoint(1);return E===_m&&(YE(T)||T===uN)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case qY:if(this.peekCodePoint(0)===P0)return this.consumeCodePoint(),mHe;if(this.peekCodePoint(0)===qY)return this.consumeCodePoint(),pHe;break;case G2e:if(this.peekCodePoint(0)===P0)return this.consumeCodePoint(),gHe;break;case KA:return LP}return hN(e)?(this.consumeWhiteSpace(),bHe):Uo(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):TO(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:cs(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();YE(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===uN&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(cs.apply(void 0,e.map(function(l){return l===uN?NZ:l})),16),s=parseInt(cs.apply(void 0,e.map(function(l){return l===uN?LZ:l})),16);return{type:30,start:i,end:s}}var o=parseInt(cs.apply(void 0,e),16);if(this.peekCodePoint(0)===Ga&&YE(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];YE(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var s=parseInt(cs.apply(void 0,a),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===AN?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===AN?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===KA)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===cN||n===lN){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===KA||this.peekCodePoint(0)===U0)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),fN)}for(;;){var i=this.consumeCodePoint();if(i===KA||i===U0)return{type:22,value:cs.apply(void 0,e)};if(hN(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===KA||this.peekCodePoint(0)===U0?(this.consumeCodePoint(),{type:22,value:cs.apply(void 0,e)}):(this.consumeBadUrlRemnants(),fN);if(i===lN||i===cN||i===AN||lHe(i))return this.consumeBadUrlRemnants(),fN;if(i===nx)if(af(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),fN;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;hN(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===U0||e===KA)return;af(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=cs.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===KA||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===EO)return this._value.splice(0,r),yHe;if(i===nx){var s=this._value[r+1];s!==KA&&s!==void 0&&(s===EO?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):af(i,s)&&(n+=this.consumeStringSlice(r),n+=cs(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=wR,r=this.peekCodePoint(0);for((r===_m||r===Ga)&&e.push(this.consumeCodePoint());Uo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Xx&&Uo(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=KY;Uo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===wZ||r===vZ)&&((i===_m||i===Ga)&&Uo(s)||Uo(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=KY;Uo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[cHe(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(dN(i,s,o)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return i===O2e?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(YE(e)){for(var n=cs(e);YE(this.peekCodePoint(0))&&n.length<6;)n+=cs(this.consumeCodePoint());hN(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||rHe(r)||r>1114111?XY:r}return e===KA?XY:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(JY(n))e+=cs(n);else if(af(n,this.peekCodePoint(0)))e+=cs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t})(),DZ=(function(){function t(e){this._tokens=e}return t.create=function(e){var n=new BZ;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||OHe(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?LP:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),LR=function(t){return t.type===15},jS=function(t){return t.type===17},oi=function(t){return t.type===20},vHe=function(t){return t.type===0},BP=function(t,e){return oi(t)&&t.value===e},kZ=function(t){return t.type!==31},CS=function(t){return t.type!==31&&t.type!==4},wu=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},OHe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Vf=function(t){return t.type===17||t.type===15},Ts=function(t){return t.type===16||Vf(t)},MZ=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Co={type:17,number:0,flags:wR},iH={type:16,number:50,flags:wR},gf={type:16,number:100,flags:wR},NC=function(t,e,n){var r=t[0],i=t[1];return[Ri(r,e),Ri(typeof i<"u"?i:r,n)]},Ri=function(t,e){if(t.type===16)return t.number/100*e;if(LR(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},PZ="deg",UZ="grad",FZ="rad",HZ="turn",tL={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case PZ:return Math.PI*e.number/180;case UZ:return Math.PI/200*e.number;case FZ:return e.number;case HZ:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},GZ=function(t){return t.type===15&&(t.unit===PZ||t.unit===UZ||t.unit===FZ||t.unit===HZ)},QZ=function(t){var e=t.filter(oi).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Co,Co];case"to top":case"bottom":return fc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Co,gf];case"to right":case"left":return fc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[gf,gf];case"to bottom":case"top":return fc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[gf,Co];case"to left":case"right":return fc(270)}return 0},fc=function(t){return Math.PI*t/180},Rf={name:"color",parse:function(t,e){if(e.type===18){var n=wHe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Ef(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return Ef(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Ef(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return Ef(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var a=Vh[e.value.toUpperCase()];if(typeof a<"u")return a}return Vh.TRANSPARENT}},If=function(t){return(255&t)===0},Xs=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Ef=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},ZY=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},e5=function(t,e){var n=e.filter(CS);if(n.length===3){var r=n.map(ZY),i=r[0],s=r[1],o=r[2];return Ef(i,s,o,1)}if(n.length===4){var a=n.map(ZY),i=a[0],s=a[1],o=a[2],l=a[3];return Ef(i,s,o,l)}return 0};function RD(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var t5=function(t,e){var n=e.filter(CS),r=n[0],i=n[1],s=n[2],o=n[3],a=(r.type===17?fc(r.number):tL.parse(t,r))/(Math.PI*2),l=Ts(i)?i.number/100:0,c=Ts(s)?s.number/100:0,A=typeof o<"u"&&Ts(o)?Ri(o,1):1;if(l===0)return Ef(c*255,c*255,c*255,1);var u=c<=.5?c*(l+1):c+l-c*l,h=c*2-u,p=RD(h,u,a+1/3),E=RD(h,u,a),T=RD(h,u,a-1/3);return Ef(p*255,E*255,T*255,A)},wHe={hsl:t5,hsla:t5,rgb:e5,rgba:e5},rx=function(t,e){return Rf.parse(t,DZ.create(e).parseComponentValue())},Vh={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},LHe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(oi(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},BHe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nL=function(t,e){var n=Rf.parse(t,e[0]),r=e[1];return r&&Ts(r)?{color:n,stop:r}:{color:n,stop:null}},n5=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Co),r.stop===null&&(r.stop=gf);for(var i=[],s=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var l=Ri(a,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,o=0;o<i.length;o++){var A=i[o];if(A===null)c===null&&(c=o);else if(c!==null){for(var u=o-c,h=i[c-1],p=(A-h)/(u+1),E=1;E<=u;E++)i[c+E-1]=p*E;c=null}}return t.map(function(T,y){var R=T.color;return{color:R,stop:Math.max(Math.min(1,i[y]/e),0)}})},DHe=function(t,e,n){var r=e/2,i=n/2,s=Ri(t[0],e)-r,o=i-Ri(t[1],n);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},kHe=function(t,e,n){var r=typeof t=="number"?t:DHe(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,o=n/2,a=i/2,l=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[i,s-c,s+c,o-l,o+l]},Kc=function(t,e){return Math.sqrt(t*t+e*e)},r5=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,a){var l=a[0],c=a[1],A=Kc(n-l,r-c);return(i?A<o.optimumDistance:A>o.optimumDistance)?{optimumCorner:a,optimumDistance:A}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},MHe=function(t,e,n,r,i){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=o=Math.min(Kc(e,n),Kc(e,n-i),Kc(e-r,n),Kc(e-r,n-i));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=r5(r,i,e,n,!0),c=l[0],A=l[1];s=Kc(c-e,(A-n)/a),o=a*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=o=Math.max(Kc(e,n),Kc(e,n-i),Kc(e-r,n),Kc(e-r,n-i));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),u=r5(r,i,e,n,!1),c=u[0],A=u[1];s=Kc(c-e,(A-n)/a),o=a*s}break}return Array.isArray(t.size)&&(s=Ri(t.size[0],r),o=t.size.length===2?Ri(t.size[1],i):s),[s,o]},PHe=function(t,e){var n=fc(180),r=[];return wu(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){n=QZ(i);return}else if(GZ(o)){n=tL.parse(t,o);return}}var a=nL(t,i);r.push(a)}),{angle:n,stops:r,type:1}},pN=function(t,e){var n=fc(180),r=[];return wu(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=QZ(i);return}else if(GZ(o)){n=(tL.parse(t,o)+fc(270))%fc(360);return}}var a=nL(t,i);r.push(a)}),{angle:n,stops:r,type:1}},UHe=function(t,e){var n=fc(180),r=[],i=1,s=0,o=3,a=[];return wu(e).forEach(function(l,c){var A=l[0];if(c===0){if(oi(A)&&A.value==="linear"){i=1;return}else if(oi(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var u=Rf.parse(t,A.values[0]);r.push({stop:Co,color:u})}else if(A.name==="to"){var u=Rf.parse(t,A.values[0]);r.push({stop:gf,color:u})}else if(A.name==="color-stop"){var h=A.values.filter(CS);if(h.length===2){var u=Rf.parse(t,h[1]),p=h[0];jS(p)&&r.push({stop:{type:16,number:p.number*100,flags:p.flags},color:u})}}}}),i===1?{angle:(n+fc(180))%fc(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:a,type:i}},VZ="closest-side",$Z="farthest-side",WZ="closest-corner",YZ="farthest-corner",jZ="circle",KZ="ellipse",zZ="cover",qZ="contain",FHe=function(t,e){var n=0,r=3,i=[],s=[];return wu(e).forEach(function(o,a){var l=!0;if(a===0){var c=!1;l=o.reduce(function(u,h){if(c)if(oi(h))switch(h.value){case"center":return s.push(iH),u;case"top":case"left":return s.push(Co),u;case"right":case"bottom":return s.push(gf),u}else(Ts(h)||Vf(h))&&s.push(h);else if(oi(h))switch(h.value){case jZ:return n=0,!1;case KZ:return n=1,!1;case"at":return c=!0,!1;case VZ:return r=0,!1;case zZ:case $Z:return r=1,!1;case qZ:case WZ:return r=2,!1;case YZ:return r=3,!1}else if(Vf(h)||Ts(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return u},l)}if(l){var A=nL(t,o);i.push(A)}}),{size:r,shape:n,stops:i,position:s,type:2}},mN=function(t,e){var n=0,r=3,i=[],s=[];return wu(e).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(A,u){if(oi(u))switch(u.value){case"center":return s.push(iH),!1;case"top":case"left":return s.push(Co),!1;case"right":case"bottom":return s.push(gf),!1}else if(Ts(u)||Vf(u))return s.push(u),!1;return A},l):a===1&&(l=o.reduce(function(A,u){if(oi(u))switch(u.value){case jZ:return n=0,!1;case KZ:return n=1,!1;case qZ:case VZ:return r=0,!1;case $Z:return r=1,!1;case WZ:return r=2,!1;case zZ:case YZ:return r=3,!1}else if(Vf(u)||Ts(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return A},l)),l){var c=nL(t,o);i.push(c)}}),{size:r,shape:n,stops:i,position:s,type:2}},HHe=function(t){return t.type===1},GHe=function(t){return t.type===2},sH={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=XZ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function QHe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!XZ[t.name])}var XZ={"linear-gradient":PHe,"-moz-linear-gradient":pN,"-ms-linear-gradient":pN,"-o-linear-gradient":pN,"-webkit-linear-gradient":pN,"radial-gradient":FHe,"-moz-radial-gradient":mN,"-ms-radial-gradient":mN,"-o-radial-gradient":mN,"-webkit-radial-gradient":mN,"-webkit-gradient":UHe},VHe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return CS(r)&&QHe(r)}).map(function(r){return sH.parse(t,r)})}},$He={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(oi(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},WHe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return wu(e).map(function(n){return n.filter(Ts)}).map(MZ)}},YHe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return wu(e).map(function(n){return n.filter(oi).map(function(r){return r.value}).join(" ")}).map(jHe)}},jHe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},KT;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(KT||(KT={}));var KHe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return wu(e).map(function(n){return n.filter(zHe)})}},zHe=function(t){return oi(t)||Ts(t)},rL=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},qHe=rL("top"),XHe=rL("right"),JHe=rL("bottom"),ZHe=rL("left"),iL=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return MZ(n.filter(Ts))}}},eGe=iL("top-left"),tGe=iL("top-right"),nGe=iL("bottom-right"),rGe=iL("bottom-left"),sL=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},iGe=sL("top"),sGe=sL("right"),oGe=sL("bottom"),aGe=sL("left"),oL=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return LR(n)?n.number:0}}},lGe=oL("top"),cGe=oL("right"),AGe=oL("bottom"),uGe=oL("left"),hGe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dGe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},fGe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(oi).reduce(function(n,r){return n|pGe(r.value)},0)}},pGe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},mGe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gGe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},SO;(function(t){t.NORMAL="normal",t.STRICT="strict"})(SO||(SO={}));var EGe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return SO.STRICT;case"normal":default:return SO.NORMAL}}},TGe={name:"line-height",initialValue:"normal",prefix:!1,type:4},i5=function(t,e){return oi(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ts(t)?Ri(t,e):e},SGe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:sH.parse(t,e)}},yGe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},DP={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},aL=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},CGe=aL("top"),xGe=aL("right"),RGe=aL("bottom"),IGe=aL("left"),_Ge={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(oi).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},NGe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},lL=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},bGe=lL("top"),vGe=lL("right"),OGe=lL("bottom"),wGe=lL("left"),LGe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},BGe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},DGe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&BP(e[0],"none")?[]:wu(e).map(function(n){for(var r={color:Vh.TRANSPARENT,offsetX:Co,offsetY:Co,blur:Co},i=0,s=0;s<n.length;s++){var o=n[s];Vf(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=Rf.parse(t,o)}return r})}},kGe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},MGe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=FGe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},PGe=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},UGe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,i,s,o,a]:null},FGe={matrix:PGe,matrix3d:UGe},s5={type:16,number:50,flags:wR},HGe=[s5,s5],GGe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Ts);return n.length!==2?HGe:[n[0],n[1]]}},QGe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ix;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(ix||(ix={}));var VGe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return ix.BREAK_ALL;case"keep-all":return ix.KEEP_ALL;case"normal":default:return ix.NORMAL}}},$Ge={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(jS(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},JZ={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},WGe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return jS(e)?e.number:1}},YGe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jGe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(oi).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},KGe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},zGe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},qGe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(jS(e))return e.number;if(oi(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},XGe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(oi).map(function(n){return n.value})}},JGe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ds=function(t,e){return(t&e)!==0},ZGe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},eQe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(kZ),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(o.type===20){var l=a&&jS(a)?a.number:1;r.push({counter:o.value,increment:l})}}return r}},tQe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(kZ),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(oi(s)&&s.value!=="none"){var a=o&&jS(o)?o.number:0;n.push({counter:s.value,reset:a})}}return n}},nQe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(LR).map(function(n){return JZ.parse(t,n)})}},rQe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(vHe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;r.push({open:o,close:a})}return r}},o5=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},iQe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&BP(e[0],"none")?[]:wu(e).map(function(n){for(var r={color:255,offsetX:Co,offsetY:Co,blur:Co,spread:Co,inset:!1},i=0,s=0;s<n.length;s++){var o=n[s];BP(o,"inset")?r.inset=!0:Vf(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=Rf.parse(t,o)}return r})}},sQe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(oi).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},oQe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},aQe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return LR(e)?e.number:0}},lQe=(function(){function t(e,n){var r,i;this.animationDuration=Bt(e,nQe,n.animationDuration),this.backgroundClip=Bt(e,LHe,n.backgroundClip),this.backgroundColor=Bt(e,BHe,n.backgroundColor),this.backgroundImage=Bt(e,VHe,n.backgroundImage),this.backgroundOrigin=Bt(e,$He,n.backgroundOrigin),this.backgroundPosition=Bt(e,WHe,n.backgroundPosition),this.backgroundRepeat=Bt(e,YHe,n.backgroundRepeat),this.backgroundSize=Bt(e,KHe,n.backgroundSize),this.borderTopColor=Bt(e,qHe,n.borderTopColor),this.borderRightColor=Bt(e,XHe,n.borderRightColor),this.borderBottomColor=Bt(e,JHe,n.borderBottomColor),this.borderLeftColor=Bt(e,ZHe,n.borderLeftColor),this.borderTopLeftRadius=Bt(e,eGe,n.borderTopLeftRadius),this.borderTopRightRadius=Bt(e,tGe,n.borderTopRightRadius),this.borderBottomRightRadius=Bt(e,nGe,n.borderBottomRightRadius),this.borderBottomLeftRadius=Bt(e,rGe,n.borderBottomLeftRadius),this.borderTopStyle=Bt(e,iGe,n.borderTopStyle),this.borderRightStyle=Bt(e,sGe,n.borderRightStyle),this.borderBottomStyle=Bt(e,oGe,n.borderBottomStyle),this.borderLeftStyle=Bt(e,aGe,n.borderLeftStyle),this.borderTopWidth=Bt(e,lGe,n.borderTopWidth),this.borderRightWidth=Bt(e,cGe,n.borderRightWidth),this.borderBottomWidth=Bt(e,AGe,n.borderBottomWidth),this.borderLeftWidth=Bt(e,uGe,n.borderLeftWidth),this.boxShadow=Bt(e,iQe,n.boxShadow),this.color=Bt(e,hGe,n.color),this.direction=Bt(e,dGe,n.direction),this.display=Bt(e,fGe,n.display),this.float=Bt(e,mGe,n.cssFloat),this.fontFamily=Bt(e,KGe,n.fontFamily),this.fontSize=Bt(e,zGe,n.fontSize),this.fontStyle=Bt(e,JGe,n.fontStyle),this.fontVariant=Bt(e,XGe,n.fontVariant),this.fontWeight=Bt(e,qGe,n.fontWeight),this.letterSpacing=Bt(e,gGe,n.letterSpacing),this.lineBreak=Bt(e,EGe,n.lineBreak),this.lineHeight=Bt(e,TGe,n.lineHeight),this.listStyleImage=Bt(e,SGe,n.listStyleImage),this.listStylePosition=Bt(e,yGe,n.listStylePosition),this.listStyleType=Bt(e,DP,n.listStyleType),this.marginTop=Bt(e,CGe,n.marginTop),this.marginRight=Bt(e,xGe,n.marginRight),this.marginBottom=Bt(e,RGe,n.marginBottom),this.marginLeft=Bt(e,IGe,n.marginLeft),this.opacity=Bt(e,WGe,n.opacity);var s=Bt(e,_Ge,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Bt(e,NGe,n.overflowWrap),this.paddingTop=Bt(e,bGe,n.paddingTop),this.paddingRight=Bt(e,vGe,n.paddingRight),this.paddingBottom=Bt(e,OGe,n.paddingBottom),this.paddingLeft=Bt(e,wGe,n.paddingLeft),this.paintOrder=Bt(e,sQe,n.paintOrder),this.position=Bt(e,BGe,n.position),this.textAlign=Bt(e,LGe,n.textAlign),this.textDecorationColor=Bt(e,YGe,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Bt(e,jGe,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Bt(e,DGe,n.textShadow),this.textTransform=Bt(e,kGe,n.textTransform),this.transform=Bt(e,MGe,n.transform),this.transformOrigin=Bt(e,GGe,n.transformOrigin),this.visibility=Bt(e,QGe,n.visibility),this.webkitTextStrokeColor=Bt(e,oQe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Bt(e,aQe,n.webkitTextStrokeWidth),this.wordBreak=Bt(e,VGe,n.wordBreak),this.zIndex=Bt(e,$Ge,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return If(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Ds(this.display,4)||Ds(this.display,33554432)||Ds(this.display,268435456)||Ds(this.display,536870912)||Ds(this.display,67108864)||Ds(this.display,134217728)},t})(),cQe=(function(){function t(e,n){this.content=Bt(e,ZGe,n.content),this.quotes=Bt(e,rQe,n.quotes)}return t})(),a5=(function(){function t(e,n){this.counterIncrement=Bt(e,eQe,n.counterIncrement),this.counterReset=Bt(e,tQe,n.counterReset)}return t})(),Bt=function(t,e,n){var r=new BZ,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new DZ(r.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,oi(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return tL.parse(t,s.parseComponentValue());case"color":return Rf.parse(t,s.parseComponentValue());case"image":return sH.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return Vf(a)?a:Co;case"length-percentage":var l=s.parseComponentValue();return Ts(l)?l:Co;case"time":return JZ.parse(t,s.parseComponentValue())}break}},AQe="data-html2canvas-debug",uQe=function(t){var e=t.getAttribute(AQe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},kP=function(t,e){var n=uQe(t);return n===1||e===n},Lu=(function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,kP(n,3))debugger;this.styles=new lQe(e,window.getComputedStyle(n,null)),UP(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Zw(this.context,n),kP(n,4)&&(this.flags|=16)}return t})(),hQe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",l5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gN=0;gN<l5.length;gN++)bC[l5.charCodeAt(gN)]=gN;var dQe=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)s=bC[t.charCodeAt(r)],o=bC[t.charCodeAt(r+1)],a=bC[t.charCodeAt(r+2)],l=bC[t.charCodeAt(r+3)],A[i++]=s<<2|o>>4,A[i++]=(o&15)<<4|a>>2,A[i++]=(a&3)<<6|l&63;return c},fQe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},pQe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Um=5,oH=11,ID=2,mQe=oH-Um,ZZ=65536>>Um,gQe=1<<Um,_D=gQe-1,EQe=1024>>Um,TQe=ZZ+EQe,SQe=TQe,yQe=32,CQe=SQe+yQe,xQe=65536>>oH,RQe=1<<mQe,IQe=RQe-1,c5=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},_Qe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},NQe=function(t,e){var n=dQe(t),r=Array.isArray(n)?pQe(n):new Uint32Array(n),i=Array.isArray(n)?fQe(n):new Uint16Array(n),s=24,o=c5(i,s/2,r[4]/2),a=r[5]===2?c5(i,(s+r[4])/2):_Qe(r,Math.ceil((s+r[4])/4));return new bQe(r[0],r[1],r[2],r[3],o,a)},bQe=(function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Um],n=(n<<ID)+(e&_D),this.data[n];if(e<=65535)return n=this.index[ZZ+(e-55296>>Um)],n=(n<<ID)+(e&_D),this.data[n];if(e<this.highStart)return n=CQe-xQe+(e>>oH),n=this.index[n],n+=e>>Um&IQe,n=this.index[n],n=(n<<ID)+(e&_D),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),A5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vQe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var EN=0;EN<A5.length;EN++)vQe[A5.charCodeAt(EN)]=EN;var OQe=1,ND=2,bD=3,u5=4,h5=5,wQe=7,d5=8,vD=9,OD=10,f5=11,p5=12,m5=13,g5=14,wD=15,LQe=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},BQe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},DQe=NQe(hQe),rc="",LD="",kQe=function(t){return DQe.get(t)},MQe=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],o=e[n];if(s===ND&&o===bD)return rc;if(s===ND||s===bD||s===u5||o===ND||o===bD||o===u5)return LD;if(s===d5&&[d5,vD,f5,p5].indexOf(o)!==-1||(s===f5||s===vD)&&(o===vD||o===OD)||(s===p5||s===OD)&&o===OD||o===m5||o===h5||o===wQe||s===OQe)return rc;if(s===m5&&o===g5){for(;i===h5;)i=e[--r];if(i===g5)return rc}if(s===wD&&o===wD){for(var a=0;i===wD;)a++,i=e[--r];if(a%2===0)return rc}return LD},PQe=function(t){var e=LQe(t),n=e.length,r=0,i=0,s=e.map(kQe);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=rc;r<n&&(o=MQe(e,s,++r))===rc;);if(o!==rc||r===n){var a=BQe.apply(null,e.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},UQe=function(t){for(var e=PQe(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},FQe=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},HQe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=eL(r.data).map(function(l){return cs(l)}),s=0,o={},a=i.every(function(l,c){n.setStart(r,s),n.setEnd(r,s+l.length);var A=n.getBoundingClientRect();s+=l.length;var u=A.x>o.x||A.y>o.y;return o=A,c===0?!0:u});return t.body.removeChild(e),a},GQe=function(){return typeof new Image().crossOrigin<"u"},QQe=function(){return typeof new XMLHttpRequest().responseType=="string"},VQe=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},E5=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},$Qe=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var o=MP(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),T5(o).then(function(a){r.drawImage(a,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=n+"px",E5(l)?T5(MP(n,n,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),E5(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},MP=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},T5=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},To={get SUPPORT_RANGE_BOUNDS(){var t=FQe(document);return Object.defineProperty(To,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=To.SUPPORT_RANGE_BOUNDS&&HQe(document);return Object.defineProperty(To,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=VQe(document);return Object.defineProperty(To,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?$Qe(document):Promise.resolve(!1);return Object.defineProperty(To,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=GQe();return Object.defineProperty(To,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=QQe();return Object.defineProperty(To,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(To,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(To,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},sx=(function(){function t(e,n){this.text=e,this.bounds=n}return t})(),WQe=function(t,e,n,r){var i=KQe(e,n),s=[],o=0;return i.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(To.SUPPORT_RANGE_BOUNDS){var l=S5(r,o,a.length).getClientRects();if(l.length>1){var c=aH(a),A=0;c.forEach(function(h){s.push(new sx(h,Xh.fromDOMRectList(t,S5(r,A+o,h.length).getClientRects()))),A+=h.length})}else s.push(new sx(a,Xh.fromDOMRectList(t,l)))}else{var u=r.splitText(a.length);s.push(new sx(a,YQe(t,r))),r=u}else To.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));o+=a.length}),s},YQe=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=Zw(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Xh.EMPTY},S5=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},aH=function(t){if(To.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return UQe(t)},jQe=function(t,e){if(To.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return qQe(t,e)},KQe=function(t,e){return e.letterSpacing!==0?aH(t):jQe(t,e)},zQe=[32,160,4961,65792,65793,4153,4241],qQe=function(t,e){for(var n=x2e(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var o=i.value.slice(),a=eL(o),l="";a.forEach(function(c){zQe.indexOf(c)===-1?l+=cs(c):(l.length&&r.push(l),r.push(cs(c)),l="")}),l.length&&r.push(l)}};!(i=n.next()).done;)s();return r},XQe=(function(){function t(e,n,r){this.text=JQe(n.data,r.textTransform),this.textBounds=WQe(e,this.text,r,n)}return t})(),JQe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(ZQe,e4e);case 2:return t.toUpperCase();default:return t}},ZQe=/(^|\s|:|-|\(|\))([a-z])/g,e4e=function(t,e,n){return t.length>0?e+n.toUpperCase():t},eee=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(Lu),tee=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(Lu),nee=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,o=Zw(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(Lu),ree=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e})(Lu),PP=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(Lu),t4e=[{type:15,flags:0,unit:"px",number:3}],n4e=[{type:16,flags:0,number:50}],r4e=function(t){return t.width>t.height?new Xh(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Xh(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},i4e=function(t){var e=t.type===s4e?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},yO="checkbox",CO="radio",s4e="password",y5=707406591,lH=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=i4e(r),(i.type===yO||i.type===CO)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=r4e(i.bounds)),i.type){case yO:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=t4e;break;case CO:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=n4e;break}return i}return e})(Lu),iee=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(Lu),see=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e})(Lu),oee=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=lee(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?rx(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Vh.TRANSPARENT,o=r.contentWindow.document.body?rx(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Vh.TRANSPARENT;i.backgroundColor=If(s)?If(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e})(Lu),o4e=["OL","UL","MENU"],vb=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,cee(i)&&i.data.trim().length>0)n.textNodes.push(new XQe(t,i,n.styles));else if(bT(i))if(dee(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return vb(t,a,n,r)});else{var o=aee(t,i);o.styles.isVisible()&&(a4e(i,o,r)?o.flags|=4:l4e(o.styles)&&(o.flags|=2),o4e.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?vb(t,i.shadowRoot,o,r):!xO(i)&&!Aee(i)&&!RO(i)&&vb(t,i,o,r))}},aee=function(t,e){return FP(e)?new eee(t,e):uee(e)?new tee(t,e):Aee(e)?new nee(t,e):c4e(e)?new ree(t,e):A4e(e)?new PP(t,e):u4e(e)?new lH(t,e):RO(e)?new iee(t,e):xO(e)?new see(t,e):hee(e)?new oee(t,e):new Lu(t,e)},lee=function(t,e){var n=aee(t,e);return n.flags|=4,vb(t,e,n,n),n},a4e=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||cH(t)&&n.styles.isTransparent()},l4e=function(t){return t.isPositioned()||t.isFloating()},cee=function(t){return t.nodeType===Node.TEXT_NODE},bT=function(t){return t.nodeType===Node.ELEMENT_NODE},UP=function(t){return bT(t)&&typeof t.style<"u"&&!Ob(t)},Ob=function(t){return typeof t.className=="object"},c4e=function(t){return t.tagName==="LI"},A4e=function(t){return t.tagName==="OL"},u4e=function(t){return t.tagName==="INPUT"},h4e=function(t){return t.tagName==="HTML"},Aee=function(t){return t.tagName==="svg"},cH=function(t){return t.tagName==="BODY"},uee=function(t){return t.tagName==="CANVAS"},C5=function(t){return t.tagName==="VIDEO"},FP=function(t){return t.tagName==="IMG"},hee=function(t){return t.tagName==="IFRAME"},x5=function(t){return t.tagName==="STYLE"},d4e=function(t){return t.tagName==="SCRIPT"},xO=function(t){return t.tagName==="TEXTAREA"},RO=function(t){return t.tagName==="SELECT"},dee=function(t){return t.tagName==="SLOT"},R5=function(t){return t.tagName.indexOf("-")>0},f4e=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(a){var l=n.counters[a.counter];l&&a.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return s&&i.forEach(function(a){var l=n.counters[a.counter];o.push(a.counter),l||(l=n.counters[a.counter]=[]),l.push(a.reset)}),o},t})(),I5={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_5={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},p4e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},m4e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jE=function(t,e,n,r,i,s){return t<e||t>n?Jx(t,i,s.length>0):r.integers.reduce(function(o,a,l){for(;t>=a;)t-=a,o+=r.values[l];return o},"")+s},fee=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},as=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(fee(Math.abs(t),s,r,function(o){return cs(Math.floor(o%s)+e)})+i)},nm=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return fee(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},dT=1,Zd=2,ef=4,vC=8,Sh=function(t,e,n,r,i,s){if(t<-9999||t>9999)return Jx(t,4,i.length>0);var o=Math.abs(t),a=i;if(o===0)return e[0]+a;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&Ds(s,dT)&&a!==""?a=e[c]+a:c>1||c===1&&l===0||c===1&&l===1&&Ds(s,Zd)||c===1&&l===1&&Ds(s,ef)&&t>100||c===1&&l>1&&Ds(s,vC)?a=e[c]+(l>0?n[l-1]:"")+a:c===1&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(t<0?r:"")+a},N5="",b5="",v5="",BD="",Jx=function(t,e,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",o=n?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var a=as(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return nm(t,"",i);case 6:return jE(t,1,3999,I5,3,r).toLowerCase();case 7:return jE(t,1,3999,I5,3,r);case 8:return as(t,945,969,!1,r);case 9:return as(t,97,122,!1,r);case 10:return as(t,65,90,!1,r);case 11:return as(t,1632,1641,!0,r);case 12:case 49:return jE(t,1,9999,_5,3,r);case 35:return jE(t,1,9999,_5,3,r).toLowerCase();case 13:return as(t,2534,2543,!0,r);case 14:case 30:return as(t,6112,6121,!0,r);case 15:return nm(t,"",i);case 16:return nm(t,"",i);case 17:case 48:return Sh(t,"",N5,"",i,Zd|ef|vC);case 47:return Sh(t,"",b5,"",i,dT|Zd|ef|vC);case 42:return Sh(t,"",N5,"",i,Zd|ef|vC);case 41:return Sh(t,"",b5,"",i,dT|Zd|ef|vC);case 26:return Sh(t,"","",v5,i,0);case 25:return Sh(t,"","",v5,i,dT|Zd|ef);case 31:return Sh(t,"","",BD,s,dT|Zd|ef);case 33:return Sh(t,"","",BD,s,0);case 32:return Sh(t,"","",BD,s,dT|Zd|ef);case 18:return as(t,2406,2415,!0,r);case 20:return jE(t,1,19999,m4e,3,r);case 21:return as(t,2790,2799,!0,r);case 22:return as(t,2662,2671,!0,r);case 22:return jE(t,1,10999,p4e,3,r);case 23:return nm(t,"");case 24:return nm(t,"");case 27:return as(t,3302,3311,!0,r);case 28:return nm(t,"",i);case 29:return nm(t,"",i);case 34:return as(t,3792,3801,!0,r);case 37:return as(t,6160,6169,!0,r);case 38:return as(t,4160,4169,!0,r);case 39:return as(t,2918,2927,!0,r);case 40:return as(t,1776,1785,!0,r);case 43:return as(t,3046,3055,!0,r);case 44:return as(t,3174,3183,!0,r);case 45:return as(t,3664,3673,!0,r);case 46:return as(t,3872,3881,!0,r);case 3:default:return as(t,48,57,!0,r)}},pee="data-html2canvas-ignore",O5=(function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new f4e,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=g4e(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,l=a.document,c=S4e(i).then(function(){return oa(r,void 0,void 0,function(){var A,u;return Do(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(R4e),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),A=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,T4e(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(l,u)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(C4e(document.doctype)+"<html></html>"),x4e(this.referenceElement.ownerDocument,s,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(kP(e,2))debugger;if(uee(e))return this.createCanvasClone(e);if(C5(e))return this.createVideoClone(e);if(x5(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return FP(n)&&(FP(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),R5(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return DD(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!bT(n)||!d4e(n)&&!n.hasAttribute(pee)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!bT(n)||!x5(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(bT(s)&&dee(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(a){return i.appendChildNode(n,a,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(cee(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&bT(e)&&(UP(e)||Ob(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&UP(i)&&(this.clonedReferenceElement=i),cH(i)&&N4e(i);var l=this.counters.parse(new a5(this.context,s)),c=this.resolvePseudoContent(e,i,o,ox.BEFORE);R5(e)&&(n=!0),C5(e)||this.cloneChildNodes(e,i,n),c&&i.insertBefore(c,i.firstChild);var A=this.resolvePseudoContent(e,i,a,ox.AFTER);return A&&i.appendChild(A),this.counters.pop(l),(s&&(this.options.copyStyles||Ob(e))&&!hee(e)||n)&&DD(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(xO(e)||RO(e))&&(xO(i)||RO(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var o=r.content,a=n.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new a5(this.context,r));var l=new cQe(this.context,r),c=a.createElement("html2canvaspseudoelement");DD(r,c),l.content.forEach(function(u){if(u.type===0)c.appendChild(a.createTextNode(u.value));else if(u.type===22){var h=a.createElement("img");h.src=u.value,h.style.opacity="1",c.appendChild(h)}else if(u.type===18){if(u.name==="attr"){var p=u.values.filter(oi);p.length&&c.appendChild(a.createTextNode(e.getAttribute(p[0].value)||""))}else if(u.name==="counter"){var E=u.values.filter(CS),T=E[0],y=E[1];if(T&&oi(T)){var R=s.counters.getCounterValue(T.value),I=y&&oi(y)?DP.parse(s.context,y.value):3;c.appendChild(a.createTextNode(Jx(R,I,!1)))}}else if(u.name==="counters"){var b=u.values.filter(CS),T=b[0],B=b[1],y=b[2];if(T&&oi(T)){var w=s.counters.getCounterValues(T.value),O=y&&oi(y)?DP.parse(s.context,y.value):3,L=B&&B.type===0?B.value:"",U=w.map(function(Y){return Jx(Y,O,!1)}).join(L);c.appendChild(a.createTextNode(U))}}}else if(u.type===20)switch(u.value){case"open-quote":c.appendChild(a.createTextNode(o5(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(o5(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(u.value))}}),c.className=HP+" "+GP;var A=i===ox.BEFORE?" "+HP:" "+GP;return Ob(n)?n.className.baseValue+=A:n.className+=A,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),ox;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(ox||(ox={}));var g4e=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(pee,"true"),t.body.appendChild(n),n},E4e=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},T4e=function(t){return Promise.all([].slice.call(t.images,0).map(E4e))},S4e=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},y4e=["all","d","content"],DD=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);y4e.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},C4e=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},x4e=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},R4e=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},I4e=":before",_4e=":after",HP="___html2canvas___pseudoelement_before",GP="___html2canvas___pseudoelement_after",w5=`{
    content: "" !important;
    display: none !important;
}`,N4e=function(t){b4e(t,"."+HP+I4e+w5+`
         .`+GP+_4e+w5)},b4e=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},mee=(function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),v4e=(function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(MD(e)||B4e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return oa(this,void 0,void 0,function(){var n,r,i,s,o=this;return Do(this,function(a){switch(a.label){case 0:return n=mee.isSameOrigin(e),r=!kD(e)&&this._options.useCORS===!0&&To.SUPPORT_CORS_IMAGES&&!n,i=!kD(e)&&!n&&!MD(e)&&typeof this._options.proxy=="string"&&To.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!kD(e)&&!MD(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var A=new Image;A.onload=function(){return l(A)},A.onerror=c,(D4e(s)||r)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return l(A)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var a=To.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")s(l.response);else{var u=new FileReader;u.addEventListener("load",function(){return s(u.result)},!1),u.addEventListener("error",function(h){return o(h)},!1),u.readAsDataURL(l.response)}else o("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),n._options.imageTimeout){var A=n._options.imageTimeout;l.timeout=A,l.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+i)}}l.send()})},t})(),O4e=/^data:image\/svg\+xml/i,w4e=/^data:image\/.*;base64,/i,L4e=/^data:image\/.*/i,B4e=function(t){return To.SUPPORT_SVG_DRAWING||!k4e(t)},kD=function(t){return L4e.test(t)},D4e=function(t){return w4e.test(t)},MD=function(t){return t.substr(0,4)==="blob"},k4e=function(t){return t.substr(-3).toLowerCase()==="svg"||O4e.test(t)},It=(function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t})(),KE=function(t,e,n){return new It(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},TN=(function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=KE(this.start,this.startControl,e),i=KE(this.startControl,this.endControl,e),s=KE(this.endControl,this.end,e),o=KE(r,i,e),a=KE(i,s,e),l=KE(o,a,e);return n?new t(this.start,r,o,l):new t(l,a,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),lc=function(t){return t.type===1},M4e=(function(){function t(e){var n=e.styles,r=e.bounds,i=NC(n.borderTopLeftRadius,r.width,r.height),s=i[0],o=i[1],a=NC(n.borderTopRightRadius,r.width,r.height),l=a[0],c=a[1],A=NC(n.borderBottomRightRadius,r.width,r.height),u=A[0],h=A[1],p=NC(n.borderBottomLeftRadius,r.width,r.height),E=p[0],T=p[1],y=[];y.push((s+l)/r.width),y.push((E+u)/r.width),y.push((o+T)/r.height),y.push((c+h)/r.height);var R=Math.max.apply(Math,y);R>1&&(s/=R,o/=R,l/=R,c/=R,u/=R,h/=R,E/=R,T/=R);var I=r.width-l,b=r.height-h,B=r.width-u,w=r.height-T,O=n.borderTopWidth,L=n.borderRightWidth,U=n.borderBottomWidth,G=n.borderLeftWidth,Q=Ri(n.paddingTop,e.bounds.width),Y=Ri(n.paddingRight,e.bounds.width),K=Ri(n.paddingBottom,e.bounds.width),j=Ri(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?Bi(r.left+G/3,r.top+O/3,s-G/3,o-O/3,Wr.TOP_LEFT):new It(r.left+G/3,r.top+O/3),this.topRightBorderDoubleOuterBox=s>0||o>0?Bi(r.left+I,r.top+O/3,l-L/3,c-O/3,Wr.TOP_RIGHT):new It(r.left+r.width-L/3,r.top+O/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?Bi(r.left+B,r.top+b,u-L/3,h-U/3,Wr.BOTTOM_RIGHT):new It(r.left+r.width-L/3,r.top+r.height-U/3),this.bottomLeftBorderDoubleOuterBox=E>0||T>0?Bi(r.left+G/3,r.top+w,E-G/3,T-U/3,Wr.BOTTOM_LEFT):new It(r.left+G/3,r.top+r.height-U/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?Bi(r.left+G*2/3,r.top+O*2/3,s-G*2/3,o-O*2/3,Wr.TOP_LEFT):new It(r.left+G*2/3,r.top+O*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?Bi(r.left+I,r.top+O*2/3,l-L*2/3,c-O*2/3,Wr.TOP_RIGHT):new It(r.left+r.width-L*2/3,r.top+O*2/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?Bi(r.left+B,r.top+b,u-L*2/3,h-U*2/3,Wr.BOTTOM_RIGHT):new It(r.left+r.width-L*2/3,r.top+r.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=E>0||T>0?Bi(r.left+G*2/3,r.top+w,E-G*2/3,T-U*2/3,Wr.BOTTOM_LEFT):new It(r.left+G*2/3,r.top+r.height-U*2/3),this.topLeftBorderStroke=s>0||o>0?Bi(r.left+G/2,r.top+O/2,s-G/2,o-O/2,Wr.TOP_LEFT):new It(r.left+G/2,r.top+O/2),this.topRightBorderStroke=s>0||o>0?Bi(r.left+I,r.top+O/2,l-L/2,c-O/2,Wr.TOP_RIGHT):new It(r.left+r.width-L/2,r.top+O/2),this.bottomRightBorderStroke=u>0||h>0?Bi(r.left+B,r.top+b,u-L/2,h-U/2,Wr.BOTTOM_RIGHT):new It(r.left+r.width-L/2,r.top+r.height-U/2),this.bottomLeftBorderStroke=E>0||T>0?Bi(r.left+G/2,r.top+w,E-G/2,T-U/2,Wr.BOTTOM_LEFT):new It(r.left+G/2,r.top+r.height-U/2),this.topLeftBorderBox=s>0||o>0?Bi(r.left,r.top,s,o,Wr.TOP_LEFT):new It(r.left,r.top),this.topRightBorderBox=l>0||c>0?Bi(r.left+I,r.top,l,c,Wr.TOP_RIGHT):new It(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||h>0?Bi(r.left+B,r.top+b,u,h,Wr.BOTTOM_RIGHT):new It(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=E>0||T>0?Bi(r.left,r.top+w,E,T,Wr.BOTTOM_LEFT):new It(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||o>0?Bi(r.left+G,r.top+O,Math.max(0,s-G),Math.max(0,o-O),Wr.TOP_LEFT):new It(r.left+G,r.top+O),this.topRightPaddingBox=l>0||c>0?Bi(r.left+Math.min(I,r.width-L),r.top+O,I>r.width+L?0:Math.max(0,l-L),Math.max(0,c-O),Wr.TOP_RIGHT):new It(r.left+r.width-L,r.top+O),this.bottomRightPaddingBox=u>0||h>0?Bi(r.left+Math.min(B,r.width-G),r.top+Math.min(b,r.height-U),Math.max(0,u-L),Math.max(0,h-U),Wr.BOTTOM_RIGHT):new It(r.left+r.width-L,r.top+r.height-U),this.bottomLeftPaddingBox=E>0||T>0?Bi(r.left+G,r.top+Math.min(w,r.height-U),Math.max(0,E-G),Math.max(0,T-U),Wr.BOTTOM_LEFT):new It(r.left+G,r.top+r.height-U),this.topLeftContentBox=s>0||o>0?Bi(r.left+G+j,r.top+O+Q,Math.max(0,s-(G+j)),Math.max(0,o-(O+Q)),Wr.TOP_LEFT):new It(r.left+G+j,r.top+O+Q),this.topRightContentBox=l>0||c>0?Bi(r.left+Math.min(I,r.width+G+j),r.top+O+Q,I>r.width+G+j?0:l-G+j,c-(O+Q),Wr.TOP_RIGHT):new It(r.left+r.width-(L+Y),r.top+O+Q),this.bottomRightContentBox=u>0||h>0?Bi(r.left+Math.min(B,r.width-(G+j)),r.top+Math.min(b,r.height+O+Q),Math.max(0,u-(L+Y)),h-(U+K),Wr.BOTTOM_RIGHT):new It(r.left+r.width-(L+Y),r.top+r.height-(U+K)),this.bottomLeftContentBox=E>0||T>0?Bi(r.left+G+j,r.top+w,Math.max(0,E-(G+j)),T-(U+K),Wr.BOTTOM_LEFT):new It(r.left+G+j,r.top+r.height-(U+K))}return t})(),Wr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Wr||(Wr={}));var Bi=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),o=n*s,a=r*s,l=t+n,c=e+r;switch(i){case Wr.TOP_LEFT:return new TN(new It(t,c),new It(t,c-a),new It(l-o,e),new It(l,e));case Wr.TOP_RIGHT:return new TN(new It(t,e),new It(t+o,e),new It(l,c-a),new It(l,c));case Wr.BOTTOM_RIGHT:return new TN(new It(l,e),new It(l,e+a),new It(t+o,c),new It(t,c));case Wr.BOTTOM_LEFT:default:return new TN(new It(l,c),new It(l-o,c),new It(t,e+a),new It(t,e))}},IO=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},P4e=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},_O=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},U4e=(function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t})(),SN=(function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t})(),F4e=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),H4e=function(t){return t.type===0},gee=function(t){return t.type===1},G4e=function(t){return t.type===2},L5=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},Q4e=function(t,e,n,r,i){return t.map(function(s,o){switch(o){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},Eee=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),Tee=(function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new M4e(this.container),this.container.styles.opacity<1&&this.effects.push(new F4e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new U4e(r,i,s))}if(this.container.styles.overflowX!==0){var o=IO(this.curves),a=_O(this.curves);L5(o,a)?this.effects.push(new SN(o,6)):(this.effects.push(new SN(o,2)),this.effects.push(new SN(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!gee(l)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=IO(r.curves),a=_O(r.curves);L5(o,a)||i.unshift(new SN(a,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return Ds(l.target,e)})},t})(),QP=function(t,e,n,r){t.container.elements.forEach(function(i){var s=Ds(i.flags,4),o=Ds(i.flags,2),a=new Tee(i,t);Ds(i.styles.display,2048)&&r.push(a);var l=Ds(i.flags,8)?[]:r;if(s||o){var c=s||i.styles.isPositioned()?n:e,A=new Eee(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;c.negativeZIndex.some(function(E,T){return u>E.element.container.styles.zIndex.order?(h=T,!1):h>0}),c.negativeZIndex.splice(h,0,A)}else if(u>0){var p=0;c.positiveZIndex.some(function(E,T){return u>=E.element.container.styles.zIndex.order?(p=T+1,!1):p>0}),c.positiveZIndex.splice(p,0,A)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?c.nonPositionedFloats.push(A):c.nonPositionedInlineLevel.push(A);QP(a,A,s?A:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),QP(a,e,n,l);Ds(i.flags,8)&&See(i,l)})},See=function(t,e){for(var n=t instanceof PP?t.start:1,r=t instanceof PP?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof ree&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=Jx(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},V4e=function(t){var e=new Tee(t,null),n=new Eee(e),r=[];return QP(e,n,n,r),See(e.container,r),n},B5=function(t,e){switch(e){case 0:return pc(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return pc(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return pc(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return pc(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},$4e=function(t,e){switch(e){case 0:return pc(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return pc(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return pc(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return pc(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},W4e=function(t,e){switch(e){case 0:return pc(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return pc(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return pc(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return pc(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Y4e=function(t,e){switch(e){case 0:return yN(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return yN(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return yN(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return yN(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},yN=function(t,e){var n=[];return lc(t)?n.push(t.subdivide(.5,!1)):n.push(t),lc(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},pc=function(t,e,n,r){var i=[];return lc(t)?i.push(t.subdivide(.5,!1)):i.push(t),lc(n)?i.push(n.subdivide(.5,!0)):i.push(n),lc(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),lc(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},yee=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},NO=function(t){var e=t.styles,n=t.bounds,r=Ri(e.paddingLeft,n.width),i=Ri(e.paddingRight,n.width),s=Ri(e.paddingTop,n.width),o=Ri(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},j4e=function(t,e){return t===0?e.bounds:t===2?NO(e):yee(e)},K4e=function(t,e){return t===0?e.bounds:t===2?NO(e):yee(e)},PD=function(t,e,n){var r=j4e(fT(t.styles.backgroundOrigin,e),t),i=K4e(fT(t.styles.backgroundClip,e),t),s=z4e(fT(t.styles.backgroundSize,e),n,r),o=s[0],a=s[1],l=NC(fT(t.styles.backgroundPosition,e),r.width-o,r.height-a),c=q4e(fT(t.styles.backgroundRepeat,e),l,s,r,i),A=Math.round(r.left+l[0]),u=Math.round(r.top+l[1]);return[c,A,u,o,a]},zE=function(t){return oi(t)&&t.value===KT.AUTO},CN=function(t){return typeof t=="number"},z4e=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(Ts(o)&&a&&Ts(a))return[Ri(o,n.width),Ri(a,n.height)];var l=CN(s);if(oi(o)&&(o.value===KT.CONTAIN||o.value===KT.COVER)){if(CN(s)){var c=n.width/n.height;return c<s!=(o.value===KT.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var A=CN(r),u=CN(i),h=A||u;if(zE(o)&&(!a||zE(a))){if(A&&u)return[r,i];if(!l&&!h)return[n.width,n.height];if(h&&l){var p=A?r:i*s,E=u?i:r/s;return[p,E]}var T=A?r:n.width,y=u?i:n.height;return[T,y]}if(l){var R=0,I=0;return Ts(o)?R=Ri(o,n.width):Ts(a)&&(I=Ri(a,n.height)),zE(o)?R=I*s:(!a||zE(a))&&(I=R/s),[R,I]}var b=null,B=null;if(Ts(o)?b=Ri(o,n.width):a&&Ts(a)&&(B=Ri(a,n.height)),b!==null&&(!a||zE(a))&&(B=A&&u?b/r*i:n.height),B!==null&&zE(o)&&(b=A&&u?B/i*r:n.width),b!==null&&B!==null)return[b,B];throw new Error("Unable to calculate background-size for element")},fT=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},q4e=function(t,e,n,r,i){var s=e[0],o=e[1],a=n[0],l=n[1];switch(t){case 2:return[new It(Math.round(r.left),Math.round(r.top+o)),new It(Math.round(r.left+r.width),Math.round(r.top+o)),new It(Math.round(r.left+r.width),Math.round(l+r.top+o)),new It(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new It(Math.round(r.left+s),Math.round(r.top)),new It(Math.round(r.left+s+a),Math.round(r.top)),new It(Math.round(r.left+s+a),Math.round(r.height+r.top)),new It(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new It(Math.round(r.left+s),Math.round(r.top+o)),new It(Math.round(r.left+s+a),Math.round(r.top+o)),new It(Math.round(r.left+s+a),Math.round(r.top+o+l)),new It(Math.round(r.left+s),Math.round(r.top+o+l))];default:return[new It(Math.round(i.left),Math.round(i.top)),new It(Math.round(i.left+i.width),Math.round(i.top)),new It(Math.round(i.left+i.width),Math.round(i.height+i.top)),new It(Math.round(i.left),Math.round(i.height+i.top))]}},X4e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",D5="Hidden Text",J4e=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=X4e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(D5)),r.appendChild(s),r.appendChild(i);var a=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(D5)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t})(),Cee=(function(){function t(e,n){this.context=e,this.options=n}return t})(),Z4e=1e4,e3e=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new J4e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),G4e(n)&&(this.ctx.globalAlpha=n.opacity),H4e(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),gee(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return oa(this,void 0,void 0,function(){var r;return Do(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return oa(this,void 0,void 0,function(){return Do(this,function(r){switch(r.label){case 0:if(Ds(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=aH(n.text);o.reduce(function(a,l){return s.ctx.fillText(l,a,n.bounds.top+i),a+s.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=s3e(n.fontFamily).join(", "),s=LR(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return oa(this,void 0,void 0,function(){var i,s,o,a,l,c,A,u,h=this;return Do(this,function(p){return i=this.createFontStyle(r),s=i[0],o=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),c=l.baseline,A=l.middle,u=r.paintOrder,n.textBounds.forEach(function(E){u.forEach(function(T){switch(T){case 0:h.ctx.fillStyle=Xs(r.color),h.renderTextWithLetterSpacing(E,r.letterSpacing,c);var y=r.textShadow;y.length&&E.text.trim().length&&(y.slice(0).reverse().forEach(function(R){h.ctx.shadowColor=Xs(R.color),h.ctx.shadowOffsetX=R.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=R.offsetY.number*h.options.scale,h.ctx.shadowBlur=R.blur.number,h.renderTextWithLetterSpacing(E,r.letterSpacing,c)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),r.textDecorationLine.length&&(h.ctx.fillStyle=Xs(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(R){switch(R){case 1:h.ctx.fillRect(E.bounds.left,Math.round(E.bounds.top+c),E.bounds.width,1);break;case 2:h.ctx.fillRect(E.bounds.left,Math.round(E.bounds.top),E.bounds.width,1);break;case 3:h.ctx.fillRect(E.bounds.left,Math.ceil(E.bounds.top+A),E.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&E.text.trim().length&&(h.ctx.strokeStyle=Xs(r.webkitTextStrokeColor),h.ctx.lineWidth=r.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(E.text,E.bounds.left,E.bounds.top+c)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=NO(n),o=_O(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return oa(this,void 0,void 0,function(){var r,i,s,o,a,l,I,I,c,A,u,h,B,p,E,w,T,y,R,I,b,B,w;return Do(this,function(O){switch(O.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,o=0,a=r.textNodes,O.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,s)]):[3,4];case 2:O.sent(),O.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof eee))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return I=O.sent(),this.renderReplacedElement(r,i,I),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof tee&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof nee))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return I=O.sent(),this.renderReplacedElement(r,i,I),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof oee&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:A=O.sent(),r.width&&r.height&&this.ctx.drawImage(A,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),O.label=14;case 14:if(r instanceof lH&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===yO?r.checked&&(this.ctx.save(),this.path([new It(r.bounds.left+u*.39363,r.bounds.top+u*.79),new It(r.bounds.left+u*.16,r.bounds.top+u*.5549),new It(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new It(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new It(r.bounds.left+u*.72983,r.bounds.top+u*.23),new It(r.bounds.left+u*.84,r.bounds.top+u*.34085),new It(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=Xs(y5),this.ctx.fill(),this.ctx.restore()):r.type===CO&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Xs(y5),this.ctx.fill(),this.ctx.restore())),t3e(r)&&r.value.length){switch(h=this.createFontStyle(s),B=h[0],p=h[1],E=this.fontMetrics.getMetrics(B,p).baseline,this.ctx.font=B,this.ctx.fillStyle=Xs(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=r3e(r.styles.textAlign),w=NO(r),T=0,r.styles.textAlign){case 1:T+=w.width/2;break;case 2:T+=w.width;break}y=w.add(T,0,0,-w.height/2+1),this.ctx.save(),this.path([new It(w.left,w.top),new It(w.left+w.width,w.top),new It(w.left+w.width,w.top+w.height),new It(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new sx(r.value,y),s.letterSpacing,E),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ds(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(R=r.styles.listStyleImage,R.type!==0)return[3,18];I=void 0,b=R.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return I=O.sent(),this.ctx.drawImage(I,r.bounds.left-(I.width+10),r.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(B=this.createFontStyle(s)[0],this.ctx.font=B,this.ctx.fillStyle=Xs(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new Xh(r.bounds.left,r.bounds.top+Ri(r.styles.paddingTop,r.bounds.width),r.bounds.width,i5(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new sx(n.listValue,w),s.letterSpacing,i5(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return oa(this,void 0,void 0,function(){var r,i,R,s,o,R,a,l,R,c,A,R,u,h,R,p,E,R,T,y,R;return Do(this,function(I){switch(I.label){case 0:if(Ds(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:I.sent(),r=0,i=n.negativeZIndex,I.label=2;case 2:return r<i.length?(R=i[r],[4,this.renderStack(R)]):[3,5];case 3:I.sent(),I.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:I.sent(),s=0,o=n.nonInlineLevel,I.label=7;case 7:return s<o.length?(R=o[s],[4,this.renderNode(R)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:a=0,l=n.nonPositionedFloats,I.label=11;case 11:return a<l.length?(R=l[a],[4,this.renderStack(R)]):[3,14];case 12:I.sent(),I.label=13;case 13:return a++,[3,11];case 14:c=0,A=n.nonPositionedInlineLevel,I.label=15;case 15:return c<A.length?(R=A[c],[4,this.renderStack(R)]):[3,18];case 16:I.sent(),I.label=17;case 17:return c++,[3,15];case 18:u=0,h=n.inlineLevel,I.label=19;case 19:return u<h.length?(R=h[u],[4,this.renderNode(R)]):[3,22];case 20:I.sent(),I.label=21;case 21:return u++,[3,19];case 22:p=0,E=n.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return p<E.length?(R=E[p],[4,this.renderStack(R)]):[3,26];case 24:I.sent(),I.label=25;case 25:return p++,[3,23];case 26:T=0,y=n.positiveZIndex,I.label=27;case 27:return T<y.length?(R=y[T],[4,this.renderStack(R)]):[3,30];case 28:I.sent(),I.label=29;case 29:return T++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var o=lc(i)?i.start:i;s===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),lc(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=o.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,i);var l=a.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,i),a},e.prototype.renderBackgroundImage=function(n){return oa(this,void 0,void 0,function(){var r,i,s,o,a,l;return Do(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,i=function(A){var u,h,p,Q,J,te,j,V,U,E,Q,J,te,j,V,T,y,R,I,b,B,w,O,L,U,G,Q,Y,K,j,V,$,J,te,X,oe,F,ee,le,q,we,Oe;return Do(this,function(Ce){switch(Ce.label){case 0:if(A.type!==0)return[3,5];u=void 0,h=A.url,Ce.label=1;case 1:return Ce.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return u=Ce.sent(),[3,4];case 3:return Ce.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return u&&(p=PD(n,r,[u.width,u.height,u.width/u.height]),Q=p[0],J=p[1],te=p[2],j=p[3],V=p[4],U=s.ctx.createPattern(s.resizeImage(u,j,V),"repeat"),s.renderRepeat(Q,U,J,te)),[3,6];case 5:HHe(A)?(E=PD(n,r,[null,null,null]),Q=E[0],J=E[1],te=E[2],j=E[3],V=E[4],T=kHe(A.angle,j,V),y=T[0],R=T[1],I=T[2],b=T[3],B=T[4],w=document.createElement("canvas"),w.width=j,w.height=V,O=w.getContext("2d"),L=O.createLinearGradient(R,b,I,B),n5(A.stops,y).forEach(function(Ue){return L.addColorStop(Ue.stop,Xs(Ue.color))}),O.fillStyle=L,O.fillRect(0,0,j,V),j>0&&V>0&&(U=s.ctx.createPattern(w,"repeat"),s.renderRepeat(Q,U,J,te))):GHe(A)&&(G=PD(n,r,[null,null,null]),Q=G[0],Y=G[1],K=G[2],j=G[3],V=G[4],$=A.position.length===0?[iH]:A.position,J=Ri($[0],j),te=Ri($[$.length-1],V),X=MHe(A,J,te,j,V),oe=X[0],F=X[1],oe>0&&F>0&&(ee=s.ctx.createRadialGradient(Y+J,K+te,0,Y+J,K+te,oe),n5(A.stops,oe*2).forEach(function(Ue){return ee.addColorStop(Ue.stop,Xs(Ue.color))}),s.path(Q),s.ctx.fillStyle=ee,oe!==F?(le=n.bounds.left+.5*n.bounds.width,q=n.bounds.top+.5*n.bounds.height,we=F/oe,Oe=1/we,s.ctx.save(),s.ctx.translate(le,q),s.ctx.transform(1,0,0,we,0,0),s.ctx.translate(-le,-q),s.ctx.fillRect(Y,Oe*(K-q)+q,j,V*Oe),s.ctx.restore()):s.ctx.fill())),Ce.label=6;case 6:return r--,[2]}})},s=this,o=0,a=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<a.length?(l=a[o],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return oa(this,void 0,void 0,function(){return Do(this,function(s){return this.path(B5(i,r)),this.ctx.fillStyle=Xs(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return oa(this,void 0,void 0,function(){var o,a;return Do(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return o=$4e(s,i),this.path(o),this.ctx.fillStyle=Xs(n),this.ctx.fill(),a=W4e(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return oa(this,void 0,void 0,function(){var r,i,s,o,a,l,c,A,u=this;return Do(this,function(h){switch(h.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!If(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=n3e(fT(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),If(r.backgroundColor)||(this.ctx.fillStyle=Xs(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(p){u.ctx.save();var E=IO(n.curves),T=p.inset?0:Z4e,y=Q4e(E,-T+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(u.path(E),u.ctx.clip(),u.mask(y)):(u.mask(E),u.ctx.clip(),u.path(y)),u.ctx.shadowOffsetX=p.offsetX.number+T,u.ctx.shadowOffsetY=p.offsetY.number,u.ctx.shadowColor=Xs(p.color),u.ctx.shadowBlur=p.blur.number,u.ctx.fillStyle=p.inset?Xs(p.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),h.label=2;case 2:a=0,l=0,c=s,h.label=3;case 3:return l<c.length?(A=c[l],A.style!==0&&!If(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,a,n.curves,3)];case 6:return h.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,a,n.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,a,n.curves)];case 10:h.sent(),h.label=11;case 11:a++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,o){return oa(this,void 0,void 0,function(){var a,l,c,A,u,h,p,E,T,y,R,I,b,B,w,O,w,O;return Do(this,function(L){return this.ctx.save(),a=Y4e(s,i),l=B5(s,i),o===2&&(this.path(l),this.ctx.clip()),lc(l[0])?(c=l[0].start.x,A=l[0].start.y):(c=l[0].x,A=l[0].y),lc(l[1])?(u=l[1].end.x,h=l[1].end.y):(u=l[1].x,h=l[1].y),i===0||i===2?p=Math.abs(c-u):p=Math.abs(A-h),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),E=r<3?r*3:r*2,T=r<3?r*2:r,o===3&&(E=r,T=r),y=!0,p<=E*2?y=!1:p<=E*2+T?(R=p/(2*E+T),E*=R,T*=R):(I=Math.floor((p+T)/(E+T)),b=(p-I*E)/(I-1),B=(p-(I+1)*E)/I,T=B<=0||Math.abs(T-b)<Math.abs(T-B)?b:B),y&&(o===3?this.ctx.setLineDash([0,E+T]):this.ctx.setLineDash([E,T])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Xs(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(lc(l[0])&&(w=l[3],O=l[0],this.ctx.beginPath(),this.formatPath([new It(w.end.x,w.end.y),new It(O.start.x,O.start.y)]),this.ctx.stroke()),lc(l[1])&&(w=l[1],O=l[2],this.ctx.beginPath(),this.formatPath([new It(w.end.x,w.end.y),new It(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return oa(this,void 0,void 0,function(){var r;return Do(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Xs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=V4e(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(Cee),t3e=function(t){return t instanceof see||t instanceof iee?!0:t instanceof lH&&t.type!==CO&&t.type!==yO},n3e=function(t,e){switch(t){case 0:return IO(e);case 2:return P4e(e);case 1:default:return _O(e)}},r3e=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},i3e=["-apple-system","system-ui"],s3e=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return i3e.indexOf(e)===-1}):t},o3e=(function(t){gA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return oa(this,void 0,void 0,function(){var r,i;return Do(this,function(s){switch(s.label){case 0:return r=MP(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,a3e(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Xs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(Cee),a3e=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},l3e=(function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,eN([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,eN([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,eN([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,eN([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),c3e=(function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new l3e({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new v4e(this,e)}return t.instanceCount=1,t})(),A3e=function(t,e){return e===void 0&&(e={}),u3e(t,e)};typeof window<"u"&&mee.setContext(window);var u3e=function(t,e){return oa(void 0,void 0,void 0,function(){var n,r,i,s,o,a,l,c,A,u,h,p,E,T,y,R,I,b,B,w,L,O,L,U,G,Q,Y,K,j,V,$,J,te,X,oe,F,ee,le,q,we;return Do(this,function(Oe){switch(Oe.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(U=e.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(G=e.imageTimeout)!==null&&G!==void 0?G:15e3,proxy:e.proxy,useCORS:(Q=e.useCORS)!==null&&Q!==void 0?Q:!1},s=yP({logging:(Y=e.logging)!==null&&Y!==void 0?Y:!0,cache:e.cache},i),o={windowWidth:(K=e.windowWidth)!==null&&K!==void 0?K:r.innerWidth,windowHeight:(j=e.windowHeight)!==null&&j!==void 0?j:r.innerHeight,scrollX:(V=e.scrollX)!==null&&V!==void 0?V:r.pageXOffset,scrollY:($=e.scrollY)!==null&&$!==void 0?$:r.pageYOffset},a=new Xh(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new c3e(s,a),c=(J=e.foreignObjectRendering)!==null&&J!==void 0?J:!1,A={allowTaint:(te=e.allowTaint)!==null&&te!==void 0?te:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),u=new O5(l,t,A),h=u.clonedReferenceElement,h?[4,u.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=Oe.sent(),E=cH(h)||h4e(h)?QFe(h.ownerDocument):Zw(l,h),T=E.width,y=E.height,R=E.left,I=E.top,b=h3e(l,h,e.backgroundColor),B={canvas:e.canvas,backgroundColor:b,scale:(oe=(X=e.scale)!==null&&X!==void 0?X:r.devicePixelRatio)!==null&&oe!==void 0?oe:1,x:((F=e.x)!==null&&F!==void 0?F:0)+R,y:((ee=e.y)!==null&&ee!==void 0?ee:0)+I,width:(le=e.width)!==null&&le!==void 0?le:Math.ceil(T),height:(q=e.height)!==null&&q!==void 0?q:Math.ceil(y)},c?(l.logger.debug("Document cloned, using foreign object rendering"),L=new o3e(l,B),[4,L.render(h)]):[3,3];case 2:return w=Oe.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+R+","+I+" with size "+T+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),O=lee(l,h),b===O.styles.backgroundColor&&(O.styles.backgroundColor=Vh.TRANSPARENT),l.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),L=new e3e(l,B),[4,L.render(O)];case 4:w=Oe.sent(),Oe.label=5;case 5:return(!((we=e.removeContainer)!==null&&we!==void 0)||we)&&(O5.destroy(p)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,w]}})})},h3e=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?rx(t,getComputedStyle(r.documentElement).backgroundColor):Vh.TRANSPARENT,s=r.body?rx(t,getComputedStyle(r.body).backgroundColor):Vh.TRANSPARENT,o=typeof n=="string"?rx(t,n):n===null?Vh.TRANSPARENT:4294967295;return e===r.documentElement?If(i)?If(s)?o:s:i:o};const d3e=({charts:t,data:e,onEdit:n,onDelete:r})=>{const i=async(s,o)=>{const a=document.getElementById(`chart-container-${s}`);if(a){const c=(await A3e(a)).toDataURL("image/png"),A=document.createElement("a");A.download=`${o.replace(/\s+/g,"_")}_chart.png`,A.href=c,A.click()}};return f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 h-full overflow-y-auto pb-20 custom-scrollbar",children:t.map(s=>{const o=X2(e,s),a=J2(s);return f.jsxs("div",{id:`chart-container-${s.id}`,className:"bg-[#272822] border border-monokai-accent rounded-lg p-4 flex flex-col h-[300px] relative group hover:border-monokai-blue transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h3",{className:"text-sm font-bold text-white truncate px-1",children:s.title||"Untitled Chart"}),f.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>i(s.id,s.title),className:"p-1 hover:bg-monokai-accent rounded text-monokai-comment hover:text-white",title:"Download Image",children:f.jsx(WF,{size:14})}),f.jsx("button",{onClick:()=>n(s.id),className:"p-1 hover:bg-monokai-accent rounded text-monokai-comment hover:text-monokai-blue",title:"Edit",children:f.jsx(ECe,{size:14})}),f.jsx("button",{onClick:()=>r(s.id),className:"p-1 hover:bg-monokai-accent rounded text-monokai-comment hover:text-monokai-pink",title:"Delete",children:f.jsx(Zf,{size:14})})]})]}),f.jsxs("div",{className:"flex-1 relative min-h-0 w-full",children:[s.type==="bar"&&f.jsx(Z2,{data:o,options:a}),s.type==="line"&&f.jsx(yS,{data:o,options:a}),s.type==="area"&&f.jsx(yS,{data:o,options:a}),s.type==="pie"&&f.jsx(tH,{data:o,options:a}),s.type==="doughnut"&&f.jsx(eH,{data:o,options:a}),s.type==="scatter"&&f.jsx(nH,{data:o,options:a})]})]},s.id)})})},f3e="modulepreload",p3e=function(t){return"/DuckDB_Editor_Pro/"+t},k5={},ir=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(A=>Promise.resolve(A).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(c=>{if(c=p3e(c),c in k5)return;k5[c]=!0;const A=c.endsWith(".css"),u=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=A?"stylesheet":f3e,A||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),A)return new Promise((p,E)=>{h.addEventListener("load",p),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};class m3e{constructor(){this.STORAGE_KEY="duckdb_metric_packages",this.CHART_STORAGE_KEY="duckdb_metric_charts",this.ALERT_STORAGE_KEY="duckdb_metric_alerts",this.SUBSCRIPTION_STORAGE_KEY="duckdb_metric_subscriptions"}calculateHealthScore(e,n){const r=[],i=["name","definition","formula","scenario","value","unit","category"],s=i.filter(p=>e[p]).length,o=Math.round(s/i.length*20);r.push({name:"",score:o,maxScore:20});let a=0;e.isValid===!0?a=30:e.isValid===!1?a=10:e.lastValidated&&(a=15),r.push({name:"",score:a,maxScore:30});const l=n?20:0;r.push({name:"",score:l,maxScore:20});let c=0;if(e.updatedAt){const p=(Date.now()-e.updatedAt)/864e5;p<7?c=15:p<30?c=10:p<90&&(c=5)}else if(e.createdAt){const p=(Date.now()-e.createdAt)/864e5;p<7?c=10:p<30&&(c=5)}r.push({name:"",score:c,maxScore:15});let A=0;e.history&&e.history.length>0&&(A=Math.min(15,e.history.length*3)),r.push({name:"",score:A,maxScore:15});const u=o+a+l+c+A;let h;return u>=90?h="excellent":u>=70?h="good":u>=50?h="fair":h="poor",{score:u,level:h,details:r}}async collectTableSchema(e){var r;const n=[];for(const i of e)try{const s=await At.getTableSchema(i),o=`SELECT * FROM "${i}" LIMIT 5`,a=await At.query(o),l=`SELECT COUNT(*) as cnt FROM "${i}"`,A=((r=(await At.query(l))[0])==null?void 0:r.cnt)||0;n.push({tableName:i,columns:s.map(u=>({name:u.name,type:u.type})),sampleData:a,rowCount:A})}catch(s){console.error(`Error collecting schema for table ${i}:`,s)}return n}buildPrompt(e){return`

${e.map(r=>{const i=r.columns.map(o=>`  - ${o.name} (${o.type})`).join(`
`),s=r.sampleData.slice(0,3).map(o=>Object.values(o).join(" | ")).join(`
`);return`
### : ${r.tableName}
- : ${r.rowCount}
- :
${i}
- :
${s}
`}).join(`
---
`)}

JSONJSON
[
  {
    "name": " gmv, arpu",
    "scenario": "",
    "characteristics": "",
    "value": "",
    "definition": "",
    "formula": "SUM(amount)  COUNT(DISTINCT user_id)",
    "example": "20241GMV100",
    "dependencies": [""],
    "unit": "%",
    "category": "",
    "sqlValidation": "DuckDB SQL/SELECT SUM(amount) FROM table_name"
  }
]


1. 3-5
2. 
3. dependencies
4. sqlValidationDuckDB SQL
5. JSON`}validateMetrics(e){const n=[],r=Date.now();for(const i of e){if(!i.name||!i.scenario||!i.characteristics||!i.value||!i.definition||!i.formula||!i.example){console.warn("Invalid metric, missing required fields:",i);continue}n.push({id:`metric_${r}_${Math.random().toString(36).substr(2,9)}`,name:i.name,scenario:i.scenario,characteristics:i.characteristics,value:i.value,definition:i.definition,formula:i.formula,example:i.example,dependencies:i.dependencies||[],unit:i.unit,category:i.category,sqlValidation:i.sqlValidation||"",isValid:void 0,createdAt:r})}return n}async analyzeMetrics(e,n){const r=await this.collectTableSchema(e);if(r.length===0)throw new Error("");const i=this.buildPrompt(r),s="JSON";try{let a=await Uh.robustCall("metric",i,s,!0,3,n);return a&&typeof a=="object"&&"metrics"in a&&(a=a.metrics),Array.isArray(a)||(a=[a]),this.validateMetrics(a)}catch(o){throw console.error("AI analysis failed:",o),o}}saveMetricPackage(e){const n=this.loadMetricPackages(),r=n.findIndex(i=>i.id===e.id);r>=0?n[r]=e:n.push(e),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}saveAllPackages(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}loadMetricPackages(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e)return JSON.parse(e)}catch(e){console.error("Error loading metric packages:",e)}return[]}deleteMetricPackage(e){const n=this.loadMetricPackages().filter(r=>r.id!==e);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}getMetricPackage(e){return this.loadMetricPackages().find(n=>n.id===e)}createMetricPackage(e,n,r,i){const s=Date.now();return{id:`pkg_${s}_${Math.random().toString(36).substr(2,9)}`,name:e,description:n,sourceTables:r,metrics:i,createdAt:s,updatedAt:s}}updateMetricPackage(e,n){const r=this.loadMetricPackages(),i=r.findIndex(s=>s.id===e);return i<0?null:(n.metrics&&(n.metrics=n.metrics.map(s=>{const o=r[i].metrics.find(a=>a.id===s.id);if(o){const a=[],l={};if(["name","definition","formula","scenario","characteristics","value","unit","category"].forEach(A=>{o[A]!==s[A]&&(a.push(A),l[A]=o[A])}),a.length>0){const A=(o.version||1)+1;return{...s,version:A,updatedAt:Date.now(),history:[...o.history||[],{version:A,changedAt:Date.now(),changedFields:a,previousValues:l}].slice(-10)}}}return{...s,updatedAt:Date.now(),version:s.version||1,history:s.history||[]}})),r[i]={...r[i],...n,updatedAt:Date.now()},localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),r[i])}async generateValidationSql(e,n){try{const r=await At.getTableSchema(n),i=r.map(a=>a.name.toLowerCase()),s=(e.dependencies||[]).filter(a=>i.includes(a.toLowerCase()));if(s.length===0)return`-- 
-- : ${r.map(l=>l.name).join(", ")}
SELECT '' as status;`;let o=e.formula||"";if(o.toUpperCase().includes("SUM")||o.toUpperCase().includes("COUNT")||o.toUpperCase().includes("AVG")||o.toUpperCase().includes("MAX")||o.toUpperCase().includes("MIN")){if(o=o.replace(/FROM\s+(\w+)/gi,`FROM "${n}"`),!o.toUpperCase().includes("FROM")){const a=s[0];o=`SELECT ${o} FROM "${n}"`}}else o=`SELECT ${o} as ${e.name} FROM "${n}" LIMIT 1`;return o}catch(r){return console.error("Error generating validation SQL:",r),`-- SQL: ${r.message}`}}async validateMetric(e,n){const r=e.sqlValidation||await this.generateValidationSql(e,n);if(!r||r.includes(""))return{isValid:!1,error:"SQL"};try{return{isValid:!0,result:await At.query(r)}}catch(i){return{isValid:!1,error:i.message}}}async fixMetric(e,n){try{const r=await At.getTableSchema(n),i=new Map;r.forEach(a=>{i.set(a.name.toLowerCase(),a.name)});const s=(e.dependencies||[]).map(a=>{const l=a.toLowerCase();return i.get(l)||a});let o=e.sqlValidation||"";for(const[a,l]of i){const c=new RegExp(`\\b${a}\\b`,"gi");o=o.replace(c,`"${l}"`)}if(!o){const a=s[0];a&&(o=`SELECT ${e.formula||a} as ${e.name} FROM "${n}"`)}return{...e,dependencies:s,sqlValidation:o,validationError:void 0}}catch(r){return console.error("Error fixing metric:",r),{...e,validationError:r.message}}}async generateChart(e,n,r){const i=Date.now(),s=`metric_chart_${i}_${Math.random().toString(36).substr(2,9)}`;let o=e.sqlValidation;o||(o=await this.generateValidationSql(e,r));let a=[],l=[];try{const u=o.split(";").find(h=>h.trim().toUpperCase().startsWith("SELECT"));u&&(a=await At.query(u.trim()),a.length>0&&(l=Object.keys(a[0])))}catch(u){console.error("Error executing SQL for chart:",u)}const c=this.analyzeAndGenerateChartConfig(e,a,l);c.source="metric",c.metricId=e.id,c.metricPackageId=n,c.metricName=e.name;const A={id:s,metricId:e.id,metricPackageId:n,metricName:e.name,sourceTable:r,chartConfig:c,sql:o||"",createdAt:i,updatedAt:i};return this.saveMetricChart(A),A}analyzeAndGenerateChartConfig(e,n,r){var l;const o={id:`chart_${Date.now()}`,title:e.name,type:"bar",xKey:"",yKeys:[],aggregation:"none",showLegend:!0,showValues:!0};if(n.length===0)return o.type="counter",o.yKeys=r.length>0?[r[0]]:["value"],o;this.analyzeColumnTypes(n,r);const a=((l=e.characteristics)==null?void 0:l.toLowerCase())||"";return a.includes("")||a.includes("count")?n.length===1&&r.length<=2?(o.type="counter",o.yKeys=r.filter(c=>c!=="count"&&c!=="cnt"),o.yKeys.length===0&&(o.yKeys=r)):(o.type="bar",o.xKey=r[0],o.yKeys=r.slice(1).length>0?[r[1]]:[r[0]],o.aggregation="sum"):a.includes("")||a.includes("time")||a.includes("")?(o.type="line",o.xKey=r.find(c=>c.toLowerCase().includes("date")||c.toLowerCase().includes("time")||c.toLowerCase().includes("month")||c.toLowerCase().includes("year"))||r[0],o.yKeys=r.filter(c=>c!==o.xKey),o.yKeys.length===0&&(o.yKeys=[r[r.length-1]])):a.includes("")||a.includes("")||a.includes("rate")||a.includes("ratio")?(n.length<=6?o.type="pie":o.type="bar",o.xKey=r[0],o.yKeys=r.slice(1).length>0?[r[1]]:[r[0]]):a.includes("")||a.includes("sum")||a.includes("")?(o.type="bar",o.xKey=r[0],o.yKeys=r.slice(1).length>0?[r[1]]:[r[0]],o.aggregation="sum"):(o.type="bar",o.xKey=r[0],o.yKeys=r.slice(1).length>0?[r[1]]:[r[r.length-1]]),e.unit&&(o.yAxisLabel=e.unit),o}analyzeColumnTypes(e,n){const r={};for(const i of n){const s=e.slice(0,10).map(l=>l[i]).filter(l=>l!=null);if(s.length===0){r[i]="string";continue}if(s.every(l=>!isNaN(Number(l))&&typeof l!="boolean")){r[i]="number";continue}if(s.every(l=>!isNaN(Date.parse(l)))){r[i]="date";continue}r[i]="string"}return r}saveMetricChart(e){const n=this.loadMetricCharts(),r=n.findIndex(i=>i.id===e.id);r>=0?n[r]=e:n.push(e),localStorage.setItem(this.CHART_STORAGE_KEY,JSON.stringify(n))}loadMetricCharts(){try{const e=localStorage.getItem(this.CHART_STORAGE_KEY);if(e)return JSON.parse(e)}catch(e){console.error("Error loading metric charts:",e)}return[]}getChartsByPackage(e){return this.loadMetricCharts().filter(n=>n.metricPackageId===e)}getChartByMetric(e){return this.loadMetricCharts().find(n=>n.metricId===e)}deleteMetricChart(e){const n=this.loadMetricCharts().filter(r=>r.id!==e);localStorage.setItem(this.CHART_STORAGE_KEY,JSON.stringify(n))}updateMetricChart(e,n){const r=this.loadMetricCharts(),i=r.findIndex(s=>s.id===e);return i<0?null:(r[i]={...r[i],...n,updatedAt:Date.now()},localStorage.setItem(this.CHART_STORAGE_KEY,JSON.stringify(r)),r[i])}async convertToSavedQuery(e){const{v4:n}=await ir(async()=>{const{v4:s}=await Promise.resolve().then(()=>PVe);return{v4:s}},void 0),r={id:n(),name:`[] ${e.metricName}`,sql:e.sql,desc:` "${e.metricName}" `,createdAt:Date.now(),charts:[e.chartConfig],widgetType:"chart",metricChartId:e.id},{dbService:i}=await ir(async()=>{const{dbService:s}=await Promise.resolve().then(()=>FCe);return{dbService:s}},void 0);return await i.saveQuery(r),r.id}detectAnomalies(e,n=1.5){if(e.length<4)return e.map(c=>({isAnomaly:!1,value:c,zScore:0}));const r=[...e].sort((c,A)=>c-A),i=r[Math.floor(r.length*.25)],s=r[Math.floor(r.length*.75)],o=s-i,a=e.reduce((c,A)=>c+A,0)/e.length,l=Math.sqrt(e.reduce((c,A)=>c+Math.pow(A-a,2),0)/e.length);return e.map(c=>{const A=l>0?(c-a)/l:0,u=i-n*o,h=s+n*o;return{isAnomaly:c<u||c>h,value:c,zScore:A}})}predictFuture(e,n=3){if(e.length<2)return Array(n).fill(e[0]||0);const r=e.length;let i=0,s=0,o=0,a=0;for(let u=0;u<r;u++)i+=u,s+=e[u],o+=u*e[u],a+=u*u;const l=(r*o-i*s)/(r*a-i*i),c=(s-l*i)/r,A=[];for(let u=1;u<=n;u++){const h=c+l*(r+u-1);A.push(Math.max(0,h))}return A}calculateTrend(e){if(e.length<2)return{direction:"stable",changeRate:0,confidence:0};const n=e.slice(-3),r=e.slice(0,Math.min(3,e.length-3)),i=n.reduce((c,A)=>c+A,0)/n.length,s=r.length>0?r.reduce((c,A)=>c+A,0)/r.length:i,o=s>0?(i-s)/s:0,a=Math.min(1,e.length/10);let l="stable";return o>.1?l="up":o<-.1&&(l="down"),{direction:l,changeRate:o,confidence:a}}loadAlerts(){try{const e=localStorage.getItem(this.ALERT_STORAGE_KEY);return e?JSON.parse(e):[]}catch{return[]}}saveAlerts(e){localStorage.setItem(this.ALERT_STORAGE_KEY,JSON.stringify(e))}createAlert(e){const n=this.loadAlerts(),r={...e,id:Date.now().toString(),createdAt:Date.now()};return n.push(r),this.saveAlerts(n),r}deleteAlert(e){const r=this.loadAlerts().filter(i=>i.id!==e);this.saveAlerts(r)}async triggerAlert(e,n){const i=this.loadAlerts().find(o=>o.id===e);if(!i||!i.enabled)return!1;let s=!1;switch(i.condition){case"above":s=n>i.threshold;break;case"below":s=n<i.threshold;break;case"change":s=Math.abs(n-i.threshold)>i.threshold*.1;break}if(s&&i.webhookUrl)try{return await fetch(i.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metricName:i.metricName,currentValue:n,threshold:i.threshold,condition:i.condition,timestamp:new Date().toISOString()})}),!0}catch(o){console.error("Webhook trigger failed:",o)}return!1}loadSubscriptions(){try{const e=localStorage.getItem(this.SUBSCRIPTION_STORAGE_KEY);return e?JSON.parse(e):[]}catch{return[]}}createSubscription(e){const n=this.loadSubscriptions(),r={...e,id:Date.now().toString(),createdAt:Date.now()};return n.push(r),localStorage.setItem(this.SUBSCRIPTION_STORAGE_KEY,JSON.stringify(n)),r}deleteSubscription(e){const r=this.loadSubscriptions().filter(i=>i.id!==e);localStorage.setItem(this.SUBSCRIPTION_STORAGE_KEY,JSON.stringify(r))}async notifySubscribers(e,n,r){const i=this.loadSubscriptions().filter(s=>s.enabled&&s.metricId===e);for(const s of i)s.notifyOn.includes(n)&&Notification.permission==="granted"&&new Notification(`: ${s.metricName}`,{body:`${n==="change"?"":n==="update"?"":""}: ${JSON.stringify(r)}`})}}const ii=new m3e,g3e=({columns:t,data:e,initialConfig:n,onSave:r,onCancel:i})=>{var X,oe;const[s,o]=H.useState(n||{id:Date.now().toString(),title:"New Chart",type:"bar",xKey:t[0]||"",yKeys:t.length>1?[t[1]]:[],yRightKeys:[],stacked:!1,horizontal:!1,aggregation:"none",showLegend:!0,showValues:!1}),[a,l]=H.useState(null),[c,A]=H.useState("manual"),[u,h]=H.useState([]),[p,E]=H.useState(""),[T,y]=H.useState(""),[R,I]=H.useState([]),[b,B]=H.useState([]),[w,O]=H.useState(!1),[L,U]=H.useState(null);H.useEffect(()=>{const F=ii.loadMetricPackages();h(F)},[]);const G=u.find(F=>F.id===p),Q=G==null?void 0:G.metrics.find(F=>F.id===T),Y=c==="metric"&&b.length>0?b:t,K=(F,ee)=>!F||F.length===0||F.length===1||ee.length<=2&&F.length<=1?"counter":F.length>1&&F.length<=10?"bar":F.length>10?"line":"bar";H.useEffect(()=>{(async()=>{var ee,le;if(c==="metric"&&Q&&G){O(!0);try{let q=Q.sqlValidation;if(!q){const we=(ee=Q.dependencies)==null?void 0:ee[0],Oe=(le=G.sourceTables)==null?void 0:le[0];we&&Oe&&(q=`SELECT ${Q.formula||we} as value FROM "${Oe}"`)}if(q){const we=await At.query(q),Oe=Array.isArray(we)?we:[];if(I(Oe),Oe.length>0){const Ce=Object.keys(Oe[0]);B(Ce);const Ue=K(Oe,Ce);o(We=>({...We,id:Date.now().toString(),title:Q.name||"Metric Chart",type:Ue,xKey:Ce[0]||"",yKeys:Ce.length>1?[Ce[1]]:[Ce[0]],metricId:Q.id,metricPackageId:p,metricName:Q.name,aggregation:Ue==="counter"?"sum":"none"}))}}}catch(q){console.error("Failed to fetch metric data:",q),U((q==null?void 0:q.message)||"SQL")}finally{O(!1)}}})()},[c,T,p,Q,G]);const j=F=>{E(F),y(""),I([]),B([])};H.useEffect(()=>{const F=setTimeout(()=>{const ee=c==="metric"&&R.length>0?R:e;l(X2(ee,s))},100);return()=>clearTimeout(F)},[s,e,R,c]);const V=F=>{o(ee=>({...ee,type:F}))},$=F=>{if(s.type==="pie"||s.type==="doughnut"){o(le=>({...le,yKeys:[F]}));return}o(le=>le.yKeys.includes(F)?{...le,yKeys:le.yKeys.filter(we=>we!==F)}:{...le,yKeys:[...le.yKeys,F]})},J=F=>{o(ee=>{const le=ee.yRightKeys||[];return le.includes(F)?{...ee,yRightKeys:le.filter(we=>we!==F)}:{...ee,yRightKeys:[...le,F]}})},te=J2(s);return f.jsxs("div",{className:"absolute inset-0 z-50 bg-[#1e1f1c] flex flex-col animate-[fadeIn_0.2s]",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-monokai-accent bg-monokai-sidebar",children:[f.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[f.jsx("span",{className:"text-monokai-pink",children:""})," Chart Builder"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:i,className:"px-4 py-1.5 border border-monokai-comment text-monokai-comment hover:text-white rounded text-sm transition-colors",children:"Cancel"}),f.jsxs("button",{onClick:()=>r(s),className:"px-4 py-1.5 bg-monokai-green text-monokai-bg font-bold rounded text-sm hover:opacity-90 flex items-center gap-2",children:[f.jsx(uCe,{size:14})," Save Chart"]})]})]}),f.jsxs("div",{className:"flex flex-1 min-h-0",children:[f.jsxs("div",{className:"w-80 bg-monokai-sidebar border-r border-monokai-accent p-4 overflow-y-auto custom-scrollbar flex flex-col gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-comment mb-2",children:""}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{A("manual"),U(null)},className:`flex-1 px-3 py-2 rounded text-sm font-bold transition-colors ${c==="manual"?"bg-monokai-blue text-monokai-bg":"bg-monokai-accent text-monokai-comment hover:text-white"}`,children:""}),f.jsxs("button",{onClick:()=>{A("metric"),U(null)},disabled:u.length===0,className:`flex-1 px-3 py-2 rounded text-sm font-bold transition-colors flex items-center justify-center gap-1 ${c==="metric"?"bg-monokai-purple text-white":"bg-monokai-accent text-monokai-comment hover:text-white disabled:opacity-50"}`,children:[f.jsx(mCe,{size:14}),""]})]})]}),c==="metric"&&f.jsx("div",{className:"space-y-4 p-3 bg-monokai-bg rounded border border-monokai-purple/50",children:u.length===0?f.jsx("div",{className:"text-center text-monokai-comment text-sm py-4",children:'""'}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-comment mb-2",children:""}),f.jsxs("select",{value:p,onChange:F=>j(F.target.value),className:"w-full bg-monokai-sidebar border border-monokai-accent p-2 rounded text-sm text-white outline-none focus:border-monokai-purple",children:[f.jsx("option",{value:"",children:"..."}),u.map(F=>f.jsxs("option",{value:F.id,children:[F.name," (",F.metrics.length,")"]},F.id))]})]}),G&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-comment mb-2",children:""}),f.jsxs("select",{value:T,onChange:F=>y(F.target.value),className:"w-full bg-monokai-sidebar border border-monokai-accent p-2 rounded text-sm text-white outline-none focus:border-monokai-purple",children:[f.jsx("option",{value:"",children:"..."}),G.metrics.map(F=>f.jsxs("option",{value:F.id,children:[F.name," - ",F.category||""]},F.id))]})]}),Q&&f.jsxs("div",{className:"p-2 bg-monokai-purple/20 rounded text-xs",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("div",{className:"text-monokai-purple font-bold",children:Q.name}),w&&f.jsxs("div",{className:"flex items-center gap-1 text-monokai-blue",children:[f.jsx(Qh,{size:12,className:"animate-spin"}),"..."]})]}),f.jsx("div",{className:"text-monokai-comment",children:Q.definition}),Q.formula&&f.jsx("div",{className:"text-monokai-green mt-1 font-mono",children:Q.formula}),R.length>0&&f.jsxs("div",{className:"mt-2 text-monokai-green",children:["  ",R.length," "]}),L&&f.jsxs("div",{className:"mt-2 text-monokai-red text-xs",children:[" ",L]})]})]})}),c==="manual"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-comment mb-2",children:"Title"}),f.jsx("input",{value:s.title,onChange:F=>o({...s,title:F.target.value}),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white focus:border-monokai-blue outline-none",placeholder:"Chart Title"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-comment mb-2",children:"Type"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:["bar","line","area","pie","doughnut","scatter"].map(F=>f.jsx("button",{onClick:()=>V(F),className:`p-2 rounded border text-xs capitalize transition-all ${s.type===F?"bg-monokai-blue text-monokai-bg border-monokai-blue font-bold":"bg-monokai-bg border-monokai-accent text-monokai-fg hover:border-monokai-comment"}`,children:F},F))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-comment mb-2",children:"X Axis (Category)"}),f.jsx("select",{value:s.xKey,onChange:F=>o({...s,xKey:F.target.value}),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white focus:border-monokai-blue outline-none",children:Y.map(F=>f.jsx("option",{value:F,children:F},F))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-comment mb-2",children:"Y Axis (Values)"}),f.jsx("div",{className:"flex flex-col gap-1 max-h-40 overflow-y-auto border border-monokai-accent rounded p-2 bg-monokai-bg",children:Y.map(F=>{const ee=s.yKeys.includes(F);return f.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-monokai-accent/30 rounded cursor-pointer",children:[f.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${ee?"bg-monokai-blue border-monokai-blue":"border-monokai-comment"}`,children:ee&&f.jsx(aA,{size:10,className:"text-monokai-bg"})}),f.jsx("input",{type:"checkbox",className:"hidden",checked:ee,onChange:()=>$(F)}),f.jsx("span",{className:`text-sm ${ee?"text-white":"text-monokai-comment"}`,children:F})]},F)})})]}),f.jsxs("div",{className:"border-t border-monokai-accent pt-4 mt-2",children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-purple mb-2",children:"Group By (Segmentation)"}),f.jsxs("select",{value:s.groupBy||"",onChange:F=>o({...s,groupBy:F.target.value||void 0}),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white focus:border-monokai-purple outline-none",children:[f.jsx("option",{value:"",children:"None"}),Y.map(F=>f.jsx("option",{value:F,children:F},F))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-comment mb-2",children:"Aggregation"}),f.jsxs("select",{value:s.aggregation||"none",onChange:F=>o({...s,aggregation:F.target.value}),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white focus:border-monokai-blue outline-none",children:[f.jsx("option",{value:"none",children:"None (Raw)"}),f.jsx("option",{value:"count",children:"Count"}),f.jsx("option",{value:"sum",children:"Sum"}),f.jsx("option",{value:"avg",children:"Average"}),f.jsx("option",{value:"min",children:"Min"}),f.jsx("option",{value:"max",children:"Max"})]})]}),f.jsxs("div",{className:"border-t border-monokai-accent pt-4 mt-2 flex flex-col gap-3",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:s.stacked,onChange:F=>o({...s,stacked:F.target.checked})}),f.jsx("span",{className:"text-sm text-white",children:"Stacked"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:s.horizontal,onChange:F=>o({...s,horizontal:F.target.checked})}),f.jsx("span",{className:"text-sm text-white",children:"Horizontal (Bar)"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:s.showValues,onChange:F=>o({...s,showValues:F.target.checked})}),f.jsx("span",{className:"text-sm text-white",children:"Show Values"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:s.showLegend,onChange:F=>o({...s,showLegend:F.target.checked})}),f.jsx("span",{className:"text-sm text-white",children:"Show Legend"})]})]}),(s.type==="bar"||s.type==="line")&&f.jsxs("div",{className:"border-t border-monokai-accent pt-4 mt-2",children:[f.jsx("label",{className:"block text-xs uppercase font-bold text-monokai-blue mb-2",children:"Right Y-Axis (Line Overlay)"}),f.jsx("div",{className:"flex flex-col gap-1 max-h-32 overflow-y-auto border border-monokai-accent rounded p-2 bg-monokai-bg",children:Y.map(F=>{var le;const ee=(le=s.yRightKeys)==null?void 0:le.includes(F);return f.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-monokai-accent/30 rounded cursor-pointer",children:[f.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${ee?"bg-monokai-blue border-monokai-blue":"border-monokai-comment"}`,children:ee&&f.jsx(aA,{size:10,className:"text-monokai-bg"})}),f.jsx("input",{type:"checkbox",className:"hidden",checked:ee,onChange:()=>J(F)}),f.jsx("span",{className:`text-sm ${ee?"text-white":"text-monokai-comment"}`,children:F})]},F)})})]}),f.jsxs("div",{className:"border-t border-monokai-accent pt-4 mt-2",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-3",children:[f.jsx("input",{type:"checkbox",checked:((X=s.drillDownConfig)==null?void 0:X.enabled)||!1,onChange:F=>{var ee,le;return o({...s,drillDownConfig:{enabled:F.target.checked,drillDownColumn:((ee=s.drillDownConfig)==null?void 0:ee.drillDownColumn)||s.xKey,drillDownSql:((le=s.drillDownConfig)==null?void 0:le.drillDownSql)||""}})}}),f.jsx("span",{className:"text-sm text-monokai-purple font-bold",children:" (Drill Down)"})]}),((oe=s.drillDownConfig)==null?void 0:oe.enabled)&&f.jsxs("div",{className:"flex flex-col gap-2 pl-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-monokai-comment mb-1",children:""}),f.jsx("select",{value:s.drillDownConfig.drillDownColumn||"",onChange:F=>o({...s,drillDownConfig:{...s.drillDownConfig,drillDownColumn:F.target.value}}),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white",children:Y.map(F=>f.jsx("option",{value:F,children:F},F))})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs text-monokai-comment mb-1",children:["SQL ( ","{value}",")"]}),f.jsx("textarea",{value:s.drillDownConfig.drillDownSql||"",onChange:F=>o({...s,drillDownConfig:{...s.drillDownConfig,drillDownSql:F.target.value}}),placeholder:"SELECT * FROM table WHERE column = '{value}'",className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white font-mono h-20"})]}),f.jsx("p",{className:"text-xs text-monokai-comment",children:"SQL"})]})]})]})]}),f.jsxs("div",{className:"flex-1 bg-[#23241f] p-8 flex flex-col justify-center relative",children:[f.jsx("div",{className:"absolute top-4 right-4 text-xs text-monokai-comment",children:"Preview"}),f.jsx("div",{className:"flex-1 relative min-h-0",children:a&&f.jsxs(f.Fragment,{children:[s.type==="bar"&&f.jsx(Z2,{data:a,options:te}),s.type==="line"&&f.jsx(yS,{data:a,options:te}),s.type==="area"&&f.jsx(yS,{data:a,options:te}),s.type==="pie"&&f.jsx(tH,{data:a,options:te}),s.type==="doughnut"&&f.jsx(eH,{data:a,options:te}),s.type==="scatter"&&f.jsx(nH,{data:a,options:te})]})})]})]})]})};yR.register(Uv,Fv,FT,xT,HT,Cm,$X,YX,QX,t9);const E3e={CTE:`WITH cte_name AS (
    SELECT * FROM table
)
SELECT * FROM cte_name;`,"Window Rank":"SELECT *, ROW_NUMBER() OVER (PARTITION BY col ORDER BY date DESC) as rn FROM table;","JSON Extract":"SELECT json_extract_string(json_col, '$.key') as val FROM table;","Date Trunc":"SELECT date_trunc('month', timestamp_col) as mth, COUNT(*) FROM table GROUP BY 1;","Case When":`CASE 
    WHEN condition THEN 'A'
    ELSE 'B'
END`,Join:`SELECT t1.*, t2.*
FROM table1 t1
JOIN table2 t2 ON t1.id = t2.id;`,Pivot:"PIVOT table ON col_name USING SUM(val_col);",Macro:"CREATE MACRO pair_sum(a, b) AS a + b;"},T3e=[{label:"Select All",code:"SELECT * FROM table_name;",cat:"Basic"},{label:"Filter (Where)",code:"SELECT * FROM table_name WHERE col = 'val';",cat:"Basic"},{label:"Sort",code:"SELECT * FROM table_name ORDER BY col DESC;",cat:"Basic"},{label:"Limit",code:"SELECT * FROM table_name LIMIT 10;",cat:"Basic"},{label:"Aggregation",code:"SELECT col, COUNT(*) FROM table_name GROUP BY col;",cat:"Aggr"},{label:"Join",code:"SELECT t1.*, t2.* FROM t1 JOIN t2 ON t1.id = t2.id;",cat:"Join"},{label:"Insert",code:"INSERT INTO table_name (col1, col2) VALUES (1, 'val');",cat:"DML"},{label:"Update",code:"UPDATE table_name SET col = 'val' WHERE id = 1;",cat:"DML"},{label:"CSV Import",code:"CREATE TABLE t AS SELECT * FROM read_csv_auto('file.csv');",cat:"I/O"},{label:"Parquet Import",code:"CREATE TABLE t AS SELECT * FROM read_parquet('file.parquet');",cat:"I/O"},{label:"Current Date",code:"SELECT current_date, current_timestamp;",cat:"Func"},{label:"Regex Match",code:"SELECT * FROM t WHERE regexp_matches(col, 'pattern');",cat:"Func"}],M5=`-- Type your SQL here or use AI to generate it
SELECT * FROM memory._sys_audit_log ORDER BY log_time DESC;`,S3e=({onRun:t,initialCode:e,pendingChartConfig:n,isZenMode:r,onToggleZen:i,onPendingConsumed:s})=>{var xs,Ii,yt,he,De;const[o,a]=H.useState(()=>{try{const ie=localStorage.getItem("duckdb_sql_tabs");if(ie){const Le=JSON.parse(ie);if(Array.isArray(Le)&&Le.length>0)return Le.map(Me=>({...Me,result:null,loading:!1,filterTerm:"",chartConfig:{...Me.chartConfig,yKeys:Me.chartConfig.yKeys||(Me.chartConfig.yKey?[Me.chartConfig.yKey]:[]),yRightKeys:Me.chartConfig.yRightKeys||[],stacked:Me.chartConfig.stacked||!1,horizontal:Me.chartConfig.horizontal||!1}}))}}catch{}return[{id:"default-tab",title:"Untitled Query",code:M5,result:null,loading:!1,viewMode:"table",chartConfig:{id:"default",title:"Start Execution",type:"bar",xKey:"",yKeys:[],yRightKeys:[],stacked:!1,horizontal:!1,aggregation:"none"},page:0,filterTerm:""}]}),[l,c]=H.useState(()=>{try{const ie=localStorage.getItem("duckdb_sql_tabs");if(ie){const Le=JSON.parse(ie);if(Array.isArray(Le)&&Le.length>0)return Le[0].id}}catch{}return"default-tab"}),[A,u]=H.useState(""),[h,p]=H.useState(!1),[E,T]=H.useState(!1),[y,R]=H.useState("schema"),[I,b]=H.useState([]),[B,w]=H.useState([]),[O,L]=H.useState({}),[U,G]=H.useState(new Set),[Q,Y]=H.useState(""),[K,j]=H.useState(!1),[V,$]=H.useState(!1),[J,te]=H.useState(null),[X,oe]=H.useState(!1),[F,ee]=H.useState("TABLE"),[le,q]=H.useState(""),[we,Oe]=H.useState(!1),[Ce,Ue]=H.useState(!1),[We,qe]=H.useState(!1),[Je,ut]=H.useState(!1),[en,rn]=H.useState(""),[be,nt]=H.useState(!1),[Ke,gt]=H.useState("table"),[at,_t]=H.useState(!1),[Tt,Dt]=H.useState(!1),[Ft,mn]=H.useState(0),[an,qt]=H.useState(null),[ce,_e]=H.useState(""),[Ye,dt]=H.useState(50),Wt=H.useRef(null),Xt=H.useRef(!1),Te=H.useRef(null),Ae=50;H.useEffect(()=>{me()},[]);const me=async()=>{try{const ie=localStorage.getItem("duckdb_sql_history");ie&&b(JSON.parse(ie));const Le=await $a.getQueries();w(Le)}catch(ie){console.error(ie)}ke()};H.useEffect(()=>{e&&a(ie=>{if(ie.length===0){const Le=ht(e);return c(Le.id),[Le]}return ie.map(Le=>Le.id===l?{...Le,code:e}:Le)})},[e]),H.useEffect(()=>{if(n){const ie=e||"";a(Le=>{if(Le.length===0){const Me=ht(n.title||"Metric Chart");return c(Me.id),[{...Me,code:ie,chartConfig:n,charts:[n],viewMode:"chart"}]}return Le.map(Me=>Me.id===l?{...Me,code:ie||Me.code,chartConfig:n,charts:[...Me.charts||[],n],viewMode:"chart"}:Me)}),ie&&setTimeout(()=>{t(),s==null||s()},150)}},[n,e]),H.useEffect(()=>{if(o.length>0){const ie=o.map(Le=>({...Le,result:null,loading:!1}));localStorage.setItem("duckdb_sql_tabs",JSON.stringify(ie))}},[o]),H.useEffect(()=>{const ie=Me=>{var rr;if(!Xt.current||!Wt.current)return;const bt=(rr=Wt.current.parentElement)==null?void 0:rr.getBoundingClientRect();if(!bt)return;const wn=(Me.clientY-bt.top)/bt.height*100;dt(Math.min(Math.max(wn,20),80))},Le=()=>{Xt.current=!1,document.body.style.cursor="default"};return document.addEventListener("mousemove",ie),document.addEventListener("mouseup",Le),()=>{document.removeEventListener("mousemove",ie),document.removeEventListener("mouseup",Le)}},[]);const st=()=>{Xt.current=!0,document.body.style.cursor="row-resize"},ke=async()=>{try{const ie=await At.getTables(),Le={};for(const Me of ie){const bt=await At.getTableSchema(Me);Le[Me]=bt}L(Le)}catch(ie){console.error(ie)}},ht=(ie=M5)=>({id:Date.now().toString(),title:"Untitled Query",code:ie,result:null,history:[],historyIndex:-1,loading:!1,viewMode:"table",chartConfig:{id:"default",title:"Start Execution",type:"bar",xKey:"",yKeys:[],yRightKeys:[],stacked:!1,horizontal:!1,aggregation:"none"},page:0,filterTerm:""}),sn=()=>{const ie=ht();a(Le=>[...Le,ie]),c(ie.id)},mr=(ie,Le)=>{Le.stopPropagation();const Me=o.filter(bt=>bt.id!==ie);if(Me.length===0){const bt=ht();a([bt]),c(bt.id)}else a(Me),l===ie&&c(Me[Me.length-1].id)},Lt=ie=>{a(Le=>Le.map(Me=>Me.id===l?{...Me,...ie}:Me))},Dn=()=>o.find(ie=>ie.id===l)||o[0],tn=ie=>{qt(ie.id),_e(ie.title)},cn=()=>{an&&(a(ie=>ie.map(Le=>Le.id===an?{...Le,title:ce||"Untitled"}:Le)),qt(null))},gr=async(ie=!1)=>{const Le=Dn();if(!Le||Le.loading)return;Lt({loading:!0,viewMode:ie?"explain":"table",page:0,filterTerm:""});const Me=performance.now();let bt=Le.code;ie&&!bt.toUpperCase().startsWith("EXPLAIN")&&(bt=`EXPLAIN ${Le.code}`);try{const tt=Le.code.trim().toUpperCase();let wn="QUERY";tt.startsWith("INSERT")&&(wn="INSERT"),tt.startsWith("UPDATE")&&(wn="UPDATE"),tt.startsWith("DELETE")&&(wn="DELETE"),tt.startsWith("CREATE")&&(wn="CREATE"),tt.startsWith("DROP")&&(wn="DELETE"),tt.startsWith("ALTER")&&(wn="ALTER"),tt.startsWith("PIVOT")&&(wn="QUERY");const rr=Le.code.match(/(?:FROM|INTO|UPDATE|TABLE)\s+"?([a-zA-Z0-9_]+)"?/i),Sr=rr?rr[1]:null;let Vn;ie?Vn=await At.query(bt):Vn=await At.executeAndAudit(bt,wn,Sr,"Executed via SQL Editor");const ti=performance.now();(wn==="CREATE"||wn==="DROP"||wn==="ALTER")&&ke();const _i=Vn.length>0?Object.keys(Vn[0]):[];Lt({result:{columns:_i,rows:Vn,executionTime:ti-Me,isExplain:ie},loading:!1}),ie||Fr(Le.code,"success",ti-Me),t()}catch(tt){Lt({result:{columns:[],rows:[],executionTime:0,error:tt.message},loading:!1}),ie||Fr(Le.code,"error",0)}},Qn=ie=>{ee(ie),q(""),oe(!0),Dt(!1)},hn=async()=>{const ie=Dn();if(!ie||!le)return;const Le=`CREATE ${F} "${le}" AS ${ie.code}`;try{Lt({loading:!0}),await At.executeAndAudit(Le,"CREATE",le,`Materialized from SQL Editor as ${F}`),oe(!1),ke(),Lt({loading:!1}),alert(`Successfully created ${F}: ${le}`),t()}catch(Me){alert(`Failed to create ${F}: ${Me.message}`),Lt({loading:!1})}},Tr=()=>{const ie=Dn();if(ie)try{const Le=MFe(ie.code,{language:"postgresql",keywordCase:"upper",linesBetweenQueries:2});Lt({code:Le})}catch(Le){console.error("Formatting failed",Le),Lt({code:ie.code.trim()})}},Br=async()=>{if(A.trim()){p(!0);try{const ie=await At.getTables();let Le="";for(const bt of ie){const wn=(await At.getTableSchema(bt)).map(rr=>`${rr.name} (${rr.type})`).join(", ");Le+=`Table ${bt}: [${wn}]
`}const Me=await Uh.generateSql(A,Le);Lt({code:Me})}catch(ie){console.error(ie)}finally{p(!1)}}},Gr=async()=>{var Le;const ie=Dn();if(!(!ie||!((Le=ie.result)!=null&&Le.error))){T(!0);try{const Me=await At.getTables();let bt="";for(const wn of Me){const rr=await At.getTableSchema(wn);bt+=`Table ${wn}: [${rr.map(Sr=>Sr.name).join(",")}]
`}const tt=await Uh.fixSql(ie.code,ie.result.error,bt);Lt({code:tt})}catch(Me){console.error(Me)}finally{T(!1)}}},Fr=(ie,Le,Me=0)=>{const tt=[{id:crypto.randomUUID(),sql:ie,timestamp:Date.now(),status:Le,executionTime:Me},...I].slice(0,100);b(tt),localStorage.setItem("duckdb_sql_history",JSON.stringify(tt))},ei=()=>{b([]),localStorage.removeItem("duckdb_sql_history")},gi=async()=>{const ie=Dn();if(!ie||!en.trim())return;const Le={id:Date.now().toString(),name:en,sql:ie.code,createdAt:Date.now(),pinned:be,widgetType:be?Ke:void 0,charts:be&&Ke==="chart"?[ie.chartConfig]:void 0};await $a.saveQuery(Le),await me(),j(!1),rn(""),nt(!1),R("saved")},Wi=async(ie,Le)=>{Le.stopPropagation(),await $a.deleteQuery(ie);const Me=B.filter(bt=>bt.id!==ie);w(Me)},lt=ie=>{const Le=Dn();Le&&Lt({code:Le.code+ie})},Zt=()=>{const ie=Dn();if(!ie||!ie.result)return;const Le=Te.current?Te.current.toBase64Image():null,Me=ie.result.rows.slice(0,100).map(Sr=>`<tr>${ie.result.columns.map(Vn=>`<td>${Sr[Vn]}</td>`).join("")}</tr>`).join(""),bt=`
        <!DOCTYPE html>
        <html>
        <head>
            <title>Query Report - ${ie.title}</title>
            <style>
                body { font-family: sans-serif; padding: 20px; background: #f8f8f8; color: #333; }
                h1 { margin-bottom: 5px; }
                .meta { font-size: 12px; color: #666; margin-bottom: 20px; }
                .sql { background: #eee; padding: 15px; border-radius: 5px; font-family: monospace; white-space: pre-wrap; border: 1px solid #ddd; margin-bottom: 20px; }
                table { border-collapse: collapse; width: 100%; font-size: 12px; background: white; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                th { background: #f2f2f2; font-weight: bold; }
                .chart-container { margin-bottom: 30px; background: white; padding: 20px; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); text-align: center; }
                img { max-width: 100%; height: auto; }
            </style>
        </head>
        <body>
            <h1>${ie.title}</h1>
            <div class="meta">Generated on ${new Date().toLocaleString()} | Execution: ${ie.result.executionTime.toFixed(2)}ms | Rows: ${ie.result.rows.length}</div>
            
            <div class="sql">${ie.code}</div>
            
            ${Le?`<div class="chart-container"><h3>Visualization</h3><img src="${Le}" /></div>`:""}
            
            <h3>Data Preview (First 100 rows)</h3>
            <table>
                <thead><tr>${ie.result.columns.map(Sr=>`<th>${Sr}</th>`).join("")}</tr></thead>
                <tbody>${Me}</tbody>
            </table>
        </body>
        </html>
      `,tt=new Blob([bt],{type:"text/html"}),wn=URL.createObjectURL(tt),rr=document.createElement("a");rr.href=wn,rr.download=`report_${Date.now()}.html`,rr.click(),_t(!1)},Pt=async ie=>{const Le=Dn();if(!Le||!Le.result||!Le.result.rows.length)return;const Me=`query_result_${Date.now()}.${ie}`;try{if(ie==="parquet"){const bt=await At.exportParquet(Le.code,"export.parquet"),tt=URL.createObjectURL(bt),wn=document.createElement("a");wn.href=tt,wn.download=Me,wn.click()}else{let bt="",tt="";const wn=(ti,_i)=>typeof _i=="bigint"?_i.toString():_i;if(ie==="json")bt=JSON.stringify(Le.result.rows,wn,2),tt="application/json";else{const ti=Le.result.columns.join(","),_i=Le.result.rows.map(Bl=>Le.result.columns.map(Hs=>{const TA=Bl[Hs],SA=typeof TA=="bigint"?TA.toString():TA;return SA===null?"":`"${String(SA).replace(/"/g,'""')}"`}).join(",")).join(`
`);bt=`${ti}
${_i}`,tt="text/csv"}const rr=new Blob([bt],{type:tt}),Sr=URL.createObjectURL(rr),Vn=document.createElement("a");Vn.href=Sr,Vn.download=Me,Vn.click()}_t(!1)}catch{alert("Export failed. Ensure query supports export.")}},kn=ie=>{const Le=Dn();if(!Le||!Le.result)return;const{columns:Me,rows:bt}=Le.result;let tt="";if(ie==="tsv")tt=Me.join("	")+`
`+bt.map(wn=>Me.map(rr=>wn[rr]).join("	")).join(`
`);else if(ie==="md"){const wn=`| ${Me.map(()=>"---").join(" | ")} |`,rr=`| ${Me.join(" | ")} |`,Sr=bt.map(Vn=>`| ${Me.map(ti=>Vn[ti]).join(" | ")} |`).join(`
`);tt=`${rr}
${wn}
${Sr}`}else if(ie==="html"){const wn=`<thead><tr>${Me.map(Sr=>`<th>${Sr}</th>`).join("")}</tr></thead>`,rr=`<tbody>${bt.map(Sr=>`<tr>${Me.map(Vn=>`<td>${Sr[Vn]}</td>`).join("")}</tr>`).join("")}</tbody>`;tt=`<table border="1" cellspacing="0" cellpadding="5">
${wn}
${rr}
</table>`}navigator.clipboard.writeText(tt)},et=Dn();if(H.useEffect(()=>{if(Ft<=0||!(et!=null&&et.code))return;const ie=setInterval(()=>{t()},Ft*1e3);return()=>clearInterval(ie)},[Ft,et==null?void 0:et.code,t]),!et)return f.jsx("div",{className:"flex flex-col h-full items-center justify-center text-monokai-comment",children:"Loading..."});const Gn=((xs=et.result)==null?void 0:xs.rows)||[],Cn=et.filterTerm?Gn.filter(ie=>Object.values(ie).some(Le=>String(Le).toLowerCase().includes(et.filterTerm.toLowerCase()))):Gn,nr=Cn.slice(et.page*Ae,(et.page+1)*Ae),zn=Cn.length>0?Math.ceil(Cn.length/Ae)-1:0,qr=I.filter(ie=>ie.sql.toLowerCase().includes(Q.toLowerCase()));return f.jsxs("div",{className:"flex flex-col h-full gap-4 relative",children:[K&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md animate-[fadeIn_0.2s]",children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded shadow-2xl w-96 animate-[slideIn_0.2s_ease-out]",children:[f.jsx("h3",{className:"text-lg font-bold text-monokai-green mb-4",children:"Save Query"}),f.jsx("input",{autoFocus:!0,value:en,onChange:ie=>rn(ie.target.value),placeholder:"Query Name",className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-white outline-none mb-4"}),f.jsxs("div",{className:"mb-6 p-3 bg-monokai-bg border border-monokai-accent rounded",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[f.jsx("input",{type:"checkbox",checked:be,onChange:ie=>nt(ie.target.checked)}),f.jsx("span",{className:"text-sm font-bold text-monokai-yellow",children:"Pin to Dashboard"})]}),be&&f.jsxs("select",{value:Ke,onChange:ie=>gt(ie.target.value),className:"w-full bg-monokai-sidebar border border-monokai-accent p-1 rounded text-xs text-white",children:[f.jsx("option",{value:"table",children:"Mini Table"}),f.jsx("option",{value:"value",children:"Single Value"}),f.jsx("option",{value:"chart",children:"Chart Widget"})]})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>j(!1),className:"px-3 py-1 text-sm hover:text-white",children:"Cancel"}),f.jsx("button",{onClick:gi,className:"px-4 py-1 bg-monokai-green text-monokai-bg font-bold rounded text-sm hover:opacity-90",children:"Save"})]})]})}),X&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md animate-[fadeIn_0.2s]",children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded shadow-2xl w-96 animate-[slideIn_0.2s_ease-out]",children:[f.jsxs("h3",{className:"text-lg font-bold text-monokai-purple mb-2",children:["Create ",F]}),f.jsx("input",{autoFocus:!0,value:le,onChange:ie=>q(ie.target.value),placeholder:`${F} Name`,className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-white outline-none mb-6 focus:border-monokai-purple transition-colors"}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>oe(!1),className:"px-3 py-1 text-sm hover:text-white",children:"Cancel"}),f.jsx("button",{onClick:hn,className:"px-4 py-1 bg-monokai-purple text-white font-bold rounded text-sm hover:opacity-90",children:"Create"})]})]})}),we&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md",onClick:()=>Oe(!1),children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded shadow-2xl w-96",onClick:ie=>ie.stopPropagation(),children:[f.jsx("h3",{className:"text-lg font-bold text-monokai-blue mb-4",children:"Shortcuts"}),f.jsxs("ul",{className:"space-y-3 text-sm",children:[f.jsxs("li",{className:"flex justify-between border-b border-monokai-accent pb-2",children:[f.jsx("span",{className:"text-monokai-comment",children:"Run Query"}),f.jsx("span",{className:"font-mono bg-monokai-accent px-2 rounded text-white",children:"Ctrl + Enter"})]}),f.jsxs("li",{className:"flex justify-between border-b border-monokai-accent pb-2",children:[f.jsx("span",{className:"text-monokai-comment",children:"Command Palette"}),f.jsx("span",{className:"font-mono bg-monokai-accent px-2 rounded text-white",children:"Ctrl/Cmd + K"})]})]}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:()=>Oe(!1),className:"px-4 py-2 bg-monokai-accent text-white rounded",children:"Close"})})]})}),!r&&f.jsxs("div",{className:"flex gap-2 items-center bg-monokai-sidebar p-2 rounded border border-monokai-accent shrink-0 shadow-lg",children:[f.jsx("span",{className:"text-xl animate-pulse",children:""}),f.jsx("input",{type:"text",value:A,onChange:ie=>u(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&Br(),placeholder:"Ask AI (e.g., 'Show top 5 users by sales')...",className:"flex-1 bg-transparent border-none focus:ring-0 text-monokai-blue placeholder-monokai-comment outline-none font-mono text-sm"}),f.jsx("button",{onClick:Br,disabled:h,className:"px-4 py-1.5 bg-monokai-purple/20 border border-monokai-purple text-monokai-purple text-xs font-bold rounded hover:bg-monokai-purple hover:text-white transition-all disabled:opacity-50",children:h?"Thinking...":"Generate SQL"})]}),f.jsxs("div",{className:"flex flex-1 min-h-0 gap-4",children:[f.jsxs("div",{className:"flex flex-col gap-0 flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col gap-0 min-h-[100px] border border-monokai-accent rounded-t-lg bg-monokai-bg overflow-hidden shadow-2xl relative",style:{height:`${Ye}%`},ref:Wt,children:[f.jsxs("div",{className:"flex items-end bg-[#1e1f1c] pt-2 px-2 gap-1 overflow-x-auto scrollbar-hide border-b border-monokai-accent",children:[o.map(ie=>{const Le=l===ie.id;return f.jsxs("div",{className:`group relative flex items-center gap-2 px-4 py-2 text-xs cursor-pointer min-w-[140px] max-w-[200px] select-none transition-all rounded-t-md border-t border-l border-r ${Le?"bg-monokai-bg border-monokai-accent z-10 text-white font-bold":"bg-[#2a2b24] border-transparent text-monokai-comment hover:bg-[#33342e]"}`,onClick:()=>c(ie.id),onDoubleClick:()=>tn(ie),children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${Le?"bg-monokai-green":"bg-monokai-comment/30"}`}),an===ie.id?f.jsx("input",{autoFocus:!0,value:ce,onChange:Me=>_e(Me.target.value),onBlur:cn,onKeyDown:Me=>Me.key==="Enter"&&cn(),className:"bg-transparent text-white outline-none w-full"}):f.jsx("span",{className:"truncate flex-1",children:ie.title}),f.jsx("button",{onClick:Me=>mr(ie.id,Me),className:"opacity-0 group-hover:opacity-100 hover:text-monokai-pink font-bold ml-1",children:""}),Le&&f.jsx("div",{className:"absolute bottom-[-1px] left-0 right-0 h-1 bg-monokai-bg z-20"})]},ie.id)}),f.jsx("button",{onClick:sn,className:"px-3 py-2 text-monokai-comment hover:text-white font-bold text-lg mb-0.5 opacity-50 hover:opacity-100 transition-opacity",children:"+"})]}),f.jsxs("div",{className:"flex justify-between items-center p-2 bg-monokai-bg border-b border-monokai-accent z-10",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>gr(!1),disabled:et.loading,className:`px-4 py-1.5 bg-monokai-green text-monokai-bg font-bold rounded text-xs hover:opacity-90 disabled:opacity-50 transition-transform active:scale-95 flex items-center gap-2 ${et.loading?"animate-pulse":""}`,children:[f.jsx("span",{children:""})," Run"]}),f.jsx("button",{onClick:()=>gr(!0),disabled:et.loading,className:"px-4 py-1.5 border border-monokai-purple text-monokai-purple font-bold rounded text-xs hover:bg-monokai-purple hover:text-white disabled:opacity-50 transition-colors",children:"Explain"}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>Ue(!Ce),className:"px-3 py-1.5 bg-monokai-accent text-monokai-comment hover:text-white text-xs font-bold rounded flex items-center gap-1 border border-transparent hover:border-monokai-comment transition-colors",children:[f.jsx("span",{children:""})," Snippets "]}),Ce&&f.jsx("div",{className:"absolute top-full left-0 mt-1 bg-monokai-sidebar border border-monokai-accent rounded shadow-xl z-50 min-w-[200px]",children:Object.entries(E3e).map(([ie,Le])=>f.jsx("button",{className:"w-full text-left px-4 py-2 text-xs text-monokai-fg hover:bg-monokai-accent hover:text-monokai-blue transition-colors",onClick:()=>{lt(Le),Ue(!1)},children:ie},ie))}),Ce&&f.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Ue(!1)})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>Dt(!Tt),className:"px-3 py-1 text-xs border border-monokai-purple text-monokai-purple hover:bg-monokai-purple hover:text-white rounded transition-colors flex items-center gap-1",children:[f.jsx("span",{children:""})," Materialize "]}),Tt&&f.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-monokai-sidebar border border-monokai-accent rounded shadow-xl z-50 min-w-[150px]",children:[f.jsx("button",{onClick:()=>Qn("TABLE"),className:"w-full text-left px-4 py-2 text-xs text-monokai-fg hover:bg-monokai-accent hover:text-monokai-blue transition-colors",children:"Save as Table"}),f.jsx("button",{onClick:()=>Qn("VIEW"),className:"w-full text-left px-4 py-2 text-xs text-monokai-fg hover:bg-monokai-accent hover:text-monokai-blue transition-colors",children:"Save as View"})]}),Tt&&f.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Dt(!1)})]}),f.jsx("button",{onClick:()=>Oe(!0),className:"text-xs text-monokai-comment hover:text-white px-2 py-1",children:" Shortcuts"}),f.jsx("button",{onClick:Tr,className:"text-xs text-monokai-yellow hover:text-white px-2 py-1",children:"Format"}),f.jsx("button",{onClick:()=>j(!0),className:"text-xs text-monokai-orange hover:text-white px-2 py-1",children:"Save"}),f.jsx("button",{onClick:i,className:`text-xs px-3 py-1 rounded font-bold transition-all border ${r?"bg-monokai-pink text-white border-monokai-pink":"text-monokai-comment border-monokai-comment hover:text-white"}`,title:"Toggle Zen Mode",children:r?"Exit Zen":"Zen Mode"})]})]}),f.jsx("div",{className:"relative flex-1 overflow-auto bg-monokai-bg",children:f.jsx(Xw,{value:et.code,height:"100%",theme:"dark",extensions:[K2(),mt.lineWrapping,mt.theme({"&":{backgroundColor:"#272822",color:"#f8f8f2"},".cm-gutters":{backgroundColor:"#272822",color:"#75715e",border:"none"},".cm-activeLine":{backgroundColor:"rgba(73, 72, 62, .15)"},".cm-activeLineGutter":{backgroundColor:"rgba(73, 72, 62, .15)"}},{dark:!0})],onChange:ie=>Lt({code:ie}),className:"h-full text-base",basicSetup:{lineNumbers:!0,foldGutter:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0}})})]}),f.jsx("div",{onMouseDown:st,className:"h-2 bg-monokai-bg hover:bg-monokai-blue cursor-row-resize z-20 flex items-center justify-center transition-colors group",children:f.jsx("div",{className:"w-8 h-1 rounded-full bg-monokai-accent group-hover:bg-white"})}),f.jsxs("div",{className:"flex flex-col gap-0 flex-1 min-h-0 border border-monokai-accent rounded-b-lg bg-monokai-bg relative",children:[f.jsxs("div",{className:"flex justify-between items-center bg-[#1e1f1c] p-2 border-b border-monokai-accent shrink-0",children:[f.jsxs("div",{className:"flex gap-1 bg-monokai-bg p-0.5 rounded border border-monokai-accent/30",children:[f.jsx("button",{onClick:()=>Lt({viewMode:"table"}),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded ${et.viewMode==="table"?"bg-monokai-accent text-white shadow-sm":"text-monokai-comment hover:text-white"}`,children:"Table"}),f.jsx("button",{onClick:()=>Lt({viewMode:"chart"}),disabled:!et.result||et.result.rows.length===0||et.result.isExplain,className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded ${et.viewMode==="chart"?"bg-monokai-accent text-monokai-pink shadow-sm":"text-monokai-comment hover:text-monokai-pink disabled:opacity-30"}`,children:"Chart"}),((Ii=et.result)==null?void 0:Ii.isExplain)&&f.jsx("button",{onClick:()=>Lt({viewMode:"explain"}),className:"px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded bg-monokai-purple text-white",children:"Plan"})]}),et.viewMode==="chart"&&f.jsxs("div",{className:"flex items-center gap-2",children:[((yt=et.charts)==null?void 0:yt.some(ie=>ie.source==="metric"))&&f.jsxs("span",{className:"text-xs bg-monokai-purple/20 text-monokai-purple px-2 py-0.5 rounded flex items-center gap-1",children:[f.jsx(jh,{size:10}),""]}),f.jsxs("button",{onClick:()=>{te(null),$(!0)},className:"ml-2 px-3 py-1 bg-monokai-green text-monokai-bg font-bold rounded text-[10px] uppercase tracking-wider hover:opacity-90 flex items-center gap-1 transition-transform active:scale-95",children:[f.jsx(Lf,{size:12})," New Visualization"]}),f.jsxs("button",{onClick:()=>t(),className:"px-2 py-1 bg-monokai-blue/20 text-monokai-blue hover:bg-monokai-blue hover:text-monokai-bg rounded text-[10px] flex items-center gap-1",title:"",children:[f.jsx(Ow,{size:12})," "]}),f.jsxs("select",{value:Ft,onChange:ie=>mn(Number(ie.target.value)),className:"px-2 py-1 bg-monokai-bg border border-monokai-accent/30 rounded text-[10px] text-monokai-comment",title:"",children:[f.jsx("option",{value:0,children:": "}),f.jsx("option",{value:5,children:"5"}),f.jsx("option",{value:10,children:"10"}),f.jsx("option",{value:30,children:"30"}),f.jsx("option",{value:60,children:"1"}),f.jsx("option",{value:300,children:"5"})]})]}),et.result&&!et.result.error&&!et.result.isExplain&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2 bg-monokai-sidebar border border-monokai-accent/30 rounded px-2 py-0.5 mr-2",children:[f.jsx("span",{className:"text-monokai-comment text-xs",children:""}),f.jsx("input",{className:"bg-transparent border-none outline-none text-xs text-monokai-fg placeholder-monokai-comment/50 w-32 focus:w-48 transition-all",placeholder:"Filter results...",value:et.filterTerm,onChange:ie=>Lt({filterTerm:ie.target.value,page:0})}),et.filterTerm&&f.jsx("button",{onClick:()=>Lt({filterTerm:""}),className:"text-monokai-pink text-xs hover:text-white font-bold",children:""})]}),zn>0&&et.viewMode==="table"&&f.jsxs("div",{className:"flex items-center gap-1 mr-2 bg-monokai-bg rounded px-1 border border-monokai-accent/30",children:[f.jsx("button",{onClick:()=>Lt({page:Math.max(0,et.page-1)}),disabled:et.page===0,className:"text-monokai-comment hover:text-white disabled:opacity-30 px-2 py-0.5",children:""}),f.jsxs("span",{className:"text-[10px] font-mono w-12 text-center text-monokai-fg",children:[et.page+1,"/",zn+1]}),f.jsx("button",{onClick:()=>Lt({page:Math.min(zn,et.page+1)}),disabled:et.page===zn,className:"text-monokai-comment hover:text-white disabled:opacity-30 px-2 py-0.5",children:""})]}),f.jsxs("div",{className:"flex border border-monokai-accent/30 rounded overflow-hidden",children:[f.jsx("button",{onClick:()=>kn("tsv"),className:"text-[10px] bg-[#2a2b24] hover:bg-monokai-accent px-2 py-1 border-r border-monokai-accent/30",title:"Copy TSV",children:""}),f.jsx("button",{onClick:()=>kn("md"),className:"text-[10px] bg-[#2a2b24] hover:bg-monokai-accent px-2 py-1 border-r border-monokai-accent/30",title:"Copy MD",children:""}),f.jsx("button",{onClick:()=>kn("html"),className:"text-[10px] bg-[#2a2b24] hover:bg-monokai-accent px-2 py-1",title:"Copy HTML",children:""})]}),f.jsxs("div",{className:"relative",children:[f.jsx("button",{onClick:()=>_t(!at),className:"text-[10px] bg-monokai-blue/10 text-monokai-blue hover:bg-monokai-blue hover:text-monokai-bg px-2 py-1 rounded font-bold transition-colors",children:"Export "}),at&&f.jsxs("div",{className:"absolute right-0 bottom-full mb-1 bg-monokai-sidebar border border-monokai-accent p-1 rounded shadow-xl z-30 min-w-[100px] flex flex-col gap-0.5",children:[f.jsx("button",{onClick:()=>Pt("csv"),className:"text-xs text-left px-2 py-1 hover:bg-monokai-accent rounded text-monokai-fg",children:"CSV"}),f.jsx("button",{onClick:()=>Pt("json"),className:"text-xs text-left px-2 py-1 hover:bg-monokai-accent rounded text-monokai-fg",children:"JSON"}),f.jsx("button",{onClick:()=>Pt("parquet"),className:"text-xs text-left px-2 py-1 hover:bg-monokai-accent rounded text-monokai-orange",children:"Parquet"}),f.jsx("button",{onClick:()=>Zt(),className:"text-xs text-left px-2 py-1 hover:bg-monokai-accent rounded text-monokai-green font-bold",children:"HTML Report"})]}),at&&f.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>_t(!1)})]})]})]}),f.jsxs("div",{className:"flex-1 bg-monokai-bg overflow-hidden relative",children:[(he=et.result)!=null&&he.error?f.jsxs("div",{className:"p-8 flex flex-col items-center justify-center h-full text-center",children:[f.jsxs("div",{className:"text-monokai-pink font-mono mb-6 bg-[#1e1f1c] p-6 rounded-lg border border-monokai-pink/50 max-w-2xl shadow-lg",children:[f.jsx("div",{className:"text-xs uppercase font-bold tracking-widest mb-2 opacity-50",children:"Error"}),et.result.error]}),f.jsx("button",{onClick:Gr,disabled:E,className:"px-6 py-2 bg-monokai-purple text-white font-bold rounded shadow-lg hover:bg-monokai-purple/80 flex items-center gap-2 transition-transform active:scale-95",children:E?" Analyzing...":" Fix with AI"})]}):et.loading?f.jsxs("div",{className:"p-4 text-monokai-comment text-center h-full flex items-center justify-center flex-col gap-4",children:[f.jsx("div",{className:"w-12 h-12 border-4 border-monokai-blue border-t-transparent rounded-full animate-spin"}),f.jsx("div",{className:"animate-pulse tracking-widest text-xs uppercase font-bold",children:"Executing Query..."})]}):et.result?et.viewMode==="explain"?f.jsx("div",{className:"p-4 overflow-auto h-full font-mono text-sm",children:f.jsx("pre",{className:"text-xs text-monokai-fg bg-[#1e1f1c] p-4 rounded border border-monokai-accent/50 whitespace-pre-wrap",children:et.result.rows.map(ie=>ie.explain_value||ie.explore_value||JSON.stringify(ie)).join(`
`)})}):et.viewMode==="table"?f.jsx("div",{className:"overflow-auto h-full w-full custom-scrollbar",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap border-collapse",children:[f.jsx("thead",{className:"bg-[#1e1f1c] sticky top-0 z-10 shadow-md",children:f.jsx("tr",{children:et.result.columns.map(ie=>f.jsx("th",{className:"p-2 font-mono text-xs text-monokai-blue border-b border-r border-monokai-accent/50 last:border-r-0 select-none hover:bg-monokai-accent/20 transition-colors",children:ie},ie))})}),f.jsxs("tbody",{className:"font-mono text-xs",children:[nr.map((ie,Le)=>f.jsx("tr",{className:"border-b border-monokai-accent/20 hover:bg-monokai-accent/30 transition-colors even:bg-white/5",children:et.result.columns.map(Me=>f.jsx("td",{className:"p-2 text-monokai-fg border-r border-monokai-accent/20 last:border-r-0 max-w-[300px] truncate",title:String(ie[Me]),children:ie[Me]===null?f.jsx("span",{className:"text-monokai-comment italic",children:"NULL"}):String(ie[Me])},Me))},Le)),nr.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:et.result.columns.length,className:"p-8 text-center text-monokai-comment",children:"No results match your filter."})})]})]})}):f.jsx("div",{className:"h-full flex flex-col p-4 bg-[#1e1f1c]",children:!et.charts||et.charts.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-monokai-comment opacity-50",children:[f.jsx(jh,{size:48,className:"mb-4"}),f.jsx("p",{children:"No visualizations yet."}),f.jsx("p",{className:"text-xs mt-2",children:'Click "New Visualization" above to create one.'})]}):f.jsx(d3e,{charts:et.charts,data:((De=et.result)==null?void 0:De.rows)||[],onEdit:ie=>{te(ie),$(!0)},onDelete:ie=>{const Le=et.charts.filter(Me=>Me.id!==ie);Lt({charts:Le})}})}):f.jsxs("div",{className:"p-4 text-monokai-comment/30 text-center h-full flex items-center justify-center flex-col gap-4 select-none",children:[f.jsx("div",{className:"text-6xl animate-bounce",children:""}),f.jsx("div",{className:"text-sm",children:"Cmd/Ctrl + Enter to run"}),f.jsxs("div",{className:"flex gap-2 text-xs",children:[f.jsx("span",{className:"bg-monokai-sidebar px-2 py-1 rounded border border-monokai-accent",children:"SELECT"}),f.jsx("span",{className:"bg-monokai-sidebar px-2 py-1 rounded border border-monokai-accent",children:"FROM"}),f.jsx("span",{className:"bg-monokai-sidebar px-2 py-1 rounded border border-monokai-accent",children:"WHERE"})]})]}),V&&et.result&&f.jsx(g3e,{columns:et.result.columns,data:et.result.rows,initialConfig:J?et.charts.find(ie=>ie.id===J):void 0,onCancel:()=>$(!1),onSave:ie=>{let Le;const Me=et.charts||[];J?Le=Me.map(bt=>bt.id===J?ie:bt):Le=[...Me,ie],Lt({charts:Le}),$(!1)}})]})]}),et.result&&!et.result.error&&f.jsxs("div",{className:"bg-[#1e1f1c] border-t border-monokai-accent px-4 py-1.5 flex justify-between items-center text-[10px] font-mono text-monokai-comment select-none",children:[f.jsxs("div",{className:"flex gap-6",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-monokai-green shadow-[0_0_5px_rgba(166,226,46,0.5)]"}),f.jsx("span",{className:"text-monokai-green font-bold",children:"Success"})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"",children:""}),f.jsxs("span",{className:"text-monokai-fg",children:[f.jsx("span",{className:"text-white font-bold",children:Cn.length})," rows",Cn.length!==Gn.length&&f.jsxs("span",{className:"opacity-50",children:[" (filtered from ",Gn.length,")"]})]})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"",children:""}),f.jsxs("span",{className:"text-monokai-fg",children:[f.jsx("span",{className:"text-white font-bold",children:et.result.executionTime.toFixed(2)})," ms"]})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"",children:""}),f.jsxs("span",{className:"text-monokai-fg",children:[et.result.columns.length," columns"]})]})]}),f.jsx("div",{className:"opacity-50 hover:opacity-100 transition-opacity",children:"DuckDB WASM"})]})]}),!r&&f.jsxs("div",{className:"w-64 bg-monokai-sidebar border-l border-monokai-accent flex flex-col shrink-0",children:[f.jsx("div",{className:"flex border-b border-monokai-accent bg-[#1e1f1c]",children:["schema","history","saved","cheatsheet"].map(ie=>f.jsx("button",{onClick:()=>R(ie),className:`flex-1 py-3 text-[10px] font-bold uppercase tracking-wider border-b-2 transition-colors ${y===ie?"border-monokai-pink text-white bg-monokai-bg":"border-transparent text-monokai-comment hover:text-white hover:bg-monokai-bg/50"}`,children:ie==="cheatsheet"?"Help":ie},ie))}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y==="schema"&&f.jsx(gNe,{tables:Object.keys(O),onInsert:lt}),y==="history"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"p-2 border-b border-monokai-accent sticky top-0 bg-monokai-sidebar z-10",children:f.jsx("input",{className:"w-full bg-monokai-bg border border-monokai-accent rounded px-2 py-1 text-xs text-white outline-none focus:border-monokai-comment",placeholder:"Search history...",value:Q,onChange:ie=>Y(ie.target.value)})}),f.jsx("div",{className:"p-2 flex justify-end",children:f.jsx("button",{onClick:ei,className:"text-[10px] text-monokai-pink hover:underline uppercase font-bold tracking-wider",children:"Clear All"})}),qr.map(ie=>f.jsxs("div",{className:"p-3 border-b border-monokai-accent/50 cursor-pointer hover:bg-monokai-accent group transition-colors",onClick:()=>lt(ie.sql),children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:`text-[9px] font-bold px-1 rounded ${ie.status==="success"?"bg-monokai-green/20 text-monokai-green":"bg-monokai-pink/20 text-monokai-pink"}`,children:ie.status==="success"?"OK":"ERR"}),f.jsxs("span",{className:"text-[10px] text-monokai-comment flex gap-2",children:[ie.executionTime&&f.jsxs("span",{children:[ie.executionTime.toFixed(0),"ms"]}),f.jsx("span",{children:new Date(ie.timestamp).toLocaleTimeString()})]})]}),f.jsx("div",{className:"text-xs font-mono text-monokai-fg line-clamp-2 opacity-80",children:ie.sql})]},ie.id))]}),y==="saved"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"p-3 text-xs text-monokai-comment border-b border-monokai-accent bg-monokai-bg/30 italic",children:"Click query to load code."}),B.map(ie=>f.jsxs("div",{className:"p-3 border-b border-monokai-accent/50 cursor-pointer hover:bg-monokai-accent group transition-colors",onClick:()=>Lt({code:ie.sql}),children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsxs("span",{className:"text-xs font-bold text-monokai-green flex items-center gap-2",children:[ie.name,ie.pinned&&f.jsx("span",{className:"text-[10px]",title:"Pinned to Dashboard",children:""})]}),f.jsx("button",{onClick:Le=>Wi(ie.id,Le),className:"text-monokai-comment hover:text-monokai-pink p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),f.jsx("div",{className:"text-xs font-mono text-monokai-fg line-clamp-1 opacity-60",children:ie.sql})]},ie.id))]}),y==="cheatsheet"&&f.jsx("div",{className:"p-0",children:T3e.map((ie,Le)=>f.jsxs("div",{className:"p-3 border-b border-monokai-accent/30 cursor-pointer hover:bg-monokai-accent group flex justify-between items-center transition-colors",onClick:()=>lt(ie.code),children:[f.jsx("span",{className:"text-xs font-bold text-monokai-fg group-hover:text-monokai-yellow",children:ie.label}),f.jsx("span",{className:"text-[9px] text-monokai-comment uppercase border border-monokai-comment/30 px-1 rounded tracking-wider",children:ie.cat})]},Le))})]})]})]})]})},y3e=({onTryExtension:t})=>{const[e,n]=H.useState([]),[r,i]=H.useState(null),[s,o]=H.useState(""),[a,l]=H.useState(null),c=[{name:"csv",description:"High-performance CSV reader/writer. Automatically detects dialect, types, and headers.",category:"Format",capabilities:["read_csv_auto","COPY ... TO ... (FORMAT CSV)"],example:`-- Read CSV file directly
SELECT * FROM read_csv_auto('https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv');`,docsUrl:"https://duckdb.org/docs/data/csv/overview"},{name:"excel",description:"Client-side Excel parsing support. Import .xlsx and .xls files directly via the Import Wizard.",category:"Format",capabilities:["xlsx","xls","Client-Side"],example:`-- This feature is integrated into the UI Import Wizard.
-- Use the 'Import Data' button on the sidebar to load Excel files.`,docsUrl:"https://sheetjs.com/"},{name:"json",description:"Advanced JSON manipulation. Read nested JSON, extract fields, and structure JSON schemas.",category:"Format",capabilities:["read_json_auto","json_extract","to_json"],example:`-- Read JSON file directly
SELECT * FROM read_json_auto('https://raw.githubusercontent.com/duckdb/duckdb-data/main/json/data.json');`,docsUrl:"https://duckdb.org/docs/extensions/json"},{name:"parquet",description:"Industry standard columnar storage. High compression and fast reads.",category:"Format",capabilities:["read_parquet","COPY TO ... PARQUET"],example:`-- Read remote Parquet file
SELECT * FROM read_parquet('https://raw.githubusercontent.com/duckdb/duckdb-data/main/parquet/data.parquet') LIMIT 5;`,docsUrl:"https://duckdb.org/docs/data/parquet"},{name:"sqlite",description:"Read and write SQLite database files directly. Attach SQLite databases as DuckDB catalogs.",category:"Connect",capabilities:["sqlite_scan","ATTACH ... (TYPE SQLITE)"],example:`-- Attach a SQLite DB (requires file upload first)
-- ATTACH 'my_db.sqlite' AS lite (TYPE SQLITE);
-- SELECT * FROM lite.some_table;`,docsUrl:"https://duckdb.org/docs/extensions/sqlite"},{name:"tpch",description:"TPC-H benchmark data generator. Instantly create massive datasets for performance testing.",category:"Core",capabilities:["dbgen"],example:`-- Generate TPC-H tables (scale factor 0.1)
CALL dbgen(sf=0.1);
SELECT * FROM customer LIMIT 5;`,docsUrl:"https://duckdb.org/docs/extensions/tpch"},{name:"fts",description:"Full Text Search engine. Adds BM25 scoring and stemming capabilities.",category:"Search",capabilities:["fts_index","match_bm25"],example:`-- Assuming 'articles' table exists
PRAGMA create_fts_index('articles', 'id', 'content');
SELECT *, match_bm25(id, 'search term') AS score 
FROM articles 
WHERE score IS NOT NULL 
ORDER BY score DESC;`,docsUrl:"https://duckdb.org/docs/extensions/full_text_search"},{name:"icu",description:"International Components for Unicode. Required for correct timezones and collations.",category:"Core",capabilities:["TIMESTAMPTZ","COLLATE"],example:"SELECT current_timestamp::TIMESTAMPTZ AT TIME ZONE 'Asia/Tokyo';",docsUrl:"https://duckdb.org/docs/extensions/icu"},{name:"spatial",description:"Geospatial analytics. Points, lines, polygons and geometric operations. (WASM Limited)",category:"Geo",capabilities:["st_point","st_area","st_distance"],example:`SELECT st_distance(
  st_point(0, 0),
  st_point(3, 4)
) as dist;`,docsUrl:"https://duckdb.org/docs/extensions/spatial"},{name:"httpfs",description:"Remote file system access. Read data directly from S3, HTTP, or HTTPS URLs.",category:"Connect",capabilities:["s3://","https://"],example:"SELECT * FROM read_csv_auto('https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv') LIMIT 5;",docsUrl:"https://duckdb.org/docs/extensions/httpfs"}],A=async()=>{try{const p=await At.getExtensions(),E=c.map(T=>{var b;const y=p.find(B=>B.extension_name===T.name||B.name===T.name),R=(b=T.capabilities)==null?void 0:b.includes("Client-Side"),I=T.name==="csv";return{name:T.name,description:T.description,category:T.category||"Other",capabilities:T.capabilities||[],example:T.example,docsUrl:T.docsUrl,installed:R||I?!0:!!y&&y.installed,loaded:R||I?!0:!!y&&y.loaded}});n(E)}catch(p){console.error("Failed to fetch extensions",p)}};H.useEffect(()=>{A()},[]);const u=async p=>{if(!(p==="excel"||p==="csv")){i(p);try{await At.loadExtension(p),await A()}catch{alert(`Failed to load ${p}. DuckDB WASM has specific limitations on dynamic loading.`)}finally{i(null)}}},h=e.reduce((p,E)=>(!E.name.includes(s)&&!E.description.includes(s)||(p[E.category]||(p[E.category]=[]),p[E.category].push(E)),p),{});return f.jsxs("div",{className:"p-8 h-full overflow-auto bg-monokai-bg",children:[f.jsxs("header",{className:"mb-8 flex justify-between items-end",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-bold text-monokai-yellow mb-2 flex items-center gap-3",children:[f.jsx("span",{children:""})," System Modules"]}),f.jsx("p",{className:"text-monokai-comment",children:"Extend the core kernel with specialized capabilities."})]}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-2.5 text-monokai-comment",children:""}),f.jsx("input",{className:"bg-monokai-sidebar border border-monokai-accent rounded-full pl-10 pr-4 py-2 text-white outline-none focus:border-monokai-blue w-64 transition-colors",placeholder:"Find module...",value:s,onChange:p=>o(p.target.value)})]})]}),Object.keys(h).length===0&&f.jsxs("div",{className:"text-center py-20 opacity-50",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsxs("div",{children:['No modules found matching "',s,'"']})]}),Object.keys(h).map(p=>{const E=h[p];return f.jsxs("div",{className:"mb-8 animate-[slideIn_0.3s_ease-out]",children:[f.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-monokai-comment mb-4 border-b border-monokai-accent pb-2",children:[p," Layer"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:E.map(T=>f.jsxs("div",{className:`bg-monokai-sidebar border rounded-lg p-5 flex flex-col justify-between transition-all duration-200 group relative overflow-hidden cursor-pointer ${T.loaded?"border-monokai-green/30 shadow-[0_0_15px_-5px_rgba(166,226,46,0.1)]":"border-monokai-accent hover:border-monokai-comment"}`,onClick:()=>l(a===T.name?null:T.name),children:[f.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-white/5 to-transparent -mr-8 -mt-8 rounded-full blur-xl transition-opacity ${T.loaded?"opacity-100 from-monokai-green/20":"opacity-0"}`}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("h4",{className:"text-xl font-mono font-bold text-monokai-fg flex items-center gap-2",children:[T.name,T.loaded&&f.jsx("span",{className:"text-[10px] text-monokai-bg bg-monokai-green px-1.5 rounded font-sans uppercase font-bold",children:"Active"})]}),T.docsUrl&&f.jsx("a",{href:T.docsUrl,target:"_blank",rel:"noreferrer",onClick:y=>y.stopPropagation(),className:"text-[10px] text-monokai-comment hover:text-monokai-blue bg-monokai-bg px-2 py-0.5 rounded border border-monokai-accent",children:"Docs "})]}),f.jsx("p",{className:"text-sm text-monokai-comment leading-relaxed mb-4 min-h-[40px]",children:T.description}),f.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:T.capabilities.map(y=>f.jsx("span",{className:"text-[10px] font-mono bg-monokai-bg border border-monokai-accent px-1.5 py-0.5 rounded text-monokai-blue opacity-80",children:y},y))})]}),a===T.name&&T.example&&f.jsxs("div",{className:"mb-4 bg-monokai-bg rounded p-3 border border-monokai-accent/50 animate-[fadeIn_0.2s]",children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-monokai-yellow uppercase",children:"Quick Start"}),f.jsx("button",{onClick:y=>{y.stopPropagation(),t(T.example)},className:"text-[10px] bg-monokai-green text-monokai-bg px-2 py-0.5 rounded font-bold hover:opacity-80",children:"Try Example"})]}),f.jsx("pre",{className:"text-[10px] font-mono overflow-x-auto text-monokai-comment",children:f.jsx("code",{className:"select-text",children:T.example})})]}),f.jsxs("div",{className:"mt-auto pt-4 border-t border-monokai-accent/30 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 text-xs text-monokai-comment",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${T.loaded?"bg-monokai-green animate-pulse":"bg-monokai-comment/50"}`}),T.loaded?"Module Loaded":"Not Loaded"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{className:"text-xs text-monokai-comment hover:text-white underline decoration-dashed",children:a===T.name?"Less info":"More info"}),!T.loaded&&f.jsx("button",{onClick:y=>{y.stopPropagation(),u(T.name)},disabled:r===T.name,className:"px-4 py-1.5 bg-monokai-accent hover:bg-monokai-blue hover:text-monokai-bg text-monokai-blue text-xs font-bold rounded uppercase tracking-wider transition-colors disabled:opacity-50",children:r===T.name?"Installing...":"Install"})]})]})]},T.name))})]},p)})]})};function KS(t){const{margin:e,containerPadding:n,containerWidth:r,cols:i}=t;return(r-e[0]*(i-1)-n[0]*2)/i}function xS(t,e,n){return Number.isFinite(t)?Math.round(e*t+Math.max(0,t-1)*n):t}function F0(t,e,n,r,i,s,o){const{margin:a,containerPadding:l,rowHeight:c}=t,A=KS(t);let u,h,p,E;if(o?(u=Math.round(o.width),h=Math.round(o.height)):(u=xS(r,A,a[0]),h=xS(i,c,a[1])),s?(p=Math.round(s.top),E=Math.round(s.left)):o?(p=Math.round(o.top),E=Math.round(o.left)):(p=Math.round((c+a[1])*n+l[1]),E=Math.round((A+a[0])*e+l[0])),!s&&!o){if(Number.isFinite(r)){const y=Math.round((A+a[0])*(e+r)+l[0])-E-u;y!==a[0]&&(u+=y-a[0])}if(Number.isFinite(i)){const y=Math.round((c+a[1])*(n+i)+l[1])-p-h;y!==a[1]&&(h+=y-a[1])}}return{top:p,left:E,width:u,height:h}}function C3e(t,e,n,r,i){const{margin:s,containerPadding:o,cols:a,rowHeight:l,maxRows:c}=t,A=KS(t);let u=Math.round((n-o[0])/(A+s[0])),h=Math.round((e-o[1])/(l+s[1]));return u=bO(u,0,a-r),h=bO(h,0,c-i),{x:u,y:h}}function xN(t,e,n){const{margin:r,containerPadding:i,rowHeight:s}=t,o=KS(t),a=Math.round((n-i[0])/(o+r[0])),l=Math.round((e-i[1])/(s+r[1]));return{x:a,y:l}}function x3e(t,e,n){const{margin:r,rowHeight:i}=t,s=KS(t),o=Math.max(1,Math.round((e+r[0])/(s+r[0]))),a=Math.max(1,Math.round((n+r[1])/(i+r[1])));return{w:o,h:a}}function bO(t,e,n){return Math.max(Math.min(t,n),e)}function AH(t,e){return!(t.i===e.i||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function Fm(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r!==void 0&&AH(r,e))return r}}function xee(t,e){return t.filter(n=>AH(n,e))}function R3e(t,e){return e==="horizontal"?Ree(t):e==="vertical"||e==="wrap"?VP(t):[...t]}function VP(t){return[...t].sort((e,n)=>e.y!==n.y?e.y-n.y:e.x-n.x)}function Ree(t){return[...t].sort((e,n)=>e.x!==n.x?e.x-n.x:e.y-n.y)}function cL(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];if(r!==void 0){const i=r.y+r.h;i>e&&(e=i)}}return e}function dm(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r!==void 0&&r.i===e)return r}}function AL(t){return t.filter(e=>e.static===!0)}function Jm(t){return{i:t.i,x:t.x,y:t.y,w:t.w,h:t.h,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:!!t.moved,static:!!t.static,isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,constraints:t.constraints,isBounded:t.isBounded}}function $f(t){const e=new Array(t.length);for(let n=0;n<t.length;n++){const r=t[n];r!==void 0&&(e[n]=Jm(r))}return e}function I3e(t,e){const n=new Array(t.length);for(let r=0;r<t.length;r++){const i=t[r];i!==void 0&&(e.i===i.i?n[r]=e:n[r]=i)}return n}function _3e(t,e,n){let r=dm(t,e);return r?(r=n(Jm(r)),[I3e(t,r),r]):[[...t],null]}function uH(t,e){const n=AL(t);for(let r=0;r<t.length;r++){const i=t[r];if(i!==void 0)if(i.x+i.w>e.cols&&(i.x=e.cols-i.w),i.x<0&&(i.x=0,i.w=e.cols),!i.static)n.push(i);else for(;Fm(n,i);)i.y++}return t}function Nm(t,e,n,r,i,s,o,a,l){if(e.static&&e.isDraggable!==!0)return[...t];if(e.y===r&&e.x===n)return[...t];const c=e.x,A=e.y;typeof n=="number"&&(e.x=n),typeof r=="number"&&(e.y=r),e.moved=!0;let u=R3e(t,o);(o==="vertical"&&typeof r=="number"?A>=r:o==="horizontal"&&typeof n=="number"?c>=n:!1)&&(u=u.reverse());const p=xee(u,e),E=p.length>0;if(E&&l)return $f(t);if(E&&s)return e.x=c,e.y=A,e.moved=!1,t;let T=[...t];for(let y=0;y<p.length;y++){const R=p[y];R!==void 0&&(R.moved||(R.static?T=P5(T,R,e,i,o):T=P5(T,e,R,i,o)))}return T}function P5(t,e,n,r,i,s){const o=i==="horizontal",a=i==="vertical",l=e.static;if(r){r=!1;const u={x:o?Math.max(e.x-n.w,0):n.x,y:a?Math.max(e.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},h=Fm(t,u),p=h!==void 0&&h.y+h.h>e.y,E=h!==void 0&&e.x+e.w>h.x;if(!h)return Nm(t,n,o?u.x:void 0,a?u.y:void 0,r,l,i);if(p&&a)return Nm(t,n,void 0,n.y+1,r,l,i);if(p&&i===null)return e.y=n.y,n.y=n.y+n.h,[...t];if(E&&o)return Nm(t,e,n.x,void 0,r,l,i)}const c=o?n.x+1:void 0,A=a?n.y+1:void 0;return c===void 0&&A===void 0?[...t]:Nm(t,n,c,A,r,l,i)}function vT(t,e,n){return Math.max(e,Math.min(n,t))}var N3e={name:"gridBounds",constrainPosition(t,e,n,{cols:r,maxRows:i}){return{x:vT(e,0,Math.max(0,r-t.w)),y:vT(n,0,Math.max(0,i-t.h))}},constrainSize(t,e,n,r,{cols:i,maxRows:s}){const o=r==="w"||r==="nw"||r==="sw"?t.x+t.w:i-t.x,a=r==="n"||r==="nw"||r==="ne"?t.y+t.h:s-t.y;return{w:vT(e,1,Math.max(1,o)),h:vT(n,1,Math.max(1,a))}}},b3e={name:"minMaxSize",constrainSize(t,e,n){return{w:vT(e,t.minW??1,t.maxW??1/0),h:vT(n,t.minH??1,t.maxH??1/0)}}},Iee=[N3e,b3e];function RN(t,e,n,r,i){let s={x:n,y:r};for(const o of t)o.constrainPosition&&(s=o.constrainPosition(e,s.x,s.y,i));if(e.constraints)for(const o of e.constraints)o.constrainPosition&&(s=o.constrainPosition(e,s.x,s.y,i));return s}function v3e(t,e,n,r,i,s){let o={w:n,h:r};for(const a of t)a.constrainSize&&(o=a.constrainSize(e,o.w,o.h,i,s));if(e.constraints)for(const a of e.constraints)a.constrainSize&&(o=a.constrainSize(e,o.w,o.h,i,s));return o}function _ee({top:t,left:e,width:n,height:r}){const i=`translate(${e}px,${t}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${n}px`,height:`${r}px`,position:"absolute"}}function O3e({top:t,left:e,width:n,height:r}){return{top:`${t}px`,left:`${e}px`,width:`${n}px`,height:`${r}px`,position:"absolute"}}function U5(t){return t*100+"%"}function w3e(t,e,n,r){return t+n>r?e:n}function Nee(t,e,n){return t<0?e:n}function L3e(t){return Math.max(0,t)}function vO(t){return Math.max(0,t)}var hH=(t,e,n)=>{const{left:r,height:i,width:s}=e,o=t.top-(i-t.height);return{left:r,width:s,height:Nee(o,t.height,i),top:vO(o)}},dH=(t,e,n)=>{const{top:r,left:i,height:s,width:o}=e;return{top:r,height:s,width:w3e(t.left,t.width,o,n),left:L3e(i)}},fH=(t,e,n)=>{const{top:r,height:i,width:s}=e,o=t.left+t.width-s;return o<0?{height:i,width:t.left+t.width,top:vO(r),left:0}:{height:i,width:s,top:vO(r),left:o}},pH=(t,e,n)=>{const{top:r,left:i,height:s,width:o}=e;return{width:o,left:i,height:Nee(r,t.height,s),top:vO(r)}},B3e=(t,e,n)=>hH(t,dH(t,e,n)),D3e=(t,e,n)=>hH(t,fH(t,e)),k3e=(t,e,n)=>pH(t,dH(t,e,n)),M3e=(t,e,n)=>pH(t,fH(t,e)),P3e={n:hH,ne:B3e,e:dH,se:k3e,s:pH,sw:M3e,w:fH,nw:D3e};function U3e(t,e,n,r){const i=P3e[t];return i?i(e,{...e,...n},r):n}var F3e={type:"transform",scale:1,calcStyle(t){return _ee(t)}},H3e=F3e,G3e={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},Q3e={enabled:!0,bounded:!1,threshold:3},V3e={enabled:!0,handles:["se"]},$3e={enabled:!1,defaultItem:{w:1,h:1}};function mH(t,e,n,r,i){const s=r==="x"?"w":"h";e[r]+=1;const o=t.findIndex(l=>l.i===e.i),a=i??AL(t).length>0;for(let l=o+1;l<t.length;l++){const c=t[l];if(c!==void 0&&!c.static){if(!a&&c.y>e.y+e.h)break;AH(e,c)&&mH(t,c,n+e[s],r,a)}}e[r]=n}function W3e(t,e,n,r){for(e.x=Math.max(e.x,0),e.y=Math.max(e.y,0),e.y=Math.min(r,e.y);e.y>0&&!Fm(t,e);)e.y--;let i;for(;(i=Fm(t,e))!==void 0;)mH(n,e,i.y+i.h,"y");return e.y=Math.max(e.y,0),e}function Y3e(t,e,n,r){for(e.x=Math.max(e.x,0),e.y=Math.max(e.y,0);e.x>0&&!Fm(t,e);)e.x--;let i;for(;(i=Fm(t,e))!==void 0;)if(mH(r,e,i.x+i.w,"x"),e.x+e.w>n)for(e.x=n-e.w,e.y++;e.x>0&&!Fm(t,e);)e.x--;return e.x=Math.max(e.x,0),e}var bee={type:"vertical",allowOverlap:!1,compact(t,e){const n=AL(t);let r=cL(n);const i=VP(t),s=new Array(t.length);for(let o=0;o<i.length;o++){const a=i[o];if(a===void 0)continue;let l=Jm(a);l.static||(l=W3e(n,l,i,r),r=Math.max(r,l.y+l.h),n.push(l));const c=t.indexOf(a);s[c]=l,l.moved=!1}return s}},vee={type:"horizontal",allowOverlap:!1,compact(t,e){const n=AL(t),r=Ree(t),i=new Array(t.length);for(let s=0;s<r.length;s++){const o=r[s];if(o===void 0)continue;let a=Jm(o);a.static||(a=Y3e(n,a,e,r),n.push(a));const l=t.indexOf(o);i[l]=a,a.moved=!1}return i}},Oee={type:null,allowOverlap:!1,compact(t,e){return $f(t)}},j3e={...bee,allowOverlap:!0,compact(t,e){return $f(t)}},K3e={...vee,allowOverlap:!0,compact(t,e){return $f(t)}},z3e={...Oee,allowOverlap:!0};function gH(t,e=!1,n=!1){let r;return e?t==="vertical"?r=j3e:t==="horizontal"?r=K3e:r=z3e:t==="vertical"?r=bee:t==="horizontal"?r=vee:r=Oee,n?{...r,preventCollision:n}:r}function wee(t){return Object.keys(t).sort((n,r)=>t[n]-t[r])}function F5(t,e){const n=wee(t);let r=n[0];if(r===void 0)throw new Error("No breakpoints defined");for(let i=1;i<n.length;i++){const s=n[i];if(s===void 0)continue;const o=t[s];e>o&&(r=s)}return r}function H5(t,e){const n=e[t];if(n===void 0)throw new Error(`ResponsiveReactGridLayout: \`cols\` entry for breakpoint ${String(t)} is missing!`);return n}function UD(t,e,n,r,i,s){const o=t[n];if(o)return $f(o);let a=t[r];const l=wee(e),c=l.slice(l.indexOf(n));for(let p=0;p<c.length;p++){const E=c[p];if(E===void 0)continue;const T=t[E];if(T){a=T;break}}const A=$f(a||[]),u=uH(A,{cols:i});return(typeof s=="object"&&s!==null?s:gH(s)).compact(u,i)}function IN(t,e){if(Array.isArray(t))return t;const n=t,r=n[e];if(r!==void 0)return r;const i=Object.keys(n);for(const s of i){const o=n[s];if(o!==void 0)return o}return[10,10]}function Lee(t){return function(n,r,i,s,o,a,l){return t(n,r,l)}}function uL(t){return function(n,r,i,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i,s);var o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i,s);return s.delete(n),s.delete(r),l}}function Bee(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function G5(t){return t.constructor===Object||t.constructor==null}function Q5(t){return typeof t.then=="function"}function hL(t,e){return t===e||t!==t&&e!==e}var q3e="[object Arguments]",X3e="[object Boolean]",J3e="[object Date]",Z3e="[object RegExp]",eVe="[object Map]",tVe="[object Number]",nVe="[object Object]",rVe="[object Set]",iVe="[object String]",V5=Object.prototype.toString;function dL(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,s=t.areRegExpsEqual,o=t.areSetsEqual,a=t.createIsNestedEqual,l=a(c);function c(A,u,h){if(A===u)return!0;if(!A||!u||typeof A!="object"||typeof u!="object")return A!==A&&u!==u;if(G5(A)&&G5(u))return i(A,u,l,h);var p=Array.isArray(A),E=Array.isArray(u);if(p||E)return p===E&&e(A,u,l,h);var T=V5.call(A);return T!==V5.call(u)?!1:T===J3e?n(A,u,l,h):T===Z3e?s(A,u,l,h):T===eVe?r(A,u,l,h):T===rVe?o(A,u,l,h):T===nVe||T===q3e?Q5(A)||Q5(u)?!1:i(A,u,l,h):T===X3e||T===tVe||T===iVe?hL(A.valueOf(),u.valueOf()):!1}return c}function Dee(t,e,n,r){var i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n(t[i],e[i],i,i,t,e,r))return!1;return!0}var sVe=uL(Dee);function kee(t,e){return hL(t.valueOf(),e.valueOf())}function Mee(t,e,n,r){var i=t.size===e.size;if(!i)return!1;if(!t.size)return!0;var s={},o=0;return t.forEach(function(a,l){if(i){var c=!1,A=0;e.forEach(function(u,h){!c&&!s[A]&&(c=n(l,h,o,A,t,e,r)&&n(a,u,l,h,t,e,r))&&(s[A]=!0),A++}),o++,i=c}}),i}var oVe=uL(Mee),aVe="_owner",lVe=Object.prototype.hasOwnProperty;function Pee(t,e,n,r){var i=Object.keys(t),s=i.length;if(Object.keys(e).length!==s)return!1;for(var o;s-- >0;){if(o=i[s],o===aVe){var a=!!t.$$typeof,l=!!e.$$typeof;if((a||l)&&a!==l)return!1}if(!lVe.call(e,o)||!n(t[o],e[o],o,o,t,e,r))return!1}return!0}var cVe=uL(Pee);function Uee(t,e){return t.source===e.source&&t.flags===e.flags}function Fee(t,e,n,r){var i=t.size===e.size;if(!i)return!1;if(!t.size)return!0;var s={};return t.forEach(function(o,a){if(i){var l=!1,c=0;e.forEach(function(A,u){!l&&!s[c]&&(l=n(o,A,a,u,t,e,r))&&(s[c]=!0),c++}),i=l}}),i}var AVe=uL(Fee),Hee=Object.freeze({areArraysEqual:Dee,areDatesEqual:kee,areMapsEqual:Mee,areObjectsEqual:Pee,areRegExpsEqual:Uee,areSetsEqual:Fee,createIsNestedEqual:Lee}),Gee=Object.freeze({areArraysEqual:sVe,areDatesEqual:kee,areMapsEqual:oVe,areObjectsEqual:cVe,areRegExpsEqual:Uee,areSetsEqual:AVe,createIsNestedEqual:Lee}),uVe=dL(Hee);function Dh(t,e){return uVe(t,e,void 0)}dL(Bee(Hee,{createIsNestedEqual:function(){return hL}}));dL(Gee);dL(Bee(Gee,{createIsNestedEqual:function(){return hL}}));var H0={exports:{}},FD={},HD={exports:{}},GD,$5;function hVe(){if($5)return GD;$5=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return GD=t,GD}var QD,W5;function dVe(){if(W5)return QD;W5=1;var t=hVe();function e(){}function n(){}return n.resetWarningCache=e,QD=function(){function r(o,a,l,c,A,u){if(u!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},QD}var Y5;function fL(){return Y5||(Y5=1,HD.exports=dVe()()),HD.exports}var _N={exports:{}},j5;function fVe(){if(j5)return _N.exports;j5=1;function t(n){var r,i,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(r=0;r<o;r++)n[r]&&(i=t(n[r]))&&(s&&(s+=" "),s+=i)}else for(i in n)n[i]&&(s&&(s+=" "),s+=i);return s}function e(){for(var n,r,i=0,s="",o=arguments.length;i<o;i++)(n=arguments[i])&&(r=t(n))&&(s&&(s+=" "),s+=r);return s}return _N.exports=e,_N.exports.clsx=e,_N.exports}var ls={},jd={},K5;function pL(){if(K5)return jd;K5=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.dontSetMe=i,jd.findInArray=t,jd.int=r,jd.isFunction=e,jd.isNum=n;function t(s,o){for(let a=0,l=s.length;a<l;a++)if(o.apply(o,[s[a],a,s]))return s[a]}function e(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function n(s){return typeof s=="number"&&!isNaN(s)}function r(s){return parseInt(s,10)}function i(s,o,a){if(s[o])return new Error(`Invalid prop ${o} passed to ${a} - do not set this, set it on the child.`)}return jd}var Kd={},z5;function pVe(){if(z5)return Kd;z5=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.browserPrefixToKey=n,Kd.browserPrefixToStyle=r,Kd.default=void 0,Kd.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){var a,l;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const o=(l=(a=window.document)==null?void 0:a.documentElement)==null?void 0:l.style;if(!o||s in o)return"";for(let c=0;c<t.length;c++)if(n(s,t[c])in o)return t[c];return""}function n(s,o){return o?`${o}${i(s)}`:s}function r(s,o){return o?`-${o.toLowerCase()}-${s}`:s}function i(s){let o="",a=!0;for(let l=0;l<s.length;l++)a?(o+=s[l].toUpperCase(),a=!1):s[l]==="-"?a=!0:o+=s[l];return o}return Kd.default=e(),Kd}var q5;function EH(){if(q5)return ls;q5=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.addClassName=w,ls.addEvent=o,ls.addUserSelectStyles=I,ls.createCSSTransform=p,ls.createSVGTransform=E,ls.getTouch=y,ls.getTouchIdentifier=R,ls.getTranslation=T,ls.innerHeight=A,ls.innerWidth=u,ls.matchesSelector=i,ls.matchesSelectorAndParentsTo=s,ls.offsetXYFromParent=h,ls.outerHeight=l,ls.outerWidth=c,ls.removeClassName=O,ls.removeEvent=a,ls.scheduleRemoveUserSelectStyles=b;var t=pL(),e=n(pVe());function n(L,U){if(typeof WeakMap=="function")var G=new WeakMap,Q=new WeakMap;return(n=function(Y,K){if(!K&&Y&&Y.__esModule)return Y;var j,V,$={__proto__:null,default:Y};if(Y===null||typeof Y!="object"&&typeof Y!="function")return $;if(j=K?Q:G){if(j.has(Y))return j.get(Y);j.set(Y,$)}for(const J in Y)J!=="default"&&{}.hasOwnProperty.call(Y,J)&&((V=(j=Object.defineProperty)&&Object.getOwnPropertyDescriptor(Y,J))&&(V.get||V.set)?j($,J,V):$[J]=Y[J]);return $})(L,U)}let r="";function i(L,U){return r||(r=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(G){return(0,t.isFunction)(L[G])})),(0,t.isFunction)(L[r])?L[r](U):!1}function s(L,U,G){let Q=L;do{if(i(Q,U))return!0;if(Q===G)return!1;Q=Q.parentNode}while(Q);return!1}function o(L,U,G,Q){if(!L)return;const Y={capture:!0,...Q};L.addEventListener?L.addEventListener(U,G,Y):L.attachEvent?L.attachEvent("on"+U,G):L["on"+U]=G}function a(L,U,G,Q){if(!L)return;const Y={capture:!0,...Q};L.removeEventListener?L.removeEventListener(U,G,Y):L.detachEvent?L.detachEvent("on"+U,G):L["on"+U]=null}function l(L){let U=L.clientHeight;const G=L.ownerDocument.defaultView.getComputedStyle(L);return U+=(0,t.int)(G.borderTopWidth),U+=(0,t.int)(G.borderBottomWidth),U}function c(L){let U=L.clientWidth;const G=L.ownerDocument.defaultView.getComputedStyle(L);return U+=(0,t.int)(G.borderLeftWidth),U+=(0,t.int)(G.borderRightWidth),U}function A(L){let U=L.clientHeight;const G=L.ownerDocument.defaultView.getComputedStyle(L);return U-=(0,t.int)(G.paddingTop),U-=(0,t.int)(G.paddingBottom),U}function u(L){let U=L.clientWidth;const G=L.ownerDocument.defaultView.getComputedStyle(L);return U-=(0,t.int)(G.paddingLeft),U-=(0,t.int)(G.paddingRight),U}function h(L,U,G){const Y=U===U.ownerDocument.body?{left:0,top:0}:U.getBoundingClientRect(),K=(L.clientX+U.scrollLeft-Y.left)/G,j=(L.clientY+U.scrollTop-Y.top)/G;return{x:K,y:j}}function p(L,U){const G=T(L,U,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:G}}function E(L,U){return T(L,U,"")}function T(L,U,G){let{x:Q,y:Y}=L,K=`translate(${Q}${G},${Y}${G})`;if(U){const j=`${typeof U.x=="string"?U.x:U.x+G}`,V=`${typeof U.y=="string"?U.y:U.y+G}`;K=`translate(${j}, ${V})`+K}return K}function y(L,U){return L.targetTouches&&(0,t.findInArray)(L.targetTouches,G=>U===G.identifier)||L.changedTouches&&(0,t.findInArray)(L.changedTouches,G=>U===G.identifier)}function R(L){if(L.targetTouches&&L.targetTouches[0])return L.targetTouches[0].identifier;if(L.changedTouches&&L.changedTouches[0])return L.changedTouches[0].identifier}function I(L){if(!L)return;let U=L.getElementById("react-draggable-style-el");U||(U=L.createElement("style"),U.type="text/css",U.id="react-draggable-style-el",U.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,U.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,L.getElementsByTagName("head")[0].appendChild(U)),L.body&&w(L.body,"react-draggable-transparent-selection")}function b(L){window.requestAnimationFrame?window.requestAnimationFrame(()=>{B(L)}):B(L)}function B(L){if(L)try{if(L.body&&O(L.body,"react-draggable-transparent-selection"),L.selection)L.selection.empty();else{const U=(L.defaultView||window).getSelection();U&&U.type!=="Caret"&&U.removeAllRanges()}}catch{}}function w(L,U){L.classList?L.classList.add(U):L.className.match(new RegExp(`(?:^|\\s)${U}(?!\\S)`))||(L.className+=` ${U}`)}function O(L,U){L.classList?L.classList.remove(U):L.className=L.className.replace(new RegExp(`(?:^|\\s)${U}(?!\\S)`,"g"),"")}return ls}var zA={},X5;function Qee(){if(X5)return zA;X5=1,Object.defineProperty(zA,"__esModule",{value:!0}),zA.canDragX=i,zA.canDragY=s,zA.createCoreData=a,zA.createDraggableData=l,zA.getBoundPosition=n,zA.getControlPosition=o,zA.snapToGrid=r;var t=pL(),e=EH();function n(u,h,p){if(!u.props.bounds)return[h,p];let{bounds:E}=u.props;E=typeof E=="string"?E:c(E);const T=A(u);if(typeof E=="string"){const{ownerDocument:y}=T,R=y.defaultView;let I;if(E==="parent"?I=T.parentNode:I=T.getRootNode().querySelector(E),!(I instanceof R.HTMLElement))throw new Error('Bounds selector "'+E+'" could not find an element.');const b=I,B=R.getComputedStyle(T),w=R.getComputedStyle(b);E={left:-T.offsetLeft+(0,t.int)(w.paddingLeft)+(0,t.int)(B.marginLeft),top:-T.offsetTop+(0,t.int)(w.paddingTop)+(0,t.int)(B.marginTop),right:(0,e.innerWidth)(b)-(0,e.outerWidth)(T)-T.offsetLeft+(0,t.int)(w.paddingRight)-(0,t.int)(B.marginRight),bottom:(0,e.innerHeight)(b)-(0,e.outerHeight)(T)-T.offsetTop+(0,t.int)(w.paddingBottom)-(0,t.int)(B.marginBottom)}}return(0,t.isNum)(E.right)&&(h=Math.min(h,E.right)),(0,t.isNum)(E.bottom)&&(p=Math.min(p,E.bottom)),(0,t.isNum)(E.left)&&(h=Math.max(h,E.left)),(0,t.isNum)(E.top)&&(p=Math.max(p,E.top)),[h,p]}function r(u,h,p){const E=Math.round(h/u[0])*u[0],T=Math.round(p/u[1])*u[1];return[E,T]}function i(u){return u.props.axis==="both"||u.props.axis==="x"}function s(u){return u.props.axis==="both"||u.props.axis==="y"}function o(u,h,p){const E=typeof h=="number"?(0,e.getTouch)(u,h):null;if(typeof h=="number"&&!E)return null;const T=A(p),y=p.props.offsetParent||T.offsetParent||T.ownerDocument.body;return(0,e.offsetXYFromParent)(E||u,y,p.props.scale)}function a(u,h,p){const E=!(0,t.isNum)(u.lastX),T=A(u);return E?{node:T,deltaX:0,deltaY:0,lastX:h,lastY:p,x:h,y:p}:{node:T,deltaX:h-u.lastX,deltaY:p-u.lastY,lastX:u.lastX,lastY:u.lastY,x:h,y:p}}function l(u,h){const p=u.props.scale;return{node:h.node,x:u.state.x+h.deltaX/p,y:u.state.y+h.deltaY/p,deltaX:h.deltaX/p,deltaY:h.deltaY/p,lastX:u.state.x,lastY:u.state.y}}function c(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}}function A(u){const h=u.findDOMNode();if(!h)throw new Error("<DraggableCore>: Unmounted during event!");return h}return zA}var G0={},NN={},J5;function Vee(){if(J5)return NN;J5=1,Object.defineProperty(NN,"__esModule",{value:!0}),NN.default=t;function t(){}return NN}var Z5;function mVe(){if(Z5)return G0;Z5=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.default=void 0;var t=l(qf()),e=a(fL()),n=a(iF()),r=EH(),i=Qee(),s=pL(),o=a(Vee());function a(T){return T&&T.__esModule?T:{default:T}}function l(T,y){if(typeof WeakMap=="function")var R=new WeakMap,I=new WeakMap;return(l=function(b,B){if(!B&&b&&b.__esModule)return b;var w,O,L={__proto__:null,default:b};if(b===null||typeof b!="object"&&typeof b!="function")return L;if(w=B?I:R){if(w.has(b))return w.get(b);w.set(b,L)}for(const U in b)U!=="default"&&{}.hasOwnProperty.call(b,U)&&((O=(w=Object.defineProperty)&&Object.getOwnPropertyDescriptor(b,U))&&(O.get||O.set)?w(L,U,O):L[U]=b[U]);return L})(T,y)}function c(T,y,R){return(y=A(y))in T?Object.defineProperty(T,y,{value:R,enumerable:!0,configurable:!0,writable:!0}):T[y]=R,T}function A(T){var y=u(T,"string");return typeof y=="symbol"?y:y+""}function u(T,y){if(typeof T!="object"||!T)return T;var R=T[Symbol.toPrimitive];if(R!==void 0){var I=R.call(T,y);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(T)}const h={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let p=h.mouse,E=class extends t.Component{constructor(){super(...arguments),c(this,"dragging",!1),c(this,"lastX",NaN),c(this,"lastY",NaN),c(this,"touchIdentifier",null),c(this,"mounted",!1),c(this,"handleDragStart",y=>{if(this.props.onMouseDown(y),!this.props.allowAnyClick&&typeof y.button=="number"&&y.button!==0)return!1;const R=this.findDOMNode();if(!R||!R.ownerDocument||!R.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:I}=R;if(this.props.disabled||!(y.target instanceof I.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(y.target,this.props.handle,R)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(y.target,this.props.cancel,R))return;y.type==="touchstart"&&!this.props.allowMobileScroll&&y.preventDefault();const b=(0,r.getTouchIdentifier)(y);this.touchIdentifier=b;const B=(0,i.getControlPosition)(y,b,this);if(B==null)return;const{x:w,y:O}=B,L=(0,i.createCoreData)(this,w,O);(0,o.default)("DraggableCore: handleDragStart: %j",L),(0,o.default)("calling",this.props.onStart),!(this.props.onStart(y,L)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(I),this.dragging=!0,this.lastX=w,this.lastY=O,(0,r.addEvent)(I,p.move,this.handleDrag),(0,r.addEvent)(I,p.stop,this.handleDragStop))}),c(this,"handleDrag",y=>{const R=(0,i.getControlPosition)(y,this.touchIdentifier,this);if(R==null)return;let{x:I,y:b}=R;if(Array.isArray(this.props.grid)){let O=I-this.lastX,L=b-this.lastY;if([O,L]=(0,i.snapToGrid)(this.props.grid,O,L),!O&&!L)return;I=this.lastX+O,b=this.lastY+L}const B=(0,i.createCoreData)(this,I,b);if((0,o.default)("DraggableCore: handleDrag: %j",B),this.props.onDrag(y,B)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const L=document.createEvent("MouseEvents");L.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(L)}return}this.lastX=I,this.lastY=b}),c(this,"handleDragStop",y=>{if(!this.dragging)return;const R=(0,i.getControlPosition)(y,this.touchIdentifier,this);if(R==null)return;let{x:I,y:b}=R;if(Array.isArray(this.props.grid)){let L=I-this.lastX||0,U=b-this.lastY||0;[L,U]=(0,i.snapToGrid)(this.props.grid,L,U),I=this.lastX+L,b=this.lastY+U}const B=(0,i.createCoreData)(this,I,b);if(this.props.onStop(y,B)===!1||this.mounted===!1)return!1;const O=this.findDOMNode();O&&this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(O.ownerDocument),(0,o.default)("DraggableCore: handleDragStop: %j",B),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,O&&((0,o.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(O.ownerDocument,p.move,this.handleDrag),(0,r.removeEvent)(O.ownerDocument,p.stop,this.handleDragStop))}),c(this,"onMouseDown",y=>(p=h.mouse,this.handleDragStart(y))),c(this,"onMouseUp",y=>(p=h.mouse,this.handleDragStop(y))),c(this,"onTouchStart",y=>(p=h.touch,this.handleDragStart(y))),c(this,"onTouchEnd",y=>(p=h.touch,this.handleDragStop(y)))}componentDidMount(){this.mounted=!0;const y=this.findDOMNode();y&&(0,r.addEvent)(y,h.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const y=this.findDOMNode();if(y){const{ownerDocument:R}=y;(0,r.removeEvent)(R,h.mouse.move,this.handleDrag),(0,r.removeEvent)(R,h.touch.move,this.handleDrag),(0,r.removeEvent)(R,h.mouse.stop,this.handleDragStop),(0,r.removeEvent)(R,h.touch.stop,this.handleDragStop),(0,r.removeEvent)(y,h.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(R)}}findDOMNode(){var y,R,I;return(y=this.props)!=null&&y.nodeRef?(I=(R=this.props)==null?void 0:R.nodeRef)==null?void 0:I.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return G0.default=E,c(E,"displayName","DraggableCore"),c(E,"propTypes",{allowAnyClick:e.default.bool,allowMobileScroll:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(T,y){if(T[y]&&T[y].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),c(E,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),G0}var ej;function gVe(){return ej||(ej=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=u(qf()),n=A(fL()),r=A(iF()),i=fVe(),s=EH(),o=Qee(),a=pL(),l=A(mVe()),c=A(Vee());function A(R){return R&&R.__esModule?R:{default:R}}function u(R,I){if(typeof WeakMap=="function")var b=new WeakMap,B=new WeakMap;return(u=function(w,O){if(!O&&w&&w.__esModule)return w;var L,U,G={__proto__:null,default:w};if(w===null||typeof w!="object"&&typeof w!="function")return G;if(L=O?B:b){if(L.has(w))return L.get(w);L.set(w,G)}for(const Q in w)Q!=="default"&&{}.hasOwnProperty.call(w,Q)&&((U=(L=Object.defineProperty)&&Object.getOwnPropertyDescriptor(w,Q))&&(U.get||U.set)?L(G,Q,U):G[Q]=w[Q]);return G})(R,I)}function h(){return h=Object.assign?Object.assign.bind():function(R){for(var I=1;I<arguments.length;I++){var b=arguments[I];for(var B in b)({}).hasOwnProperty.call(b,B)&&(R[B]=b[B])}return R},h.apply(null,arguments)}function p(R,I,b){return(I=E(I))in R?Object.defineProperty(R,I,{value:b,enumerable:!0,configurable:!0,writable:!0}):R[I]=b,R}function E(R){var I=T(R,"string");return typeof I=="symbol"?I:I+""}function T(R,I){if(typeof R!="object"||!R)return R;var b=R[Symbol.toPrimitive];if(b!==void 0){var B=b.call(R,I);if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(R)}class y extends e.Component{static getDerivedStateFromProps(I,b){let{position:B}=I,{prevPropsPosition:w}=b;return B&&(!w||B.x!==w.x||B.y!==w.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:B,prevPropsPosition:w}),{x:B.x,y:B.y,prevPropsPosition:{...B}}):null}constructor(I){super(I),p(this,"onDragStart",(b,B)=>{if((0,c.default)("Draggable: onDragStart: %j",B),this.props.onStart(b,(0,o.createDraggableData)(this,B))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(b,B)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",B);const w=(0,o.createDraggableData)(this,B),O={x:w.x,y:w.y,slackX:0,slackY:0};if(this.props.bounds){const{x:U,y:G}=O;O.x+=this.state.slackX,O.y+=this.state.slackY;const[Q,Y]=(0,o.getBoundPosition)(this,O.x,O.y);O.x=Q,O.y=Y,O.slackX=this.state.slackX+(U-O.x),O.slackY=this.state.slackY+(G-O.y),w.x=O.x,w.y=O.y,w.deltaX=O.x-this.state.x,w.deltaY=O.y-this.state.y}if(this.props.onDrag(b,w)===!1)return!1;this.setState(O)}),p(this,"onDragStop",(b,B)=>{if(!this.state.dragging||this.props.onStop(b,(0,o.createDraggableData)(this,B))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",B);const O={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:U,y:G}=this.props.position;O.x=U,O.y=G}this.setState(O)}),this.state={dragging:!1,dragged:!1,x:I.position?I.position.x:I.defaultPosition.x,y:I.position?I.position.y:I.defaultPosition.y,prevPropsPosition:{...I.position},slackX:0,slackY:0,isElementSVG:!1},I.position&&!(I.onDrag||I.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var I,b;return((b=(I=this.props)==null?void 0:I.nodeRef)==null?void 0:b.current)??r.default.findDOMNode(this)}render(){const{axis:I,bounds:b,children:B,defaultPosition:w,defaultClassName:O,defaultClassNameDragging:L,defaultClassNameDragged:U,position:G,positionOffset:Q,scale:Y,...K}=this.props;let j={},V=null;const J=!!!G||this.state.dragging,te=G||w,X={x:(0,o.canDragX)(this)&&J?this.state.x:te.x,y:(0,o.canDragY)(this)&&J?this.state.y:te.y};this.state.isElementSVG?V=(0,s.createSVGTransform)(X,Q):j=(0,s.createCSSTransform)(X,Q);const oe=(0,i.clsx)(B.props.className||"",O,{[L]:this.state.dragging,[U]:this.state.dragged});return e.createElement(l.default,h({},K,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(B),{className:oe,style:{...B.props.style,...j},transform:V}))}}t.default=y,p(y,"displayName","Draggable"),p(y,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(y,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(FD)),FD}var tj;function TH(){if(tj)return H0.exports;tj=1;const{default:t,DraggableCore:e}=gVe();return H0.exports=t,H0.exports.default=t,H0.exports.DraggableCore=e,H0.exports}var EVe=TH(),Q0={exports:{}},V0={},bN={},nj;function TVe(){if(nj)return bN;nj=1,bN.__esModule=!0,bN.cloneElement=a;var t=e(qf());function e(l){return l&&l.__esModule?l:{default:l}}function n(l,c){var A=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);c&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(l,h).enumerable})),A.push.apply(A,u)}return A}function r(l){for(var c=1;c<arguments.length;c++){var A=arguments[c]!=null?arguments[c]:{};c%2?n(Object(A),!0).forEach(function(u){i(l,u,A[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(A)):n(Object(A)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(A,u))})}return l}function i(l,c,A){return(c=s(c))in l?Object.defineProperty(l,c,{value:A,enumerable:!0,configurable:!0,writable:!0}):l[c]=A,l}function s(l){var c=o(l,"string");return typeof c=="symbol"?c:c+""}function o(l,c){if(typeof l!="object"||!l)return l;var A=l[Symbol.toPrimitive];if(A!==void 0){var u=A.call(l,c);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}function a(l,c){return c.style&&l.props.style&&(c.style=r(r({},l.props.style),c.style)),c.className&&l.props.className&&(c.className=`${l.props.className} ${c.className}`),t.default.cloneElement(l,c)}return bN}var $0={},rj;function $ee(){if(rj)return $0;rj=1,$0.__esModule=!0,$0.resizableProps=void 0;var t=e(fL());TH();function e(n){return n&&n.__esModule?n:{default:n}}return $0.resizableProps={axis:t.default.oneOf(["both","x","y","none"]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:typeof Element<"u"?t.default.instanceOf(Element):t.default.any,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const[s]=r;return s.axis==="both"||s.axis==="y"?t.default.number.isRequired(...r):t.default.number(...r)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:t.default.number,width:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const[s]=r;return s.axis==="both"||s.axis==="x"?t.default.number.isRequired(...r):t.default.number(...r)}},$0}var ij;function Wee(){if(ij)return V0;ij=1,V0.__esModule=!0,V0.default=void 0;var t=s(qf()),e=TH(),n=TVe(),r=$ee();const i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function s(T,y){if(typeof WeakMap=="function")var R=new WeakMap,I=new WeakMap;return(s=function(b,B){if(!B&&b&&b.__esModule)return b;var w,O,L={__proto__:null,default:b};if(b===null||typeof b!="object"&&typeof b!="function")return L;if(w=B?I:R){if(w.has(b))return w.get(b);w.set(b,L)}for(const U in b)U!=="default"&&{}.hasOwnProperty.call(b,U)&&((O=(w=Object.defineProperty)&&Object.getOwnPropertyDescriptor(b,U))&&(O.get||O.set)?w(L,U,O):L[U]=b[U]);return L})(T,y)}function o(){return o=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var R=arguments[y];for(var I in R)({}).hasOwnProperty.call(R,I)&&(T[I]=R[I])}return T},o.apply(null,arguments)}function a(T,y){if(T==null)return{};var R,I,b=l(T,y);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(T);for(I=0;I<B.length;I++)R=B[I],y.indexOf(R)===-1&&{}.propertyIsEnumerable.call(T,R)&&(b[R]=T[R])}return b}function l(T,y){if(T==null)return{};var R={};for(var I in T)if({}.hasOwnProperty.call(T,I)){if(y.indexOf(I)!==-1)continue;R[I]=T[I]}return R}function c(T,y){var R=Object.keys(T);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(T);y&&(I=I.filter(function(b){return Object.getOwnPropertyDescriptor(T,b).enumerable})),R.push.apply(R,I)}return R}function A(T){for(var y=1;y<arguments.length;y++){var R=arguments[y]!=null?arguments[y]:{};y%2?c(Object(R),!0).forEach(function(I){u(T,I,R[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(R)):c(Object(R)).forEach(function(I){Object.defineProperty(T,I,Object.getOwnPropertyDescriptor(R,I))})}return T}function u(T,y,R){return(y=h(y))in T?Object.defineProperty(T,y,{value:R,enumerable:!0,configurable:!0,writable:!0}):T[y]=R,T}function h(T){var y=p(T,"string");return typeof y=="symbol"?y:y+""}function p(T,y){if(typeof T!="object"||!T)return T;var R=T[Symbol.toPrimitive];if(R!==void 0){var I=R.call(T,y);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(T)}let E=class extends t.Component{constructor(){super(...arguments),this.handleRefs={},this.lastHandleRect=null,this.slack=null,this.lastSize=null}componentWillUnmount(){this.resetData()}resetData(){this.lastHandleRect=this.slack=this.lastSize=null}runConstraints(y,R){const{minConstraints:I,maxConstraints:b,lockAspectRatio:B}=this.props;if(!I&&!b&&!B)return[y,R];if(B){const G=this.props.width/this.props.height,Q=y-this.props.width,Y=R-this.props.height;Math.abs(Q)>Math.abs(Y*G)?R=y/G:y=R*G}const[w,O]=[y,R];let[L,U]=this.slack||[0,0];return y+=L,R+=U,I&&(y=Math.max(I[0],y),R=Math.max(I[1],R)),b&&(y=Math.min(b[0],y),R=Math.min(b[1],R)),this.slack=[L+(w-y),U+(O-R)],[y,R]}resizeHandler(y,R){return(I,b)=>{var te;let{node:B,deltaX:w,deltaY:O}=b;y==="onResizeStart"&&this.resetData();const L=(this.props.axis==="both"||this.props.axis==="x")&&R!=="n"&&R!=="s",U=(this.props.axis==="both"||this.props.axis==="y")&&R!=="e"&&R!=="w";if(!L&&!U)return;const G=R[0],Q=R[R.length-1],Y=B.getBoundingClientRect();if(this.lastHandleRect!=null){if(Q==="w"){const X=Y.left-this.lastHandleRect.left;w+=X}if(G==="n"){const X=Y.top-this.lastHandleRect.top;O+=X}}this.lastHandleRect=Y,Q==="w"&&(w=-w),G==="n"&&(O=-O);let K=this.props.width+(L?w/this.props.transformScale:0),j=this.props.height+(U?O/this.props.transformScale:0);[K,j]=this.runConstraints(K,j),y==="onResizeStop"&&this.lastSize&&({width:K,height:j}=this.lastSize);const V=K!==this.props.width||j!==this.props.height;y!=="onResizeStop"&&(this.lastSize={width:K,height:j});const $=typeof this.props[y]=="function"?this.props[y]:null;$&&!(y==="onResize"&&!V)&&((te=I.persist)==null||te.call(I),$(I,{node:B,size:{width:K,height:j},handle:R})),y==="onResizeStop"&&this.resetData()}}renderResizeHandle(y,R){const{handle:I}=this.props;if(!I)return t.createElement("span",{className:`react-resizable-handle react-resizable-handle-${y}`,ref:R});if(typeof I=="function")return I(y,R);const b=typeof I.type=="string",B=A({ref:R},b?{}:{handleAxis:y});return t.cloneElement(I,B)}render(){const y=this.props,{children:R,className:I,draggableOpts:b,width:B,height:w,handle:O,handleSize:L,lockAspectRatio:U,axis:G,minConstraints:Q,maxConstraints:Y,onResize:K,onResizeStop:j,onResizeStart:V,resizeHandles:$,transformScale:J}=y,te=a(y,i);return(0,n.cloneElement)(R,A(A({},te),{},{className:`${I?`${I} `:""}react-resizable`,children:[...t.Children.toArray(R.props.children),...$.map(X=>{const oe=this.handleRefs[X]??(this.handleRefs[X]=t.createRef());return t.createElement(e.DraggableCore,o({},b,{nodeRef:oe,key:`resizableHandle-${X}`,onStop:this.resizeHandler("onResizeStop",X),onStart:this.resizeHandler("onResizeStart",X),onDrag:this.resizeHandler("onResize",X)}),this.renderResizeHandle(X,oe))})]}))}};return V0.default=E,E.propTypes=r.resizableProps,E.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},V0}var W0={},sj;function SVe(){if(sj)return W0;sj=1,W0.__esModule=!0,W0.default=void 0;var t=o(qf()),e=s(fL()),n=s(Wee()),r=$ee();const i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function s(y){return y&&y.__esModule?y:{default:y}}function o(y,R){if(typeof WeakMap=="function")var I=new WeakMap,b=new WeakMap;return(o=function(B,w){if(!w&&B&&B.__esModule)return B;var O,L,U={__proto__:null,default:B};if(B===null||typeof B!="object"&&typeof B!="function")return U;if(O=w?b:I){if(O.has(B))return O.get(B);O.set(B,U)}for(const G in B)G!=="default"&&{}.hasOwnProperty.call(B,G)&&((L=(O=Object.defineProperty)&&Object.getOwnPropertyDescriptor(B,G))&&(L.get||L.set)?O(U,G,L):U[G]=B[G]);return U})(y,R)}function a(){return a=Object.assign?Object.assign.bind():function(y){for(var R=1;R<arguments.length;R++){var I=arguments[R];for(var b in I)({}).hasOwnProperty.call(I,b)&&(y[b]=I[b])}return y},a.apply(null,arguments)}function l(y,R){var I=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);R&&(b=b.filter(function(B){return Object.getOwnPropertyDescriptor(y,B).enumerable})),I.push.apply(I,b)}return I}function c(y){for(var R=1;R<arguments.length;R++){var I=arguments[R]!=null?arguments[R]:{};R%2?l(Object(I),!0).forEach(function(b){A(y,b,I[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(I)):l(Object(I)).forEach(function(b){Object.defineProperty(y,b,Object.getOwnPropertyDescriptor(I,b))})}return y}function A(y,R,I){return(R=u(R))in y?Object.defineProperty(y,R,{value:I,enumerable:!0,configurable:!0,writable:!0}):y[R]=I,y}function u(y){var R=h(y,"string");return typeof R=="symbol"?R:R+""}function h(y,R){if(typeof y!="object"||!y)return y;var I=y[Symbol.toPrimitive];if(I!==void 0){var b=I.call(y,R);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(y)}function p(y,R){if(y==null)return{};var I,b,B=E(y,R);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);for(b=0;b<w.length;b++)I=w[b],R.indexOf(I)===-1&&{}.propertyIsEnumerable.call(y,I)&&(B[I]=y[I])}return B}function E(y,R){if(y==null)return{};var I={};for(var b in y)if({}.hasOwnProperty.call(y,b)){if(R.indexOf(b)!==-1)continue;I[b]=y[b]}return I}let T=class extends t.Component{constructor(){super(...arguments),this.state={width:this.props.width,height:this.props.height,propsWidth:this.props.width,propsHeight:this.props.height},this.onResize=(R,I)=>{var B;const{size:b}=I;this.props.onResize?((B=R.persist)==null||B.call(R),this.setState(b,()=>this.props.onResize&&this.props.onResize(R,I))):this.setState(b)}}static getDerivedStateFromProps(R,I){return I.propsWidth!==R.width||I.propsHeight!==R.height?{width:R.width,height:R.height,propsWidth:R.width,propsHeight:R.height}:null}render(){const R=this.props,{handle:I,handleSize:b,onResize:B,onResizeStart:w,onResizeStop:O,draggableOpts:L,minConstraints:U,maxConstraints:G,lockAspectRatio:Q,axis:Y,width:K,height:j,resizeHandles:V,style:$,transformScale:J}=R,te=p(R,i);return t.createElement(n.default,{axis:Y,draggableOpts:L,handle:I,handleSize:b,height:this.state.height,lockAspectRatio:Q,maxConstraints:G,minConstraints:U,onResizeStart:w,onResize:this.onResize,onResizeStop:O,resizeHandles:V,transformScale:J,width:this.state.width},t.createElement("div",a({},te,{style:c(c({},$),{},{width:this.state.width+"px",height:this.state.height+"px"})})))}};return W0.default=T,T.propTypes=c(c({},r.resizableProps),{},{children:e.default.element}),W0}var oj;function yVe(){return oj||(oj=1,Q0.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Q0.exports.Resizable=Wee().default,Q0.exports.ResizableBox=SVe().default),Q0.exports}var CVe=yVe();function Yee(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Yee(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jee(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Yee(t))&&(r&&(r+=" "),r+=e);return r}function aj(t){const{children:e,cols:n,containerWidth:r,margin:i,containerPadding:s,rowHeight:o,maxRows:a,isDraggable:l,isResizable:c,isBounded:A,static:u,useCSSTransforms:h=!0,usePercentages:p=!1,transformScale:E=1,positionStrategy:T,dragThreshold:y=0,droppingPosition:R,className:I="",style:b,handle:B="",cancel:w="",x:O,y:L,w:U,h:G,minW:Q=1,maxW:Y=1/0,minH:K=1,maxH:j=1/0,i:V,resizeHandles:$,resizeHandle:J,constraints:te=Iee,layoutItem:X,layout:oe=[],onDragStart:F,onDrag:ee,onDragStop:le,onResizeStart:q,onResize:we,onResizeStop:Oe}=t,[Ce,Ue]=H.useState(!1),[We,qe]=H.useState(!1),Je=H.useRef(null),ut=H.useRef({left:0,top:0}),en=H.useRef({top:0,left:0,width:0,height:0}),rn=H.useRef(void 0),be=H.useRef(oe);be.current=oe;const nt=H.useRef(null),Ke=H.useRef(null),gt=H.useRef(!1),at=H.useRef({x:0,y:0}),_t=H.useRef(!1),Tt=H.useMemo(()=>({cols:n,containerPadding:s,containerWidth:r,margin:i,maxRows:a,rowHeight:o}),[n,s,r,i,a,o]),Dt=H.useMemo(()=>({cols:n,maxRows:a,containerWidth:r,containerHeight:0,rowHeight:o,margin:i,layout:[]}),[n,a,r,o,i]),Ft=H.useCallback(()=>({...Dt,layout:be.current}),[Dt]),mn=H.useMemo(()=>X??{i:V,x:O,y:L,w:U,h:G,minW:Q,maxW:Y,minH:K,maxH:j},[X,V,O,L,U,G,Q,Y,K,j]),an=H.useCallback(tn=>{if(T!=null&&T.calcStyle)return T.calcStyle(tn);if(h)return _ee(tn);const cn=O3e(tn);return p?{...cn,left:U5(tn.left/r),width:U5(tn.width/r)}:cn},[T,h,p,r]),qt=H.useCallback((tn,{node:cn})=>{if(!F)return;const{offsetParent:gr}=cn;if(!gr)return;const Qn=gr.getBoundingClientRect(),hn=cn.getBoundingClientRect(),Tr=hn.left/E,Br=Qn.left/E,Gr=hn.top/E,Fr=Qn.top/E;let ei;if(T!=null&&T.calcDragPosition){const Zt=tn;ei=T.calcDragPosition(Zt.clientX,Zt.clientY,Zt.clientX-hn.left,Zt.clientY-hn.top)}else ei={left:Tr-Br+gr.scrollLeft,top:Gr-Fr+gr.scrollTop};if(ut.current=ei,y>0){const Zt=tn;at.current={x:Zt.clientX,y:Zt.clientY},gt.current=!0,_t.current=!1,Ue(!0);return}Ue(!0);const gi=xN(Tt,ei.top,ei.left),{x:Wi,y:lt}=RN(te,mn,gi.x,gi.y,Ft());F(V,Wi,lt,{e:tn,node:cn,newPosition:ei})},[F,E,Tt,T,y,te,mn,Ft,V]),ce=H.useCallback((tn,{node:cn,deltaX:gr,deltaY:Qn})=>{if(!ee||!Ce)return;const hn=tn;if(gt.current&&!_t.current){const Wi=hn.clientX-at.current.x,lt=hn.clientY-at.current.y;if(Math.hypot(Wi,lt)<y)return;if(_t.current=!0,gt.current=!1,F){const Pt=xN(Tt,ut.current.top,ut.current.left),{x:kn,y:et}=RN(te,mn,Pt.x,Pt.y,Ft());F(V,kn,et,{e:tn,node:cn,newPosition:ut.current})}}let Tr=ut.current.top+Qn,Br=ut.current.left+gr;if(A){const{offsetParent:Wi}=cn;if(Wi){const lt=Wi.clientHeight-xS(G,o,i[1]);Tr=bO(Tr,0,lt);const Zt=KS(Tt),Pt=r-xS(U,Zt,i[0]);Br=bO(Br,0,Pt)}}const Gr={top:Tr,left:Br};ut.current=Gr;const Fr=xN(Tt,Tr,Br),{x:ei,y:gi}=RN(te,mn,Fr.x,Fr.y,Ft());ee(V,ei,gi,{e:tn,node:cn,newPosition:Gr})},[ee,F,Ce,y,A,G,o,i,Tt,r,U,V,te,mn,Ft]),_e=H.useCallback((tn,{node:cn})=>{if(!le||!Ce)return;const gr=gt.current;if(gt.current=!1,_t.current=!1,at.current={x:0,y:0},gr){Ue(!1),ut.current={left:0,top:0};return}const{left:Qn,top:hn}=ut.current,Tr={top:hn,left:Qn};Ue(!1),ut.current={left:0,top:0};const Br=xN(Tt,hn,Qn),{x:Gr,y:Fr}=RN(te,mn,Br.x,Br.y,Ft());le(V,Gr,Fr,{e:tn,node:cn,newPosition:Tr})},[le,Ce,Tt,te,mn,Ft,V]);nt.current=qt,Ke.current=ce;const Ye=H.useCallback((tn,{node:cn,size:gr,handle:Qn},hn,Tr)=>{const Br=Tr==="onResizeStart"?q:Tr==="onResize"?we:Oe;if(!Br)return;let Gr;cn?Gr=U3e(Qn,hn,gr,r):Gr={...gr,top:hn.top,left:hn.left},en.current=Gr;const Fr=x3e(Tt,Gr.width,Gr.height),{w:ei,h:gi}=v3e(te,mn,Fr.w,Fr.h,Qn,Ft());Br(V,ei,gi,{e:tn.nativeEvent,node:cn,size:Gr,handle:Qn})},[q,we,Oe,r,Tt,V,te,mn,Ft]),dt=H.useCallback((tn,cn)=>{qe(!0);const gr=F0(Tt,O,L,U,G),Qn={...cn,handle:cn.handle};Ye(tn,Qn,gr,"onResizeStart")},[Ye,Tt,O,L,U,G]),Wt=H.useCallback((tn,cn)=>{const gr=F0(Tt,O,L,U,G),Qn={...cn,handle:cn.handle};Ye(tn,Qn,gr,"onResize")},[Ye,Tt,O,L,U,G]),Xt=H.useCallback((tn,cn)=>{qe(!1),en.current={top:0,left:0,width:0,height:0};const gr=F0(Tt,O,L,U,G),Qn={...cn,handle:cn.handle};Ye(tn,Qn,gr,"onResizeStop")},[Ye,Tt,O,L,U,G]);H.useEffect(()=>{var Qn,hn;if(!R)return;const tn=Je.current;if(!tn)return;const cn=rn.current||{left:0,top:0},gr=Ce&&(R.left!==cn.left||R.top!==cn.top);if(Ce){if(gr){const Tr=R.left-ut.current.left,Br=R.top-ut.current.top,Gr={node:tn,deltaX:Tr,deltaY:Br,lastX:ut.current.left,lastY:ut.current.top,x:R.left,y:R.top};(hn=Ke.current)==null||hn.call(Ke,R.e,Gr)}}else{const Tr={node:tn,deltaX:R.left,deltaY:R.top,lastX:0,lastY:0,x:R.left,y:R.top};(Qn=nt.current)==null||Qn.call(nt,R.e,Tr)}rn.current=R},[R,Ce,V]);const Te=F0(Tt,O,L,U,G,Ce?ut.current:null,We?en.current:null),Ae=no.Children.only(e),me=F0(Tt,0,0,1,1),st=[me.width,me.height],ke=[1/0,1/0],ht=Ae.props,sn=ht.className,mr=ht.style;let Lt=no.cloneElement(Ae,{ref:Je,className:jee("react-grid-item",sn,I,{static:u,resizing:We,"react-draggable":l,"react-draggable-dragging":Ce,dropping:!!R,cssTransforms:h}),style:{...b,...mr,...an(Te)}});const Dn=J;return Lt=f.jsx(CVe.Resizable,{draggableOpts:{disabled:!c},className:c?void 0:"react-resizable-hide",width:Te.width,height:Te.height,minConstraints:st,maxConstraints:ke,onResizeStart:dt,onResize:Wt,onResizeStop:Xt,transformScale:E,resizeHandles:$,handle:Dn,children:Lt}),Lt=f.jsx(EVe.DraggableCore,{disabled:!l,onStart:qt,onDrag:ce,onStop:_e,handle:B,cancel:".react-resizable-handle"+(w?","+w:""),scale:E,nodeRef:Je,children:Lt}),Lt}var yh=()=>{},lj="react-grid-layout",Kee=!1;try{Kee=/firefox/i.test(navigator.userAgent)}catch{}function xVe(t,e){const n=no.Children.toArray(t),r=no.Children.toArray(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i],o=r[i];if((s==null?void 0:s.key)!==(o==null?void 0:o.key))return!1}return!0}function cj(t,e,n,r){const i=[],s=new Set;no.Children.forEach(e,a=>{if(!no.isValidElement(a)||a.key===null)return;const l=String(a.key);s.add(l);const c=t.find(A=>A.i===l);if(c)i.push(Jm(c));else{const u=a.props["data-grid"];u?i.push({i:l,x:u.x??0,y:u.y??0,w:u.w??1,h:u.h??1,minW:u.minW,maxW:u.maxW,minH:u.minH,maxH:u.maxH,static:u.static,isDraggable:u.isDraggable,isResizable:u.isResizable,resizeHandles:u.resizeHandles,isBounded:u.isBounded}):i.push({i:l,x:0,y:cL(i),w:1,h:1})}});const o=uH(i,{cols:n});return r.compact(o,n)}function RVe(t){const{children:e,width:n,gridConfig:r,dragConfig:i,resizeConfig:s,dropConfig:o,positionStrategy:a=H3e,compactor:l,constraints:c=Iee,layout:A=[],droppingItem:u,autoSize:h=!0,className:p="",style:E={},innerRef:T,onLayoutChange:y=yh,onDragStart:R=yh,onDrag:I=yh,onDragStop:b=yh,onResizeStart:B=yh,onResize:w=yh,onResizeStop:O=yh,onDrop:L=yh,onDropDragOver:U=yh}=t,G=H.useMemo(()=>({...G3e,...r}),[r]),Q=H.useMemo(()=>({...Q3e,...i}),[i]),Y=H.useMemo(()=>({...V3e,...s}),[s]),K=H.useMemo(()=>({...$3e,...o}),[o]),{cols:j,rowHeight:V,maxRows:$,margin:J,containerPadding:te}=G,{enabled:X,bounded:oe,handle:F,cancel:ee,threshold:le}=Q,{enabled:q,handles:we,handleComponent:Oe}=Y,{enabled:Ce,defaultItem:Ue,onDragOver:We}=K,qe=l??gH("vertical"),Je=qe.type,ut=qe.allowOverlap,en=qe.preventCollision??!1,rn=H.useMemo(()=>u??{i:"__dropping-elem__",...Ue},[u,Ue]),be=a.type==="transform",nt=a.scale,Ke=te??J,[gt,at]=H.useState(!1),[_t,Tt]=H.useState(()=>cj(A,e,j,qe)),[Dt,Ft]=H.useState(null),[mn,an]=H.useState(!1),[qt,ce]=H.useState(null),[_e,Ye]=H.useState(),dt=H.useRef(null),Wt=H.useRef(null),Xt=H.useRef(null),Te=H.useRef(0),Ae=H.useRef(_t),me=H.useRef(A),st=H.useRef(e),ke=H.useRef(Je),ht=H.useRef(_t);ht.current=_t,H.useEffect(()=>{at(!0),Dh(_t,A)||y(_t)},[]),H.useEffect(()=>{if(Dt||qt)return;const lt=!Dh(A,me.current),Zt=!xVe(e,st.current),Pt=Je!==ke.current;if(lt||Zt||Pt){const et=cj(lt?A:_t,e,j,qe);Dh(et,_t)||Tt(et)}me.current=A,st.current=e,ke.current=Je},[A,e,j,Je,qe,Dt,qt,_t]),H.useEffect(()=>{if(!Dt&&!Dh(_t,Ae.current)){Ae.current=_t;const lt=_t.filter(Zt=>Zt.i!==rn.i);y(lt)}},[_t,Dt,y,rn.i]);const sn=H.useMemo(()=>{if(!h)return;const lt=cL(_t),Zt=Ke[1];return lt*V+(lt-1)*J[1]+Zt*2+"px"},[h,_t,V,J,Ke]),mr=H.useCallback((lt,Zt,Pt,kn)=>{const et=ht.current,Gn=dm(et,lt);if(!Gn)return;const Cn={w:Gn.w,h:Gn.h,x:Gn.x,y:Gn.y,i:lt};dt.current=Jm(Gn),Xt.current=et,Ft(Cn),R(et,Gn,Gn,null,kn.e,kn.node)},[R]),Lt=H.useCallback((lt,Zt,Pt,kn)=>{const et=ht.current,Gn=dt.current,Cn=dm(et,lt);if(!Cn)return;const nr={w:Cn.w,h:Cn.h,x:Cn.x,y:Cn.y,i:lt},zn=Nm(et,Cn,Zt,Pt,!0,en,Je,j,ut);I(zn,Gn,Cn,nr,kn.e,kn.node),Tt(qe.compact(zn,j)),Ft(nr)},[en,Je,j,ut,qe,I]),Dn=H.useCallback((lt,Zt,Pt,kn)=>{if(!Dt)return;const et=ht.current,Gn=dt.current,Cn=dm(et,lt);if(!Cn)return;const nr=Nm(et,Cn,Zt,Pt,!0,en,Je,j,ut),zn=qe.compact(nr,j);b(zn,Gn,Cn,null,kn.e,kn.node);const qr=Xt.current;dt.current=null,Xt.current=null,Ft(null),Tt(zn),qr&&!Dh(qr,zn)&&y(zn)},[Dt,en,Je,j,ut,qe,b,y]),tn=H.useCallback((lt,Zt,Pt,kn)=>{const et=ht.current,Gn=dm(et,lt);Gn&&(Wt.current=Jm(Gn),Xt.current=et,an(!0),B(et,Gn,Gn,null,kn.e,kn.node))},[B]),cn=H.useCallback((lt,Zt,Pt,kn)=>{const et=ht.current,Gn=Wt.current,{handle:Cn}=kn;let nr=!1,zn,qr;const[xs,Ii]=_3e(et,lt,De=>(zn=De.x,qr=De.y,["sw","w","nw","n","ne"].includes(Cn)&&(["sw","nw","w"].includes(Cn)&&(zn=De.x+(De.w-Zt),Zt=De.x!==zn&&zn<0?De.w:Zt,zn=zn<0?0:zn),["ne","n","nw"].includes(Cn)&&(qr=De.y+(De.h-Pt),Pt=De.y!==qr&&qr<0?De.h:Pt,qr=qr<0?0:qr),nr=!0),en&&!ut&&xee(et,{...De,w:Zt,h:Pt,x:zn??De.x,y:qr??De.y}).filter(Le=>Le.i!==De.i).length>0&&(qr=De.y,Pt=De.h,zn=De.x,Zt=De.w,nr=!1),De.w=Zt,De.h=Pt,De));if(!Ii)return;let yt=xs;nr&&zn!==void 0&&qr!==void 0&&(yt=Nm(xs,Ii,zn,qr,!0,en,Je,j,ut));const he={w:Ii.w,h:Ii.h,x:Ii.x,y:Ii.y,i:lt,static:!0};w(yt,Gn,Ii,he,kn.e,kn.node),Tt(qe.compact(yt,j)),Ft(he)},[en,Je,j,ut,qe,w]),gr=H.useCallback((lt,Zt,Pt,kn)=>{const et=ht.current,Gn=Wt.current,Cn=dm(et,lt),nr=qe.compact(et,j);O(nr,Gn,Cn??null,null,kn.e,kn.node);const zn=Xt.current;Wt.current=null,Xt.current=null,Ft(null),an(!1),Tt(nr),zn&&!Dh(zn,nr)&&y(nr)},[j,qe,O,y]),Qn=H.useCallback(()=>{const lt=ht.current;if(!lt.some(kn=>kn.i===rn.i)){ce(null),Ft(null),Ye(void 0);return}const Pt=qe.compact(lt.filter(kn=>kn.i!==rn.i),j);Tt(Pt),ce(null),Ft(null),Ye(void 0)},[rn.i,j,qe]),hn=H.useCallback(lt=>{var bt;if(lt.preventDefault(),lt.stopPropagation(),Kee&&!((bt=lt.nativeEvent.target)!=null&&bt.classList.contains(lj)))return!1;const Zt=We?We(lt.nativeEvent):U(lt);if(Zt===!1)return qt&&Qn(),!1;const{dragOffsetX:Pt=0,dragOffsetY:kn=0,...et}=Zt??{},Gn={...rn,...et},Cn=lt.currentTarget.getBoundingClientRect(),nr={cols:j,margin:J,maxRows:$,rowHeight:V,containerWidth:n,containerPadding:Ke},zn=KS(nr),qr=xS(Gn.w,zn,J[0]),xs=xS(Gn.h,V,J[1]),Ii=qr/2,yt=xs/2,he=lt.clientX-Cn.left+Pt-Ii,De=lt.clientY-Cn.top+kn-yt,ie=Math.max(0,he),Le=Math.max(0,De),Me={left:ie/nt,top:Le/nt,e:lt.nativeEvent};if(qt)_e&&(_e.left!==Me.left||_e.top!==Me.top)&&Ye(Me);else{const tt=C3e(nr,Le,ie,Gn.w,Gn.h);ce(f.jsx("div",{},Gn.i)),Ye(Me),Tt([...ht.current,{...Gn,x:tt.x,y:tt.y,static:!1,isDraggable:!0}])}},[qt,_e,rn,We,U,Qn,nt,j,J,$,V,n,Ke]),Tr=H.useCallback(lt=>{lt.preventDefault(),lt.stopPropagation(),Te.current--,Te.current<0&&(Te.current=0),Te.current===0&&Qn()},[Qn]),Br=H.useCallback(lt=>{lt.preventDefault(),lt.stopPropagation(),Te.current++},[]),Gr=H.useCallback(lt=>{lt.preventDefault(),lt.stopPropagation();const Zt=ht.current,Pt=Zt.find(kn=>kn.i===rn.i);Te.current=0,Qn(),L(Zt,Pt,lt.nativeEvent)},[rn.i,Qn,L]),Fr=H.useCallback((lt,Zt)=>{if(!lt||!lt.key)return null;const Pt=dm(_t,String(lt.key));if(!Pt)return null;const kn=typeof Pt.isDraggable=="boolean"?Pt.isDraggable:!Pt.static&&X,et=typeof Pt.isResizable=="boolean"?Pt.isResizable:!Pt.static&&q,Gn=Pt.resizeHandles||[...we],Cn=kn&&oe&&Pt.isBounded!==!1,nr=Oe;return f.jsx(aj,{containerWidth:n,cols:j,margin:J,containerPadding:Ke,maxRows:$,rowHeight:V,cancel:ee,handle:F,onDragStart:mr,onDrag:Lt,onDragStop:Dn,onResizeStart:tn,onResize:cn,onResizeStop:gr,isDraggable:kn,isResizable:et,isBounded:Cn,useCSSTransforms:be&&gt,usePercentages:!gt,transformScale:nt,positionStrategy:a,dragThreshold:le,w:Pt.w,h:Pt.h,x:Pt.x,y:Pt.y,i:Pt.i,minH:Pt.minH,minW:Pt.minW,maxH:Pt.maxH,maxW:Pt.maxW,static:Pt.static,droppingPosition:Zt?_e:void 0,resizeHandles:Gn,resizeHandle:nr,constraints:c,layoutItem:Pt,layout:_t,children:lt},Pt.i)},[_t,n,j,J,Ke,$,V,ee,F,mr,Lt,Dn,tn,cn,gr,X,q,oe,be,gt,nt,a,le,_e,we,Oe,c]),ei=()=>Dt?f.jsx(aj,{w:Dt.w,h:Dt.h,x:Dt.x,y:Dt.y,i:Dt.i,className:`react-grid-placeholder ${mn?"placeholder-resizing":""}`,containerWidth:n,cols:j,margin:J,containerPadding:Ke,maxRows:$,rowHeight:V,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:be,transformScale:nt,constraints:c,layout:_t,children:f.jsx("div",{})}):null,gi=jee(lj,p),Wi={height:sn,...E};return f.jsxs("div",{ref:T,className:gi,style:Wi,onDrop:Ce?Gr:void 0,onDragLeave:Ce?Tr:void 0,onDragEnter:Ce?Br:void 0,onDragOver:Ce?hn:void 0,children:[no.Children.map(e,lt=>no.isValidElement(lt)?Fr(lt):null),Ce&&qt&&Fr(qt,!0),ei()]})}var IVe={lg:1200,md:996,sm:768,xs:480,xxs:0},_Ve={lg:12,md:10,sm:6,xs:4,xxs:2},VD=()=>{};function NVe(t,e,n,r){const i=[];no.Children.forEach(e,o=>{if(!no.isValidElement(o)||o.key===null)return;const a=String(o.key),l=t.find(c=>c.i===a);if(l)i.push({...l,i:a});else{const A=o.props["data-grid"];A?i.push({i:a,x:A.x??0,y:A.y??0,w:A.w??1,h:A.h??1,minW:A.minW,maxW:A.maxW,minH:A.minH,maxH:A.maxH,static:A.static,isDraggable:A.isDraggable,isResizable:A.isResizable,resizeHandles:A.resizeHandles,isBounded:A.isBounded}):i.push({i:a,x:0,y:cL(i),w:1,h:1})}});const s=uH(i,{cols:n});return r.compact(s,n)}function bVe(t){const{children:e,width:n,breakpoint:r,breakpoints:i=IVe,cols:s=_Ve,layouts:o={},rowHeight:a=150,maxRows:l=1/0,margin:c=[10,10],containerPadding:A=null,compactor:u,onBreakpointChange:h=VD,onLayoutChange:p=VD,onWidthChange:E=VD,...T}=t,y=u??gH("vertical"),R=y.type,I=y.allowOverlap,b=H.useMemo(()=>r??F5(i,n),[]),B=H.useMemo(()=>H5(b,s),[b,s]),w=H.useMemo(()=>UD(o,i,b,b,B,R),[]),[O,L]=H.useState(b),[U,G]=H.useState(B),[Q,Y]=H.useState(w),[K,j]=H.useState(o),V=H.useRef(n),$=H.useRef(r),J=H.useRef(i),te=H.useRef(s),X=H.useRef(o),oe=H.useRef(R),F=H.useRef(K);H.useEffect(()=>{F.current=K},[K]);const ee=H.useMemo(()=>Dh(o,X.current)?null:UD(o,i,O,O,U,y),[o,i,O,U,y]),le=ee??Q;H.useEffect(()=>{ee!==null&&(Y(ee),j(o),F.current=o,X.current=o)},[ee,o]),H.useEffect(()=>{if(R!==oe.current){const Ue=y.compact($f(le),U),We={...F.current,[O]:Ue};Y(Ue),j(We),F.current=We,p(Ue,We),oe.current=R}},[R,y,le,U,I,O,p]),H.useEffect(()=>{const Ue=n!==V.current,We=r!==$.current,qe=!Dh(i,J.current),Je=!Dh(s,te.current);if(Ue||We||qe||Je){const ut=r??F5(i,n),en=H5(ut,s),rn=O;if(rn!==ut||qe||Je){const Ke={...F.current};Ke[rn]||(Ke[rn]=$f(Q));let gt=UD(Ke,i,ut,rn,en,y);gt=NVe(gt,e,en,y),Ke[ut]=gt,L(ut),G(en),Y(gt),j(Ke),F.current=Ke,h(ut,en),p(gt,Ke)}const be=IN(c,ut),nt=A?IN(A,ut):null;E(n,be,en,nt),V.current=n,$.current=r,J.current=i,te.current=s}},[n,r,i,s,O,U,Q,e,y,R,I,c,A,h,p,E]);const q=H.useCallback(Ue=>{const qe={...F.current,[O]:Ue};Y(Ue),j(qe),F.current=qe,p(Ue,qe)},[O,p]),we=H.useMemo(()=>IN(c,O),[c,O]),Oe=H.useMemo(()=>A===null?null:IN(A,O),[A,O]),Ce=H.useMemo(()=>({cols:U,rowHeight:a,maxRows:l,margin:we,containerPadding:Oe}),[U,a,l,we,Oe]);return f.jsx(RVe,{...T,width:n,gridConfig:Ce,compactor:y,onLayoutChange:q,layout:le,children:e})}const vVe=({savedQueryId:t,refreshTrigger:e})=>{var u;const[n,r]=H.useState(null),[i,s]=H.useState([]),[o,a]=H.useState(!0),[l,c]=H.useState(null);if(H.useEffect(()=>{(async()=>{a(!0);try{const E=(await $a.getQueries()).find(R=>R.id===t);if(!E)throw new Error("Query not found");r(E);const T=`SELECT * FROM (${E.sql.replace(/;+$/,"")}) LIMIT 1000`,y=await At.query(T);s(y)}catch(p){c(p.message)}finally{a(!1)}})()},[t,e]),o)return f.jsx("div",{className:"w-full h-full flex items-center justify-center text-monokai-comment animate-pulse",children:"Loading..."});if(l)return f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-monokai-pink p-4 text-center",children:[f.jsx(Rx,{size:24,className:"mb-2"}),f.jsx("div",{className:"text-xs",children:l})]});if(!n)return null;const A=n.charts&&n.charts.length>0?n.charts[0]:null;if(A){const h=X2(i,A),p=J2({...A,showLegend:!1});return(u=p.plugins)!=null&&u.title&&(p.plugins.title.display=!1),f.jsxs("div",{className:"w-full h-full flex flex-col",children:[f.jsx("div",{className:"flex justify-between items-center px-2 py-1 bg-monokai-bg/50 border-b border-monokai-accent/30 handle cursor-move",children:f.jsx("span",{className:"text-xs font-bold text-monokai-fg truncate flex-1",children:n.name})}),f.jsxs("div",{className:"flex-1 relative min-h-0 p-2",children:[A.type==="bar"&&f.jsx(Z2,{data:h,options:p}),A.type==="line"&&f.jsx(yS,{data:h,options:p}),A.type==="area"&&f.jsx(yS,{data:h,options:p}),A.type==="pie"&&f.jsx(tH,{data:h,options:p}),A.type==="doughnut"&&f.jsx(eH,{data:h,options:p}),A.type==="scatter"&&f.jsx(nH,{data:h,options:p})]})]})}return f.jsxs("div",{className:"w-full h-full flex flex-col",children:[f.jsx("div",{className:"flex justify-between items-center px-2 py-1 bg-monokai-bg/50 border-b border-monokai-accent/30 handle cursor-move",children:f.jsx("span",{className:"text-xs font-bold text-monokai-fg truncate flex-1",children:n.name})}),f.jsxs("div",{className:"flex-1 overflow-auto p-2 text-[10px] font-mono custom-scrollbar",children:[f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{children:f.jsx("tr",{children:i.length>0&&Object.keys(i[0]).map(h=>f.jsx("th",{className:"p-1 border-b border-monokai-accent text-monokai-blue",children:h},h))})}),f.jsx("tbody",{children:i.slice(0,10).map((h,p)=>f.jsx("tr",{className:"border-b border-monokai-accent/20",children:Object.values(h).map((E,T)=>f.jsx("td",{className:"p-1 text-monokai-fg/80",children:String(E)},T))},p))})]}),i.length===0&&f.jsx("div",{className:"text-center mt-4 text-monokai-comment",children:"No Data"})]})]})},OVe=({dashboard:t,refreshTrigger:e,onLayoutChange:n})=>{const[r,i]=H.useState(1200),s=H.useRef(null);H.useEffect(()=>{if(!s.current)return;const a=new ResizeObserver(l=>{for(const c of l)i(c.contentRect.width)});return a.observe(s.current),()=>a.disconnect()},[]);const o=t.items.map(a=>({i:a.i,x:a.x,y:a.y,w:a.w,h:a.h,minW:2,minH:2}));return f.jsx("div",{ref:s,className:"w-full h-full",children:r>0&&f.jsx(bVe,{className:"layout",layouts:{lg:o},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},rowHeight:60,width:r,onLayoutChange:a=>{n(a)},draggableHandle:".drag-handle",children:t.items.map(a=>f.jsx("div",{className:"bg-monokai-sidebar border border-monokai-accent rounded shadow-lg overflow-hidden flex flex-col",children:f.jsx(vVe,{savedQueryId:a.savedQueryId,refreshTrigger:e})},a.i))})})},wVe=({onClose:t,onAdd:e})=>{const[n,r]=H.useState("queries"),[i,s]=H.useState([]),[o,a]=H.useState(""),[l,c]=H.useState([]),[A,u]=H.useState(null),[h,p]=H.useState(!1);H.useEffect(()=>{E(),T()},[]);const E=async()=>{const I=await $a.getQueries();s(I)},T=()=>{const I=ii.loadMetricPackages();c(I)},y=i.filter(I=>I.name.toLowerCase().includes(o.toLowerCase())),R=async I=>{if(!A||A.sourceTables.length===0){alert("");return}p(!0);try{const b=A.sourceTables[0],B=await ii.generateChart(I,A.id,b),w=await ii.convertToSavedQuery(B);e(w),t()}catch(b){console.error("Failed to generate chart from metric:",b),alert(": "+b.message)}finally{p(!1)}};return f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-[fadeIn_0.2s]",children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent rounded-lg shadow-2xl w-[700px] max-h-[85vh] flex flex-col animate-[scaleIn_0.2s]",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-monokai-accent",children:[f.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[f.jsx("span",{className:"text-monokai-green",children:"+"})," Add Widget"]}),f.jsx("button",{onClick:t,className:"text-monokai-comment hover:text-white p-1 rounded hover:bg-monokai-bg",children:f.jsx(Wm,{size:20})})]}),f.jsxs("div",{className:"flex border-b border-monokai-accent",children:[f.jsxs("button",{onClick:()=>r("queries"),className:`flex-1 py-3 px-4 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${n==="queries"?"bg-monokai-bg text-monokai-blue border-b-2 border-monokai-blue":"text-monokai-comment hover:text-white"}`,children:[f.jsx(_x,{size:16}),""]}),f.jsxs("button",{onClick:()=>r("metrics"),className:`flex-1 py-3 px-4 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${n==="metrics"?"bg-monokai-bg text-monokai-purple border-b-2 border-monokai-purple":"text-monokai-comment hover:text-white"}`,children:[f.jsx(yT,{size:16}),""]})]}),f.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:n==="queries"?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"p-4 border-b border-monokai-accent bg-monokai-bg",children:f.jsxs("div",{className:"flex items-center gap-2 bg-monokai-sidebar border border-monokai-accent rounded px-3 py-2",children:[f.jsx(Jq,{size:16,className:"text-monokai-comment"}),f.jsx("input",{autoFocus:!0,placeholder:"Search saved charts...",className:"bg-transparent border-none outline-none text-white w-full placeholder-monokai-comment",value:o,onChange:I=>a(I.target.value)})]})}),f.jsx("div",{className:"overflow-y-auto p-2 custom-scrollbar flex-1",children:y.length===0?f.jsx("div",{className:"text-center p-8 text-monokai-comment",children:"No matching queries found."}):f.jsx("div",{className:"grid grid-cols-1 gap-2",children:y.map(I=>{const b=I.charts&&I.charts.length>0;return f.jsxs("div",{onClick:()=>e(I.id),className:"p-3 rounded border border-monokai-accent bg-monokai-bg hover:border-monokai-blue hover:bg-monokai-accent/20 cursor-pointer transition-all flex justify-between items-center group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded ${b?"bg-monokai-purple/20 text-monokai-purple":"bg-monokai-blue/20 text-monokai-blue"}`,children:b?f.jsx(jh,{size:18}):f.jsx(_x,{size:18})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-monokai-fg group-hover:text-white",children:I.name}),f.jsxs("div",{className:"text-xs text-monokai-comment flex gap-2",children:[f.jsx("span",{children:new Date(I.createdAt).toLocaleDateString()}),b&&f.jsxs("span",{className:"text-monokai-green",children:["- ",I.charts.length," Charts"]})]})]})]}),f.jsx("div",{className:"opacity-0 group-hover:opacity-100 px-3 py-1 bg-monokai-blue text-monokai-bg text-xs font-bold rounded",children:"Add"})]},I.id)})})})]}):f.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[l.length===0?f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[f.jsx(yT,{size:48,className:"text-monokai-accent mb-4"}),f.jsx("p",{className:"text-monokai-comment",children:""}),f.jsx("p",{className:"text-xs text-monokai-comment mt-2",children:" Metrics "})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"p-4 border-b border-monokai-accent",children:[f.jsx("div",{className:"text-xs text-monokai-comment mb-2",children:":"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(I=>f.jsxs("button",{onClick:()=>u(I),className:`px-3 py-1.5 rounded text-sm flex items-center gap-2 transition-colors ${(A==null?void 0:A.id)===I.id?"bg-monokai-purple text-white":"bg-monokai-accent/30 text-monokai-fg hover:bg-monokai-accent/50"}`,children:[(A==null?void 0:A.id)===I.id&&f.jsx(aA,{size:12}),I.name,f.jsxs("span",{className:"text-xs opacity-70",children:["(",I.metrics.length,")"]})]},I.id))})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:A?A.metrics.length===0?f.jsx("div",{className:"text-center p-8 text-monokai-comment",children:""}):f.jsx("div",{className:"grid grid-cols-1 gap-2",children:A.metrics.map(I=>f.jsxs("div",{onClick:()=>!h&&R(I),className:`p-3 rounded border transition-all flex justify-between items-center group ${h?"bg-monokai-bg border-monokai-accent opacity-50":"bg-monokai-bg border-monokai-accent hover:border-monokai-purple hover:bg-monokai-purple/10 cursor-pointer"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded bg-monokai-purple/20 text-monokai-purple",children:f.jsx(jh,{size:18})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-white",children:I.name}),f.jsxs("div",{className:"text-xs text-monokai-comment flex gap-2",children:[f.jsx("span",{children:I.category||""}),I.unit&&f.jsxs("span",{children:["- ",I.unit]})]})]})]}),f.jsx("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-2",children:h?f.jsx(Qh,{size:14,className:"animate-spin text-monokai-purple"}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-xs text-monokai-purple",children:""}),f.jsx($F,{size:14,className:"text-monokai-purple"})]})})]},I.id))}):f.jsx("div",{className:"text-center p-8 text-monokai-comment",children:""})})]}),h&&f.jsxs("div",{className:"p-4 border-t border-monokai-accent bg-monokai-bg flex items-center justify-center gap-2",children:[f.jsx(Qh,{size:16,className:"animate-spin text-monokai-purple"}),f.jsx("span",{className:"text-sm text-monokai-purple",children:"..."})]})]})})]})})},po=[];for(let t=0;t<256;++t)po.push((t+256).toString(16).slice(1));function LVe(t,e=0){return(po[t[e+0]]+po[t[e+1]]+po[t[e+2]]+po[t[e+3]]+"-"+po[t[e+4]]+po[t[e+5]]+"-"+po[t[e+6]]+po[t[e+7]]+"-"+po[t[e+8]]+po[t[e+9]]+"-"+po[t[e+10]]+po[t[e+11]]+po[t[e+12]]+po[t[e+13]]+po[t[e+14]]+po[t[e+15]]).toLowerCase()}let $D;const BVe=new Uint8Array(16);function DVe(){if(!$D){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$D=crypto.getRandomValues.bind(crypto)}return $D(BVe)}const kVe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Aj={randomUUID:kVe};function MVe(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??DVe();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let s=0;s<16;++s)e[n+s]=r[s];return e}return LVe(r)}function $P(t,e,n){return Aj.randomUUID&&!e&&!t?Aj.randomUUID():MVe(t,e,n)}const PVe=Object.freeze(Object.defineProperty({__proto__:null,v4:$P},Symbol.toStringTag,{value:"Module"}));yR.register(Uv,Fv,FT,xT,HT,Cm,$X,YX,QX,t9);const UVe=({tables:t,onNavigate:e})=>{const[n,r]=H.useState("list"),[i,s]=H.useState([]),[o,a]=H.useState(null),[l,c]=H.useState(!0),[A,u]=H.useState(!1),[h,p]=H.useState(0),[E,T]=H.useState("Loading..."),[y,R]=H.useState({tables:0,extensions:0}),[I,b]=H.useState([]),[B,w]=H.useState([]);H.useEffect(()=>{O(),L()},[]);const O=async()=>{const j=await $a.getDashboards();s(j),c(!1)},L=async()=>{var j;try{const V=await At.query("SELECT version() as v");T(((j=V[0])==null?void 0:j.v)||"Unknown");const $=await At.getExtensions();R({tables:t.length,extensions:$.filter(X=>X.installed).length});const J=localStorage.getItem("duckdb_sql_history");J&&b(JSON.parse(J).slice(0,5));const te=await $a.getQueries();w(te.filter(X=>X.pinned).slice(0,4))}catch(V){console.error(V)}},U=async()=>{const j=prompt("Enter Dashboard Name:");if(!j)return;const V={id:$P(),name:j,items:[],createdAt:Date.now(),updatedAt:Date.now()};await $a.saveDashboard(V),s([V,...i]),a(V),r("detail")},G=async j=>{if(!confirm("Are you sure you want to delete this dashboard?"))return;await $a.deleteDashboard(j);const V=i.filter($=>$.id!==j);s(V),(o==null?void 0:o.id)===j&&(r("list"),a(null))},Q=j=>{if(!o)return;const V=j.map(J=>{const te=o.items.find(X=>X.i===J.i);return te?{...te,x:J.x,y:J.y,w:J.w,h:J.h}:null}).filter(Boolean),$={...o,items:V,updatedAt:Date.now()};a($),$a.saveDashboard($)},Y=async j=>{if(!o)return;const V=o.items.length>0?Math.max(...o.items.map(te=>te.y+te.h)):0,$={i:$P(),savedQueryId:j,x:0,y:V,w:6,h:4},J={...o,items:[...o.items,$],updatedAt:Date.now()};a(J),await $a.saveDashboard(J),u(!1)},K=()=>{p(j=>j+1)};return n==="list"?f.jsxs("div",{className:"p-8 h-full overflow-auto bg-monokai-bg text-monokai-fg animate-[fadeIn_0.3s]",children:[f.jsxs("header",{className:"mb-8 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-monokai-pink to-monokai-purple bg-clip-text text-transparent mb-2",children:"Dashboards"}),f.jsx("p",{className:"text-monokai-comment",children:"Manage and visualize your data insights."})]}),f.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-monokai-green text-monokai-bg font-bold rounded shadow-lg hover:bg-monokai-blue transition-colors",children:[f.jsx(Lf,{size:20})," New Dashboard"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded-lg shadow-lg relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity text-6xl",children:""}),f.jsx("h3",{className:"text-monokai-comment text-sm uppercase font-bold tracking-wider mb-2",children:"Engine"}),f.jsx("div",{className:"text-2xl font-mono text-monokai-blue font-bold truncate",children:E})]}),f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded-lg shadow-lg relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity text-6xl",children:""}),f.jsx("h3",{className:"text-monokai-comment text-sm uppercase font-bold tracking-wider mb-2",children:"Total Tables"}),f.jsx("div",{className:"text-4xl font-mono text-monokai-green font-bold",children:y.tables})]}),f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded-lg shadow-lg relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity text-6xl",children:""}),f.jsx("h3",{className:"text-monokai-comment text-sm uppercase font-bold tracking-wider mb-2",children:"Dashboards"}),f.jsx("div",{className:"text-4xl font-mono text-monokai-orange font-bold",children:i.length})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12",children:[f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent rounded-lg p-6 shadow-lg",children:[f.jsxs("h3",{className:"text-xl font-bold text-monokai-blue mb-4 flex items-center gap-2",children:[f.jsx(I0e,{size:20})," Recent Activity"]}),I.length===0?f.jsx("div",{className:"text-monokai-comment italic",children:"No recent queries."}):f.jsx("div",{className:"space-y-3",children:I.map(j=>f.jsxs("div",{className:"flex justify-between items-center border-b border-monokai-accent/30 pb-2 last:border-0",children:[f.jsx("div",{className:"truncate font-mono text-sm text-monokai-fg flex-1 mr-4",title:j.sql,children:j.sql}),f.jsx("div",{className:`text-xs px-2 py-0.5 rounded ${j.status==="success"?"bg-monokai-green/20 text-monokai-green":"bg-monokai-pink/20 text-monokai-pink"}`,children:j.status})]},j.id))})]}),f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent rounded-lg p-6 shadow-lg",children:[f.jsxs("h3",{className:"text-xl font-bold text-monokai-yellow mb-4 flex items-center gap-2",children:[f.jsx(oCe,{size:20})," Pinned Queries"]}),B.length===0?f.jsx("div",{className:"text-monokai-comment italic",children:"No pinned queries."}):f.jsx("div",{className:"grid grid-cols-1 gap-3",children:B.map(j=>f.jsxs("div",{className:"bg-monokai-bg border border-monokai-accent p-3 rounded flex justify-between items-center group cursor-pointer hover:border-monokai-yellow transition-colors",children:[f.jsx("div",{className:"font-bold text-sm text-white truncate",children:j.name}),f.jsx("div",{className:"flex gap-2",children:f.jsx("span",{className:"text-[10px] bg-monokai-accent px-1.5 rounded text-monokai-comment",children:j.widgetType||"table"})})]},j.id))})]})]}),f.jsxs("h2",{className:"text-xl font-bold mb-4 text-monokai-purple flex items-center gap-2",children:[f.jsx(D3,{size:20})," My Dashboards"]}),l?f.jsx("div",{className:"text-monokai-comment animate-pulse",children:"Loading dashboards..."}):i.length===0?f.jsxs("div",{className:"text-center p-12 border border-dashed border-monokai-accent rounded-lg text-monokai-comment",children:[f.jsx("p",{className:"mb-4",children:"No dashboards yet."}),f.jsx("button",{onClick:U,className:"text-monokai-blue hover:underline",children:"Create your first one"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(j=>f.jsxs("div",{onClick:()=>{a(j),r("detail")},className:"bg-monokai-sidebar border border-monokai-accent rounded-lg p-6 cursor-pointer hover:border-monokai-pink hover:shadow-xl transition-all group relative",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-monokai-pink transition-colors",children:j.name}),f.jsx("button",{onClick:V=>{V.stopPropagation(),G(j.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-monokai-comment hover:text-monokai-pink transition-opacity",children:f.jsx(Zf,{size:16})})]}),f.jsxs("div",{className:"text-sm text-monokai-comment mb-4",children:[j.items.length," Widgets"]}),f.jsxs("div",{className:"text-xs text-monokai-fg/50 flex items-center gap-1",children:[f.jsx(i0e,{size:12})," Updated: ",new Date(j.updatedAt).toLocaleDateString()]})]},j.id))})]}):o?f.jsxs("div",{className:"flex flex-col h-full bg-[#1e1f1c] text-monokai-fg",children:[f.jsxs("div",{className:"h-14 bg-monokai-sidebar border-b border-monokai-accent flex justify-between items-center px-4 shadow-md z-10",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>{r("list"),a(null),O()},className:"p-2 hover:bg-monokai-accent/20 rounded text-monokai-comment hover:text-white transition-colors",children:f.jsx(zq,{size:20})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-lg font-bold text-white",children:o.name}),f.jsxs("span",{className:"text-[10px] text-monokai-comment",children:[o.items.length," Widgets"]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-3 py-1.5 bg-monokai-accent/10 border border-monokai-accent rounded hover:bg-monokai-accent/30 text-xs font-bold text-monokai-blue transition-colors",title:"Reload all chart data",children:[f.jsx(Ow,{size:14,className:h>0?"animate-spin":""})," Refresh Data"]}),f.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-monokai-green text-monokai-bg border border-transparent rounded hover:bg-monokai-fg hover:text-monokai-bg text-xs font-bold transition-colors shadow-sm",children:[f.jsx(Lf,{size:14})," Add Widget"]})]})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative p-4 bg-[radial-gradient(#3e3d32_1px,transparent_1px)] [background-size:16px_16px]",children:o.items.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-monokai-comment opacity-50",children:[f.jsx(D3,{size:64,className:"mb-4"}),f.jsx("p",{className:"text-lg",children:"This dashboard is empty."}),f.jsx("button",{onClick:()=>u(!0),className:"mt-4 text-monokai-green hover:underline",children:"Add your first widget"})]}):f.jsx(OVe,{dashboard:o,refreshTrigger:h,onLayoutChange:Q})}),A&&f.jsx(wVe,{onClose:()=>u(!1),onAdd:Y})]}):null},WP={"duckdb-basics":`
# DuckDB SQL 

## 
1. [](#1-)
2. [](#2-)
3. [ (CRUD)](#3--crud)
4. [ (JOIN)](#4--join)
5. [ (VIEW)](#5--view)
6. [ (TRANSACTION)](#6--transaction)
7. [](#7-)

---

## 1. 

###  DuckDB

\`\`\`bash
# Python
pip install duckdb

# Node.js
npm install duckdb

# CLI (macOS)
brew install duckdb
\`\`\`

###  DuckDB

\`\`\`bash
# 
duckdb

# 
duckdb my_database.db
\`\`\`

### Python 

\`\`\`python
import duckdb

# 
con = duckdb.connect()

# 
con = duckdb.connect('my_database.db')

#  SQL
con.execute("SELECT 'Hello DuckDB!' AS greeting").fetchall()
\`\`\`

---

## 2. 

### 2.1 CREATE TABLE

\`\`\`sql
-- 
CREATE TABLE departments (
    dept_id     INTEGER PRIMARY KEY,
    dept_name   VARCHAR(50) NOT NULL,
    location    VARCHAR(100),
    budget      DECIMAL(15, 2) DEFAULT 0.00,
    created_at  TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 
CREATE TABLE employees (
    emp_id      INTEGER PRIMARY KEY,
    first_name  VARCHAR(50) NOT NULL,
    last_name   VARCHAR(50) NOT NULL,
    email       VARCHAR(100) UNIQUE,
    hire_date   DATE NOT NULL,
    salary      DECIMAL(10, 2),
    dept_id     INTEGER REFERENCES departments(dept_id),
    is_active   BOOLEAN DEFAULT TRUE
);
\`\`\`

### 2.2 

\`\`\`sql
-- 
SHOW TABLES;

-- 
DESCRIBE employees;
\`\`\`

>  **** [employees ](table://employees)

---

## 3.  (CRUD)

### 3.1 INSERT

\`\`\`sql
-- 
INSERT INTO departments (dept_id, dept_name, location, budget) VALUES
    (1, '', '-', 5000000.00),
    (2, '', '-', 3000000.00);

-- 
INSERT INTO employees (emp_id, first_name, last_name, email, hire_date, salary, dept_id) VALUES
    (1, '', '', 'zhang.ming@company.com', '2020-03-15', 35000.00, 1),
    (2, '', '', 'li.li@company.com', '2020-05-20', 30000.00, 1);
\`\`\`

### 3.2 SELECT

\`\`\`sql
-- 
SELECT * FROM employees;

-- 
SELECT emp_id, first_name, last_name, salary FROM employees;

-- 
SELECT * FROM employees WHERE salary > 28000;

-- 
SELECT * FROM employees ORDER BY salary DESC;

-- 
SELECT * FROM employees ORDER BY emp_id LIMIT 5 OFFSET 5;
\`\`\`

### 3.3 UPDATE

\`\`\`sql
-- 
UPDATE employees
SET salary = 36000.00
WHERE emp_id = 1;
\`\`\`

### 3.4 DELETE

\`\`\`sql
-- 
DELETE FROM employees WHERE emp_id = 1;
\`\`\`

---

## 4.  (JOIN)

### 4.1 INNER JOIN

\`\`\`sql
SELECT 
    e.emp_id,
    e.first_name || ' ' || e.last_name AS ,
    d.dept_name
FROM employees e
INNER JOIN departments d ON e.dept_id = d.dept_id;
\`\`\`

### 4.2 LEFT JOIN

\`\`\`sql
SELECT 
    d.dept_name,
    COUNT(e.emp_id) AS 
FROM departments d
LEFT JOIN employees e ON d.dept_id = e.dept_id
GROUP BY d.dept_name;
\`\`\`

---

## 5.  (VIEW)

\`\`\`sql
-- 
CREATE VIEW v_employee_details AS
SELECT 
    e.emp_id,
    e.first_name || ' ' || e.last_name AS full_name,
    d.dept_name,
    e.salary
FROM employees e
LEFT JOIN departments d ON e.dept_id = d.dept_id;

-- 
SELECT * FROM v_employee_details WHERE salary > 25000;
\`\`\`

---

## 6.  (TRANSACTION)

\`\`\`sql
-- 
BEGIN TRANSACTION;

-- 
UPDATE employees SET salary = salary * 1.1 WHERE dept_id = 1;

-- 
COMMIT;

-- 
-- ROLLBACK;
\`\`\`

---

## 7. 

### 

\`\`\`sql
SELECT 
    emp_id,
    salary,
    AVG(salary) OVER (PARTITION BY dept_id) AS 
FROM employees;
\`\`\`

### PIVOT

\`\`\`sql
PIVOT (
    SELECT dept_id, status FROM projects
)
ON status
USING COUNT(*);
\`\`\`

---

> **** SQL  DuckDB CLI  Python \`duckdb.connect()\` 
`,"philosophy-db":`
# 

## 



## 

### 1. 

|  |  |  |
| ---- | -------- | --------- |
| Thinker |  |  |
| School |  |  |
| Concept |  |  |

---

## DDL

### 1.  \`schools\`

\`\`\`sql
CREATE TABLE schools (
    school_id INTEGER PRIMARY KEY,
    name TEXT NOT NULL UNIQUE,
    description TEXT
);
\`\`\`

### 2.  \`thinkers\`

\`\`\`sql
CREATE TABLE thinkers (
    thinker_id INTEGER PRIMARY KEY,
    name TEXT NOT NULL UNIQUE,
    birth_year INTEGER,
    death_year INTEGER,
    era TEXT
);
\`\`\`

### 3.   

\`\`\`sql
CREATE TABLE thinker_schools (
    thinker_id INTEGER NOT NULL,
    school_id INTEGER NOT NULL,
    PRIMARY KEY (thinker_id, school_id),
    FOREIGN KEY (thinker_id) REFERENCES thinkers(thinker_id),
    FOREIGN KEY (school_id) REFERENCES schools(school_id)
);
\`\`\`

---

## 

\`\`\`sql
-- 
INSERT INTO schools VALUES 
    (1, '', ''),
    (2, '', ''),
    (3, '', '');

-- 
INSERT INTO thinkers VALUES 
    (1, '', -551, -479, ''),
    (2, '', -571, -471, ''),
    (3, '', -369, -286, ''),
    (4, '', -372, -289, '');

-- 
INSERT INTO thinker_schools VALUES 
    (1, 1),  --  -> 
    (2, 2),  --  -> 
    (3, 2),  --  -> 
    (4, 1);  --  -> 
\`\`\`

---

## 

### 

\`\`\`sql
SELECT 
    s.name AS ,
    COUNT(ts.thinker_id) AS 
FROM schools s
LEFT JOIN thinker_schools ts ON s.school_id = ts.school_id
GROUP BY s.school_id, s.name
ORDER BY  DESC;
\`\`\`

---

> **** DuckDB 
`},FVe="duckdb_tutorials",HVe=1,Wf="user_tutorials",SH=()=>new Promise((t,e)=>{const n=indexedDB.open(FVe,HVe);n.onerror=()=>e(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;if(!i.objectStoreNames.contains(Wf)){const s=i.createObjectStore(Wf,{keyPath:"id"});s.createIndex("title","title",{unique:!1}),s.createIndex("createdAt","createdAt",{unique:!1})}}}),GVe=async t=>{const e=await SH();return new Promise((n,r)=>{const o=e.transaction(Wf,"readwrite").objectStore(Wf).put(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n()})},QVe=async()=>{const t=await SH();return new Promise((e,n)=>{const s=t.transaction(Wf,"readonly").objectStore(Wf).getAll();s.onerror=()=>n(s.error),s.onsuccess=()=>e(s.result||[])})},VVe=async t=>{const e=await SH();return new Promise((n,r)=>{const o=e.transaction(Wf,"readonly").objectStore(Wf).get(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n(o.result)})},uj=t=>{const e=t.match(/^#\s+(.+)$/m);return e?e[1].trim():""},hj=t=>{const e=t.toLowerCase();return["","","","","partition","lateral","","",""].some(i=>e.includes(i))?"Advanced":["","","join","","","",""].some(i=>e.includes(i))?"Intermediate":"Beginner"},dj=t=>"",$Ve=()=>`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,fj={"duckdb-basics":"/docs/001 DuckDB_.md","philosophy-db":"/docs/002 DuckDB_.md"},Ji=[{id:"duckdb-basics",title:"DuckDB SQL ",description:" DuckDBJOIN DuckDB ",category:"",difficulty:"Beginner",tags:["SQL","DuckDB","","CRUD","JOIN","",""],order:1,docPath:fj["duckdb-basics"],estimatedTime:"2-3",sections:[{id:"env",title:"",anchor:"1-"},{id:"ddl",title:"",anchor:"2-"},{id:"crud",title:" (CRUD)",anchor:"3--crud"},{id:"join",title:" (JOIN)",anchor:"4--join"},{id:"view",title:" (VIEW)",anchor:"5--view"},{id:"transaction",title:" (TRANSACTION)",anchor:"6--transaction"},{id:"advanced",title:"",anchor:"7-"}],prerequisites:[],learningOutcomes:[" DuckDB "," SQL ","",""]},{id:"philosophy-db",title:"",description:"",category:"",difficulty:"Intermediate",tags:["","","DDL",""],order:2,docPath:fj["philosophy-db"],estimatedTime:"1-2",prerequisites:["duckdb-basics"],learningOutcomes:["","",""]}],pj=Ji.reduce((t,e)=>(t[e.category]||(t[e.category]=[]),t[e.category].push(e),t),{});Ji.filter(t=>t.difficulty==="Beginner"),Ji.filter(t=>t.difficulty==="Intermediate"),Ji.filter(t=>t.difficulty==="Advanced"),Ji.filter(t=>t.difficulty==="Expert");const WVe=t=>{const e=t.toLowerCase();if(!e.trim())return[];const n=[];return Ji.forEach(r=>{if(r.title.toLowerCase().includes(e)){n.push({...r,matchType:"title"});return}if(r.description.toLowerCase().includes(e)){n.push({...r,matchType:"description"});return}if(r.tags.some(s=>s.toLowerCase().includes(e))){n.push({...r,matchType:"tag"});return}const i=WP[r.id];if(i){const o=i.toLowerCase().indexOf(e);if(o!==-1){const a=Math.max(0,o-40),l=Math.min(i.length,o+t.length+60);let c=i.slice(a,l);a>0&&(c="..."+c),l<i.length&&(c=c+"..."),n.push({...r,matchingExcerpt:c,matchType:"content"})}}}),n},zee=t=>Ji.find(e=>e.id===t),YVe=t=>{const e=Ji.find(r=>r.id===t);if(!e)return Ji[0];const n=Ji.filter(r=>r.category===e.category&&r.order>e.order);return n.length>0?n[0]:Ji.find(r=>r.order>e.order)||Ji[0]},jVe=()=>{const t=Ji.find(e=>e.difficulty==="Beginner"&&e.tags.includes(""));return t||Ji.find(e=>e.difficulty==="Beginner")||Ji[0]},KVe=(t=[])=>{const e=[],n=new Set,r=s=>{n.has(s.id)||(n.add(s.id),s.prerequisites&&s.prerequisites.forEach(o=>{const a=zee(o);a&&r(a)}),e.push(s))};return[...Ji].sort((s,o)=>s.difficulty==="Beginner"&&o.difficulty!=="Beginner"?-1:o.difficulty==="Beginner"&&s.difficulty!=="Beginner"?1:s.order-o.order).forEach(s=>r(s)),e};let mj=[];const gj=async()=>{try{return mj=(await QVe()).map(e=>({id:e.id,title:e.title,description:e.content.slice(0,100)+(e.content.length>100?"...":""),category:e.category,difficulty:e.difficulty,tags:e.tags,order:999,docPath:"",isUserTutorial:!0,userContent:e.content})),[...Ji,...mj]}catch(t){return console.error("Failed to load user tutorials:",t),Ji}},zVe=async t=>{try{const e=await VVe(t);return(e==null?void 0:e.content)||null}catch(e){return console.error("Failed to get user tutorial content:",e),null}},qVe=({onSelectTutorial:t})=>{const[e,n]=H.useState(""),[r,i]=H.useState(!1),[s,o]=H.useState(0),a=H.useMemo(()=>e.trim()?WVe(e):[],[e]),l=H.useCallback(h=>{if(!(!r||a.length===0))switch(h.key){case"ArrowDown":h.preventDefault(),o(p=>Math.min(p+1,a.length-1));break;case"ArrowUp":h.preventDefault(),o(p=>Math.max(p-1,0));break;case"Enter":h.preventDefault(),a[s]&&(t(a[s]),n(""),i(!1));break;case"Escape":i(!1);break}},[r,a,s,t]),c=h=>{t(h),n(""),i(!1)},A=(h,p)=>{if(!p.trim())return h;const E=new RegExp(`(${p})`,"gi");return h.split(E).map((y,R)=>E.test(y)?f.jsx("mark",{className:"bg-monokai-yellow/40 text-monokai-yellow rounded px-0.5",children:y},R):y)},u=h=>{switch(h){case"Beginner":return"bg-monokai-green/20 text-monokai-green";case"Intermediate":return"bg-monokai-orange/20 text-monokai-orange";case"Advanced":return"bg-monokai-purple/20 text-monokai-purple";default:return"bg-monokai-blue/20 text-monokai-blue"}};return f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",value:e,onChange:h=>{n(h.target.value),i(!0),o(0)},onFocus:()=>i(!0),onKeyDown:l,placeholder:"...",className:"w-full bg-monokai-sidebar/50 border border-monokai-accent rounded-lg px-4 py-2.5 text-monokai-fg placeholder-monokai-comment focus:outline-none focus:border-monokai-blue pr-10"}),f.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-monokai-comment",children:e?"":"K"})]}),r&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-monokai-sidebar border border-monokai-accent rounded-lg shadow-xl z-50 max-h-80 overflow-y-auto custom-scrollbar",children:a.length>0?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"p-2 border-b border-monokai-accent/30 flex justify-between items-center",children:[f.jsxs("span",{className:"text-xs text-monokai-comment",children:[" ",a.length," "]}),f.jsx("span",{className:"text-[10px] text-monokai-comment/50",children:""})]}),a.map((h,p)=>f.jsxs("button",{onClick:()=>c(h),className:`w-full text-left p-3 border-b border-monokai-accent/20 last:border-0 transition-colors ${p===s?"bg-monokai-blue/20":"hover:bg-monokai-accent/20"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[f.jsx("span",{className:"text-sm font-medium text-monokai-fg truncate",children:A(h.title,e)}),h.matchType==="content"&&f.jsx("span",{className:"text-[10px] bg-monokai-accent/30 text-monokai-comment px-1 rounded shrink-0",children:""})]}),f.jsx("span",{className:`text-xs px-2 py-0.5 rounded shrink-0 ${u(h.difficulty)}`,children:h.difficulty==="Beginner"?"":h.difficulty==="Intermediate"?"":h.difficulty==="Advanced"?"":""})]}),h.matchingExcerpt?f.jsx("p",{className:"text-xs text-monokai-comment/80 font-mono bg-monokai-bg/30 p-1.5 rounded mt-1 border-l-2 border-monokai-yellow/30",children:A(h.matchingExcerpt,e)}):f.jsx("p",{className:"text-xs text-monokai-comment line-clamp-2",children:A(h.description,e)}),f.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:h.tags.slice(0,3).map(E=>f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${h.matchType==="tag"&&E.toLowerCase().includes(e.toLowerCase())?"text-monokai-yellow bg-monokai-yellow/10":"text-monokai-comment bg-monokai-accent/20"}`,children:E},E))})]},h.id))]}):e.trim()?f.jsxs("div",{className:"p-4 text-center",children:[f.jsx("p",{className:"text-sm text-monokai-comment",children:""}),f.jsx("p",{className:"text-xs text-monokai-comment mt-1",children:""})]}):f.jsxs("div",{className:"p-4",children:[f.jsx("p",{className:"text-xs text-monokai-comment mb-2",children:""}),Ji.slice(0,3).map(h=>f.jsx("button",{onClick:()=>c(h),className:"w-full text-left p-2 hover:bg-monokai-accent/20 rounded text-sm text-monokai-fg",children:h.title},h.id))]})}),r&&f.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)})]})},XVe=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,i]=H.useState(null),[s,o]=H.useState(""),[a,l]=H.useState(""),[c,A]=H.useState("Beginner"),[u,h]=H.useState(""),[p,E]=H.useState(""),[T,y]=H.useState(!1),[R,I]=H.useState(""),b=H.useRef(null),[B,w]=H.useState("file"),[O,L]=H.useState(""),[U,G]=H.useState(!1),Q=async V=>{var J;const $=(J=V.target.files)==null?void 0:J[0];if($){if(!$.name.endsWith(".md")){I(" .md  Markdown ");return}try{const te=await $.text();i($),o(te);const X=uj(te);l(X);const oe=hj(te);A(oe);const F=dj(te);h(F),I("")}catch(te){I(""),console.error("File read error:",te)}}},Y=async()=>{if(!O.trim()){I(" URL ");return}try{new URL(O)}catch{I(" URL ");return}G(!0),I("");try{const V=await fetch(O);if(!V.ok)throw new Error(`HTTP ${V.status}: ${V.statusText}`);const $=await V.text();if(!$.trim()){I("");return}o($);const J=uj($);l(J);const te=hj($);A(te);const X=dj($);h(X)}catch(V){console.error("URL fetch error:",V),I(" URL ")}finally{G(!1)}},K=async()=>{if(!s){I(" Markdown  URL ");return}if(!a.trim()){I("");return}y(!0),I("");try{const V={id:$Ve(),title:a.trim(),content:s,category:u,difficulty:c,tags:p.split(",").map($=>$.trim()).filter($=>$),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await GVe(V),n(),j()}catch(V){I(""),console.error("Save error:",V)}finally{y(!1)}},j=()=>{i(null),o(""),l(""),A("Beginner"),h(""),E(""),I(""),L(""),w("file"),e(),b.current&&(b.current.value="")};return t?f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:j}),f.jsxs("div",{className:"relative w-full max-w-lg mx-4 bg-monokai-sidebar border border-monokai-accent rounded-xl shadow-2xl overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-monokai-accent/50",children:[f.jsx("h2",{className:"text-lg font-bold text-white",children:""}),f.jsx("button",{onClick:j,className:"text-monokai-comment hover:text-white transition-colors",children:f.jsx("span",{className:"text-xl",children:""})})]}),f.jsxs("div",{className:"p-5 space-y-4 max-h-[70vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex gap-2 mb-2",children:[f.jsxs("button",{onClick:()=>{w("file"),I("")},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${B==="file"?"bg-monokai-blue/20 text-monokai-blue border border-monokai-blue/50":"bg-monokai-bg text-monokai-comment border border-monokai-accent/30 hover:border-monokai-accent/60"}`,children:[f.jsx(D0e,{className:"w-4 h-4"}),""]}),f.jsxs("button",{onClick:()=>{w("url"),I("")},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${B==="url"?"bg-monokai-blue/20 text-monokai-blue border border-monokai-blue/50":"bg-monokai-bg text-monokai-comment border border-monokai-accent/30 hover:border-monokai-accent/60"}`,children:[f.jsx(Ix,{className:"w-4 h-4"}),""]})]}),B==="file"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-monokai-fg mb-2",children:" Markdown "}),f.jsx("input",{ref:b,type:"file",accept:".md",onChange:Q,className:"w-full px-3 py-2 bg-monokai-bg border border-monokai-accent/50 rounded-lg text-sm text-monokai-fg file:mr-4 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-monokai-blue/20 file:text-monokai-blue hover:file:bg-monokai-blue/30 cursor-pointer"}),r&&f.jsxs("p",{className:"mt-1 text-xs text-monokai-green",children:[": ",r.name]})]}),B==="url"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-monokai-fg mb-2",children:" Markdown  URL"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"url",value:O,onChange:V=>L(V.target.value),placeholder:"https://example.com/tutorial.md",className:"flex-1 px-3 py-2 bg-monokai-bg border border-monokai-accent/50 rounded-lg text-sm text-monokai-fg placeholder-monokai-comment focus:outline-none focus:border-monokai-blue"}),f.jsx("button",{onClick:Y,disabled:U,className:"px-4 py-2 bg-monokai-blue/20 text-monokai-blue rounded-lg text-sm font-medium hover:bg-monokai-blue/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:U?f.jsxs(f.Fragment,{children:[f.jsx(Qh,{className:"w-4 h-4 animate-spin"}),""]}):f.jsxs(f.Fragment,{children:[f.jsx(Ix,{className:"w-4 h-4"}),""]})})]}),f.jsx("p",{className:"mt-1 text-xs text-monokai-comment",children:" .md "})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-monokai-fg mb-2",children:""}),f.jsx("input",{type:"text",value:a,onChange:V=>l(V.target.value),placeholder:"",className:"w-full px-3 py-2 bg-monokai-bg border border-monokai-accent/50 rounded-lg text-sm text-monokai-fg placeholder-monokai-comment focus:outline-none focus:border-monokai-blue"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-monokai-fg mb-2",children:""}),f.jsx("div",{className:"flex gap-2",children:["Beginner","Intermediate","Advanced","Expert"].map(V=>f.jsx("button",{onClick:()=>A(V),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${c===V?V==="Beginner"?"bg-monokai-green/20 text-monokai-green border border-monokai-green/50":V==="Intermediate"?"bg-monokai-orange/20 text-monokai-orange border border-monokai-orange/50":V==="Advanced"?"bg-monokai-purple/20 text-monokai-purple border border-monokai-purple/50":"bg-monokai-blue/20 text-monokai-blue border border-monokai-blue/50":"bg-monokai-bg text-monokai-comment border border-monokai-accent/30 hover:border-monokai-accent/60"}`,children:V==="Beginner"?"":V==="Intermediate"?"":V==="Advanced"?"":""},V))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-monokai-fg mb-2",children:""}),f.jsx("input",{type:"text",value:u,onChange:V=>h(V.target.value),placeholder:"",className:"w-full px-3 py-2 bg-monokai-bg border border-monokai-accent/50 rounded-lg text-sm text-monokai-fg placeholder-monokai-comment focus:outline-none focus:border-monokai-blue"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-monokai-fg mb-2",children:[" ",f.jsx("span",{className:"text-monokai-comment",children:"()"})]}),f.jsx("input",{type:"text",value:p,onChange:V=>E(V.target.value),placeholder:"SQL, , ",className:"w-full px-3 py-2 bg-monokai-bg border border-monokai-accent/50 rounded-lg text-sm text-monokai-fg placeholder-monokai-comment focus:outline-none focus:border-monokai-blue"})]}),R&&f.jsxs("div",{className:"p-3 bg-monokai-pink/10 border border-monokai-pink/30 rounded-lg text-sm text-monokai-pink flex items-center gap-2",children:[f.jsx(Rx,{className:"w-4 h-4 flex-shrink-0"}),R]}),s&&f.jsxs("div",{className:"p-3 bg-monokai-blue/10 border border-monokai-blue/30 rounded-lg",children:[f.jsx("div",{className:"text-xs text-monokai-blue mb-1",children:""}),f.jsxs("div",{className:"text-sm text-monokai-fg line-clamp-3",children:[s.slice(0,200),"..."]})]})]}),f.jsxs("div",{className:"flex items-center justify-end gap-3 px-5 py-4 border-t border-monokai-accent/50 bg-monokai-bg/50",children:[f.jsx("button",{onClick:j,className:"px-4 py-2 text-sm text-monokai-comment hover:text-white transition-colors",children:""}),f.jsx("button",{onClick:K,disabled:T||!s,className:`px-5 py-2 text-sm font-medium rounded-lg transition-all ${T||!s?"bg-monokai-accent/30 text-monokai-comment cursor-not-allowed":"bg-monokai-blue text-white hover:bg-monokai-blue/80"}`,children:T?"...":""})]})]})]}):null},JVe=({onSelectTutorial:t})=>{const[e,n]=H.useState(null),[r,i]=H.useState(null),[s,o]=H.useState(!1),[a,l]=H.useState(Ji),[c,A]=H.useState([]);H.useEffect(()=>{gj().then(l).catch(console.error)},[s]),H.useEffect(()=>{try{const b=localStorage.getItem("duckdb_learn_progress");if(b){const B=JSON.parse(b),w=Object.entries(B).filter(([O,L])=>L.completedAt).map(([O])=>O);A(w)}}catch{}},[]);const u=H.useMemo(()=>{let b=a;return e&&(b=b.filter(B=>B.category===e)),r&&(b=b.filter(B=>B.difficulty===r)),b},[e,r,a]),h=H.useMemo(()=>{const b=new Set(a.map(B=>B.category));return Array.from(b)},[a]),p=["Beginner","Intermediate","Advanced","Expert"],E=H.useMemo(()=>({total:a.length,completed:c.length,beginner:a.filter(b=>b.difficulty==="Beginner").length,intermediate:a.filter(b=>b.difficulty==="Intermediate").length,advanced:a.filter(b=>b.difficulty==="Advanced").length}),[c,a]),T=H.useMemo(()=>{const b=jVe();return b||a[0]||null},[a]),y=H.useMemo(()=>KVe(),[]),R=b=>{switch(b){case"Beginner":return{bg:"bg-monokai-green/20",text:"text-monokai-green",dot:"bg-monokai-green"};case"Intermediate":return{bg:"bg-monokai-orange/20",text:"text-monokai-orange",dot:"bg-monokai-orange"};case"Advanced":return{bg:"bg-monokai-purple/20",text:"text-monokai-purple",dot:"bg-monokai-purple"};default:return{bg:"bg-monokai-blue/20",text:"text-monokai-blue",dot:"bg-monokai-blue"}}},I=b=>{switch(b){case"Beginner":return"";case"Intermediate":return"";case"Advanced":return"";default:return""}};return f.jsxs("div",{className:"h-full overflow-y-auto bg-monokai-bg",children:[f.jsx("div",{className:"bg-gradient-to-r from-monokai-blue/10 via-monokai-purple/5 to-transparent border-b border-monokai-accent/30 p-6",children:f.jsxs("div",{className:"flex items-start justify-between gap-6",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"DuckDB "}),f.jsx("p",{className:"text-sm text-monokai-comment mb-4",children:""}),f.jsxs("button",{onClick:()=>t(T),className:"w-full bg-monokai-bg/60 border border-monokai-accent/40 rounded-xl p-4 text-left hover:border-monokai-blue/50 hover:bg-monokai-bg/80 transition-all group",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("span",{className:"text-xs font-medium text-monokai-blue bg-monokai-blue/20 px-2 py-0.5 rounded",children:""}),f.jsx("span",{className:"text-xs text-monokai-comment",children:T.estimatedTime})]}),f.jsx("h3",{className:"text-base font-bold text-monokai-fg group-hover:text-monokai-blue transition-colors",children:T.title}),f.jsx("p",{className:"text-xs text-monokai-comment mt-1 line-clamp-1",children:T.description})]})]}),f.jsx("div",{className:"shrink-0",children:f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 text-center border border-monokai-accent/30 min-w-[70px]",children:[f.jsx("div",{className:"text-xl font-bold text-monokai-blue",children:E.total}),f.jsx("div",{className:"text-[10px] text-monokai-comment uppercase",children:""})]}),f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 text-center border border-monokai-accent/30 min-w-[70px]",children:[f.jsx("div",{className:"text-xl font-bold text-monokai-green",children:E.completed}),f.jsx("div",{className:"text-[10px] text-monokai-comment uppercase",children:""})]}),f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 text-center border border-monokai-accent/30 min-w-[70px]",children:[f.jsx("div",{className:"text-xl font-bold text-monokai-purple",children:E.beginner}),f.jsx("div",{className:"text-[10px] text-monokai-comment uppercase",children:""})]})]})})]})}),f.jsx("div",{className:"px-6 py-4 border-b border-monokai-accent/20",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-monokai-green/20 text-monokai-green border border-monokai-green/30 rounded-lg text-xs font-medium hover:bg-monokai-green/30 transition-colors shrink-0",children:[f.jsx("span",{children:"+"}),f.jsx("span",{children:""})]}),f.jsx("div",{className:"flex-1 max-w-md",children:f.jsx(qVe,{onSelectTutorial:t})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-monokai-comment shrink-0",children:":"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>n(null),className:`px-2.5 py-1.5 rounded-md text-xs transition-all ${e===null?"bg-monokai-blue text-white":"bg-monokai-accent/20 text-monokai-comment hover:bg-monokai-accent/40"}`,children:""}),h.map(b=>f.jsx("button",{onClick:()=>n(b===e?null:b),className:`px-2.5 py-1.5 rounded-md text-xs transition-all ${e===b?"bg-monokai-blue text-white":"bg-monokai-accent/20 text-monokai-comment hover:bg-monokai-accent/40"}`,children:b},b))]})]}),f.jsx("div",{className:"w-px h-5 bg-monokai-accent/30"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-monokai-comment shrink-0",children:":"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>i(null),className:`px-2.5 py-1.5 rounded-md text-xs transition-all ${r===null?"bg-monokai-blue text-white":"bg-monokai-accent/20 text-monokai-comment hover:bg-monokai-accent/40"}`,children:""}),p.map(b=>f.jsx("button",{onClick:()=>i(b===r?null:b),className:`px-2.5 py-1.5 rounded-md text-xs transition-all ${r===b?"bg-monokai-blue text-white":"bg-monokai-accent/20 text-monokai-comment hover:bg-monokai-accent/40"}`,children:I(b)},b))]})]})]})}),f.jsx("div",{className:"px-6 py-3 bg-monokai-sidebar/20 border-b border-monokai-accent/10",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-monokai-comment",children:":"}),f.jsx("div",{className:"flex items-center gap-1.5 flex-1 overflow-hidden",children:y.map((b,B)=>f.jsxs(no.Fragment,{children:[f.jsxs("button",{onClick:()=>t(b),className:`flex items-center gap-1 px-2 py-1 rounded text-xs truncate max-w-[120px] transition-colors ${c.includes(b.id)?"bg-monokai-green/10 text-monokai-green":"bg-monokai-accent/10 text-monokai-fg hover:bg-monokai-accent/30"}`,title:b.title,children:[c.includes(b.id)&&f.jsx("span",{className:"shrink-0",children:""}),f.jsx("span",{className:"truncate",children:b.title})]}),B<y.length-1&&f.jsx("span",{className:"text-monokai-accent/40 shrink-0",children:""})]},b.id))})]})}),f.jsx("div",{className:"p-6",children:u.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:u.map(b=>{const B=R(b.difficulty),w=c.includes(b.id);return f.jsxs("button",{onClick:()=>t(b),className:`bg-monokai-sidebar/40 border rounded-xl p-4 text-left transition-all hover:-translate-y-0.5 hover:shadow-lg hover:border-monokai-blue/40 group ${w?"border-monokai-green/30":"border-monokai-accent/30"}`,children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w&&f.jsx("span",{className:"text-monokai-green text-xs",children:" "}),f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${B.bg} ${B.text}`,children:I(b.difficulty)})]}),f.jsx("h3",{className:"text-sm font-bold text-monokai-fg group-hover:text-monokai-blue transition-colors truncate",children:b.title})]}),f.jsx("span",{className:`w-2 h-2 rounded-full ${B.dot} shrink-0 ml-2`})]}),f.jsx("p",{className:"text-xs text-monokai-comment line-clamp-2 mb-3",children:b.description}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex gap-1 flex-wrap",children:b.tags.slice(0,2).map(O=>f.jsx("span",{className:"text-[10px] text-monokai-comment bg-monokai-accent/10 px-1.5 py-0.5 rounded",children:O},O))}),f.jsx("span",{className:"text-[10px] text-monokai-comment",children:b.estimatedTime})]})]},b.id)})}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-monokai-comment mb-4",children:""}),f.jsx("button",{onClick:()=>{n(null),i(null)},className:"text-sm text-monokai-blue hover:underline",children:""})]})}),f.jsx(XVe,{isOpen:s,onClose:()=>o(!1),onSuccess:()=>{gj().then(l).catch(console.error)}})]})};function ZVe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const e$e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,t$e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,n$e={};function Ej(t,e){return(n$e.jsx?t$e:e$e).test(t)}const r$e=/[ \t\n\f\r]/g;function i$e(t){return typeof t=="object"?t.type==="text"?Tj(t.value):!1:Tj(t)}function Tj(t){return t.replace(r$e,"")===""}class BR{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}BR.prototype.normal={};BR.prototype.property={};BR.prototype.space=void 0;function qee(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new BR(n,r,e)}function YP(t){return t.toLowerCase()}class il{constructor(e,n){this.attribute=n,this.property=e}}il.prototype.attribute="";il.prototype.booleanish=!1;il.prototype.boolean=!1;il.prototype.commaOrSpaceSeparated=!1;il.prototype.commaSeparated=!1;il.prototype.defined=!1;il.prototype.mustUseProperty=!1;il.prototype.number=!1;il.prototype.overloadedBoolean=!1;il.prototype.property="";il.prototype.spaceSeparated=!1;il.prototype.space=void 0;let s$e=0;const Jn=dg(),Es=dg(),jP=dg(),ot=dg(),Ci=dg(),zT=dg(),xl=dg();function dg(){return 2**++s$e}const KP=Object.freeze(Object.defineProperty({__proto__:null,boolean:Jn,booleanish:Es,commaOrSpaceSeparated:xl,commaSeparated:zT,number:ot,overloadedBoolean:jP,spaceSeparated:Ci},Symbol.toStringTag,{value:"Module"})),WD=Object.keys(KP);class yH extends il{constructor(e,n,r,i){let s=-1;if(super(e,n),Sj(this,"space",i),typeof r=="number")for(;++s<WD.length;){const o=WD[s];Sj(this,WD[s],(r&KP[o])===KP[o])}}}yH.prototype.defined=!0;function Sj(t,e,n){n&&(t[e]=n)}function zS(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new yH(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[YP(r)]=r,n[YP(s.attribute)]=r}return new BR(e,n,t.space)}const Xee=zS({properties:{ariaActiveDescendant:null,ariaAtomic:Es,ariaAutoComplete:null,ariaBusy:Es,ariaChecked:Es,ariaColCount:ot,ariaColIndex:ot,ariaColSpan:ot,ariaControls:Ci,ariaCurrent:null,ariaDescribedBy:Ci,ariaDetails:null,ariaDisabled:Es,ariaDropEffect:Ci,ariaErrorMessage:null,ariaExpanded:Es,ariaFlowTo:Ci,ariaGrabbed:Es,ariaHasPopup:null,ariaHidden:Es,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ci,ariaLevel:ot,ariaLive:null,ariaModal:Es,ariaMultiLine:Es,ariaMultiSelectable:Es,ariaOrientation:null,ariaOwns:Ci,ariaPlaceholder:null,ariaPosInSet:ot,ariaPressed:Es,ariaReadOnly:Es,ariaRelevant:null,ariaRequired:Es,ariaRoleDescription:Ci,ariaRowCount:ot,ariaRowIndex:ot,ariaRowSpan:ot,ariaSelected:Es,ariaSetSize:ot,ariaSort:null,ariaValueMax:ot,ariaValueMin:ot,ariaValueNow:ot,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Jee(t,e){return e in t?t[e]:e}function Zee(t,e){return Jee(t,e.toLowerCase())}const o$e=zS({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zT,acceptCharset:Ci,accessKey:Ci,action:null,allow:null,allowFullScreen:Jn,allowPaymentRequest:Jn,allowUserMedia:Jn,alt:null,as:null,async:Jn,autoCapitalize:null,autoComplete:Ci,autoFocus:Jn,autoPlay:Jn,blocking:Ci,capture:null,charSet:null,checked:Jn,cite:null,className:Ci,cols:ot,colSpan:null,content:null,contentEditable:Es,controls:Jn,controlsList:Ci,coords:ot|zT,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Jn,defer:Jn,dir:null,dirName:null,disabled:Jn,download:jP,draggable:Es,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Jn,formTarget:null,headers:Ci,height:ot,hidden:jP,high:ot,href:null,hrefLang:null,htmlFor:Ci,httpEquiv:Ci,id:null,imageSizes:null,imageSrcSet:null,inert:Jn,inputMode:null,integrity:null,is:null,isMap:Jn,itemId:null,itemProp:Ci,itemRef:Ci,itemScope:Jn,itemType:Ci,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Jn,low:ot,manifest:null,max:null,maxLength:ot,media:null,method:null,min:null,minLength:ot,multiple:Jn,muted:Jn,name:null,nonce:null,noModule:Jn,noValidate:Jn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Jn,optimum:ot,pattern:null,ping:Ci,placeholder:null,playsInline:Jn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Jn,referrerPolicy:null,rel:Ci,required:Jn,reversed:Jn,rows:ot,rowSpan:ot,sandbox:Ci,scope:null,scoped:Jn,seamless:Jn,selected:Jn,shadowRootClonable:Jn,shadowRootDelegatesFocus:Jn,shadowRootMode:null,shape:null,size:ot,sizes:null,slot:null,span:ot,spellCheck:Es,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ot,step:null,style:null,tabIndex:ot,target:null,title:null,translate:null,type:null,typeMustMatch:Jn,useMap:null,value:Es,width:ot,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ci,axis:null,background:null,bgColor:null,border:ot,borderColor:null,bottomMargin:ot,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Jn,declare:Jn,event:null,face:null,frame:null,frameBorder:null,hSpace:ot,leftMargin:ot,link:null,longDesc:null,lowSrc:null,marginHeight:ot,marginWidth:ot,noResize:Jn,noHref:Jn,noShade:Jn,noWrap:Jn,object:null,profile:null,prompt:null,rev:null,rightMargin:ot,rules:null,scheme:null,scrolling:Es,standby:null,summary:null,text:null,topMargin:ot,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ot,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Jn,disableRemotePlayback:Jn,prefix:null,property:null,results:ot,security:null,unselectable:null},space:"html",transform:Zee}),a$e=zS({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xl,accentHeight:ot,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ot,amplitude:ot,arabicForm:null,ascent:ot,attributeName:null,attributeType:null,azimuth:ot,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ot,by:null,calcMode:null,capHeight:ot,className:Ci,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ot,diffuseConstant:ot,direction:null,display:null,dur:null,divisor:ot,dominantBaseline:null,download:Jn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ot,enableBackground:null,end:null,event:null,exponent:ot,externalResourcesRequired:null,fill:null,fillOpacity:ot,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zT,g2:zT,glyphName:zT,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ot,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ot,horizOriginX:ot,horizOriginY:ot,id:null,ideographic:ot,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ot,k:ot,k1:ot,k2:ot,k3:ot,k4:ot,kernelMatrix:xl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ot,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ot,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ot,overlineThickness:ot,paintOrder:null,panose1:null,path:null,pathLength:ot,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ci,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ot,pointsAtY:ot,pointsAtZ:ot,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xl,rev:xl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xl,requiredFeatures:xl,requiredFonts:xl,requiredFormats:xl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ot,specularExponent:ot,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ot,strikethroughThickness:ot,string:null,stroke:null,strokeDashArray:xl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ot,strokeOpacity:ot,strokeWidth:null,style:null,surfaceScale:ot,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xl,tabIndex:ot,tableValues:null,target:null,targetX:ot,targetY:ot,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ot,underlineThickness:ot,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ot,values:null,vAlphabetic:ot,vMathematical:ot,vectorEffect:null,vHanging:ot,vIdeographic:ot,version:null,vertAdvY:ot,vertOriginX:ot,vertOriginY:ot,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ot,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Jee}),ete=zS({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),tte=zS({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Zee}),nte=zS({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),l$e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},c$e=/[A-Z]/g,yj=/-[a-z]/g,A$e=/^data[-\w.:]+$/i;function u$e(t,e){const n=YP(e);let r=e,i=il;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&A$e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(yj,d$e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!yj.test(s)){let o=s.replace(c$e,h$e);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=yH}return new i(r,e)}function h$e(t){return"-"+t.toLowerCase()}function d$e(t){return t.charAt(1).toUpperCase()}const f$e=qee([Xee,o$e,ete,tte,nte],"html"),CH=qee([Xee,a$e,ete,tte,nte],"svg");function p$e(t){return t.join(" ").trim()}var qE={},YD,Cj;function m$e(){if(Cj)return YD;Cj=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",A="*",u="",h="comment",p="declaration";function E(y,R){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];R=R||{};var I=1,b=1;function B(V){var $=V.match(e);$&&(I+=$.length);var J=V.lastIndexOf(l);b=~J?V.length-J:b+V.length}function w(){var V={line:I,column:b};return function($){return $.position=new O(V),G(),$}}function O(V){this.start=V,this.end={line:I,column:b},this.source=R.source}O.prototype.content=y;function L(V){var $=new Error(R.source+":"+I+":"+b+": "+V);if($.reason=V,$.filename=R.source,$.line=I,$.column=b,$.source=y,!R.silent)throw $}function U(V){var $=V.exec(y);if($){var J=$[0];return B(J),y=y.slice(J.length),$}}function G(){U(n)}function Q(V){var $;for(V=V||[];$=Y();)$!==!1&&V.push($);return V}function Y(){var V=w();if(!(c!=y.charAt(0)||A!=y.charAt(1))){for(var $=2;u!=y.charAt($)&&(A!=y.charAt($)||c!=y.charAt($+1));)++$;if($+=2,u===y.charAt($-1))return L("End of comment missing");var J=y.slice(2,$-2);return b+=2,B(J),y=y.slice($),b+=2,V({type:h,comment:J})}}function K(){var V=w(),$=U(r);if($){if(Y(),!U(i))return L("property missing ':'");var J=U(s),te=V({type:p,property:T($[0].replace(t,u)),value:J?T(J[0].replace(t,u)):u});return U(o),te}}function j(){var V=[];Q(V);for(var $;$=K();)$!==!1&&(V.push($),Q(V));return V}return G(),j()}function T(y){return y?y.replace(a,u):u}return YD=E,YD}var xj;function g$e(){if(xj)return qE;xj=1;var t=qE&&qE.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qE,"__esModule",{value:!0}),qE.default=n;const e=t(m$e());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const o=(0,e.default)(r),a=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:A}=l;a?i(c,A,l):A&&(s=s||{},s[c]=A)}),s}return qE}var Y0={},Rj;function E$e(){if(Rj)return Y0;Rj=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||t.test(c)},o=function(c,A){return A.toUpperCase()},a=function(c,A){return"".concat(A,"-")},l=function(c,A){return A===void 0&&(A={}),s(c)?c:(c=c.toLowerCase(),A.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(e,o))};return Y0.camelCase=l,Y0}var j0,Ij;function T$e(){if(Ij)return j0;Ij=1;var t=j0&&j0.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(g$e()),n=E$e();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,j0=r,j0}var S$e=T$e();const y$e=kS(S$e),rte=ite("end"),xH=ite("start");function ite(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function C$e(t){const e=xH(t),n=rte(t);if(e&&n)return{start:e,end:n}}function ax(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?_j(t.position):"start"in t||"end"in t?_j(t):"line"in t||"column"in t?zP(t):""}function zP(t){return Nj(t&&t.line)+":"+Nj(t&&t.column)}function _j(t){return zP(t&&t.start)+"-"+zP(t&&t.end)}function Nj(t){return t&&typeof t=="number"?t:1}class Ko extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=ax(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ko.prototype.file="";Ko.prototype.name="";Ko.prototype.reason="";Ko.prototype.message="";Ko.prototype.stack="";Ko.prototype.column=void 0;Ko.prototype.line=void 0;Ko.prototype.ancestors=void 0;Ko.prototype.cause=void 0;Ko.prototype.fatal=void 0;Ko.prototype.place=void 0;Ko.prototype.ruleId=void 0;Ko.prototype.source=void 0;const RH={}.hasOwnProperty,x$e=new Map,R$e=/[A-Z]/g,I$e=new Set(["table","tbody","thead","tfoot","tr"]),_$e=new Set(["td","th"]),ste="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function N$e(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=k$e(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=D$e(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?CH:f$e,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=ote(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function ote(t,e,n){if(e.type==="element")return b$e(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return v$e(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return w$e(t,e,n);if(e.type==="mdxjsEsm")return O$e(t,e);if(e.type==="root")return L$e(t,e,n);if(e.type==="text")return B$e(t,e)}function b$e(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=CH,t.schema=i),t.ancestors.push(e);const s=lte(t,e.tagName,!1),o=M$e(t,e);let a=_H(t,e);return I$e.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!i$e(l):!0})),ate(t,o,s,e),IH(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function v$e(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Zx(t,e.position)}function O$e(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Zx(t,e.position)}function w$e(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=CH,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:lte(t,e.name,!0),o=P$e(t,e),a=_H(t,e);return ate(t,o,s,e),IH(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function L$e(t,e,n){const r={};return IH(r,_H(t,e)),t.create(e,t.Fragment,r,n)}function B$e(t,e){return e.value}function ate(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function IH(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function D$e(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function k$e(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=xH(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function M$e(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&RH.call(e.properties,i)){const s=U$e(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&_$e.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function P$e(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Zx(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Zx(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function _H(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:x$e;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=ote(t,s,o);a!==void 0&&n.push(a)}return n}function U$e(t,e,n){const r=u$e(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ZVe(n):p$e(n)),r.property==="style"){let i=typeof n=="object"?n:F$e(t,String(n));return t.stylePropertyNameCase==="css"&&(i=H$e(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?l$e[r.property]||r.property:r.attribute,n]}}function F$e(t,e){try{return y$e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ko("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=ste+"#cannot-parse-style-attribute",i}}function lte(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=Ej(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Ej(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return RH.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Zx(t)}function Zx(t,e){const n=new Ko("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=ste+"#cannot-handle-mdx-estrees-without-createevaluater",n}function H$e(t){const e={};let n;for(n in t)RH.call(t,n)&&(e[G$e(n)]=t[n]);return e}function G$e(t){let e=t.replace(R$e,Q$e);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Q$e(t){return"-"+t.toLowerCase()}const jD={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},V$e={};function NH(t,e){const n=V$e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cte(t,r,i)}function cte(t,e,n){if($$e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return bj(t.children,e,n)}return Array.isArray(t)?bj(t,e,n):""}function bj(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=cte(t[i],e,n);return r.join("")}function $$e(t){return!!(t&&typeof t=="object")}const vj=document.createElement("i");function bH(t){const e="&"+t+";";vj.innerHTML=e;const n=vj.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function bl(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function cc(t,e){return t.length>0?(bl(t,t.length,0,e),t):e}const Oj={}.hasOwnProperty;function Ate(t){const e={};let n=-1;for(;++n<t.length;)W$e(e,t[n]);return e}function W$e(t,e){let n;for(n in e){const i=(Oj.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Oj.call(i,o)||(i[o]=[]);const a=s[o];Y$e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Y$e(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);bl(t,0,0,r)}function ute(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function cA(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ua=tp(/[A-Za-z]/),Go=tp(/[\dA-Za-z]/),j$e=tp(/[#-'*+\--9=?A-Z^-~]/);function OO(t){return t!==null&&(t<32||t===127)}const qP=tp(/\d/),K$e=tp(/[\dA-Fa-f]/),z$e=tp(/[!-/:-@[-`{-~]/);function pn(t){return t!==null&&t<-2}function mi(t){return t!==null&&(t<0||t===32)}function fr(t){return t===-2||t===-1||t===32}const mL=tp(new RegExp("\\p{P}|\\p{S}","u")),Zm=tp(/\s/);function tp(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function qS(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Go(t.charCodeAt(n+1))&&Go(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Lr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return fr(l)?(t.enter(n),a(l)):e(l)}function a(l){return fr(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const q$e={tokenize:X$e};function X$e(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Lr(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return pn(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const J$e={tokenize:Z$e},wj={tokenize:eWe};function Z$e(t){const e=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,l,c)(b)}return c(b)}function l(b){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&I();const B=e.events.length;let w=B,O;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){O=e.events[w][1].end;break}R(r);let L=B;for(;L<e.events.length;)e.events[L][1].end={...O},L++;return bl(e.events,w+1,0,e.events.slice(B)),e.events.length=L,c(b)}return a(b)}function c(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return E(b);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(wj,A,u)(b)}function A(b){return i&&I(),R(r),h(b)}function u(b){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,E(b)}function h(b){return e.containerState={},t.attempt(wj,p,E)(b)}function p(b){return r++,n.push([e.currentConstruct,e.containerState]),h(b)}function E(b){if(b===null){i&&I(),R(0),t.consume(b);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),T(b)}function T(b){if(b===null){y(t.exit("chunkFlow"),!0),R(0),t.consume(b);return}return pn(b)?(t.consume(b),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(b),T)}function y(b,B){const w=e.sliceStream(b);if(B&&w.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(w),e.parser.lazy[b.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<o&&(!i.events[O][1].end||i.events[O][1].end.offset>o))return;const L=e.events.length;let U=L,G,Q;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){if(G){Q=e.events[U][1].end;break}G=!0}for(R(r),O=L;O<e.events.length;)e.events[O][1].end={...Q},O++;bl(e.events,U+1,0,e.events.slice(L)),e.events.length=O}}function R(b){let B=n.length;for(;B-- >b;){const w=n[B];e.containerState=w[1],w[0].exit.call(e,t)}n.length=b}function I(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function eWe(t,e,n){return Lr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function RS(t){if(t===null||mi(t)||Zm(t))return 1;if(mL(t))return 2}function gL(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const XP={name:"attention",resolveAll:tWe,tokenize:nWe};function tWe(t,e){let n=-1,r,i,s,o,a,l,c,A;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const u={...t[r][1].end},h={...t[n][1].start};Lj(u,-l),Lj(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:u,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=cc(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=cc(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=cc(c,gL(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=cc(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(A=2,c=cc(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):A=0,bl(t,r-1,n-r+3,c),n=r+c.length-A-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function nWe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=RS(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),A=RS(l),u=!A||A===2&&i||n.includes(l),h=!i||i===2&&A||n.includes(r);return c._open=!!(s===42?u:u&&(i||!h)),c._close=!!(s===42?h:h&&(A||!u)),e(l)}}function Lj(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const rWe={name:"autolink",tokenize:iWe};function iWe(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return ua(p)?(t.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||Go(p)?(r=1,a(p)):c(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Go(p))&&r++<32?(t.consume(p),a):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||OO(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),A):j$e(p)?(t.consume(p),c):n(p)}function A(p){return Go(p)?u(p):n(p)}function u(p){return p===46?(t.consume(p),r=0,A):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Go(p))&&r++<63){const E=p===45?h:u;return t.consume(p),E}return n(p)}}const DR={partial:!0,tokenize:sWe};function sWe(t,e,n){return r;function r(s){return fr(s)?Lr(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||pn(s)?e(s):n(s)}}const hte={continuation:{tokenize:aWe},exit:lWe,name:"blockQuote",tokenize:oWe};function oWe(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return fr(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function aWe(t,e,n){const r=this;return i;function i(o){return fr(o)?Lr(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(hte,e,n)(o)}}function lWe(t){t.exit("blockQuote")}const dte={name:"characterEscape",tokenize:cWe};function cWe(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return z$e(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const fte={name:"characterReference",tokenize:AWe};function AWe(t,e,n){const r=this;let i=0,s,o;return a;function a(u){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(u),t.exit("characterReferenceMarker"),l}function l(u){return u===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(u),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Go,A(u))}function c(u){return u===88||u===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(u),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=K$e,A):(t.enter("characterReferenceValue"),s=7,o=qP,A(u))}function A(u){if(u===59&&i){const h=t.exit("characterReferenceValue");return o===Go&&!bH(r.sliceSerialize(h))?n(u):(t.enter("characterReferenceMarker"),t.consume(u),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(u)&&i++<s?(t.consume(u),A):n(u)}}const Bj={partial:!0,tokenize:hWe},Dj={concrete:!0,name:"codeFenced",tokenize:uWe};function uWe(t,e,n){const r=this,i={partial:!0,tokenize:w};let s=0,o=0,a;return l;function l(O){return c(O)}function c(O){const L=r.events[r.events.length-1];return s=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,a=O,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),A(O)}function A(O){return O===a?(o++,t.consume(O),A):o<3?n(O):(t.exit("codeFencedFenceSequence"),fr(O)?Lr(t,u,"whitespace")(O):u(O))}function u(O){return O===null||pn(O)?(t.exit("codeFencedFence"),r.interrupt?e(O):t.check(Bj,T,B)(O)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(O))}function h(O){return O===null||pn(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),u(O)):fr(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Lr(t,p,"whitespace")(O)):O===96&&O===a?n(O):(t.consume(O),h)}function p(O){return O===null||pn(O)?u(O):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(O))}function E(O){return O===null||pn(O)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),u(O)):O===96&&O===a?n(O):(t.consume(O),E)}function T(O){return t.attempt(i,B,y)(O)}function y(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),R}function R(O){return s>0&&fr(O)?Lr(t,I,"linePrefix",s+1)(O):I(O)}function I(O){return O===null||pn(O)?t.check(Bj,T,B)(O):(t.enter("codeFlowValue"),b(O))}function b(O){return O===null||pn(O)?(t.exit("codeFlowValue"),I(O)):(t.consume(O),b)}function B(O){return t.exit("codeFenced"),e(O)}function w(O,L,U){let G=0;return Q;function Q($){return O.enter("lineEnding"),O.consume($),O.exit("lineEnding"),Y}function Y($){return O.enter("codeFencedFence"),fr($)?Lr(O,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):K($)}function K($){return $===a?(O.enter("codeFencedFenceSequence"),j($)):U($)}function j($){return $===a?(G++,O.consume($),j):G>=o?(O.exit("codeFencedFenceSequence"),fr($)?Lr(O,V,"whitespace")($):V($)):U($)}function V($){return $===null||pn($)?(O.exit("codeFencedFence"),L($)):U($)}}}function hWe(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const KD={name:"codeIndented",tokenize:fWe},dWe={partial:!0,tokenize:pWe};function fWe(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Lr(t,s,"linePrefix",5)(c)}function s(c){const A=r.events[r.events.length-1];return A&&A[1].type==="linePrefix"&&A[2].sliceSerialize(A[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):pn(c)?t.attempt(dWe,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||pn(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function pWe(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):pn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Lr(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):pn(o)?i(o):n(o)}}const mWe={name:"codeText",previous:EWe,resolve:gWe,tokenize:TWe};function gWe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function EWe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TWe(t,e,n){let r=0,i,s;return o;function o(u){return t.enter("codeText"),t.enter("codeTextSequence"),a(u)}function a(u){return u===96?(t.consume(u),r++,a):(t.exit("codeTextSequence"),l(u))}function l(u){return u===null?n(u):u===32?(t.enter("space"),t.consume(u),t.exit("space"),l):u===96?(s=t.enter("codeTextSequence"),i=0,A(u)):pn(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(u))}function c(u){return u===null||u===32||u===96||pn(u)?(t.exit("codeTextData"),l(u)):(t.consume(u),c)}function A(u){return u===96?(t.consume(u),i++,A):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(u)):(s.type="codeTextData",c(u))}}class SWe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&K0(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),K0(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),K0(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);K0(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);K0(this.left,n.reverse())}}}function K0(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function pte(t){const e={};let n=-1,r,i,s,o,a,l,c;const A=new SWe(t);for(;++n<A.length;){for(;n in e;)n=e[n];if(r=A.get(n),n&&r[1].type==="chunkFlow"&&A.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,yWe(A,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=A.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(A.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...A.get(i)[1].start},a=A.slice(i,n),a.unshift(r),A.splice(i,n-i+1,a))}}return bl(t,0,Number.POSITIVE_INFINITY,A.slice(0)),!c}function yWe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let A,u,h=-1,p=n,E=0,T=0;const y=[T];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(A=r.sliceStream(p),p.next||A.push(null),u&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(A),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),u=p,p=p.next}for(p=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(T=h+1,y.push(T),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),h=y.length;h--;){const R=a.slice(y[h],y[h+1]),I=s.pop();l.push([I,I+R.length-1]),t.splice(I,2,R)}for(l.reverse(),h=-1;++h<l.length;)c[E+l[h][0]]=E+l[h][1],E+=l[h][1]-l[h][0]-1;return c}const CWe={resolve:RWe,tokenize:IWe},xWe={partial:!0,tokenize:_We};function RWe(t){return pte(t),t}function IWe(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):pn(a)?t.check(xWe,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function _We(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Lr(t,s,"linePrefix")}function s(o){if(o===null||pn(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function mte(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let A=0;return u;function u(R){return R===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(R),t.exit(s),h):R===null||R===32||R===41||OO(R)?n(R):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),T(R))}function h(R){return R===62?(t.enter(s),t.consume(R),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(R))}function p(R){return R===62?(t.exit("chunkString"),t.exit(a),h(R)):R===null||R===60||pn(R)?n(R):(t.consume(R),R===92?E:p)}function E(R){return R===60||R===62||R===92?(t.consume(R),p):p(R)}function T(R){return!A&&(R===null||R===41||mi(R))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(R)):A<c&&R===40?(t.consume(R),A++,T):R===41?(t.consume(R),A--,T):R===null||R===32||R===40||OO(R)?n(R):(t.consume(R),R===92?y:T)}function y(R){return R===40||R===41||R===92?(t.consume(R),T):T(R)}}function gte(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),A}function A(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):pn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),A):(t.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===null||p===91||p===93||pn(p)||a++>999?(t.exit("chunkString"),A(p)):(t.consume(p),l||(l=!fr(p)),p===92?h:u)}function h(p){return p===91||p===92||p===93?(t.consume(p),a++,u):u(p)}}function Ete(t,e,n,r,i,s){let o;return a;function a(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(s),c(h))}function c(h){return h===o?(t.exit(s),l(o)):h===null?n(h):pn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Lr(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),A(h))}function A(h){return h===o||h===null||pn(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?u:A)}function u(h){return h===o||h===92?(t.consume(h),A):A(h)}}function lx(t,e){let n;return r;function r(i){return pn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):fr(i)?Lr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const NWe={name:"definition",tokenize:vWe},bWe={partial:!0,tokenize:OWe};function vWe(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return gte.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=cA(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return mi(p)?lx(t,c)(p):c(p)}function c(p){return mte(t,A,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function A(p){return t.attempt(bWe,u,u)(p)}function u(p){return fr(p)?Lr(t,h,"whitespace")(p):h(p)}function h(p){return p===null||pn(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function OWe(t,e,n){return r;function r(a){return mi(a)?lx(t,i)(a):n(a)}function i(a){return Ete(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return fr(a)?Lr(t,o,"whitespace")(a):o(a)}function o(a){return a===null||pn(a)?e(a):n(a)}}const wWe={name:"hardBreakEscape",tokenize:LWe};function LWe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return pn(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const BWe={name:"headingAtx",resolve:DWe,tokenize:kWe};function DWe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},bl(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function kWe(t,e,n){let r=0;return i;function i(A){return t.enter("atxHeading"),s(A)}function s(A){return t.enter("atxHeadingSequence"),o(A)}function o(A){return A===35&&r++<6?(t.consume(A),o):A===null||mi(A)?(t.exit("atxHeadingSequence"),a(A)):n(A)}function a(A){return A===35?(t.enter("atxHeadingSequence"),l(A)):A===null||pn(A)?(t.exit("atxHeading"),e(A)):fr(A)?Lr(t,a,"whitespace")(A):(t.enter("atxHeadingText"),c(A))}function l(A){return A===35?(t.consume(A),l):(t.exit("atxHeadingSequence"),a(A))}function c(A){return A===null||A===35||mi(A)?(t.exit("atxHeadingText"),a(A)):(t.consume(A),c)}}const MWe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kj=["pre","script","style","textarea"],PWe={concrete:!0,name:"htmlFlow",resolveTo:HWe,tokenize:GWe},UWe={partial:!0,tokenize:VWe},FWe={partial:!0,tokenize:QWe};function HWe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function GWe(t,e,n){const r=this;let i,s,o,a,l;return c;function c(q){return A(q)}function A(q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(q),u}function u(q){return q===33?(t.consume(q),h):q===47?(t.consume(q),s=!0,T):q===63?(t.consume(q),i=3,r.interrupt?e:F):ua(q)?(t.consume(q),o=String.fromCharCode(q),y):n(q)}function h(q){return q===45?(t.consume(q),i=2,p):q===91?(t.consume(q),i=5,a=0,E):ua(q)?(t.consume(q),i=4,r.interrupt?e:F):n(q)}function p(q){return q===45?(t.consume(q),r.interrupt?e:F):n(q)}function E(q){const we="CDATA[";return q===we.charCodeAt(a++)?(t.consume(q),a===we.length?r.interrupt?e:K:E):n(q)}function T(q){return ua(q)?(t.consume(q),o=String.fromCharCode(q),y):n(q)}function y(q){if(q===null||q===47||q===62||mi(q)){const we=q===47,Oe=o.toLowerCase();return!we&&!s&&kj.includes(Oe)?(i=1,r.interrupt?e(q):K(q)):MWe.includes(o.toLowerCase())?(i=6,we?(t.consume(q),R):r.interrupt?e(q):K(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):s?I(q):b(q))}return q===45||Go(q)?(t.consume(q),o+=String.fromCharCode(q),y):n(q)}function R(q){return q===62?(t.consume(q),r.interrupt?e:K):n(q)}function I(q){return fr(q)?(t.consume(q),I):Q(q)}function b(q){return q===47?(t.consume(q),Q):q===58||q===95||ua(q)?(t.consume(q),B):fr(q)?(t.consume(q),b):Q(q)}function B(q){return q===45||q===46||q===58||q===95||Go(q)?(t.consume(q),B):w(q)}function w(q){return q===61?(t.consume(q),O):fr(q)?(t.consume(q),w):b(q)}function O(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),l=q,L):fr(q)?(t.consume(q),O):U(q)}function L(q){return q===l?(t.consume(q),l=null,G):q===null||pn(q)?n(q):(t.consume(q),L)}function U(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||mi(q)?w(q):(t.consume(q),U)}function G(q){return q===47||q===62||fr(q)?b(q):n(q)}function Q(q){return q===62?(t.consume(q),Y):n(q)}function Y(q){return q===null||pn(q)?K(q):fr(q)?(t.consume(q),Y):n(q)}function K(q){return q===45&&i===2?(t.consume(q),J):q===60&&i===1?(t.consume(q),te):q===62&&i===4?(t.consume(q),ee):q===63&&i===3?(t.consume(q),F):q===93&&i===5?(t.consume(q),oe):pn(q)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(UWe,le,j)(q)):q===null||pn(q)?(t.exit("htmlFlowData"),j(q)):(t.consume(q),K)}function j(q){return t.check(FWe,V,le)(q)}function V(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),$}function $(q){return q===null||pn(q)?j(q):(t.enter("htmlFlowData"),K(q))}function J(q){return q===45?(t.consume(q),F):K(q)}function te(q){return q===47?(t.consume(q),o="",X):K(q)}function X(q){if(q===62){const we=o.toLowerCase();return kj.includes(we)?(t.consume(q),ee):K(q)}return ua(q)&&o.length<8?(t.consume(q),o+=String.fromCharCode(q),X):K(q)}function oe(q){return q===93?(t.consume(q),F):K(q)}function F(q){return q===62?(t.consume(q),ee):q===45&&i===2?(t.consume(q),F):K(q)}function ee(q){return q===null||pn(q)?(t.exit("htmlFlowData"),le(q)):(t.consume(q),ee)}function le(q){return t.exit("htmlFlow"),e(q)}}function QWe(t,e,n){const r=this;return i;function i(o){return pn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function VWe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(DR,e,n)}}const $We={name:"htmlText",tokenize:WWe};function WWe(t,e,n){const r=this;let i,s,o;return a;function a(F){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(F),l}function l(F){return F===33?(t.consume(F),c):F===47?(t.consume(F),w):F===63?(t.consume(F),b):ua(F)?(t.consume(F),U):n(F)}function c(F){return F===45?(t.consume(F),A):F===91?(t.consume(F),s=0,E):ua(F)?(t.consume(F),I):n(F)}function A(F){return F===45?(t.consume(F),p):n(F)}function u(F){return F===null?n(F):F===45?(t.consume(F),h):pn(F)?(o=u,te(F)):(t.consume(F),u)}function h(F){return F===45?(t.consume(F),p):u(F)}function p(F){return F===62?J(F):F===45?h(F):u(F)}function E(F){const ee="CDATA[";return F===ee.charCodeAt(s++)?(t.consume(F),s===ee.length?T:E):n(F)}function T(F){return F===null?n(F):F===93?(t.consume(F),y):pn(F)?(o=T,te(F)):(t.consume(F),T)}function y(F){return F===93?(t.consume(F),R):T(F)}function R(F){return F===62?J(F):F===93?(t.consume(F),R):T(F)}function I(F){return F===null||F===62?J(F):pn(F)?(o=I,te(F)):(t.consume(F),I)}function b(F){return F===null?n(F):F===63?(t.consume(F),B):pn(F)?(o=b,te(F)):(t.consume(F),b)}function B(F){return F===62?J(F):b(F)}function w(F){return ua(F)?(t.consume(F),O):n(F)}function O(F){return F===45||Go(F)?(t.consume(F),O):L(F)}function L(F){return pn(F)?(o=L,te(F)):fr(F)?(t.consume(F),L):J(F)}function U(F){return F===45||Go(F)?(t.consume(F),U):F===47||F===62||mi(F)?G(F):n(F)}function G(F){return F===47?(t.consume(F),J):F===58||F===95||ua(F)?(t.consume(F),Q):pn(F)?(o=G,te(F)):fr(F)?(t.consume(F),G):J(F)}function Q(F){return F===45||F===46||F===58||F===95||Go(F)?(t.consume(F),Q):Y(F)}function Y(F){return F===61?(t.consume(F),K):pn(F)?(o=Y,te(F)):fr(F)?(t.consume(F),Y):G(F)}function K(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),i=F,j):pn(F)?(o=K,te(F)):fr(F)?(t.consume(F),K):(t.consume(F),V)}function j(F){return F===i?(t.consume(F),i=void 0,$):F===null?n(F):pn(F)?(o=j,te(F)):(t.consume(F),j)}function V(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||mi(F)?G(F):(t.consume(F),V)}function $(F){return F===47||F===62||mi(F)?G(F):n(F)}function J(F){return F===62?(t.consume(F),t.exit("htmlTextData"),t.exit("htmlText"),e):n(F)}function te(F){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),X}function X(F){return fr(F)?Lr(t,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):oe(F)}function oe(F){return t.enter("htmlTextData"),o(F)}}const vH={name:"labelEnd",resolveAll:zWe,resolveTo:qWe,tokenize:XWe},YWe={tokenize:JWe},jWe={tokenize:ZWe},KWe={tokenize:eYe};function zWe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&bl(t,0,t.length,n),t}function qWe(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},A={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=cc(a,t.slice(s+1,s+r+3)),a=cc(a,[["enter",A,e]]),a=cc(a,gL(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=cc(a,[["exit",A,e],t[o-2],t[o-1],["exit",c,e]]),a=cc(a,t.slice(o+1)),a=cc(a,[["exit",l,e]]),bl(t,s,t.length,a),t}function XWe(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?u(h):(o=r.parser.defined.includes(cA(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(YWe,A,o?A:u)(h):h===91?t.attempt(jWe,A,o?c:u)(h):o?A(h):u(h)}function c(h){return t.attempt(KWe,A,u)(h)}function A(h){return e(h)}function u(h){return s._balanced=!0,n(h)}}function JWe(t,e,n){return r;function r(u){return t.enter("resource"),t.enter("resourceMarker"),t.consume(u),t.exit("resourceMarker"),i}function i(u){return mi(u)?lx(t,s)(u):s(u)}function s(u){return u===41?A(u):mte(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function o(u){return mi(u)?lx(t,l)(u):A(u)}function a(u){return n(u)}function l(u){return u===34||u===39||u===40?Ete(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):A(u)}function c(u){return mi(u)?lx(t,A)(u):A(u)}function A(u){return u===41?(t.enter("resourceMarker"),t.consume(u),t.exit("resourceMarker"),t.exit("resource"),e):n(u)}}function ZWe(t,e,n){const r=this;return i;function i(a){return gte.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(cA(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function eYe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const tYe={name:"labelStartImage",resolveAll:vH.resolveAll,tokenize:nYe};function nYe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const rYe={name:"labelStartLink",resolveAll:vH.resolveAll,tokenize:iYe};function iYe(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const zD={name:"lineEnding",tokenize:sYe};function sYe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Lr(t,e,"linePrefix")}}const wb={name:"thematicBreak",tokenize:oYe};function oYe(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||pn(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),fr(c)?Lr(t,a,"whitespace")(c):a(c))}}const Ua={continuation:{tokenize:AYe},exit:hYe,name:"list",tokenize:cYe},aYe={partial:!0,tokenize:dYe},lYe={partial:!0,tokenize:uYe};function cYe(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const E=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:qP(p)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(wb,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return qP(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(DR,r.interrupt?n:A,t.attempt(aYe,h,u))}function A(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function u(p){return fr(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function AYe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(DR,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Lr(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!fr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(lYe,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Lr(t,t.attempt(Ua,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function uYe(t,e,n){const r=this;return Lr(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function hYe(t){t.exit(this.containerState.type)}function dYe(t,e,n){const r=this;return Lr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!fr(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const Mj={name:"setextUnderline",resolveTo:fYe,tokenize:pYe};function fYe(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function pYe(t,e,n){const r=this;let i;return s;function s(c){let A=r.events.length,u;for(;A--;)if(r.events[A][1].type!=="lineEnding"&&r.events[A][1].type!=="linePrefix"&&r.events[A][1].type!=="content"){u=r.events[A][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||u)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),fr(c)?Lr(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||pn(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const mYe={tokenize:gYe};function gYe(t){const e=this,n=t.attempt(DR,r,t.attempt(this.parser.constructs.flowInitial,i,Lr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(CWe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const EYe={resolveAll:Ste()},TYe=Tte("string"),SYe=Tte("text");function Tte(t){return{resolveAll:Ste(t==="text"?yYe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(A){return c(A)?s(A):a(A)}function a(A){if(A===null){n.consume(A);return}return n.enter("data"),n.consume(A),l}function l(A){return c(A)?(n.exit("data"),s(A)):(n.consume(A),l)}function c(A){if(A===null)return!0;const u=i[A];let h=-1;if(u)for(;++h<u.length;){const p=u[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function Ste(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function yYe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const CYe={42:Ua,43:Ua,45:Ua,48:Ua,49:Ua,50:Ua,51:Ua,52:Ua,53:Ua,54:Ua,55:Ua,56:Ua,57:Ua,62:hte},xYe={91:NWe},RYe={[-2]:KD,[-1]:KD,32:KD},IYe={35:BWe,42:wb,45:[Mj,wb],60:PWe,61:Mj,95:wb,96:Dj,126:Dj},_Ye={38:fte,92:dte},NYe={[-5]:zD,[-4]:zD,[-3]:zD,33:tYe,38:fte,42:XP,60:[rWe,$We],91:rYe,92:[wWe,dte],93:vH,95:XP,96:mWe},bYe={null:[XP,EYe]},vYe={null:[42,95]},OYe={null:[]},wYe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vYe,contentInitial:xYe,disable:OYe,document:CYe,flow:IYe,flowInitial:RYe,insideSpan:bYe,string:_Ye,text:NYe},Symbol.toStringTag,{value:"Module"}));function LYe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:L(w),check:L(O),consume:I,enter:b,exit:B,interrupt:L(O,{interrupt:!0})},c={code:null,containerState:{},defineSkip:T,events:[],now:E,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:u};let A=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function u(Y){return o=cc(o,Y),y(),o[o.length-1]!==null?[]:(U(e,0),c.events=gL(s,c.events,c),c.events)}function h(Y,K){return DYe(p(Y),K)}function p(Y){return BYe(o,Y)}function E(){const{_bufferIndex:Y,_index:K,line:j,column:V,offset:$}=r;return{_bufferIndex:Y,_index:K,line:j,column:V,offset:$}}function T(Y){i[Y.line]=Y.column,Q()}function y(){let Y;for(;r._index<o.length;){const K=o[r._index];if(typeof K=="string")for(Y=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Y&&r._bufferIndex<K.length;)R(K.charCodeAt(r._bufferIndex));else R(K)}}function R(Y){A=A(Y)}function I(Y){pn(Y)?(r.line++,r.column=1,r.offset+=Y===-3?2:1,Q()):Y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=Y}function b(Y,K){const j=K||{};return j.type=Y,j.start=E(),c.events.push(["enter",j,c]),a.push(j),j}function B(Y){const K=a.pop();return K.end=E(),c.events.push(["exit",K,c]),K}function w(Y,K){U(Y,K.from)}function O(Y,K){K.restore()}function L(Y,K){return j;function j(V,$,J){let te,X,oe,F;return Array.isArray(V)?le(V):"tokenize"in V?le([V]):ee(V);function ee(Ce){return Ue;function Ue(We){const qe=We!==null&&Ce[We],Je=We!==null&&Ce.null,ut=[...Array.isArray(qe)?qe:qe?[qe]:[],...Array.isArray(Je)?Je:Je?[Je]:[]];return le(ut)(We)}}function le(Ce){return te=Ce,X=0,Ce.length===0?J:q(Ce[X])}function q(Ce){return Ue;function Ue(We){return F=G(),oe=Ce,Ce.partial||(c.currentConstruct=Ce),Ce.name&&c.parser.constructs.disable.null.includes(Ce.name)?Oe():Ce.tokenize.call(K?Object.assign(Object.create(c),K):c,l,we,Oe)(We)}}function we(Ce){return Y(oe,F),$}function Oe(Ce){return F.restore(),++X<te.length?q(te[X]):J}}}function U(Y,K){Y.resolveAll&&!s.includes(Y)&&s.push(Y),Y.resolve&&bl(c.events,K,c.events.length-K,Y.resolve(c.events.slice(K),c)),Y.resolveTo&&(c.events=Y.resolveTo(c.events,c))}function G(){const Y=E(),K=c.previous,j=c.currentConstruct,V=c.events.length,$=Array.from(a);return{from:V,restore:J};function J(){r=Y,c.previous=K,c.currentConstruct=j,c.events.length=V,a=$,Q()}}function Q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function BYe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function DYe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function kYe(t){const r={constructs:Ate([wYe,...(t||{}).extensions||[]]),content:i(q$e),defined:[],document:i(J$e),flow:i(mYe),lazy:{},string:i(TYe),text:i(SYe)};return r;function i(s){return o;function o(a){return LYe(r,s,a)}}}function MYe(t){for(;!pte(t););return t}const Pj=/[\0\t\n\r]/g;function PYe(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,A,u,h,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),u=0,e="",n&&(s.charCodeAt(0)===65279&&u++,n=void 0);u<s.length;){if(Pj.lastIndex=u,c=Pj.exec(s),h=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(h),!c){e=s.slice(u);break}if(p===10&&u===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),u<h&&(l.push(s.slice(u,h)),t+=h-u),p){case 0:{l.push(65533),t++;break}case 9:{for(A=Math.ceil(t/4)*4,l.push(-2);t++<A;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}u=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const UYe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FYe(t){return t.replace(UYe,HYe)}function HYe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return ute(n.slice(s?2:1),s?16:10)}return bH(n)||t}const yte={}.hasOwnProperty;function GYe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),QYe(n)(MYe(kYe(n).document().write(PYe()(t,e,!0))))}function QYe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(_t),autolinkProtocol:G,autolinkEmail:G,atxHeading:s(nt),blockQuote:s(Je),characterEscape:G,characterReference:G,codeFenced:s(ut),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ut,o),codeText:s(en,o),codeTextData:G,data:G,codeFlowValue:G,definition:s(rn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(be),hardBreakEscape:s(Ke),hardBreakTrailing:s(Ke),htmlFlow:s(gt,o),htmlFlowData:G,htmlText:s(gt,o),htmlTextData:G,image:s(at),label:o,link:s(_t),listItem:s(Dt),listItemValue:h,listOrdered:s(Tt,u),listUnordered:s(Tt),paragraph:s(Ft),reference:q,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(nt),strong:s(mn),thematicBreak:s(qt)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:qe,autolinkProtocol:We,blockQuote:l(),characterEscapeValue:Q,characterReferenceMarkerHexadecimal:Oe,characterReferenceMarkerNumeric:Oe,characterReferenceValue:Ce,characterReference:Ue,codeFenced:l(y),codeFencedFence:T,codeFencedFenceInfo:p,codeFencedFenceMeta:E,codeFlowValue:Q,codeIndented:l(R),codeText:l($),codeTextData:Q,data:Q,definition:l(),definitionDestinationString:B,definitionLabelString:I,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(K),hardBreakTrailing:l(K),htmlFlow:l(j),htmlFlowData:Q,htmlText:l(V),htmlTextData:Q,image:l(te),label:oe,labelText:X,lineEnding:Y,link:l(J),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:we,resourceDestinationString:F,resourceTitleString:ee,resource:le,setextHeading:l(U),setextHeadingLineSequence:L,setextHeadingText:O,strong:l(),thematicBreak:l()}};Cte(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ce){let _e={type:"root",children:[]};const Ye={stack:[_e],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:A,data:n},dt=[];let Wt=-1;for(;++Wt<ce.length;)if(ce[Wt][1].type==="listOrdered"||ce[Wt][1].type==="listUnordered")if(ce[Wt][0]==="enter")dt.push(Wt);else{const Xt=dt.pop();Wt=i(ce,Xt,Wt)}for(Wt=-1;++Wt<ce.length;){const Xt=e[ce[Wt][0]];yte.call(Xt,ce[Wt][1].type)&&Xt[ce[Wt][1].type].call(Object.assign({sliceSerialize:ce[Wt][2].sliceSerialize},Ye),ce[Wt][1])}if(Ye.tokenStack.length>0){const Xt=Ye.tokenStack[Ye.tokenStack.length-1];(Xt[1]||Uj).call(Ye,void 0,Xt[0])}for(_e.position={start:zd(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:zd(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Wt=-1;++Wt<e.transforms.length;)_e=e.transforms[Wt](_e)||_e;return _e}function i(ce,_e,Ye){let dt=_e-1,Wt=-1,Xt=!1,Te,Ae,me,st;for(;++dt<=Ye;){const ke=ce[dt];switch(ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ke[0]==="enter"?Wt++:Wt--,st=void 0;break}case"lineEndingBlank":{ke[0]==="enter"&&(Te&&!st&&!Wt&&!me&&(me=dt),st=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:st=void 0}if(!Wt&&ke[0]==="enter"&&ke[1].type==="listItemPrefix"||Wt===-1&&ke[0]==="exit"&&(ke[1].type==="listUnordered"||ke[1].type==="listOrdered")){if(Te){let ht=dt;for(Ae=void 0;ht--;){const sn=ce[ht];if(sn[1].type==="lineEnding"||sn[1].type==="lineEndingBlank"){if(sn[0]==="exit")continue;Ae&&(ce[Ae][1].type="lineEndingBlank",Xt=!0),sn[1].type="lineEnding",Ae=ht}else if(!(sn[1].type==="linePrefix"||sn[1].type==="blockQuotePrefix"||sn[1].type==="blockQuotePrefixWhitespace"||sn[1].type==="blockQuoteMarker"||sn[1].type==="listItemIndent"))break}me&&(!Ae||me<Ae)&&(Te._spread=!0),Te.end=Object.assign({},Ae?ce[Ae][1].start:ke[1].end),ce.splice(Ae||dt,0,["exit",Te,ke[2]]),dt++,Ye++}if(ke[1].type==="listItemPrefix"){const ht={type:"listItem",_spread:!1,start:Object.assign({},ke[1].start),end:void 0};Te=ht,ce.splice(dt,0,["enter",ht,ke[2]]),dt++,Ye++,me=void 0,st=!0}}}return ce[_e][1]._spread=Xt,Ye}function s(ce,_e){return Ye;function Ye(dt){a.call(this,ce(dt),dt),_e&&_e.call(this,dt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ce,_e,Ye){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([_e,Ye||void 0]),ce.position={start:zd(_e.start),end:void 0}}function l(ce){return _e;function _e(Ye){ce&&ce.call(this,Ye),c.call(this,Ye)}}function c(ce,_e){const Ye=this.stack.pop(),dt=this.tokenStack.pop();if(dt)dt[0].type!==ce.type&&(_e?_e.call(this,ce,dt[0]):(dt[1]||Uj).call(this,ce,dt[0]));else throw new Error("Cannot close `"+ce.type+"` ("+ax({start:ce.start,end:ce.end})+"): its not open");Ye.position.end=zd(ce.end)}function A(){return NH(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function h(ce){if(this.data.expectingFirstListItemValue){const _e=this.stack[this.stack.length-2];_e.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.lang=ce}function E(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.meta=ce}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function R(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ce.replace(/(\r?\n|\r)$/g,"")}function I(ce){const _e=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=_e,Ye.identifier=cA(this.sliceSerialize(ce)).toLowerCase()}function b(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ce}function B(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ce}function w(ce){const _e=this.stack[this.stack.length-1];if(!_e.depth){const Ye=this.sliceSerialize(ce).length;_e.depth=Ye}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function L(ce){const _e=this.stack[this.stack.length-1];_e.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function G(ce){const Ye=this.stack[this.stack.length-1].children;let dt=Ye[Ye.length-1];(!dt||dt.type!=="text")&&(dt=an(),dt.position={start:zd(ce.start),end:void 0},Ye.push(dt)),this.stack.push(dt)}function Q(ce){const _e=this.stack.pop();_e.value+=this.sliceSerialize(ce),_e.position.end=zd(ce.end)}function Y(ce){const _e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ye=_e.children[_e.children.length-1];Ye.position.end=zd(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(_e.type)&&(G.call(this,ce),Q.call(this,ce))}function K(){this.data.atHardBreak=!0}function j(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ce}function V(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ce}function $(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ce}function J(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=_e,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function te(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=_e,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function X(ce){const _e=this.sliceSerialize(ce),Ye=this.stack[this.stack.length-2];Ye.label=FYe(_e),Ye.identifier=cA(_e).toLowerCase()}function oe(){const ce=this.stack[this.stack.length-1],_e=this.resume(),Ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ye.type==="link"){const dt=ce.children;Ye.children=dt}else Ye.alt=_e}function F(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ce}function ee(){const ce=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ce}function le(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function we(ce){const _e=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=_e,Ye.identifier=cA(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Oe(ce){this.data.characterReferenceType=ce.type}function Ce(ce){const _e=this.sliceSerialize(ce),Ye=this.data.characterReferenceType;let dt;Ye?(dt=ute(_e,Ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):dt=bH(_e);const Wt=this.stack[this.stack.length-1];Wt.value+=dt}function Ue(ce){const _e=this.stack.pop();_e.position.end=zd(ce.end)}function We(ce){Q.call(this,ce);const _e=this.stack[this.stack.length-1];_e.url=this.sliceSerialize(ce)}function qe(ce){Q.call(this,ce);const _e=this.stack[this.stack.length-1];_e.url="mailto:"+this.sliceSerialize(ce)}function Je(){return{type:"blockquote",children:[]}}function ut(){return{type:"code",lang:null,meta:null,value:""}}function en(){return{type:"inlineCode",value:""}}function rn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function be(){return{type:"emphasis",children:[]}}function nt(){return{type:"heading",depth:0,children:[]}}function Ke(){return{type:"break"}}function gt(){return{type:"html",value:""}}function at(){return{type:"image",title:null,url:"",alt:null}}function _t(){return{type:"link",title:null,url:"",children:[]}}function Tt(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function Dt(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function Ft(){return{type:"paragraph",children:[]}}function mn(){return{type:"strong",children:[]}}function an(){return{type:"text",value:""}}function qt(){return{type:"thematicBreak"}}}function zd(t){return{line:t.line,column:t.column,offset:t.offset}}function Cte(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Cte(t,r):VYe(t,r)}}function VYe(t,e){let n;for(n in e)if(yte.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Uj(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ax({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ax({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ax({start:e.start,end:e.end})+") is still open")}function $Ye(t){const e=this;e.parser=n;function n(r){return GYe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function WYe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function YYe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function jYe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function KYe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zYe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qYe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=qS(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function XYe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function JYe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function xte(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function ZYe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xte(t,e);const i={src:qS(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function e5e(t,e){const n={src:qS(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function t5e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function n5e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xte(t,e);const i={href:qS(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function r5e(t,e){const n={href:qS(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function i5e(t,e,n){const r=t.all(e),i=n?s5e(n):Rte(e),s={},o=[];if(typeof e.checked=="boolean"){const A=r[0];let u;A&&A.type==="element"&&A.tagName==="p"?u=A:(u={type:"element",tagName:"p",properties:{},children:[]},r.unshift(u)),u.children.length>0&&u.children.unshift({type:"text",value:" "}),u.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const A=r[a];(i||a!==0||A.type!=="element"||A.tagName!=="p")&&o.push({type:"text",value:`
`}),A.type==="element"&&A.tagName==="p"&&!i?o.push(...A.children):o.push(A)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function s5e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Rte(n[r])}return e}function Rte(t){const e=t.spread;return e??t.children.length>1}function o5e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function a5e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function l5e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function c5e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function A5e(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=xH(e.children[1]),l=rte(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function u5e(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const u=e.children[l],h={},p=o?o[l]:void 0;p&&(h.align=p);let E={type:"element",tagName:s,properties:h,children:[]};u&&(E.children=t.all(u),t.patch(u,E),E=t.applyData(u,E)),c.push(E)}const A={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,A),t.applyData(e,A)}function h5e(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Fj=9,Hj=32;function d5e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(Gj(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(Gj(e.slice(i),i>0,!1)),s.join("")}function Gj(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===Fj||s===Hj;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===Fj||s===Hj;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function f5e(t,e){const n={type:"text",value:d5e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function p5e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const m5e={blockquote:WYe,break:YYe,code:jYe,delete:KYe,emphasis:zYe,footnoteReference:qYe,heading:XYe,html:JYe,imageReference:ZYe,image:e5e,inlineCode:t5e,linkReference:n5e,link:r5e,listItem:i5e,list:o5e,paragraph:a5e,root:l5e,strong:c5e,table:A5e,tableCell:h5e,tableRow:u5e,text:f5e,thematicBreak:p5e,toml:vN,yaml:vN,definition:vN,footnoteDefinition:vN};function vN(){}const Ite=-1,EL=0,cx=1,wO=2,OH=3,wH=4,LH=5,BH=6,_te=7,Nte=8,Qj=typeof self=="object"?self:globalThis,g5e=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case EL:case Ite:return n(o,i);case cx:{const a=n([],i);for(const l of o)a.push(r(l));return a}case wO:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case OH:return n(new Date(o),i);case wH:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case LH:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case BH:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case _te:{const{name:a,message:l}=o;return n(new Qj[a](l),i)}case Nte:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new Qj[s](o),i)};return r},Vj=t=>g5e(new Map,t)(0),XE="",{toString:E5e}={},{keys:T5e}=Object,z0=t=>{const e=typeof t;if(e!=="object"||!t)return[EL,e];const n=E5e.call(t).slice(8,-1);switch(n){case"Array":return[cx,XE];case"Object":return[wO,XE];case"Date":return[OH,XE];case"RegExp":return[wH,XE];case"Map":return[LH,XE];case"Set":return[BH,XE];case"DataView":return[cx,n]}return n.includes("Array")?[cx,n]:n.includes("Error")?[_te,n]:[wO,n]},ON=([t,e])=>t===EL&&(e==="function"||e==="symbol"),S5e=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=z0(o);switch(a){case EL:{let A=o;switch(l){case"bigint":a=Nte,A=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);A=null;break;case"undefined":return i([Ite],o)}return i([a,A],o)}case cx:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const A=[],u=i([a,A],o);for(const h of o)A.push(s(h));return u}case wO:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const A=[],u=i([a,A],o);for(const h of T5e(o))(t||!ON(z0(o[h])))&&A.push([s(h),s(o[h])]);return u}case OH:return i([a,o.toISOString()],o);case wH:{const{source:A,flags:u}=o;return i([a,{source:A,flags:u}],o)}case LH:{const A=[],u=i([a,A],o);for(const[h,p]of o)(t||!(ON(z0(h))||ON(z0(p))))&&A.push([s(h),s(p)]);return u}case BH:{const A=[],u=i([a,A],o);for(const h of o)(t||!ON(z0(h)))&&A.push(s(h));return u}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},$j=(t,{json:e,lossy:n}={})=>{const r=[];return S5e(!(e||n),!!e,new Map,r)(t),r},LO=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Vj($j(t,e)):structuredClone(t):(t,e)=>Vj($j(t,e));function y5e(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function C5e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function x5e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||y5e,r=t.options.footnoteBackLabel||C5e,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const A=t.all(c),u=String(c.identifier).toUpperCase(),h=qS(u.toLowerCase());let p=0;const E=[],T=t.footnoteCounts.get(u);for(;T!==void 0&&++p<=T;){E.length>0&&E.push({type:"text",value:" "});let I=typeof n=="string"?n:n(l,p);typeof I=="string"&&(I={type:"text",value:I}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const y=A[A.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const I=y.children[y.children.length-1];I&&I.type==="text"?I.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...E)}else A.push(...E);const R={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(A,!0)};t.patch(c,R),a.push(R)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...LO(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const TL=(function(t){if(t==null)return N5e;if(typeof t=="function")return SL(t);if(typeof t=="object")return Array.isArray(t)?R5e(t):I5e(t);if(typeof t=="string")return _5e(t);throw new Error("Expected function, string, or object as test")});function R5e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=TL(t[n]);return SL(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function I5e(t){const e=t;return SL(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function _5e(t){return SL(e);function e(n){return n&&n.type===t}}function SL(t){return e;function e(n,r,i){return!!(b5e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function N5e(){return!0}function b5e(t){return t!==null&&typeof t=="object"&&"type"in t}const bte=[],v5e=!0,JP=!1,O5e="skip";function vte(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=TL(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,A){const u=l&&typeof l=="object"?l:{};if(typeof u.type=="string"){const p=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=bte,E,T,y;if((!e||s(l,c,A[A.length-1]||void 0))&&(p=w5e(n(l,A)),p[0]===JP))return p;if("children"in l&&l.children){const R=l;if(R.children&&p[0]!==O5e)for(T=(r?R.children.length:-1)+o,y=A.concat(R);T>-1&&T<R.children.length;){const I=R.children[T];if(E=a(I,T,y)(),E[0]===JP)return E;T=typeof E[1]=="number"?E[1]:T+o}}return p}}}function w5e(t){return Array.isArray(t)?t:typeof t=="number"?[v5e,t]:t==null?bte:[t]}function DH(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),vte(t,s,a,i);function a(l,c){const A=c[c.length-1],u=A?A.children.indexOf(l):void 0;return o(l,u,A)}}const ZP={}.hasOwnProperty,L5e={};function B5e(t,e){const n=e||L5e,r=new Map,i=new Map,s=new Map,o={...m5e,...n.handlers},a={all:c,applyData:k5e,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:D5e,wrap:P5e};return DH(t,function(A){if(A.type==="definition"||A.type==="footnoteDefinition"){const u=A.type==="definition"?r:i,h=String(A.identifier).toUpperCase();u.has(h)||u.set(h,A)}}),a;function l(A,u){const h=A.type,p=a.handlers[h];if(ZP.call(a.handlers,h)&&p)return p(a,A,u);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in A){const{children:T,...y}=A,R=LO(y);return R.children=a.all(A),R}return LO(A)}return(a.options.unknownHandler||M5e)(a,A,u)}function c(A){const u=[];if("children"in A){const h=A.children;let p=-1;for(;++p<h.length;){const E=a.one(h[p],A);if(E){if(p&&h[p-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=Wj(E.value)),!Array.isArray(E)&&E.type==="element")){const T=E.children[0];T&&T.type==="text"&&(T.value=Wj(T.value))}Array.isArray(E)?u.push(...E):u.push(E)}}}return u}}function D5e(t,e){t.position&&(e.position=C$e(t))}function k5e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,LO(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function M5e(t,e){const n=e.data||{},r="value"in e&&!(ZP.call(n,"hProperties")||ZP.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function P5e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Wj(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Yj(t,e){const n=B5e(t,e),r=n.one(t,void 0),i=x5e(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function U5e(t,e){return t&&"run"in t?async function(n,r){const i=Yj(n,{file:r,...e});await t.run(i,r)}:function(n,r){return Yj(n,{file:r,...t||e})}}function jj(t){if(t)throw t}var qD,Kj;function F5e(){if(Kj)return qD;Kj=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var A=t.call(c,"constructor"),u=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!A&&!u)return!1;var h;for(h in c);return typeof h>"u"||t.call(c,h)},o=function(c,A){n&&A.name==="__proto__"?n(c,A.name,{enumerable:!0,configurable:!0,value:A.newValue,writable:!0}):c[A.name]=A.newValue},a=function(c,A){if(A==="__proto__")if(t.call(c,A)){if(r)return r(c,A).value}else return;return c[A]};return qD=function l(){var c,A,u,h,p,E,T=arguments[0],y=1,R=arguments.length,I=!1;for(typeof T=="boolean"&&(I=T,T=arguments[1]||{},y=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});y<R;++y)if(c=arguments[y],c!=null)for(A in c)u=a(T,A),h=a(c,A),T!==h&&(I&&h&&(s(h)||(p=i(h)))?(p?(p=!1,E=u&&i(u)?u:[]):E=u&&s(u)?u:{},o(T,{name:A,newValue:l(I,E,h)})):typeof h<"u"&&o(T,{name:A,newValue:h}));return T},qD}var H5e=F5e();const XD=kS(H5e);function eU(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function G5e(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const A=t[++s];let u=-1;if(l){o(l);return}for(;++u<i.length;)(c[u]===null||c[u]===void 0)&&(c[u]=i[u]);i=c,A?Q5e(A,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Q5e(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const A=c;if(a&&n)throw A;return i(A)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const ou={basename:V5e,dirname:$5e,extname:W5e,join:Y5e,sep:"/"};function V5e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');kR(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function $5e(t){if(kR(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function W5e(t){kR(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Y5e(...t){let e=-1,n;for(;++e<t.length;)kR(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":j5e(n)}function j5e(t){kR(t);const e=t.codePointAt(0)===47;let n=K5e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function K5e(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function kR(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const z5e={cwd:q5e};function q5e(){return"/"}function tU(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function X5e(t){if(typeof t=="string")t=new URL(t);else if(!tU(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return J5e(t)}function J5e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const JD=["history","path","basename","stem","extname","dirname"];class Ote{constructor(e){let n;e?tU(e)?n={path:e}:typeof e=="string"||Z5e(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":z5e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<JD.length;){const s=JD[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)JD.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ou.basename(this.path):void 0}set basename(e){ek(e,"basename"),ZD(e,"basename"),this.path=ou.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ou.dirname(this.path):void 0}set dirname(e){zj(this.basename,"dirname"),this.path=ou.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ou.extname(this.path):void 0}set extname(e){if(ZD(e,"extname"),zj(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ou.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){tU(e)&&(e=X5e(e)),ek(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ou.basename(this.path,this.extname):void 0}set stem(e){ek(e,"stem"),ZD(e,"stem"),this.path=ou.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ko(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ZD(t,e){if(t&&t.includes(ou.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ou.sep+"`")}function ek(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function zj(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Z5e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const eje=(function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),tje={}.hasOwnProperty;class kH extends eje{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=G5e()}copy(){const e=new kH;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(XD(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(rk("data",this.frozen),this.namespace[e]=n,this):tje.call(this.namespace,e)&&this.namespace[e]||void 0:e?(rk("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=wN(e),r=this.parser||this.Parser;return tk("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),tk("process",this.parser||this.Parser),nk("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=wN(e),l=r.parse(a);r.run(l,a,function(A,u,h){if(A||!u||!h)return c(A);const p=u,E=r.stringify(p,h);ije(E)?h.value=E:h.result=E,c(A,h)});function c(A,u){A||!u?o(A):s?s(u):n(void 0,u)}}}processSync(e){let n=!1,r;return this.freeze(),tk("processSync",this.parser||this.Parser),nk("processSync",this.compiler||this.Compiler),this.process(e,i),Xj("processSync","process",n),r;function i(s,o){n=!0,jj(s),r=o}}run(e,n,r){qj(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=wN(n);i.run(e,l,c);function c(A,u,h){const p=u||e;A?a(A):o?o(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),Xj("runSync","run",r),i;function s(o,a){jj(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=wN(n),i=this.compiler||this.Compiler;return nk("stringify",i),qj(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(rk("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[A,...u]=c;l(A,u)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=XD(!0,i.settings,c.settings))}function a(c){let A=-1;if(c!=null)if(Array.isArray(c))for(;++A<c.length;){const u=c[A];s(u)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,A){let u=-1,h=-1;for(;++u<r.length;)if(r[u][0]===c){h=u;break}if(h===-1)r.push([c,...A]);else if(A.length>0){let[p,...E]=A;const T=r[h][1];eU(T)&&eU(p)&&(p=XD(!0,T,p)),r[h]=[c,p,...E]}}}}const nje=new kH().freeze();function tk(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function nk(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function rk(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qj(t){if(!eU(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Xj(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function wN(t){return rje(t)?t:new Ote(t)}function rje(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function ije(t){return typeof t=="string"||sje(t)}function sje(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const oje="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Jj=[],Zj={allowDangerousHtml:!0},aje=/^(https?|ircs?|mailto|xmpp)$/i,lje=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wte(t){const e=cje(t),n=Aje(t);return uje(e.runSync(e.parse(n),n),t)}function cje(t){const e=t.rehypePlugins||Jj,n=t.remarkPlugins||Jj,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Zj}:Zj;return nje().use($Ye).use(n).use(U5e,r).use(e)}function Aje(t){const e=t.children||"",n=new Ote;return typeof e=="string"&&(n.value=e),n}function uje(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||hje;for(const A of lje)Object.hasOwn(e,A.from)&&(""+A.from+(A.to?"use `"+A.to+"` instead":"remove it")+oje+A.id,void 0);return DH(t,c),N$e(t,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function c(A,u,h){if(A.type==="raw"&&h&&typeof u=="number")return o?h.children.splice(u,1):h.children[u]={type:"text",value:A.value},u;if(A.type==="element"){let p;for(p in jD)if(Object.hasOwn(jD,p)&&Object.hasOwn(A.properties,p)){const E=A.properties[p],T=jD[p];(T===null||T.includes(A.tagName))&&(A.properties[p]=l(String(E||""),p,A))}}if(A.type==="element"){let p=n?!n.includes(A.tagName):s?s.includes(A.tagName):!1;if(!p&&r&&typeof u=="number"&&(p=!r(A,u,h)),p&&h&&typeof u=="number")return a&&A.children?h.children.splice(u,1,...A.children):h.children.splice(u,1),u}}}function hje(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||aje.test(t.slice(0,e))?t:""}function eK(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function dje(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function fje(t,e,n){const i=TL((n||{}).ignore||[]),s=pje(e);let o=-1;for(;++o<s.length;)vte(t,"text",a);function a(c,A){let u=-1,h;for(;++u<A.length;){const p=A[u],E=h?h.children:void 0;if(i(p,E?E.indexOf(p):void 0,h))return;h=p}if(h)return l(c,A)}function l(c,A){const u=A[A.length-1],h=s[o][0],p=s[o][1];let E=0;const y=u.children.indexOf(c);let R=!1,I=[];h.lastIndex=0;let b=h.exec(c.value);for(;b;){const B=b.index,w={index:b.index,input:b.input,stack:[...A,c]};let O=p(...b,w);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?h.lastIndex=B+1:(E!==B&&I.push({type:"text",value:c.value.slice(E,B)}),Array.isArray(O)?I.push(...O):O&&I.push(O),E=B+b[0].length,R=!0),!h.global)break;b=h.exec(c.value)}return R?(E<c.value.length&&I.push({type:"text",value:c.value.slice(E)}),u.children.splice(y,1,...I)):I=[c],y+I.length}}function pje(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([mje(i[0]),gje(i[1])])}return e}function mje(t){return typeof t=="string"?new RegExp(dje(t),"g"):t}function gje(t){return typeof t=="function"?t:function(){return t}}const ik="phrasing",sk=["autolink","link","image","label"];function Eje(){return{transforms:[Ije],enter:{literalAutolink:Sje,literalAutolinkEmail:ok,literalAutolinkHttp:ok,literalAutolinkWww:ok},exit:{literalAutolink:Rje,literalAutolinkEmail:xje,literalAutolinkHttp:yje,literalAutolinkWww:Cje}}}function Tje(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ik,notInConstruct:sk},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ik,notInConstruct:sk},{character:":",before:"[ps]",after:"\\/",inConstruct:ik,notInConstruct:sk}]}}function Sje(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function ok(t){this.config.enter.autolinkProtocol.call(this,t)}function yje(t){this.config.exit.autolinkProtocol.call(this,t)}function Cje(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function xje(t){this.config.exit.autolinkEmail.call(this,t)}function Rje(t){this.exit(t)}function Ije(t){fje(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,_je],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Nje]],{ignore:["link","linkReference"]})}function _je(t,e,n,r,i){let s="";if(!Lte(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!bje(n)))return!1;const o=vje(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Nje(t,e,n,r){return!Lte(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function bje(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function vje(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=eK(t,"(");let s=eK(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function Lte(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Zm(n)||mL(n))&&(!e||n!==47)}Bte.peek=Uje;function Oje(){this.buffer()}function wje(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Lje(){this.buffer()}function Bje(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Dje(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cA(this.sliceSerialize(t)).toLowerCase(),n.label=e}function kje(t){this.exit(t)}function Mje(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cA(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Pje(t){this.exit(t)}function Uje(){return"["}function Bte(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Fje(){return{enter:{gfmFootnoteCallString:Oje,gfmFootnoteCall:wje,gfmFootnoteDefinitionLabelString:Lje,gfmFootnoteDefinition:Bje},exit:{gfmFootnoteCallString:Dje,gfmFootnoteCall:kje,gfmFootnoteDefinitionLabelString:Mje,gfmFootnoteDefinition:Pje}}}function Hje(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Bte},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),A=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),A(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?Dte:Gje))),c(),l}}function Gje(t,e,n){return e===0?t:Dte(t,e,n)}function Dte(t,e,n){return(n?"":"    ")+t}const Qje=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];kte.peek=jje;function Vje(){return{canContainEols:["delete"],enter:{strikethrough:Wje},exit:{strikethrough:Yje}}}function $je(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Qje}],handlers:{delete:kte}}}function Wje(t){this.enter({type:"delete",children:[]},t)}function Yje(t){this.exit(t)}function kte(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function jje(){return"~"}function Kje(t){return t.length}function zje(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||Kje,s=[],o=[],a=[],l=[];let c=0,A=-1;for(;++A<t.length;){const T=[],y=[];let R=-1;for(t[A].length>c&&(c=t[A].length);++R<t[A].length;){const I=qje(t[A][R]);if(n.alignDelimiters!==!1){const b=i(I);y[R]=b,(l[R]===void 0||b>l[R])&&(l[R]=b)}T.push(I)}o[A]=T,a[A]=y}let u=-1;if(typeof r=="object"&&"length"in r)for(;++u<c;)s[u]=tK(r[u]);else{const T=tK(r);for(;++u<c;)s[u]=T}u=-1;const h=[],p=[];for(;++u<c;){const T=s[u];let y="",R="";T===99?(y=":",R=":"):T===108?y=":":T===114&&(R=":");let I=n.alignDelimiters===!1?1:Math.max(1,l[u]-y.length-R.length);const b=y+"-".repeat(I)+R;n.alignDelimiters!==!1&&(I=y.length+I+R.length,I>l[u]&&(l[u]=I),p[u]=I),h[u]=b}o.splice(1,0,h),a.splice(1,0,p),A=-1;const E=[];for(;++A<o.length;){const T=o[A],y=a[A];u=-1;const R=[];for(;++u<c;){const I=T[u]||"";let b="",B="";if(n.alignDelimiters!==!1){const w=l[u]-(y[u]||0),O=s[u];O===114?b=" ".repeat(w):O===99?w%2?(b=" ".repeat(w/2+.5),B=" ".repeat(w/2-.5)):(b=" ".repeat(w/2),B=b):B=" ".repeat(w)}n.delimiterStart!==!1&&!u&&R.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&I==="")&&(n.delimiterStart!==!1||u)&&R.push(" "),n.alignDelimiters!==!1&&R.push(b),R.push(I),n.alignDelimiters!==!1&&R.push(B),n.padding!==!1&&R.push(" "),(n.delimiterEnd!==!1||u!==c-1)&&R.push("|")}E.push(n.delimiterEnd===!1?R.join("").replace(/ +$/,""):R.join(""))}return E.join(`
`)}function qje(t){return t==null?"":String(t)}function tK(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Xje(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),Jje);return i(),o}function Jje(t,e,n){return">"+(n?"":" ")+t}function Zje(t,e){return nK(t,e.inConstruct,!0)&&!nK(t,e.notInConstruct,!1)}function nK(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function rK(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Zje(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function eKe(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function tKe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function nKe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function rKe(t,e,n,r){const i=nKe(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(tKe(t,n)){const u=n.enter("codeIndented"),h=n.indentLines(s,iKe);return u(),h}const a=n.createTracker(r),l=i.repeat(Math.max(eKe(s,i)+1,3)),c=n.enter("codeFenced");let A=a.move(l);if(t.lang){const u=n.enter(`codeFencedLang${o}`);A+=a.move(n.safe(t.lang,{before:A,after:" ",encode:["`"],...a.current()})),u()}if(t.lang&&t.meta){const u=n.enter(`codeFencedMeta${o}`);A+=a.move(" "),A+=a.move(n.safe(t.meta,{before:A,after:`
`,encode:["`"],...a.current()})),u()}return A+=a.move(`
`),s&&(A+=a.move(s+`
`)),A+=a.move(l),c(),A}function iKe(t,e,n){return(n?"":"    ")+t}function MH(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function sKe(t,e,n,r){const i=MH(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function oKe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function eR(t){return"&#x"+t.toString(16).toUpperCase()+";"}function BO(t,e,n){const r=RS(t),i=RS(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Mte.peek=aKe;function Mte(t,e,n,r){const i=oKe(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),A=BO(r.before.charCodeAt(r.before.length-1),c,i);A.inside&&(l=eR(c)+l.slice(1));const u=l.charCodeAt(l.length-1),h=BO(r.after.charCodeAt(0),u,i);h.inside&&(l=l.slice(0,-1)+eR(u));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:A.outside},a+l+p}function aKe(t,e,n){return n.options.emphasis||"*"}function lKe(t,e){let n=!1;return DH(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,JP}),!!((!t.depth||t.depth<3)&&NH(t)&&(e.options.setext||n))}function cKe(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(lKe(t,n)){const A=n.enter("headingSetext"),u=n.enter("phrasing"),h=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return u(),A(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=eR(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}Pte.peek=AKe;function Pte(t){return t.value||""}function AKe(){return"<"}Ute.peek=uKe;function Ute(t,e,n,r){const i=MH(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function uKe(){return"!"}Fte.peek=hKe;function Fte(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const A=n.stack;n.stack=[],o=n.enter("reference");const u=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=A,s(),i==="full"||!c||c!==u?l+=a.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function hKe(){return"!"}Hte.peek=dKe;function Hte(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function dKe(){return"`"}function Gte(t,e){const n=NH(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Qte.peek=fKe;function Qte(t,e,n,r){const i=MH(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(Gte(t,n)){const A=n.stack;n.stack=[],a=n.enter("autolink");let u=o.move("<");return u+=o.move(n.containerPhrasing(t,{before:u,after:">",...o.current()})),u+=o.move(">"),a(),n.stack=A,u}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function fKe(t,e,n){return Gte(t,n)?"<":"["}Vte.peek=pKe;function Vte(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const A=n.stack;n.stack=[],o=n.enter("reference");const u=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=A,s(),i==="full"||!c||c!==u?l+=a.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function pKe(){return"["}function PH(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function mKe(t){const e=PH(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function gKe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function $te(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function EKe(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?gKe(n):PH(n);const a=t.ordered?o==="."?")":".":mKe(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const A=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&A&&(!A.children||!A.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),$te(n)===o&&A){let u=-1;for(;++u<t.children.length;){const h=t.children[u];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function TKe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function SKe(t,e,n,r){const i=TKe(n);let s=n.bulletCurrent||PH(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),A);return l(),c;function A(u,h,p){return h?(p?"":" ".repeat(o))+u:(p?s:s+" ".repeat(o-s.length))+u}}function yKe(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const CKe=TL(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function xKe(t,e,n,r){return(t.children.some(function(o){return CKe(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function RKe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Wte.peek=IKe;function Wte(t,e,n,r){const i=RKe(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),A=BO(r.before.charCodeAt(r.before.length-1),c,i);A.inside&&(l=eR(c)+l.slice(1));const u=l.charCodeAt(l.length-1),h=BO(r.after.charCodeAt(0),u,i);h.inside&&(l=l.slice(0,-1)+eR(u));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:A.outside},a+l+p}function IKe(t,e,n){return n.options.strong||"*"}function _Ke(t,e,n,r){return n.safe(t.value,r)}function NKe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function bKe(t,e,n){const r=($te(n)+(n.options.ruleSpaces?" ":"")).repeat(NKe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Yte={blockquote:Xje,break:rK,code:rKe,definition:sKe,emphasis:Mte,hardBreak:rK,heading:cKe,html:Pte,image:Ute,imageReference:Fte,inlineCode:Hte,link:Qte,linkReference:Vte,list:EKe,listItem:SKe,paragraph:yKe,root:xKe,strong:Wte,text:_Ke,thematicBreak:bKe};function vKe(){return{enter:{table:OKe,tableData:iK,tableHeader:iK,tableRow:LKe},exit:{codeText:BKe,table:wKe,tableData:ak,tableHeader:ak,tableRow:ak}}}function OKe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function wKe(t){this.exit(t),this.data.inTable=void 0}function LKe(t){this.enter({type:"tableRow",children:[]},t)}function ak(t){this.exit(t)}function iK(t){this.enter({type:"tableCell",children:[]},t)}function BKe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,DKe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function DKe(t,e){return e==="|"?e:t}function kKe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:a}};function o(p,E,T,y){return c(A(p,T,y),p.align)}function a(p,E,T,y){const R=u(p,T,y),I=c([R]);return I.slice(0,I.indexOf(`
`))}function l(p,E,T,y){const R=T.enter("tableCell"),I=T.enter("phrasing"),b=T.containerPhrasing(p,{...y,before:s,after:s});return I(),R(),b}function c(p,E){return zje(p,{align:E,alignDelimiters:r,padding:n,stringLength:i})}function A(p,E,T){const y=p.children;let R=-1;const I=[],b=E.enter("table");for(;++R<y.length;)I[R]=u(y[R],E,T);return b(),I}function u(p,E,T){const y=p.children;let R=-1;const I=[],b=E.enter("tableRow");for(;++R<y.length;)I[R]=l(y[R],p,E,T);return b(),I}function h(p,E,T){let y=Yte.inlineCode(p,E,T);return T.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function MKe(){return{exit:{taskListCheckValueChecked:sK,taskListCheckValueUnchecked:sK,paragraph:UKe}}}function PKe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:FKe}}}function sK(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function UKe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function FKe(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=Yte.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(A){return A+o}}function HKe(){return[Eje(),Fje(),Vje(),vKe(),MKe()]}function GKe(t){return{extensions:[Tje(),Hje(t),$je(),kKe(t),PKe()]}}const QKe={tokenize:KKe,partial:!0},jte={tokenize:zKe,partial:!0},Kte={tokenize:qKe,partial:!0},zte={tokenize:XKe,partial:!0},VKe={tokenize:JKe,partial:!0},qte={name:"wwwAutolink",tokenize:YKe,previous:Jte},Xte={name:"protocolAutolink",tokenize:jKe,previous:Zte},ad={name:"emailAutolink",tokenize:WKe,previous:ene},Bu={};function $Ke(){return{text:Bu}}let rm=48;for(;rm<123;)Bu[rm]=ad,rm++,rm===58?rm=65:rm===91&&(rm=97);Bu[43]=ad;Bu[45]=ad;Bu[46]=ad;Bu[95]=ad;Bu[72]=[ad,Xte];Bu[104]=[ad,Xte];Bu[87]=[ad,qte];Bu[119]=[ad,qte];function WKe(t,e,n){const r=this;let i,s;return o;function o(u){return!nU(u)||!ene.call(r,r.previous)||UH(r.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(u))}function a(u){return nU(u)?(t.consume(u),a):u===64?(t.consume(u),l):n(u)}function l(u){return u===46?t.check(VKe,A,c)(u):u===45||u===95||Go(u)?(s=!0,t.consume(u),l):A(u)}function c(u){return t.consume(u),i=!0,l}function A(u){return s&&i&&ua(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(u)):n(u)}}function YKe(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Jte.call(r,r.previous)||UH(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(QKe,t.attempt(jte,t.attempt(Kte,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function jKe(t,e,n){const r=this;let i="",s=!1;return o;function o(u){return(u===72||u===104)&&Zte.call(r,r.previous)&&!UH(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(u),t.consume(u),a):n(u)}function a(u){if(ua(u)&&i.length<5)return i+=String.fromCodePoint(u),t.consume(u),a;if(u===58){const h=i.toLowerCase();if(h==="http"||h==="https")return t.consume(u),l}return n(u)}function l(u){return u===47?(t.consume(u),s?c:(s=!0,l)):n(u)}function c(u){return u===null||OO(u)||mi(u)||Zm(u)||mL(u)?n(u):t.attempt(jte,t.attempt(Kte,A),n)(u)}function A(u){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(u)}}function KKe(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function zKe(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(zte,l,a)(c):c===null||mi(c)||Zm(c)||c!==45&&mL(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function qKe(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(zte,e,s)(o):o===null||mi(o)||Zm(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function XKe(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||mi(a)||Zm(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||mi(a)||Zm(a)?e(a):r(a)}function s(a){return ua(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):ua(a)?(t.consume(a),o):n(a)}}function JKe(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Go(s)?n(s):e(s)}}function Jte(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||mi(t)}function Zte(t){return!ua(t)}function ene(t){return!(t===47||nU(t))}function nU(t){return t===43||t===45||t===46||t===95||Go(t)}function UH(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const ZKe={tokenize:a6e,partial:!0};function e6e(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:i6e,continuation:{tokenize:s6e},exit:o6e}},text:{91:{name:"gfmFootnoteCall",tokenize:r6e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:t6e,resolveTo:n6e}}}}function t6e(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=cA(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function n6e(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function r6e(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(u){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),l}function l(u){return u!==94?n(u):(t.enter("gfmFootnoteCallMarker"),t.consume(u),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(u){if(s>999||u===93&&!o||u===null||u===91||mi(u))return n(u);if(u===93){t.exit("chunkString");const h=t.exit("gfmFootnoteCallString");return i.includes(cA(r.sliceSerialize(h)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(u)}return mi(u)||(o=!0),s++,t.consume(u),u===92?A:c}function A(u){return u===91||u===92||u===93?(t.consume(u),s++,c):c(u)}}function i6e(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(E){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(E){return E===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",A):n(E)}function A(E){if(o>999||E===93&&!a||E===null||E===91||mi(E))return n(E);if(E===93){t.exit("chunkString");const T=t.exit("gfmFootnoteDefinitionLabelString");return s=cA(r.sliceSerialize(T)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h}return mi(E)||(a=!0),o++,t.consume(E),E===92?u:A}function u(E){return E===91||E===92||E===93?(t.consume(E),o++,A):A(E)}function h(E){return E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),i.includes(s)||i.push(s),Lr(t,p,"gfmFootnoteDefinitionWhitespace")):n(E)}function p(E){return e(E)}}function s6e(t,e,n){return t.check(DR,e,t.attempt(ZKe,e,n))}function o6e(t){t.exit("gfmFootnoteDefinition")}function a6e(t,e,n){const r=this;return Lr(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function l6e(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const A={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},u={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",A,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",u,a]],p=a.parser.constructs.insideSpan.null;p&&bl(h,h.length,0,gL(p,o.slice(c+1,l),a)),bl(h,h.length,0,[["exit",u,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",A,a]]),bl(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,A=this.events;let u=0;return h;function h(E){return c===126&&A[A.length-1][1].type!=="characterEscape"?l(E):(o.enter("strikethroughSequenceTemporary"),p(E))}function p(E){const T=RS(c);if(E===126)return u>1?l(E):(o.consume(E),u++,p);if(u<2&&!n)return l(E);const y=o.exit("strikethroughSequenceTemporary"),R=RS(E);return y._open=!R||R===2&&!!T,y._close=!T||T===2&&!!R,a(E)}}}class c6e{constructor(){this.map=[]}add(e,n,r){A6e(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function A6e(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function u6e(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function h6e(){return{flow:{null:{name:"table",tokenize:d6e,resolveAll:f6e}}}}function d6e(t,e,n){const r=this;let i=0,s=0,o;return a;function a(Q){let Y=r.events.length-1;for(;Y>-1;){const V=r.events[Y][1].type;if(V==="lineEnding"||V==="linePrefix")Y--;else break}const K=Y>-1?r.events[Y][1].type:null,j=K==="tableHead"||K==="tableRow"?O:l;return j===O&&r.parser.lazy[r.now().line]?n(Q):j(Q)}function l(Q){return t.enter("tableHead"),t.enter("tableRow"),c(Q)}function c(Q){return Q===124||(o=!0,s+=1),A(Q)}function A(Q){return Q===null?n(Q):pn(Q)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(Q),t.exit("lineEnding"),p):n(Q):fr(Q)?Lr(t,A,"whitespace")(Q):(s+=1,o&&(o=!1,i+=1),Q===124?(t.enter("tableCellDivider"),t.consume(Q),t.exit("tableCellDivider"),o=!0,A):(t.enter("data"),u(Q)))}function u(Q){return Q===null||Q===124||mi(Q)?(t.exit("data"),A(Q)):(t.consume(Q),Q===92?h:u)}function h(Q){return Q===92||Q===124?(t.consume(Q),u):u(Q)}function p(Q){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(Q):(t.enter("tableDelimiterRow"),o=!1,fr(Q)?Lr(t,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):E(Q))}function E(Q){return Q===45||Q===58?y(Q):Q===124?(o=!0,t.enter("tableCellDivider"),t.consume(Q),t.exit("tableCellDivider"),T):w(Q)}function T(Q){return fr(Q)?Lr(t,y,"whitespace")(Q):y(Q)}function y(Q){return Q===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(Q),t.exit("tableDelimiterMarker"),R):Q===45?(s+=1,R(Q)):Q===null||pn(Q)?B(Q):w(Q)}function R(Q){return Q===45?(t.enter("tableDelimiterFiller"),I(Q)):w(Q)}function I(Q){return Q===45?(t.consume(Q),I):Q===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(Q),t.exit("tableDelimiterMarker"),b):(t.exit("tableDelimiterFiller"),b(Q))}function b(Q){return fr(Q)?Lr(t,B,"whitespace")(Q):B(Q)}function B(Q){return Q===124?E(Q):Q===null||pn(Q)?!o||i!==s?w(Q):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(Q)):w(Q)}function w(Q){return n(Q)}function O(Q){return t.enter("tableRow"),L(Q)}function L(Q){return Q===124?(t.enter("tableCellDivider"),t.consume(Q),t.exit("tableCellDivider"),L):Q===null||pn(Q)?(t.exit("tableRow"),e(Q)):fr(Q)?Lr(t,L,"whitespace")(Q):(t.enter("data"),U(Q))}function U(Q){return Q===null||Q===124||mi(Q)?(t.exit("data"),L(Q)):(t.consume(Q),Q===92?G:U)}function G(Q){return Q===92||Q===124?(t.consume(Q),U):U(Q)}}function f6e(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,A,u;const h=new c6e;for(;++n<t.length;){const p=t[n],E=p[1];p[0]==="enter"?E.type==="tableHead"?(a=!1,l!==0&&(oK(h,e,l,c,A),A=void 0,l=0),c={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},h.add(n,0,[["enter",c,e]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,u=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,A={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},h.add(n,0,[["enter",A,e]])),i=E.type==="tableDelimiterRow"?2:A?3:1):i&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],u=LN(h,e,s,i,void 0,u),s=[0,0,0,0]),o[2]=n)):E.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],u=LN(h,e,s,i,void 0,u)),s=o,o=[s[1],n,0,0])):E.type==="tableHead"?(a=!0,l=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],u=LN(h,e,s,i,n,u)):o[1]!==0&&(u=LN(h,e,o,i,n,u)),i=0):i&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&oK(h,e,l,c,A),h.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=u6e(e.events,n))}return t}function LN(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},pT(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=pT(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=pT(e.events,n[2]),A=pT(e.events,n[3]),u={type:a,start:Object.assign({},c),end:Object.assign({},A)};if(t.add(n[2],0,[["enter",u,e]]),r!==2){const h=e.events[n[2]],p=e.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,T=n[3]-n[2]-1;t.add(E,T,[])}}t.add(n[3]+1,0,[["exit",u,e]])}return i!==void 0&&(s.end=Object.assign({},pT(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function oK(t,e,n,r,i){const s=[],o=pT(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function pT(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const p6e={name:"tasklistCheck",tokenize:g6e};function m6e(){return{text:{91:p6e}}}function g6e(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return mi(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return pn(l)?e(l):fr(l)?t.check({tokenize:E6e},e,n)(l):n(l)}}function E6e(t,e,n){return Lr(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function T6e(t){return Ate([$Ke(),e6e(),l6e(t),h6e(),m6e()])}const S6e={};function tne(t){const e=this,n=t||S6e,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(T6e(n)),s.push(HKe()),o.push(GKe(n))}var y6e=t=>{var{theme:e,settings:n={},styles:r=[]}=t,i={".cm-gutters":{}},s={};n.background&&(s.backgroundColor=n.background),n.backgroundImage&&(s.backgroundImage=n.backgroundImage),n.foreground&&(s.color=n.foreground),n.fontSize&&(s.fontSize=n.fontSize),(n.background||n.foreground)&&(i["&"]=s),n.fontFamily&&(i["&.cm-editor .cm-scroller"]={fontFamily:n.fontFamily}),n.gutterBackground&&(i[".cm-gutters"].backgroundColor=n.gutterBackground),n.gutterForeground&&(i[".cm-gutters"].color=n.gutterForeground),n.gutterBorder&&(i[".cm-gutters"].borderRightColor=n.gutterBorder),n.caret&&(i[".cm-content"]={caretColor:n.caret},i[".cm-cursor, .cm-dropCursor"]={borderLeftColor:n.caret});var o={};n.gutterActiveForeground&&(o.color=n.gutterActiveForeground),n.lineHighlight&&(i[".cm-activeLine"]={backgroundColor:n.lineHighlight},o.backgroundColor=n.lineHighlight),i[".cm-activeLineGutter"]=o,n.selection&&(i["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:n.selection+" !important"}),n.selectionMatch&&(i["& .cm-selectionMatch"]={backgroundColor:n.selectionMatch});var a=mt.theme(i,{dark:e==="dark"}),l=VS.define(r),c=[a,k2(l)];return c},C6e={background:"#282a36",foreground:"#f8f8f2",caret:"#f8f8f0",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"#282a36",gutterForeground:"#6D8A88",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},x6e=[{tag:Re.comment,color:"#6272a4"},{tag:Re.string,color:"#f1fa8c"},{tag:Re.atom,color:"#bd93f9"},{tag:Re.meta,color:"#f8f8f2"},{tag:[Re.keyword,Re.operator,Re.tagName],color:"#ff79c6"},{tag:[Re.function(Re.propertyName),Re.propertyName],color:"#66d9ef"},{tag:[Re.definition(Re.variableName),Re.function(Re.variableName),Re.className,Re.attributeName],color:"#50fa7b"},{tag:Re.atom,color:"#bd93f9"}],R6e=t=>{var{theme:e="dark",settings:n={},styles:r=[]}={};return y6e({theme:e,settings:Gv({},C6e,n),styles:[...x6e,...r]})},nne=R6e(),aK={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},Lb={exports:{}},I6e=Lb.exports,lK;function _6e(){return lK||(lK=1,(function(t,e){(function(n,r){t.exports=r()})(I6e,(function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",A="week",u="month",h="quarter",p="year",E="date",T="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var $=["th","st","nd","rd"],J=V%100;return"["+V+($[(J-20)%10]||$[J]||$[0])+"]"}},b=function(V,$,J){var te=String(V);return!te||te.length>=$?V:""+Array($+1-te.length).join(J)+V},B={s:b,z:function(V){var $=-V.utcOffset(),J=Math.abs($),te=Math.floor(J/60),X=J%60;return($<=0?"+":"-")+b(te,2,"0")+":"+b(X,2,"0")},m:function V($,J){if($.date()<J.date())return-V(J,$);var te=12*(J.year()-$.year())+(J.month()-$.month()),X=$.clone().add(te,u),oe=J-X<0,F=$.clone().add(te+(oe?-1:1),u);return+(-(te+(J-X)/(oe?X-F:F-X))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:u,y:p,w:A,d:c,D:E,h:l,m:a,s:o,ms:s,Q:h}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},w="en",O={};O[w]=I;var L="$isDayjsObject",U=function(V){return V instanceof K||!(!V||!V[L])},G=function V($,J,te){var X;if(!$)return w;if(typeof $=="string"){var oe=$.toLowerCase();O[oe]&&(X=oe),J&&(O[oe]=J,X=oe);var F=$.split("-");if(!X&&F.length>1)return V(F[0])}else{var ee=$.name;O[ee]=$,X=ee}return!te&&X&&(w=X),X||!te&&w},Q=function(V,$){if(U(V))return V.clone();var J=typeof $=="object"?$:{};return J.date=V,J.args=arguments,new K(J)},Y=B;Y.l=G,Y.i=U,Y.w=function(V,$){return Q(V,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var K=(function(){function V(J){this.$L=G(J.locale,null,!0),this.parse(J),this.$x=this.$x||J.x||{},this[L]=!0}var $=V.prototype;return $.parse=function(J){this.$d=(function(te){var X=te.date,oe=te.utc;if(X===null)return new Date(NaN);if(Y.u(X))return new Date;if(X instanceof Date)return new Date(X);if(typeof X=="string"&&!/Z$/i.test(X)){var F=X.match(y);if(F){var ee=F[2]-1||0,le=(F[7]||"0").substring(0,3);return oe?new Date(Date.UTC(F[1],ee,F[3]||1,F[4]||0,F[5]||0,F[6]||0,le)):new Date(F[1],ee,F[3]||1,F[4]||0,F[5]||0,F[6]||0,le)}}return new Date(X)})(J),this.init()},$.init=function(){var J=this.$d;this.$y=J.getFullYear(),this.$M=J.getMonth(),this.$D=J.getDate(),this.$W=J.getDay(),this.$H=J.getHours(),this.$m=J.getMinutes(),this.$s=J.getSeconds(),this.$ms=J.getMilliseconds()},$.$utils=function(){return Y},$.isValid=function(){return this.$d.toString()!==T},$.isSame=function(J,te){var X=Q(J);return this.startOf(te)<=X&&X<=this.endOf(te)},$.isAfter=function(J,te){return Q(J)<this.startOf(te)},$.isBefore=function(J,te){return this.endOf(te)<Q(J)},$.$g=function(J,te,X){return Y.u(J)?this[te]:this.set(X,J)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(J,te){var X=this,oe=!!Y.u(te)||te,F=Y.p(J),ee=function(qe,Je){var ut=Y.w(X.$u?Date.UTC(X.$y,Je,qe):new Date(X.$y,Je,qe),X);return oe?ut:ut.endOf(c)},le=function(qe,Je){return Y.w(X.toDate()[qe].apply(X.toDate("s"),(oe?[0,0,0,0]:[23,59,59,999]).slice(Je)),X)},q=this.$W,we=this.$M,Oe=this.$D,Ce="set"+(this.$u?"UTC":"");switch(F){case p:return oe?ee(1,0):ee(31,11);case u:return oe?ee(1,we):ee(0,we+1);case A:var Ue=this.$locale().weekStart||0,We=(q<Ue?q+7:q)-Ue;return ee(oe?Oe-We:Oe+(6-We),we);case c:case E:return le(Ce+"Hours",0);case l:return le(Ce+"Minutes",1);case a:return le(Ce+"Seconds",2);case o:return le(Ce+"Milliseconds",3);default:return this.clone()}},$.endOf=function(J){return this.startOf(J,!1)},$.$set=function(J,te){var X,oe=Y.p(J),F="set"+(this.$u?"UTC":""),ee=(X={},X[c]=F+"Date",X[E]=F+"Date",X[u]=F+"Month",X[p]=F+"FullYear",X[l]=F+"Hours",X[a]=F+"Minutes",X[o]=F+"Seconds",X[s]=F+"Milliseconds",X)[oe],le=oe===c?this.$D+(te-this.$W):te;if(oe===u||oe===p){var q=this.clone().set(E,1);q.$d[ee](le),q.init(),this.$d=q.set(E,Math.min(this.$D,q.daysInMonth())).$d}else ee&&this.$d[ee](le);return this.init(),this},$.set=function(J,te){return this.clone().$set(J,te)},$.get=function(J){return this[Y.p(J)]()},$.add=function(J,te){var X,oe=this;J=Number(J);var F=Y.p(te),ee=function(we){var Oe=Q(oe);return Y.w(Oe.date(Oe.date()+Math.round(we*J)),oe)};if(F===u)return this.set(u,this.$M+J);if(F===p)return this.set(p,this.$y+J);if(F===c)return ee(1);if(F===A)return ee(7);var le=(X={},X[a]=r,X[l]=i,X[o]=n,X)[F]||1,q=this.$d.getTime()+J*le;return Y.w(q,this)},$.subtract=function(J,te){return this.add(-1*J,te)},$.format=function(J){var te=this,X=this.$locale();if(!this.isValid())return X.invalidDate||T;var oe=J||"YYYY-MM-DDTHH:mm:ssZ",F=Y.z(this),ee=this.$H,le=this.$m,q=this.$M,we=X.weekdays,Oe=X.months,Ce=X.meridiem,Ue=function(Je,ut,en,rn){return Je&&(Je[ut]||Je(te,oe))||en[ut].slice(0,rn)},We=function(Je){return Y.s(ee%12||12,Je,"0")},qe=Ce||function(Je,ut,en){var rn=Je<12?"AM":"PM";return en?rn.toLowerCase():rn};return oe.replace(R,(function(Je,ut){return ut||(function(en){switch(en){case"YY":return String(te.$y).slice(-2);case"YYYY":return Y.s(te.$y,4,"0");case"M":return q+1;case"MM":return Y.s(q+1,2,"0");case"MMM":return Ue(X.monthsShort,q,Oe,3);case"MMMM":return Ue(Oe,q);case"D":return te.$D;case"DD":return Y.s(te.$D,2,"0");case"d":return String(te.$W);case"dd":return Ue(X.weekdaysMin,te.$W,we,2);case"ddd":return Ue(X.weekdaysShort,te.$W,we,3);case"dddd":return we[te.$W];case"H":return String(ee);case"HH":return Y.s(ee,2,"0");case"h":return We(1);case"hh":return We(2);case"a":return qe(ee,le,!0);case"A":return qe(ee,le,!1);case"m":return String(le);case"mm":return Y.s(le,2,"0");case"s":return String(te.$s);case"ss":return Y.s(te.$s,2,"0");case"SSS":return Y.s(te.$ms,3,"0");case"Z":return F}return null})(Je)||F.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(J,te,X){var oe,F=this,ee=Y.p(te),le=Q(J),q=(le.utcOffset()-this.utcOffset())*r,we=this-le,Oe=function(){return Y.m(F,le)};switch(ee){case p:oe=Oe()/12;break;case u:oe=Oe();break;case h:oe=Oe()/3;break;case A:oe=(we-q)/6048e5;break;case c:oe=(we-q)/864e5;break;case l:oe=we/i;break;case a:oe=we/r;break;case o:oe=we/n;break;default:oe=we}return X?oe:Y.a(oe)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return O[this.$L]},$.locale=function(J,te){if(!J)return this.$L;var X=this.clone(),oe=G(J,te,!0);return oe&&(X.$L=oe),X},$.clone=function(){return Y.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},V})(),j=K.prototype;return Q.prototype=j,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",u],["$y",p],["$D",E]].forEach((function(V){j[V[1]]=function($){return this.$g($,V[0],V[1])}})),Q.extend=function(V,$){return V.$i||(V($,K,Q),V.$i=!0),Q},Q.locale=G,Q.isDayjs=U,Q.unix=function(V){return Q(1e3*V)},Q.en=O[w],Q.Ls=O,Q.p={},Q}))})(Lb)),Lb.exports}var N6e=_6e();const b6e=kS(N6e);var rne=Object.defineProperty,P=(t,e)=>rne(t,"name",{value:e,configurable:!0}),v6e=(t,e)=>{for(var n in e)rne(t,n,{get:e[n],enumerable:!0})},Ch={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},$e={trace:P((...t)=>{},"trace"),debug:P((...t)=>{},"debug"),info:P((...t)=>{},"info"),warn:P((...t)=>{},"warn"),error:P((...t)=>{},"error"),fatal:P((...t)=>{},"fatal")},FH=P(function(t="fatal"){let e=Ch.fatal;typeof t=="string"?t.toLowerCase()in Ch&&(e=Ch[t]):typeof t=="number"&&(e=t),$e.trace=()=>{},$e.debug=()=>{},$e.info=()=>{},$e.warn=()=>{},$e.error=()=>{},$e.fatal=()=>{},e<=Ch.fatal&&($e.fatal=console.error?console.error.bind(console,tc("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",tc("FATAL"))),e<=Ch.error&&($e.error=console.error?console.error.bind(console,tc("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",tc("ERROR"))),e<=Ch.warn&&($e.warn=console.warn?console.warn.bind(console,tc("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",tc("WARN"))),e<=Ch.info&&($e.info=console.info?console.info.bind(console,tc("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",tc("INFO"))),e<=Ch.debug&&($e.debug=console.debug?console.debug.bind(console,tc("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",tc("DEBUG"))),e<=Ch.trace&&($e.trace=console.debug?console.debug.bind(console,tc("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",tc("TRACE")))},"setLogLevel"),tc=P(t=>`%c${b6e().format("ss.SSS")} : ${t} : `,"format");const Bb={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,s=2*n-i;switch(r){case"r":return Bb.hue2rgb(s,i,t+1/3)*255;case"g":return Bb.hue2rgb(s,i,t)*255;case"b":return Bb.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n),o=(i+s)/2;if(r==="l")return o*100;if(i===s)return 0;const a=i-s,l=o>.5?a/(2-i-s):a/(i+s);if(r==="s")return l*100;switch(i){case t:return((e-n)/a+(e<n?6:0))*60;case e:return((n-t)/a+2)*60;case n:return((t-e)/a+4)*60;default:return-1}}},O6e={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},w6e={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Pn={channel:Bb,lang:O6e,unit:w6e},tf={};for(let t=0;t<=255;t++)tf[t]=Pn.unit.dec2hex(t);const Bo={ALL:0,RGB:1,HSL:2};class L6e{constructor(){this.type=Bo.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Bo.ALL}is(e){return this.type===e}}class B6e{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new L6e}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Bo.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=Pn.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=Pn.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Pn.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=Pn.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=Pn.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Pn.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Bo.HSL)&&n!==void 0?n:(this._ensureHSL(),Pn.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Bo.HSL)&&n!==void 0?n:(this._ensureHSL(),Pn.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Bo.HSL)&&n!==void 0?n:(this._ensureHSL(),Pn.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Bo.RGB)&&n!==void 0?n:(this._ensureRGB(),Pn.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Bo.RGB)&&n!==void 0?n:(this._ensureRGB(),Pn.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Bo.RGB)&&n!==void 0?n:(this._ensureRGB(),Pn.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Bo.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Bo.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Bo.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Bo.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Bo.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Bo.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const yL=new B6e({r:0,g:0,b:0,a:0},"transparent"),qT={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(qT.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,s=i%4===0,o=i>4,a=o?1:17,l=o?8:4,c=s?0:-1,A=o?255:15;return yL.set({r:(r>>l*(c+3)&A)*a,g:(r>>l*(c+2)&A)*a,b:(r>>l*(c+1)&A)*a,a:s?(r&A)*a/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${tf[Math.round(e)]}${tf[Math.round(n)]}${tf[Math.round(r)]}${tf[Math.round(i*255)]}`:`#${tf[Math.round(e)]}${tf[Math.round(n)]}${tf[Math.round(r)]}`}},bm={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(bm.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return Pn.channel.clamp.h(parseFloat(n)*.9);case"rad":return Pn.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Pn.channel.clamp.h(parseFloat(n)*360)}}return Pn.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(bm.re);if(!n)return;const[,r,i,s,o,a]=n;return yL.set({h:bm._hue2deg(r),s:Pn.channel.clamp.s(parseFloat(i)),l:Pn.channel.clamp.l(parseFloat(s)),a:o?Pn.channel.clamp.a(a?parseFloat(o)/100:parseFloat(o)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${Pn.lang.round(e)}, ${Pn.lang.round(n)}%, ${Pn.lang.round(r)}%, ${i})`:`hsl(${Pn.lang.round(e)}, ${Pn.lang.round(n)}%, ${Pn.lang.round(r)}%)`}},Ax={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Ax.colors[t];if(e)return qT.parse(e)},stringify:t=>{const e=qT.stringify(t);for(const n in Ax.colors)if(Ax.colors[n]===e)return n}},OC={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(OC.re);if(!n)return;const[,r,i,s,o,a,l,c,A]=n;return yL.set({r:Pn.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:Pn.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:Pn.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:c?Pn.channel.clamp.a(A?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${Pn.lang.round(e)}, ${Pn.lang.round(n)}, ${Pn.lang.round(r)}, ${Pn.lang.round(i)})`:`rgb(${Pn.lang.round(e)}, ${Pn.lang.round(n)}, ${Pn.lang.round(r)})`}},_u={format:{keyword:Ax,hex:qT,rgb:OC,rgba:OC,hsl:bm,hsla:bm},parse:t=>{if(typeof t!="string")return t;const e=qT.parse(t)||OC.parse(t)||bm.parse(t)||Ax.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Bo.HSL)||t.data.r===void 0?bm.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?OC.stringify(t):qT.stringify(t)},ine=(t,e)=>{const n=_u.parse(t);for(const r in e)n[r]=Pn.channel.clamp[r](e[r]);return _u.stringify(n)},ux=(t,e,n=0,r=1)=>{if(typeof t!="number")return ine(t,{a:e});const i=yL.set({r:Pn.channel.clamp.r(t),g:Pn.channel.clamp.g(e),b:Pn.channel.clamp.b(n),a:Pn.channel.clamp.a(r)});return _u.stringify(i)},D6e=t=>{const{r:e,g:n,b:r}=_u.parse(t),i=.2126*Pn.channel.toLinear(e)+.7152*Pn.channel.toLinear(n)+.0722*Pn.channel.toLinear(r);return Pn.lang.round(i)},k6e=t=>D6e(t)>=.5,MR=t=>!k6e(t),sne=(t,e,n)=>{const r=_u.parse(t),i=r[e],s=Pn.channel.clamp[e](i+n);return i!==s&&(r[e]=s),_u.stringify(r)},Gt=(t,e)=>sne(t,"l",e),ln=(t,e)=>sne(t,"l",-e),Se=(t,e)=>{const n=_u.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return ine(t,r)},M6e=(t,e,n=50)=>{const{r,g:i,b:s,a:o}=_u.parse(t),{r:a,g:l,b:c,a:A}=_u.parse(e),u=n/100,h=u*2-1,p=o-A,T=((h*p===-1?h:(h+p)/(1+h*p))+1)/2,y=1-T,R=r*T+a*y,I=i*T+l*y,b=s*T+c*y,B=o*u+A*(1-u);return ux(R,I,b,B)},pt=(t,e=100)=>{const n=_u.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,M6e(n,t,e)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:one,setPrototypeOf:cK,isFrozen:P6e,getPrototypeOf:U6e,getOwnPropertyDescriptor:F6e}=Object;let{freeze:ga,seal:Ic,create:rU}=Object,{apply:iU,construct:sU}=typeof Reflect<"u"&&Reflect;ga||(ga=function(e){return e});Ic||(Ic=function(e){return e});iU||(iU=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});sU||(sU=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const BN=Ea(Array.prototype.forEach),H6e=Ea(Array.prototype.lastIndexOf),AK=Ea(Array.prototype.pop),q0=Ea(Array.prototype.push),G6e=Ea(Array.prototype.splice),Db=Ea(String.prototype.toLowerCase),lk=Ea(String.prototype.toString),ck=Ea(String.prototype.match),X0=Ea(String.prototype.replace),Q6e=Ea(String.prototype.indexOf),V6e=Ea(String.prototype.trim),zc=Ea(Object.prototype.hasOwnProperty),ia=Ea(RegExp.prototype.test),J0=$6e(TypeError);function Ea(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return iU(t,e,r)}}function $6e(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return sU(t,n)}}function ar(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Db;cK&&cK(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(P6e(e)||(e[r]=s),i=s)}t[i]=!0}return t}function W6e(t){for(let e=0;e<t.length;e++)zc(t,e)||(t[e]=null);return t}function eu(t){const e=rU(null);for(const[n,r]of one(t))zc(t,n)&&(Array.isArray(r)?e[n]=W6e(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=eu(r):e[n]=r);return e}function Z0(t,e){for(;t!==null;){const r=F6e(t,e);if(r){if(r.get)return Ea(r.get);if(typeof r.value=="function")return Ea(r.value)}t=U6e(t)}function n(){return null}return n}const uK=ga(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ak=ga(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),uk=ga(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Y6e=ga(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hk=ga(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),j6e=ga(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hK=ga(["#text"]),dK=ga(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),dk=ga(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),fK=ga(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),DN=ga(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K6e=Ic(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z6e=Ic(/<%[\w\W]*|[\w\W]*%>/gm),q6e=Ic(/\$\{[\w\W]*/gm),X6e=Ic(/^data-[\-\w.\u00B7-\uFFFF]+$/),J6e=Ic(/^aria-[\-\w]+$/),ane=Ic(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z6e=Ic(/^(?:\w+script|data):/i),eze=Ic(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),lne=Ic(/^html$/i),tze=Ic(/^[a-z][.\w]*(-[.\w]+)+$/i);var pK=Object.freeze({__proto__:null,ARIA_ATTR:J6e,ATTR_WHITESPACE:eze,CUSTOM_ELEMENT:tze,DATA_ATTR:X6e,DOCTYPE_NAME:lne,ERB_EXPR:z6e,IS_ALLOWED_URI:ane,IS_SCRIPT_OR_DATA:Z6e,MUSTACHE_EXPR:K6e,TMPLIT_EXPR:q6e});const eC={element:1,text:3,progressingInstruction:7,comment:8,document:9},nze=function(){return typeof window>"u"?null:window},rze=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},mK=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function cne(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nze();const e=yt=>cne(yt);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==eC.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:A=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:u,DOMParser:h,trustedTypes:p}=t,E=l.prototype,T=Z0(E,"cloneNode"),y=Z0(E,"remove"),R=Z0(E,"nextSibling"),I=Z0(E,"childNodes"),b=Z0(E,"parentNode");if(typeof o=="function"){const yt=n.createElement("template");yt.content&&yt.content.ownerDocument&&(n=yt.content.ownerDocument)}let B,w="";const{implementation:O,createNodeIterator:L,createDocumentFragment:U,getElementsByTagName:G}=n,{importNode:Q}=r;let Y=mK();e.isSupported=typeof one=="function"&&typeof b=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:K,ERB_EXPR:j,TMPLIT_EXPR:V,DATA_ATTR:$,ARIA_ATTR:J,IS_SCRIPT_OR_DATA:te,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:oe}=pK;let{IS_ALLOWED_URI:F}=pK,ee=null;const le=ar({},[...uK,...Ak,...uk,...hk,...hK]);let q=null;const we=ar({},[...dK,...dk,...fK,...DN]);let Oe=Object.seal(rU(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Ue=null;const We=Object.seal(rU(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let qe=!0,Je=!0,ut=!1,en=!0,rn=!1,be=!0,nt=!1,Ke=!1,gt=!1,at=!1,_t=!1,Tt=!1,Dt=!0,Ft=!1;const mn="user-content-";let an=!0,qt=!1,ce={},_e=null;const Ye=ar({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let dt=null;const Wt=ar({},["audio","video","img","source","image","track"]);let Xt=null;const Te=ar({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ae="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",st="http://www.w3.org/1999/xhtml";let ke=st,ht=!1,sn=null;const mr=ar({},[Ae,me,st],lk);let Lt=ar({},["mi","mo","mn","ms","mtext"]),Dn=ar({},["annotation-xml"]);const tn=ar({},["title","style","font","a","script"]);let cn=null;const gr=["application/xhtml+xml","text/html"],Qn="text/html";let hn=null,Tr=null;const Br=n.createElement("form"),Gr=function(he){return he instanceof RegExp||he instanceof Function},Fr=function(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Tr&&Tr===he)){if((!he||typeof he!="object")&&(he={}),he=eu(he),cn=gr.indexOf(he.PARSER_MEDIA_TYPE)===-1?Qn:he.PARSER_MEDIA_TYPE,hn=cn==="application/xhtml+xml"?lk:Db,ee=zc(he,"ALLOWED_TAGS")?ar({},he.ALLOWED_TAGS,hn):le,q=zc(he,"ALLOWED_ATTR")?ar({},he.ALLOWED_ATTR,hn):we,sn=zc(he,"ALLOWED_NAMESPACES")?ar({},he.ALLOWED_NAMESPACES,lk):mr,Xt=zc(he,"ADD_URI_SAFE_ATTR")?ar(eu(Te),he.ADD_URI_SAFE_ATTR,hn):Te,dt=zc(he,"ADD_DATA_URI_TAGS")?ar(eu(Wt),he.ADD_DATA_URI_TAGS,hn):Wt,_e=zc(he,"FORBID_CONTENTS")?ar({},he.FORBID_CONTENTS,hn):Ye,Ce=zc(he,"FORBID_TAGS")?ar({},he.FORBID_TAGS,hn):eu({}),Ue=zc(he,"FORBID_ATTR")?ar({},he.FORBID_ATTR,hn):eu({}),ce=zc(he,"USE_PROFILES")?he.USE_PROFILES:!1,qe=he.ALLOW_ARIA_ATTR!==!1,Je=he.ALLOW_DATA_ATTR!==!1,ut=he.ALLOW_UNKNOWN_PROTOCOLS||!1,en=he.ALLOW_SELF_CLOSE_IN_ATTR!==!1,rn=he.SAFE_FOR_TEMPLATES||!1,be=he.SAFE_FOR_XML!==!1,nt=he.WHOLE_DOCUMENT||!1,at=he.RETURN_DOM||!1,_t=he.RETURN_DOM_FRAGMENT||!1,Tt=he.RETURN_TRUSTED_TYPE||!1,gt=he.FORCE_BODY||!1,Dt=he.SANITIZE_DOM!==!1,Ft=he.SANITIZE_NAMED_PROPS||!1,an=he.KEEP_CONTENT!==!1,qt=he.IN_PLACE||!1,F=he.ALLOWED_URI_REGEXP||ane,ke=he.NAMESPACE||st,Lt=he.MATHML_TEXT_INTEGRATION_POINTS||Lt,Dn=he.HTML_INTEGRATION_POINTS||Dn,Oe=he.CUSTOM_ELEMENT_HANDLING||{},he.CUSTOM_ELEMENT_HANDLING&&Gr(he.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Oe.tagNameCheck=he.CUSTOM_ELEMENT_HANDLING.tagNameCheck),he.CUSTOM_ELEMENT_HANDLING&&Gr(he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Oe.attributeNameCheck=he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),he.CUSTOM_ELEMENT_HANDLING&&typeof he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Oe.allowCustomizedBuiltInElements=he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),rn&&(Je=!1),_t&&(at=!0),ce&&(ee=ar({},hK),q=[],ce.html===!0&&(ar(ee,uK),ar(q,dK)),ce.svg===!0&&(ar(ee,Ak),ar(q,dk),ar(q,DN)),ce.svgFilters===!0&&(ar(ee,uk),ar(q,dk),ar(q,DN)),ce.mathMl===!0&&(ar(ee,hk),ar(q,fK),ar(q,DN))),he.ADD_TAGS&&(typeof he.ADD_TAGS=="function"?We.tagCheck=he.ADD_TAGS:(ee===le&&(ee=eu(ee)),ar(ee,he.ADD_TAGS,hn))),he.ADD_ATTR&&(typeof he.ADD_ATTR=="function"?We.attributeCheck=he.ADD_ATTR:(q===we&&(q=eu(q)),ar(q,he.ADD_ATTR,hn))),he.ADD_URI_SAFE_ATTR&&ar(Xt,he.ADD_URI_SAFE_ATTR,hn),he.FORBID_CONTENTS&&(_e===Ye&&(_e=eu(_e)),ar(_e,he.FORBID_CONTENTS,hn)),he.ADD_FORBID_CONTENTS&&(_e===Ye&&(_e=eu(_e)),ar(_e,he.ADD_FORBID_CONTENTS,hn)),an&&(ee["#text"]=!0),nt&&ar(ee,["html","head","body"]),ee.table&&(ar(ee,["tbody"]),delete Ce.tbody),he.TRUSTED_TYPES_POLICY){if(typeof he.TRUSTED_TYPES_POLICY.createHTML!="function")throw J0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof he.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw J0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');B=he.TRUSTED_TYPES_POLICY,w=B.createHTML("")}else B===void 0&&(B=rze(p,i)),B!==null&&typeof w=="string"&&(w=B.createHTML(""));ga&&ga(he),Tr=he}},ei=ar({},[...Ak,...uk,...Y6e]),gi=ar({},[...hk,...j6e]),Wi=function(he){let De=b(he);(!De||!De.tagName)&&(De={namespaceURI:ke,tagName:"template"});const ie=Db(he.tagName),Le=Db(De.tagName);return sn[he.namespaceURI]?he.namespaceURI===me?De.namespaceURI===st?ie==="svg":De.namespaceURI===Ae?ie==="svg"&&(Le==="annotation-xml"||Lt[Le]):!!ei[ie]:he.namespaceURI===Ae?De.namespaceURI===st?ie==="math":De.namespaceURI===me?ie==="math"&&Dn[Le]:!!gi[ie]:he.namespaceURI===st?De.namespaceURI===me&&!Dn[Le]||De.namespaceURI===Ae&&!Lt[Le]?!1:!gi[ie]&&(tn[ie]||!ei[ie]):!!(cn==="application/xhtml+xml"&&sn[he.namespaceURI]):!1},lt=function(he){q0(e.removed,{element:he});try{b(he).removeChild(he)}catch{y(he)}},Zt=function(he,De){try{q0(e.removed,{attribute:De.getAttributeNode(he),from:De})}catch{q0(e.removed,{attribute:null,from:De})}if(De.removeAttribute(he),he==="is")if(at||_t)try{lt(De)}catch{}else try{De.setAttribute(he,"")}catch{}},Pt=function(he){let De=null,ie=null;if(gt)he="<remove></remove>"+he;else{const bt=ck(he,/^[\r\n\t ]+/);ie=bt&&bt[0]}cn==="application/xhtml+xml"&&ke===st&&(he='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+he+"</body></html>");const Le=B?B.createHTML(he):he;if(ke===st)try{De=new h().parseFromString(Le,cn)}catch{}if(!De||!De.documentElement){De=O.createDocument(ke,"template",null);try{De.documentElement.innerHTML=ht?w:Le}catch{}}const Me=De.body||De.documentElement;return he&&ie&&Me.insertBefore(n.createTextNode(ie),Me.childNodes[0]||null),ke===st?G.call(De,nt?"html":"body")[0]:nt?De.documentElement:Me},kn=function(he){return L.call(he.ownerDocument||he,he,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},et=function(he){return he instanceof u&&(typeof he.nodeName!="string"||typeof he.textContent!="string"||typeof he.removeChild!="function"||!(he.attributes instanceof A)||typeof he.removeAttribute!="function"||typeof he.setAttribute!="function"||typeof he.namespaceURI!="string"||typeof he.insertBefore!="function"||typeof he.hasChildNodes!="function")},Gn=function(he){return typeof a=="function"&&he instanceof a};function Cn(yt,he,De){BN(yt,ie=>{ie.call(e,he,De,Tr)})}const nr=function(he){let De=null;if(Cn(Y.beforeSanitizeElements,he,null),et(he))return lt(he),!0;const ie=hn(he.nodeName);if(Cn(Y.uponSanitizeElement,he,{tagName:ie,allowedTags:ee}),be&&he.hasChildNodes()&&!Gn(he.firstElementChild)&&ia(/<[/\w!]/g,he.innerHTML)&&ia(/<[/\w!]/g,he.textContent)||he.nodeType===eC.progressingInstruction||be&&he.nodeType===eC.comment&&ia(/<[/\w]/g,he.data))return lt(he),!0;if(!(We.tagCheck instanceof Function&&We.tagCheck(ie))&&(!ee[ie]||Ce[ie])){if(!Ce[ie]&&qr(ie)&&(Oe.tagNameCheck instanceof RegExp&&ia(Oe.tagNameCheck,ie)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(ie)))return!1;if(an&&!_e[ie]){const Le=b(he)||he.parentNode,Me=I(he)||he.childNodes;if(Me&&Le){const bt=Me.length;for(let tt=bt-1;tt>=0;--tt){const wn=T(Me[tt],!0);wn.__removalCount=(he.__removalCount||0)+1,Le.insertBefore(wn,R(he))}}}return lt(he),!0}return he instanceof l&&!Wi(he)||(ie==="noscript"||ie==="noembed"||ie==="noframes")&&ia(/<\/no(script|embed|frames)/i,he.innerHTML)?(lt(he),!0):(rn&&he.nodeType===eC.text&&(De=he.textContent,BN([K,j,V],Le=>{De=X0(De,Le," ")}),he.textContent!==De&&(q0(e.removed,{element:he.cloneNode()}),he.textContent=De)),Cn(Y.afterSanitizeElements,he,null),!1)},zn=function(he,De,ie){if(Dt&&(De==="id"||De==="name")&&(ie in n||ie in Br))return!1;if(!(Je&&!Ue[De]&&ia($,De))){if(!(qe&&ia(J,De))){if(!(We.attributeCheck instanceof Function&&We.attributeCheck(De,he))){if(!q[De]||Ue[De]){if(!(qr(he)&&(Oe.tagNameCheck instanceof RegExp&&ia(Oe.tagNameCheck,he)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(he))&&(Oe.attributeNameCheck instanceof RegExp&&ia(Oe.attributeNameCheck,De)||Oe.attributeNameCheck instanceof Function&&Oe.attributeNameCheck(De,he))||De==="is"&&Oe.allowCustomizedBuiltInElements&&(Oe.tagNameCheck instanceof RegExp&&ia(Oe.tagNameCheck,ie)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(ie))))return!1}else if(!Xt[De]){if(!ia(F,X0(ie,X,""))){if(!((De==="src"||De==="xlink:href"||De==="href")&&he!=="script"&&Q6e(ie,"data:")===0&&dt[he])){if(!(ut&&!ia(te,X0(ie,X,"")))){if(ie)return!1}}}}}}}return!0},qr=function(he){return he!=="annotation-xml"&&ck(he,oe)},xs=function(he){Cn(Y.beforeSanitizeAttributes,he,null);const{attributes:De}=he;if(!De||et(he))return;const ie={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q,forceKeepAttr:void 0};let Le=De.length;for(;Le--;){const Me=De[Le],{name:bt,namespaceURI:tt,value:wn}=Me,rr=hn(bt),Sr=wn;let Vn=bt==="value"?Sr:V6e(Sr);if(ie.attrName=rr,ie.attrValue=Vn,ie.keepAttr=!0,ie.forceKeepAttr=void 0,Cn(Y.uponSanitizeAttribute,he,ie),Vn=ie.attrValue,Ft&&(rr==="id"||rr==="name")&&(Zt(bt,he),Vn=mn+Vn),be&&ia(/((--!?|])>)|<\/(style|title|textarea)/i,Vn)){Zt(bt,he);continue}if(rr==="attributename"&&ck(Vn,"href")){Zt(bt,he);continue}if(ie.forceKeepAttr)continue;if(!ie.keepAttr){Zt(bt,he);continue}if(!en&&ia(/\/>/i,Vn)){Zt(bt,he);continue}rn&&BN([K,j,V],_i=>{Vn=X0(Vn,_i," ")});const ti=hn(he.nodeName);if(!zn(ti,rr,Vn)){Zt(bt,he);continue}if(B&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!tt)switch(p.getAttributeType(ti,rr)){case"TrustedHTML":{Vn=B.createHTML(Vn);break}case"TrustedScriptURL":{Vn=B.createScriptURL(Vn);break}}if(Vn!==Sr)try{tt?he.setAttributeNS(tt,bt,Vn):he.setAttribute(bt,Vn),et(he)?lt(he):AK(e.removed)}catch{Zt(bt,he)}}Cn(Y.afterSanitizeAttributes,he,null)},Ii=function yt(he){let De=null;const ie=kn(he);for(Cn(Y.beforeSanitizeShadowDOM,he,null);De=ie.nextNode();)Cn(Y.uponSanitizeShadowNode,De,null),nr(De),xs(De),De.content instanceof s&&yt(De.content);Cn(Y.afterSanitizeShadowDOM,he,null)};return e.sanitize=function(yt){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=null,ie=null,Le=null,Me=null;if(ht=!yt,ht&&(yt="<!-->"),typeof yt!="string"&&!Gn(yt))if(typeof yt.toString=="function"){if(yt=yt.toString(),typeof yt!="string")throw J0("dirty is not a string, aborting")}else throw J0("toString is not a function");if(!e.isSupported)return yt;if(Ke||Fr(he),e.removed=[],typeof yt=="string"&&(qt=!1),qt){if(yt.nodeName){const wn=hn(yt.nodeName);if(!ee[wn]||Ce[wn])throw J0("root node is forbidden and cannot be sanitized in-place")}}else if(yt instanceof a)De=Pt("<!---->"),ie=De.ownerDocument.importNode(yt,!0),ie.nodeType===eC.element&&ie.nodeName==="BODY"||ie.nodeName==="HTML"?De=ie:De.appendChild(ie);else{if(!at&&!rn&&!nt&&yt.indexOf("<")===-1)return B&&Tt?B.createHTML(yt):yt;if(De=Pt(yt),!De)return at?null:Tt?w:""}De&&gt&&lt(De.firstChild);const bt=kn(qt?yt:De);for(;Le=bt.nextNode();)nr(Le),xs(Le),Le.content instanceof s&&Ii(Le.content);if(qt)return yt;if(at){if(_t)for(Me=U.call(De.ownerDocument);De.firstChild;)Me.appendChild(De.firstChild);else Me=De;return(q.shadowroot||q.shadowrootmode)&&(Me=Q.call(r,Me,!0)),Me}let tt=nt?De.outerHTML:De.innerHTML;return nt&&ee["!doctype"]&&De.ownerDocument&&De.ownerDocument.doctype&&De.ownerDocument.doctype.name&&ia(lne,De.ownerDocument.doctype.name)&&(tt="<!DOCTYPE "+De.ownerDocument.doctype.name+`>
`+tt),rn&&BN([K,j,V],wn=>{tt=X0(tt,wn," ")}),B&&Tt?B.createHTML(tt):tt},e.setConfig=function(){let yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fr(yt),Ke=!0},e.clearConfig=function(){Tr=null,Ke=!1},e.isValidAttribute=function(yt,he,De){Tr||Fr({});const ie=hn(yt),Le=hn(he);return zn(ie,Le,De)},e.addHook=function(yt,he){typeof he=="function"&&q0(Y[yt],he)},e.removeHook=function(yt,he){if(he!==void 0){const De=H6e(Y[yt],he);return De===-1?void 0:G6e(Y[yt],De,1)[0]}return AK(Y[yt])},e.removeHooks=function(yt){Y[yt]=[]},e.removeAllHooks=function(){Y=mK()},e}var IS=cne(),Ane=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,hx=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ize=/\s*%%.*\n/gm,ZT,une=(ZT=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},P(ZT,"UnknownDiagramError"),ZT),eg={},HH=P(function(t,e){t=t.replace(Ane,"").replace(hx,"").replace(ize,`
`);for(const[n,{detector:r}]of Object.entries(eg))if(r(t,e))return n;throw new une(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),oU=P((...t)=>{for(const{id:e,detector:n,loader:r}of t)hne(e,n,r)},"registerLazyLoadedDiagrams"),hne=P((t,e,n)=>{eg[t]&&$e.warn(`Detector with key ${t} already exists. Overwriting.`),eg[t]={detector:e,loader:n},$e.debug(`Detector with key ${t} added${n?" with loader":""}`)},"addDetector"),sze=P(t=>eg[t].loader,"getDiagramLoader"),aU=P((t,e,{depth:n=2,clobber:r=!1}={})=>{const i={depth:n,clobber:r};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>aU(t,s,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||n<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=aU(t[s],e[s],{depth:n-1,clobber:r})):(r||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},"assignWithDepth"),ks=aU,CL="#ffffff",xL="#f2f2f2",ha=P((t,e)=>e?Se(t,{s:-40,l:10}):Se(t,{s:-40,l:-10}),"mkBorder"),eS,oze=(eS=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var n,r,i,s,o,a,l,c,A,u,h,p,E,T,y,R,I,b,B,w,O;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Se(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Se(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||ha(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||ha(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||ha(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||pt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||pt(this.tertiaryColor),this.lineColor=this.lineColor||pt(this.background),this.arrowheadColor=this.arrowheadColor||pt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?ln(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||ln(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||pt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Gt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||ln(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ln(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Gt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Gt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Se(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Se(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Se(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Se(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Se(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Se(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Se(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Se(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Se(this.primaryColor,{h:330}),this.darkMode)for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScale"+L]=ln(this["cScale"+L],75);else for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScale"+L]=ln(this["cScale"+L],25);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleInv"+L]=this["cScaleInv"+L]||pt(this["cScale"+L]);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this.darkMode?this["cScalePeer"+L]=this["cScalePeer"+L]||Gt(this["cScale"+L],10):this["cScalePeer"+L]=this["cScalePeer"+L]||ln(this["cScale"+L],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleLabel"+L]=this["cScaleLabel"+L]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let L=0;L<5;L++)this["surface"+L]=this["surface"+L]||Se(this.mainBkg,{h:180,s:-15,l:e*(5+L*3)}),this["surfacePeer"+L]=this["surfacePeer"+L]||Se(this.mainBkg,{h:180,s:-15,l:e*(8+L*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Se(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Se(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Se(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Se(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Se(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Se(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Se(this.primaryColor,{l:-10}),this.pie5=this.pie5||Se(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Se(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Se(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Se(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Se(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Se(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Se(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Se(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((n=this.radar)==null?void 0:n.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((o=this.radar)==null?void 0:o.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((c=this.radar)==null?void 0:c.graticuleOpacity)||.3,legendBoxSize:((A=this.radar)==null?void 0:A.legendBoxSize)||12,legendFontSize:((u=this.radar)==null?void 0:u.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Se(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Se(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Se(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Se(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Se(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Se(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||MR(this.quadrant1Fill)?Gt(this.quadrant1Fill):ln(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((h=this.xyChart)==null?void 0:h.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((E=this.xyChart)==null?void 0:E.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((T=this.xyChart)==null?void 0:T.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((y=this.xyChart)==null?void 0:y.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((R=this.xyChart)==null?void 0:R.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((I=this.xyChart)==null?void 0:I.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((b=this.xyChart)==null?void 0:b.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((B=this.xyChart)==null?void 0:B.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((w=this.xyChart)==null?void 0:w.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((O=this.xyChart)==null?void 0:O.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ln(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Se(this.primaryColor,{h:-30}),this.git4=this.git4||Se(this.primaryColor,{h:-60}),this.git5=this.git5||Se(this.primaryColor,{h:-90}),this.git6=this.git6||Se(this.primaryColor,{h:60}),this.git7=this.git7||Se(this.primaryColor,{h:120}),this.darkMode?(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)):(this.git0=ln(this.git0,25),this.git1=ln(this.git1,25),this.git2=ln(this.git2,25),this.git3=ln(this.git3,25),this.git4=ln(this.git4,25),this.git5=ln(this.git5,25),this.git6=ln(this.git6,25),this.git7=ln(this.git7,25)),this.gitInv0=this.gitInv0||pt(this.git0),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||CL,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||xL}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},P(eS,"Theme"),eS),aze=P(t=>{const e=new oze;return e.calculate(t),e},"getThemeVariables"),tS,lze=(tS=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Gt(this.primaryColor,16),this.tertiaryColor=Se(this.primaryColor,{h:-160}),this.primaryBorderColor=pt(this.background),this.secondaryBorderColor=ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ha(this.tertiaryColor,this.darkMode),this.primaryTextColor=pt(this.primaryColor),this.secondaryTextColor=pt(this.secondaryColor),this.tertiaryTextColor=pt(this.tertiaryColor),this.lineColor=pt(this.background),this.textColor=pt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Gt(pt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=ux(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=ln("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=ln(this.sectionBkgColor,10),this.taskBorderColor=ux(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ux(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Gt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ln(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,n,r,i,s,o,a,l,c,A,u,h,p,E,T,y,R,I,b,B,w;this.secondBkg=Gt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Gt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Gt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Se(this.primaryColor,{h:64}),this.fillType3=Se(this.secondaryColor,{h:64}),this.fillType4=Se(this.primaryColor,{h:-64}),this.fillType5=Se(this.secondaryColor,{h:-64}),this.fillType6=Se(this.primaryColor,{h:128}),this.fillType7=Se(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Se(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Se(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Se(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Se(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Se(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Se(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Se(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Se(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Se(this.primaryColor,{h:330});for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleInv"+O]=this["cScaleInv"+O]||pt(this["cScale"+O]);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScalePeer"+O]=this["cScalePeer"+O]||Gt(this["cScale"+O],10);for(let O=0;O<5;O++)this["surface"+O]=this["surface"+O]||Se(this.mainBkg,{h:30,s:-30,l:-(-10+O*4)}),this["surfacePeer"+O]=this["surfacePeer"+O]||Se(this.mainBkg,{h:30,s:-30,l:-(-7+O*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleLabel"+O]=this["cScaleLabel"+O]||this.scaleLabelColor;for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["pie"+O]=this["cScale"+O];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Se(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Se(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Se(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Se(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Se(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Se(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||MR(this.quadrant1Fill)?Gt(this.quadrant1Fill):ln(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((A=this.xyChart)==null?void 0:A.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((u=this.xyChart)==null?void 0:u.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((h=this.radar)==null?void 0:h.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((E=this.radar)==null?void 0:E.axisLabelFontSize)||12,curveOpacity:((T=this.radar)==null?void 0:T.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((R=this.radar)==null?void 0:R.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((I=this.radar)==null?void 0:I.graticuleStrokeWidth)||1,graticuleOpacity:((b=this.radar)==null?void 0:b.graticuleOpacity)||.3,legendBoxSize:((B=this.radar)==null?void 0:B.legendBoxSize)||12,legendFontSize:((w=this.radar)==null?void 0:w.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ln(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Gt(this.secondaryColor,20),this.git1=Gt(this.pie2||this.secondaryColor,20),this.git2=Gt(this.pie3||this.tertiaryColor,20),this.git3=Gt(this.pie4||Se(this.primaryColor,{h:-30}),20),this.git4=Gt(this.pie5||Se(this.primaryColor,{h:-60}),20),this.git5=Gt(this.pie6||Se(this.primaryColor,{h:-90}),10),this.git6=Gt(this.pie7||Se(this.primaryColor,{h:60}),10),this.git7=Gt(this.pie8||Se(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||pt(this.git0),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||pt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||pt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Gt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Gt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},P(tS,"Theme"),tS),cze=P(t=>{const e=new lze;return e.calculate(t),e},"getThemeVariables"),nS,Aze=(nS=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Se(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Se(this.primaryColor,{h:-160}),this.primaryBorderColor=ha(this.primaryColor,this.darkMode),this.secondaryBorderColor=ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ha(this.tertiaryColor,this.darkMode),this.primaryTextColor=pt(this.primaryColor),this.secondaryTextColor=pt(this.secondaryColor),this.tertiaryTextColor=pt(this.tertiaryColor),this.lineColor=pt(this.background),this.textColor=pt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=ux(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,n,r,i,s,o,a,l,c,A,u,h,p,E,T,y,R,I,b,B,w;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Se(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Se(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Se(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Se(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Se(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Se(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Se(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Se(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Se(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ln(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ln(this.tertiaryColor,40);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScale"+O]=ln(this["cScale"+O],10),this["cScalePeer"+O]=this["cScalePeer"+O]||ln(this["cScale"+O],25);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleInv"+O]=this["cScaleInv"+O]||Se(this["cScale"+O],{h:180});for(let O=0;O<5;O++)this["surface"+O]=this["surface"+O]||Se(this.mainBkg,{h:30,l:-(5+O*5)}),this["surfacePeer"+O]=this["surfacePeer"+O]||Se(this.mainBkg,{h:30,l:-(7+O*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||pt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||pt(this.labelTextColor);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleLabel"+O]=this["cScaleLabel"+O]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Gt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Gt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Gt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Se(this.primaryColor,{h:64}),this.fillType3=Se(this.secondaryColor,{h:64}),this.fillType4=Se(this.primaryColor,{h:-64}),this.fillType5=Se(this.secondaryColor,{h:-64}),this.fillType6=Se(this.primaryColor,{h:128}),this.fillType7=Se(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Se(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Se(this.primaryColor,{l:-10}),this.pie5=this.pie5||Se(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Se(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Se(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Se(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Se(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Se(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Se(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Se(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Se(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Se(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Se(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Se(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Se(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Se(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||MR(this.quadrant1Fill)?Gt(this.quadrant1Fill):ln(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((r=this.radar)==null?void 0:r.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((a=this.radar)==null?void 0:a.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((A=this.radar)==null?void 0:A.legendFontSize)||12},this.xyChart={backgroundColor:((u=this.xyChart)==null?void 0:u.backgroundColor)||this.background,titleColor:((h=this.xyChart)==null?void 0:h.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((E=this.xyChart)==null?void 0:E.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((T=this.xyChart)==null?void 0:T.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((R=this.xyChart)==null?void 0:R.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((I=this.xyChart)==null?void 0:I.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((b=this.xyChart)==null?void 0:b.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((B=this.xyChart)==null?void 0:B.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((w=this.xyChart)==null?void 0:w.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Se(this.primaryColor,{h:-30}),this.git4=this.git4||Se(this.primaryColor,{h:-60}),this.git5=this.git5||Se(this.primaryColor,{h:-90}),this.git6=this.git6||Se(this.primaryColor,{h:60}),this.git7=this.git7||Se(this.primaryColor,{h:120}),this.darkMode?(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)):(this.git0=ln(this.git0,25),this.git1=ln(this.git1,25),this.git2=ln(this.git2,25),this.git3=ln(this.git3,25),this.git4=ln(this.git4,25),this.git5=ln(this.git5,25),this.git6=ln(this.git6,25),this.git7=ln(this.git7,25)),this.gitInv0=this.gitInv0||ln(pt(this.git0),25),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||pt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||pt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||CL,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||xL}calculate(e){if(Object.keys(this).forEach(r=>{this[r]==="calculated"&&(this[r]=void 0)}),typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},P(nS,"Theme"),nS),uze=P(t=>{const e=new Aze;return e.calculate(t),e},"getThemeVariables"),rS,hze=(rS=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Gt("#cde498",10),this.primaryBorderColor=ha(this.primaryColor,this.darkMode),this.secondaryBorderColor=ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ha(this.tertiaryColor,this.darkMode),this.primaryTextColor=pt(this.primaryColor),this.secondaryTextColor=pt(this.secondaryColor),this.tertiaryTextColor=pt(this.primaryColor),this.lineColor=pt(this.background),this.textColor=pt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,n,r,i,s,o,a,l,c,A,u,h,p,E,T,y,R,I,b,B,w;this.actorBorder=ln(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Se(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Se(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Se(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Se(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Se(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Se(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Se(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Se(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Se(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ln(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ln(this.tertiaryColor,40);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScale"+O]=ln(this["cScale"+O],10),this["cScalePeer"+O]=this["cScalePeer"+O]||ln(this["cScale"+O],25);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleInv"+O]=this["cScaleInv"+O]||Se(this["cScale"+O],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleLabel"+O]=this["cScaleLabel"+O]||this.scaleLabelColor;for(let O=0;O<5;O++)this["surface"+O]=this["surface"+O]||Se(this.mainBkg,{h:30,s:-30,l:-(5+O*5)}),this["surfacePeer"+O]=this["surfacePeer"+O]||Se(this.mainBkg,{h:30,s:-30,l:-(8+O*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Gt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Gt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Se(this.primaryColor,{h:64}),this.fillType3=Se(this.secondaryColor,{h:64}),this.fillType4=Se(this.primaryColor,{h:-64}),this.fillType5=Se(this.secondaryColor,{h:-64}),this.fillType6=Se(this.primaryColor,{h:128}),this.fillType7=Se(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Se(this.primaryColor,{l:-30}),this.pie5=this.pie5||Se(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Se(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Se(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Se(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Se(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Se(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Se(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Se(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Se(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Se(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Se(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Se(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Se(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Se(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||MR(this.quadrant1Fill)?Gt(this.quadrant1Fill):ln(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((r=this.radar)==null?void 0:r.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((a=this.radar)==null?void 0:a.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((A=this.radar)==null?void 0:A.legendFontSize)||12},this.xyChart={backgroundColor:((u=this.xyChart)==null?void 0:u.backgroundColor)||this.background,titleColor:((h=this.xyChart)==null?void 0:h.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((E=this.xyChart)==null?void 0:E.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((T=this.xyChart)==null?void 0:T.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((R=this.xyChart)==null?void 0:R.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((I=this.xyChart)==null?void 0:I.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((b=this.xyChart)==null?void 0:b.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((B=this.xyChart)==null?void 0:B.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((w=this.xyChart)==null?void 0:w.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Se(this.primaryColor,{h:-30}),this.git4=this.git4||Se(this.primaryColor,{h:-60}),this.git5=this.git5||Se(this.primaryColor,{h:-90}),this.git6=this.git6||Se(this.primaryColor,{h:60}),this.git7=this.git7||Se(this.primaryColor,{h:120}),this.darkMode?(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)):(this.git0=ln(this.git0,25),this.git1=ln(this.git1,25),this.git2=ln(this.git2,25),this.git3=ln(this.git3,25),this.git4=ln(this.git4,25),this.git5=ln(this.git5,25),this.git6=ln(this.git6,25),this.git7=ln(this.git7,25)),this.gitInv0=this.gitInv0||pt(this.git0),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||pt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||pt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||CL,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||xL}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},P(rS,"Theme"),rS),dze=P(t=>{const e=new hze;return e.calculate(t),e},"getThemeVariables"),iS,fze=(iS=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Gt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Se(this.primaryColor,{h:-160}),this.primaryBorderColor=ha(this.primaryColor,this.darkMode),this.secondaryBorderColor=ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ha(this.tertiaryColor,this.darkMode),this.primaryTextColor=pt(this.primaryColor),this.secondaryTextColor=pt(this.secondaryColor),this.tertiaryTextColor=pt(this.tertiaryColor),this.lineColor=pt(this.background),this.textColor=pt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Gt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,n,r,i,s,o,a,l,c,A,u,h,p,E,T,y,R,I,b,B,w;this.secondBkg=Gt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Gt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleInv"+O]=this["cScaleInv"+O]||pt(this["cScale"+O]);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this.darkMode?this["cScalePeer"+O]=this["cScalePeer"+O]||Gt(this["cScale"+O],10):this["cScalePeer"+O]=this["cScalePeer"+O]||ln(this["cScale"+O],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleLabel"+O]=this["cScaleLabel"+O]||this.scaleLabelColor;for(let O=0;O<5;O++)this["surface"+O]=this["surface"+O]||Se(this.mainBkg,{l:-(5+O*5)}),this["surfacePeer"+O]=this["surfacePeer"+O]||Se(this.mainBkg,{l:-(8+O*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Gt(this.contrast,30),this.sectionBkgColor2=Gt(this.contrast,30),this.taskBorderColor=ln(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Gt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=ln(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Se(this.primaryColor,{h:64}),this.fillType3=Se(this.secondaryColor,{h:64}),this.fillType4=Se(this.primaryColor,{h:-64}),this.fillType5=Se(this.secondaryColor,{h:-64}),this.fillType6=Se(this.primaryColor,{h:128}),this.fillType7=Se(this.secondaryColor,{h:128});for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["pie"+O]=this["cScale"+O];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Se(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Se(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Se(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Se(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Se(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Se(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||MR(this.quadrant1Fill)?Gt(this.quadrant1Fill):ln(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((A=this.xyChart)==null?void 0:A.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((u=this.xyChart)==null?void 0:u.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((h=this.radar)==null?void 0:h.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((E=this.radar)==null?void 0:E.axisLabelFontSize)||12,curveOpacity:((T=this.radar)==null?void 0:T.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((R=this.radar)==null?void 0:R.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((I=this.radar)==null?void 0:I.graticuleStrokeWidth)||1,graticuleOpacity:((b=this.radar)==null?void 0:b.graticuleOpacity)||.3,legendBoxSize:((B=this.radar)==null?void 0:B.legendBoxSize)||12,legendFontSize:((w=this.radar)==null?void 0:w.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ln(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Se(this.primaryColor,{h:-30}),this.git4=this.pie5||Se(this.primaryColor,{h:-60}),this.git5=this.pie6||Se(this.primaryColor,{h:-90}),this.git6=this.pie7||Se(this.primaryColor,{h:60}),this.git7=this.pie8||Se(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||pt(this.git0),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||CL,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||xL}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},P(iS,"Theme"),iS),pze=P(t=>{const e=new fze;return e.calculate(t),e},"getThemeVariables"),$h={base:{getThemeVariables:aze},dark:{getThemeVariables:cze},default:{getThemeVariables:uze},forest:{getThemeVariables:dze},neutral:{getThemeVariables:pze}},qA={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},dne={...qA,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:$h.default.getThemeVariables(),sequence:{...qA.sequence,messageFont:P(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:P(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:P(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...qA.gantt,tickInterval:void 0,useWidth:void 0},c4:{...qA.c4,useWidth:void 0,personFont:P(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...qA.flowchart,inheritDir:!1},external_personFont:P(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:P(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:P(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:P(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:P(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:P(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:P(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:P(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:P(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:P(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:P(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:P(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:P(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:P(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:P(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:P(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:P(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:P(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:P(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:P(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:P(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...qA.pie,useWidth:984},xyChart:{...qA.xyChart,useWidth:void 0},requirement:{...qA.requirement,useWidth:void 0},packet:{...qA.packet},radar:{...qA.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},fne=P((t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,...fne(t[r],"")]:[...n,e+r],[]),"keyify"),mze=new Set(fne(dne,"")),pne=dne,DO=P(t=>{if($e.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>DO(e));return}for(const e of Object.keys(t)){if($e.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!mze.has(e)||t[e]==null){$e.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){$e.debug("sanitizing object",e),DO(t[e]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)e.includes(r)&&($e.debug("sanitizing css option",e),t[e]=gze(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const n=t.themeVariables[e];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}$e.debug("After sanitization",t)}},"sanitizeDirective"),gze=P(t=>{let e=0,n=0;for(const r of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),_S=Object.freeze(pne),ja=ks({},_S),kO,tg=[],dx=ks({},_S),RL=P((t,e)=>{let n=ks({},t),r={};for(const i of e)Ene(i),r=ks(r,i);if(n=ks(n,r),r.theme&&r.theme in $h){const i=ks({},kO),s=ks(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in $h&&(n.themeVariables=$h[n.theme].getThemeVariables(s))}return dx=n,Tne(dx),dx},"updateCurrentConfig"),Eze=P(t=>(ja=ks({},_S),ja=ks(ja,t),t.theme&&$h[t.theme]&&(ja.themeVariables=$h[t.theme].getThemeVariables(t.themeVariables)),RL(ja,tg),ja),"setSiteConfig"),Tze=P(t=>{kO=ks({},t)},"saveConfigFromInitialize"),Sze=P(t=>(ja=ks(ja,t),RL(ja,tg),ja),"updateSiteConfig"),mne=P(()=>ks({},ja),"getSiteConfig"),gne=P(t=>(Tne(t),ks(dx,t),Vo()),"setConfig"),Vo=P(()=>ks({},dx),"getConfig"),Ene=P(t=>{t&&(["secure",...ja.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&($e.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&Ene(t[e])}))},"sanitize"),yze=P(t=>{var e;DO(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),tg.push(t),RL(ja,tg)},"addDirective"),MO=P((t=ja)=>{tg=[],RL(t,tg)},"reset"),Cze={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},gK={},xze=P(t=>{gK[t]||($e.warn(Cze[t]),gK[t]=!0)},"issueWarning"),Tne=P(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&xze("LAZY_LOAD_DEPRECATED")},"checkConfig"),olt=P(()=>{let t={};kO&&(t=ks(t,kO));for(const e of tg)t=ks(t,e);return t},"getUserDefinedConfig"),PR=/<br\s*\/?>/gi,Rze=P(t=>t?Cne(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),Ize=(()=>{let t=!1;return()=>{t||(Sne(),t=!0)}})();function Sne(){const t="data-temp-href-target";IS.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),IS.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}P(Sne,"setupDompurifyHooks");var yne=P(t=>(Ize(),IS.sanitize(t)),"removeScript"),EK=P((t,e)=>{var n;if(((n=e.flowchart)==null?void 0:n.htmlLabels)!==!1){const r=e.securityLevel;r==="antiscript"||r==="strict"?t=yne(t):r!=="loose"&&(t=Cne(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=vze(t))}return t},"sanitizeMore"),_c=P((t,e)=>t&&(e.dompurifyConfig?t=IS.sanitize(EK(t,e),e.dompurifyConfig).toString():t=IS.sanitize(EK(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),_ze=P((t,e)=>typeof t=="string"?_c(t,e):t.flat().map(n=>_c(n,e)),"sanitizeTextOrArray"),Nze=P(t=>PR.test(t),"hasBreaks"),bze=P(t=>t.split(PR),"splitBreaks"),vze=P(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Cne=P(t=>t.replace(PR,"#br#"),"breakToPlaceholder"),Oze=P(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Fs=P(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),wze=P(function(...t){const e=t.filter(n=>!isNaN(n));return Math.max(...e)},"getMax"),Lze=P(function(...t){const e=t.filter(n=>!isNaN(n));return Math.min(...e)},"getMin"),TK=P(function(t){const e=t.split(/(,)/),n=[];for(let r=0;r<e.length;r++){let i=e[r];if(i===","&&r>0&&r+1<e.length){const s=e[r-1],o=e[r+1];Bze(s,o)&&(i=s+","+o,r++,n.pop())}n.push(Dze(i))}return n.join("")},"parseGenericTypes"),lU=P((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),Bze=P((t,e)=>{const n=lU(t,"~"),r=lU(e,"~");return n===1&&r===1},"shouldCombineSets"),Dze=P(t=>{const e=lU(t,"~");let n=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),n=!0);const r=[...t];let i=r.indexOf("~"),s=r.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)r[i]="<",r[s]=">",i=r.indexOf("~"),s=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),SK=P(()=>window.MathMLElement!==void 0,"isMathMLSupported"),cU=/\$\$(.*)\$\$/g,NS=P(t=>{var e;return(((e=t.match(cU))==null?void 0:e.length)??0)>0},"hasKatex"),alt=P(async(t,e)=>{const n=document.createElement("div");n.innerHTML=await GH(t,e),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const r=document.querySelector("body");r==null||r.insertAdjacentElement("beforeend",n);const i={width:n.clientWidth,height:n.clientHeight};return n.remove(),i},"calculateMathMLDimensions"),kze=P(async(t,e)=>{if(!NS(t))return t;if(!(SK()||e.legacyMathML||e.forceLegacyMathML))return t.replace(cU,"MathML is unsupported in this environment.");{const{default:n}=await ir(async()=>{const{default:i}=await import("./katex-CBSAILhF.js");return{default:i}},[]),r=e.forceLegacyMathML||!SK()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(PR).map(i=>NS(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(cU,(i,s)=>n.renderToString(s,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),GH=P(async(t,e)=>_c(await kze(t,e),e),"renderKatexSanitized"),XS={getRows:Rze,sanitizeText:_c,sanitizeTextOrArray:_ze,hasBreaks:Nze,splitBreaks:bze,lineBreakRegex:PR,removeScript:yne,getUrl:Oze,evaluate:Fs,getMax:wze,getMin:Lze},Mze=P(function(t,e){for(let n of e)t.attr(n[0],n[1])},"d3Attrs"),Pze=P(function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},"calculateSvgSizeAttrs"),xne=P(function(t,e,n,r){const i=Pze(e,n,r);Mze(t,i)},"configureSvgSize"),Uze=P(function(t,e,n,r){const i=e.node().getBBox(),s=i.width,o=i.height;$e.info(`SVG bounds: ${s}x${o}`,i);let a=0,l=0;$e.info(`Graph bounds: ${a}x${l}`,t),a=s+n*2,l=o+n*2,$e.info(`Calculated bounds: ${a}x${l}`),xne(e,l,a,r);const c=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",c)},"setupGraphViewbox"),kb={},Fze=P((t,e,n)=>{let r="";return t in kb&&kb[t]?r=kb[t](n):$e.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${e}
`},"getStyles"),Hze=P((t,e)=>{e!==void 0&&(kb[t]=e)},"addStylesForDiagram"),Gze=Fze,Rne={};v6e(Rne,{clear:()=>Qze,getAccDescription:()=>Yze,getAccTitle:()=>$ze,getDiagramTitle:()=>Kze,setAccDescription:()=>Wze,setAccTitle:()=>Vze,setDiagramTitle:()=>jze});var QH="",VH="",$H="",WH=P(t=>_c(t,Vo()),"sanitizeText"),Qze=P(()=>{QH="",$H="",VH=""},"clear"),Vze=P(t=>{QH=WH(t).replace(/^\s+/g,"")},"setAccTitle"),$ze=P(()=>QH,"getAccTitle"),Wze=P(t=>{$H=WH(t).replace(/\n\s+/g,`
`)},"setAccDescription"),Yze=P(()=>$H,"getAccDescription"),jze=P(t=>{VH=WH(t)},"setDiagramTitle"),Kze=P(()=>VH,"getDiagramTitle"),yK=$e,zze=FH,jr=Vo,llt=gne,clt=_S,YH=P(t=>_c(t,jr()),"sanitizeText"),qze=Uze,Xze=P(()=>Rne,"getCommonDb"),PO={},UO=P((t,e,n)=>{var r;PO[t]&&yK.warn(`Diagram with id ${t} already registered. Overwriting.`),PO[t]=e,n&&hne(t,n),Hze(t,e.styles),(r=e.injectUtils)==null||r.call(e,yK,zze,jr,YH,qze,Xze(),()=>{})},"registerDiagram"),AU=P(t=>{if(t in PO)return PO[t];throw new Jze(t)},"getDiagram"),sS,Jze=(sS=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},P(sS,"DiagramNotFoundError"),sS),Zze={value:()=>{}};function Ine(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Mb(n)}function Mb(t){this._=t}function e8e(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Mb.prototype=Ine.prototype={constructor:Mb,on:function(t,e){var n=this._,r=e8e(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=t8e(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=CK(n[i],t.name,e);else if(e==null)for(i in n)n[i]=CK(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Mb(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function t8e(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function CK(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Zze,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var uU="http://www.w3.org/1999/xhtml";const xK={svg:"http://www.w3.org/2000/svg",xhtml:uU,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function IL(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),xK.hasOwnProperty(e)?{space:xK[e],local:t}:t}function n8e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===uU&&e.documentElement.namespaceURI===uU?e.createElement(t):e.createElementNS(n,t)}}function r8e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _ne(t){var e=IL(t);return(e.local?r8e:n8e)(e)}function i8e(){}function jH(t){return t==null?i8e:function(){return this.querySelector(t)}}function s8e(t){typeof t!="function"&&(t=jH(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,A=0;A<o;++A)(l=s[A])&&(c=t.call(l,l.__data__,A,s))&&("__data__"in l&&(c.__data__=l.__data__),a[A]=c);return new Ll(r,this._parents)}function o8e(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function a8e(){return[]}function Nne(t){return t==null?a8e:function(){return this.querySelectorAll(t)}}function l8e(t){return function(){return o8e(t.apply(this,arguments))}}function c8e(t){typeof t=="function"?t=l8e(t):t=Nne(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new Ll(r,i)}function bne(t){return function(){return this.matches(t)}}function vne(t){return function(e){return e.matches(t)}}var A8e=Array.prototype.find;function u8e(t){return function(){return A8e.call(this.children,t)}}function h8e(){return this.firstElementChild}function d8e(t){return this.select(t==null?h8e:u8e(typeof t=="function"?t:vne(t)))}var f8e=Array.prototype.filter;function p8e(){return Array.from(this.children)}function m8e(t){return function(){return f8e.call(this.children,t)}}function g8e(t){return this.selectAll(t==null?p8e:m8e(typeof t=="function"?t:vne(t)))}function E8e(t){typeof t!="function"&&(t=bne(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Ll(r,this._parents)}function One(t){return new Array(t.length)}function T8e(){return new Ll(this._enter||this._groups.map(One),this._parents)}function FO(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}FO.prototype={constructor:FO,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function S8e(t){return function(){return t}}function y8e(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new FO(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function C8e(t,e,n,r,i,s,o){var a,l,c=new Map,A=e.length,u=s.length,h=new Array(A),p;for(a=0;a<A;++a)(l=e[a])&&(h[a]=p=o.call(l,l.__data__,a,e)+"",c.has(p)?i[a]=l:c.set(p,l));for(a=0;a<u;++a)p=o.call(t,s[a],a,s)+"",(l=c.get(p))?(r[a]=l,l.__data__=s[a],c.delete(p)):n[a]=new FO(t,s[a]);for(a=0;a<A;++a)(l=e[a])&&c.get(h[a])===l&&(i[a]=l)}function x8e(t){return t.__data__}function R8e(t,e){if(!arguments.length)return Array.from(this,x8e);var n=e?C8e:y8e,r=this._parents,i=this._groups;typeof t!="function"&&(t=S8e(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var A=r[c],u=i[c],h=u.length,p=I8e(t.call(A,A&&A.__data__,c,r)),E=p.length,T=a[c]=new Array(E),y=o[c]=new Array(E),R=l[c]=new Array(h);n(A,u,T,y,R,p,e);for(var I=0,b=0,B,w;I<E;++I)if(B=T[I]){for(I>=b&&(b=I+1);!(w=y[b])&&++b<E;);B._next=w||null}}return o=new Ll(o,r),o._enter=a,o._exit=l,o}function I8e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _8e(){return new Ll(this._exit||this._groups.map(One),this._parents)}function N8e(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function b8e(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],A=r[l],u=c.length,h=a[l]=new Array(u),p,E=0;E<u;++E)(p=c[E]||A[E])&&(h[E]=p);for(;l<i;++l)a[l]=n[l];return new Ll(a,this._parents)}function v8e(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function O8e(t){t||(t=w8e);function e(u,h){return u&&h?t(u.__data__,h.__data__):!u-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,A=0;A<a;++A)(c=o[A])&&(l[A]=c);l.sort(e)}return new Ll(i,this._parents).order()}function w8e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function L8e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function B8e(){return Array.from(this)}function D8e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function k8e(){let t=0;for(const e of this)++t;return t}function M8e(){return!this.node()}function P8e(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function U8e(t){return function(){this.removeAttribute(t)}}function F8e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function H8e(t,e){return function(){this.setAttribute(t,e)}}function G8e(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Q8e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function V8e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $8e(t,e){var n=IL(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?F8e:U8e:typeof e=="function"?n.local?V8e:Q8e:n.local?G8e:H8e)(n,e))}function wne(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function W8e(t){return function(){this.style.removeProperty(t)}}function Y8e(t,e,n){return function(){this.style.setProperty(t,e,n)}}function j8e(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function K8e(t,e,n){return arguments.length>1?this.each((e==null?W8e:typeof e=="function"?j8e:Y8e)(t,e,n??"")):bS(this.node(),t)}function bS(t,e){return t.style.getPropertyValue(e)||wne(t).getComputedStyle(t,null).getPropertyValue(e)}function z8e(t){return function(){delete this[t]}}function q8e(t,e){return function(){this[t]=e}}function X8e(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function J8e(t,e){return arguments.length>1?this.each((e==null?z8e:typeof e=="function"?X8e:q8e)(t,e)):this.node()[t]}function Lne(t){return t.trim().split(/^|\s+/)}function KH(t){return t.classList||new Bne(t)}function Bne(t){this._node=t,this._names=Lne(t.getAttribute("class")||"")}Bne.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Dne(t,e){for(var n=KH(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function kne(t,e){for(var n=KH(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Z8e(t){return function(){Dne(this,t)}}function eqe(t){return function(){kne(this,t)}}function tqe(t,e){return function(){(e.apply(this,arguments)?Dne:kne)(this,t)}}function nqe(t,e){var n=Lne(t+"");if(arguments.length<2){for(var r=KH(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?tqe:e?Z8e:eqe)(n,e))}function rqe(){this.textContent=""}function iqe(t){return function(){this.textContent=t}}function sqe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function oqe(t){return arguments.length?this.each(t==null?rqe:(typeof t=="function"?sqe:iqe)(t)):this.node().textContent}function aqe(){this.innerHTML=""}function lqe(t){return function(){this.innerHTML=t}}function cqe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Aqe(t){return arguments.length?this.each(t==null?aqe:(typeof t=="function"?cqe:lqe)(t)):this.node().innerHTML}function uqe(){this.nextSibling&&this.parentNode.appendChild(this)}function hqe(){return this.each(uqe)}function dqe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fqe(){return this.each(dqe)}function pqe(t){var e=typeof t=="function"?t:_ne(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function mqe(){return null}function gqe(t,e){var n=typeof t=="function"?t:_ne(t),r=e==null?mqe:typeof e=="function"?e:jH(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Eqe(){var t=this.parentNode;t&&t.removeChild(this)}function Tqe(){return this.each(Eqe)}function Sqe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yqe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Cqe(t){return this.select(t?yqe:Sqe)}function xqe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Rqe(t){return function(e){t.call(this,e,this.__data__)}}function Iqe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function _qe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Nqe(t,e,n){return function(){var r=this.__on,i,s=Rqe(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function bqe(t,e,n){var r=Iqe(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,A;l<c;++l)for(i=0,A=a[l];i<s;++i)if((o=r[i]).type===A.type&&o.name===A.name)return A.value}return}for(a=e?Nqe:_qe,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function Mne(t,e,n){var r=wne(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function vqe(t,e){return function(){return Mne(this,t,e)}}function Oqe(t,e){return function(){return Mne(this,t,e.apply(this,arguments))}}function wqe(t,e){return this.each((typeof e=="function"?Oqe:vqe)(t,e))}function*Lqe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Pne=[null];function Ll(t,e){this._groups=t,this._parents=e}function UR(){return new Ll([[document.documentElement]],Pne)}function Bqe(){return this}Ll.prototype=UR.prototype={constructor:Ll,select:s8e,selectAll:c8e,selectChild:d8e,selectChildren:g8e,filter:E8e,data:R8e,enter:T8e,exit:_8e,join:N8e,merge:b8e,selection:Bqe,order:v8e,sort:O8e,call:L8e,nodes:B8e,node:D8e,size:k8e,empty:M8e,each:P8e,attr:$8e,style:K8e,property:J8e,classed:nqe,text:oqe,html:Aqe,raise:hqe,lower:fqe,append:pqe,insert:gqe,remove:Tqe,clone:Cqe,datum:xqe,on:bqe,dispatch:wqe,[Symbol.iterator]:Lqe};function Or(t){return typeof t=="string"?new Ll([[document.querySelector(t)]],[document.documentElement]):new Ll([[t]],Pne)}function zH(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Une(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function FR(){}var tR=.7,HO=1/tR,XT="\\s*([+-]?\\d+)\\s*",nR="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dqe=/^#([0-9a-f]{3,8})$/,kqe=new RegExp(`^rgb\\(${XT},${XT},${XT}\\)$`),Mqe=new RegExp(`^rgb\\(${yu},${yu},${yu}\\)$`),Pqe=new RegExp(`^rgba\\(${XT},${XT},${XT},${nR}\\)$`),Uqe=new RegExp(`^rgba\\(${yu},${yu},${yu},${nR}\\)$`),Fqe=new RegExp(`^hsl\\(${nR},${yu},${yu}\\)$`),Hqe=new RegExp(`^hsla\\(${nR},${yu},${yu},${nR}\\)$`),RK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zH(FR,rR,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:IK,formatHex:IK,formatHex8:Gqe,formatHsl:Qqe,formatRgb:_K,toString:_K});function IK(){return this.rgb().formatHex()}function Gqe(){return this.rgb().formatHex8()}function Qqe(){return Fne(this).formatHsl()}function _K(){return this.rgb().formatRgb()}function rR(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Dqe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?NK(e):n===3?new Za(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?kN(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?kN(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kqe.exec(t))?new Za(e[1],e[2],e[3],1):(e=Mqe.exec(t))?new Za(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pqe.exec(t))?kN(e[1],e[2],e[3],e[4]):(e=Uqe.exec(t))?kN(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fqe.exec(t))?OK(e[1],e[2]/100,e[3]/100,1):(e=Hqe.exec(t))?OK(e[1],e[2]/100,e[3]/100,e[4]):RK.hasOwnProperty(t)?NK(RK[t]):t==="transparent"?new Za(NaN,NaN,NaN,0):null}function NK(t){return new Za(t>>16&255,t>>8&255,t&255,1)}function kN(t,e,n,r){return r<=0&&(t=e=n=NaN),new Za(t,e,n,r)}function Vqe(t){return t instanceof FR||(t=rR(t)),t?(t=t.rgb(),new Za(t.r,t.g,t.b,t.opacity)):new Za}function hU(t,e,n,r){return arguments.length===1?Vqe(t):new Za(t,e,n,r??1)}function Za(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}zH(Za,hU,Une(FR,{brighter(t){return t=t==null?HO:Math.pow(HO,t),new Za(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tR:Math.pow(tR,t),new Za(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Za(Hm(this.r),Hm(this.g),Hm(this.b),GO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bK,formatHex:bK,formatHex8:$qe,formatRgb:vK,toString:vK}));function bK(){return`#${vm(this.r)}${vm(this.g)}${vm(this.b)}`}function $qe(){return`#${vm(this.r)}${vm(this.g)}${vm(this.b)}${vm((isNaN(this.opacity)?1:this.opacity)*255)}`}function vK(){const t=GO(this.opacity);return`${t===1?"rgb(":"rgba("}${Hm(this.r)}, ${Hm(this.g)}, ${Hm(this.b)}${t===1?")":`, ${t})`}`}function GO(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vm(t){return t=Hm(t),(t<16?"0":"")+t.toString(16)}function OK(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new eA(t,e,n,r)}function Fne(t){if(t instanceof eA)return new eA(t.h,t.s,t.l,t.opacity);if(t instanceof FR||(t=rR(t)),!t)return new eA;if(t instanceof eA)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new eA(o,a,l,t.opacity)}function Wqe(t,e,n,r){return arguments.length===1?Fne(t):new eA(t,e,n,r??1)}function eA(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}zH(eA,Wqe,Une(FR,{brighter(t){return t=t==null?HO:Math.pow(HO,t),new eA(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tR:Math.pow(tR,t),new eA(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Za(fk(t>=240?t-240:t+120,i,r),fk(t,i,r),fk(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new eA(wK(this.h),MN(this.s),MN(this.l),GO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=GO(this.opacity);return`${t===1?"hsl(":"hsla("}${wK(this.h)}, ${MN(this.s)*100}%, ${MN(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wK(t){return t=(t||0)%360,t<0?t+360:t}function MN(t){return Math.max(0,Math.min(1,t||0))}function fk(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qH=t=>()=>t;function Hne(t,e){return function(n){return t+n*e}}function Yqe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Alt(t,e){var n=e-t;return n?Hne(t,n>180||n<-180?n-360*Math.round(n/360):n):qH(isNaN(t)?e:t)}function jqe(t){return(t=+t)==1?Gne:function(e,n){return n-e?Yqe(e,n,t):qH(isNaN(e)?n:e)}}function Gne(t,e){var n=e-t;return n?Hne(t,n):qH(isNaN(t)?e:t)}const LK=(function t(e){var n=jqe(e);function r(i,s){var o=n((i=hU(i)).r,(s=hU(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=Gne(i.opacity,s.opacity);return function(A){return i.r=o(A),i.g=a(A),i.b=l(A),i.opacity=c(A),i+""}}return r.gamma=t,r})(1);function lf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var dU=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pk=new RegExp(dU.source,"g");function Kqe(t){return function(){return t}}function zqe(t){return function(e){return t(e)+""}}function qqe(t,e){var n=dU.lastIndex=pk.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=dU.exec(t))&&(i=pk.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:lf(r,i)})),n=pk.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?zqe(l[0].x):Kqe(e):(e=l.length,function(c){for(var A=0,u;A<e;++A)a[(u=l[A]).i]=u.x(c);return a.join("")})}var BK=180/Math.PI,fU={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qne(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*BK,skewX:Math.atan(l)*BK,scaleX:o,scaleY:a}}var PN;function Xqe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?fU:Qne(e.a,e.b,e.c,e.d,e.e,e.f)}function Jqe(t){return t==null||(PN||(PN=document.createElementNS("http://www.w3.org/2000/svg","g")),PN.setAttribute("transform",t),!(t=PN.transform.baseVal.consolidate()))?fU:(t=t.matrix,Qne(t.a,t.b,t.c,t.d,t.e,t.f))}function Vne(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,A,u,h,p,E){if(c!==u||A!==h){var T=p.push("translate(",null,e,null,n);E.push({i:T-4,x:lf(c,u)},{i:T-2,x:lf(A,h)})}else(u||h)&&p.push("translate("+u+e+h+n)}function o(c,A,u,h){c!==A?(c-A>180?A+=360:A-c>180&&(c+=360),h.push({i:u.push(i(u)+"rotate(",null,r)-2,x:lf(c,A)})):A&&u.push(i(u)+"rotate("+A+r)}function a(c,A,u,h){c!==A?h.push({i:u.push(i(u)+"skewX(",null,r)-2,x:lf(c,A)}):A&&u.push(i(u)+"skewX("+A+r)}function l(c,A,u,h,p,E){if(c!==u||A!==h){var T=p.push(i(p)+"scale(",null,",",null,")");E.push({i:T-4,x:lf(c,u)},{i:T-2,x:lf(A,h)})}else(u!==1||h!==1)&&p.push(i(p)+"scale("+u+","+h+")")}return function(c,A){var u=[],h=[];return c=t(c),A=t(A),s(c.translateX,c.translateY,A.translateX,A.translateY,u,h),o(c.rotate,A.rotate,u,h),a(c.skewX,A.skewX,u,h),l(c.scaleX,c.scaleY,A.scaleX,A.scaleY,u,h),c=A=null,function(p){for(var E=-1,T=h.length,y;++E<T;)u[(y=h[E]).i]=y.x(p);return u.join("")}}}var Zqe=Vne(Xqe,"px, ","px)","deg)"),eXe=Vne(Jqe,", ",")",")"),vS=0,wC=0,tC=0,$ne=1e3,QO,LC,VO=0,ng=0,_L=0,iR=typeof performance=="object"&&performance.now?performance:Date,Wne=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function XH(){return ng||(Wne(tXe),ng=iR.now()+_L)}function tXe(){ng=0}function $O(){this._call=this._time=this._next=null}$O.prototype=Yne.prototype={constructor:$O,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?XH():+n)+(e==null?0:+e),!this._next&&LC!==this&&(LC?LC._next=this:QO=this,LC=this),this._call=t,this._time=n,pU()},stop:function(){this._call&&(this._call=null,this._time=1/0,pU())}};function Yne(t,e,n){var r=new $O;return r.restart(t,e,n),r}function nXe(){XH(),++vS;for(var t=QO,e;t;)(e=ng-t._time)>=0&&t._call.call(void 0,e),t=t._next;--vS}function DK(){ng=(VO=iR.now())+_L,vS=wC=0;try{nXe()}finally{vS=0,iXe(),ng=0}}function rXe(){var t=iR.now(),e=t-VO;e>$ne&&(_L-=e,VO=t)}function iXe(){for(var t,e=QO,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:QO=n);LC=t,pU(r)}function pU(t){if(!vS){wC&&(wC=clearTimeout(wC));var e=t-ng;e>24?(t<1/0&&(wC=setTimeout(DK,t-iR.now()-_L)),tC&&(tC=clearInterval(tC))):(tC||(VO=iR.now(),tC=setInterval(rXe,$ne)),vS=1,Wne(DK))}}function kK(t,e,n){var r=new $O;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var sXe=Ine("start","end","cancel","interrupt"),oXe=[],jne=0,MK=1,mU=2,Pb=3,PK=4,gU=5,Ub=6;function NL(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;aXe(t,n,{name:e,index:r,group:i,on:sXe,tween:oXe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:jne})}function JH(t,e){var n=EA(t,e);if(n.state>jne)throw new Error("too late; already scheduled");return n}function Du(t,e){var n=EA(t,e);if(n.state>Pb)throw new Error("too late; already running");return n}function EA(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function aXe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Yne(s,0,n.time);function s(c){n.state=MK,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var A,u,h,p;if(n.state!==MK)return l();for(A in r)if(p=r[A],p.name===n.name){if(p.state===Pb)return kK(o);p.state===PK?(p.state=Ub,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[A]):+A<e&&(p.state=Ub,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[A])}if(kK(function(){n.state===Pb&&(n.state=PK,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=mU,n.on.call("start",t,t.__data__,n.index,n.group),n.state===mU){for(n.state=Pb,i=new Array(h=n.tween.length),A=0,u=-1;A<h;++A)(p=n.tween[A].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=p);i.length=u+1}}function a(c){for(var A=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=gU,1),u=-1,h=i.length;++u<h;)i[u].call(t,A);n.state===gU&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Ub,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function lXe(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>mU&&r.state<gU,r.state=Ub,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function cXe(t){return this.each(function(){lXe(this,t)})}function AXe(t,e){var n,r;return function(){var i=Du(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function uXe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Du(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function hXe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=EA(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?AXe:uXe)(n,t,e))}function ZH(t,e,n){var r=t._id;return t.each(function(){var i=Du(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return EA(i,r).value[e]}}function Kne(t,e){var n;return(typeof e=="number"?lf:e instanceof rR?LK:(n=rR(e))?(e=n,LK):qqe)(t,e)}function dXe(t){return function(){this.removeAttribute(t)}}function fXe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pXe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function mXe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function gXe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function EXe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function TXe(t,e){var n=IL(t),r=n==="transform"?eXe:Kne;return this.attrTween(t,typeof e=="function"?(n.local?EXe:gXe)(n,r,ZH(this,"attr."+t,e)):e==null?(n.local?fXe:dXe)(n):(n.local?mXe:pXe)(n,r,e))}function SXe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function yXe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function CXe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&yXe(t,s)),n}return i._value=e,i}function xXe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&SXe(t,s)),n}return i._value=e,i}function RXe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=IL(t);return this.tween(n,(r.local?CXe:xXe)(r,e))}function IXe(t,e){return function(){JH(this,t).delay=+e.apply(this,arguments)}}function _Xe(t,e){return e=+e,function(){JH(this,t).delay=e}}function NXe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?IXe:_Xe)(e,t)):EA(this.node(),e).delay}function bXe(t,e){return function(){Du(this,t).duration=+e.apply(this,arguments)}}function vXe(t,e){return e=+e,function(){Du(this,t).duration=e}}function OXe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?bXe:vXe)(e,t)):EA(this.node(),e).duration}function wXe(t,e){if(typeof e!="function")throw new Error;return function(){Du(this,t).ease=e}}function LXe(t){var e=this._id;return arguments.length?this.each(wXe(e,t)):EA(this.node(),e).ease}function BXe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Du(this,t).ease=n}}function DXe(t){if(typeof t!="function")throw new Error;return this.each(BXe(this._id,t))}function kXe(t){typeof t!="function"&&(t=bne(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Jh(r,this._parents,this._name,this._id)}function MXe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],A=l.length,u=o[a]=new Array(A),h,p=0;p<A;++p)(h=l[p]||c[p])&&(u[p]=h);for(;a<r;++a)o[a]=e[a];return new Jh(o,this._parents,this._name,this._id)}function PXe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function UXe(t,e,n){var r,i,s=PXe(e)?JH:Du;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function FXe(t,e){var n=this._id;return arguments.length<2?EA(this.node(),n).on.on(t):this.each(UXe(n,t,e))}function HXe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function GXe(){return this.on("end.remove",HXe(this._id))}function QXe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=jH(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),A,u,h=0;h<l;++h)(A=a[h])&&(u=t.call(A,A.__data__,h,a))&&("__data__"in A&&(u.__data__=A.__data__),c[h]=u,NL(c[h],e,n,h,c,EA(A,n)));return new Jh(s,this._parents,e,n)}function VXe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Nne(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,A,u=0;u<c;++u)if(A=l[u]){for(var h=t.call(A,A.__data__,u,l),p,E=EA(A,n),T=0,y=h.length;T<y;++T)(p=h[T])&&NL(p,e,n,T,h,E);s.push(h),o.push(A)}return new Jh(s,o,e,n)}var $Xe=UR.prototype.constructor;function WXe(){return new $Xe(this._groups,this._parents)}function YXe(t,e){var n,r,i;return function(){var s=bS(this,t),o=(this.style.removeProperty(t),bS(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function zne(t){return function(){this.style.removeProperty(t)}}function jXe(t,e,n){var r,i=n+"",s;return function(){var o=bS(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function KXe(t,e,n){var r,i,s;return function(){var o=bS(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),bS(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function zXe(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=Du(this,t),c=l.on,A=l.value[s]==null?a||(a=zne(e)):void 0;(c!==n||i!==A)&&(r=(n=c).copy()).on(o,i=A),l.on=r}}function qXe(t,e,n){var r=(t+="")=="transform"?Zqe:Kne;return e==null?this.styleTween(t,YXe(t,r)).on("end.style."+t,zne(t)):typeof e=="function"?this.styleTween(t,KXe(t,r,ZH(this,"style."+t,e))).each(zXe(this._id,t)):this.styleTween(t,jXe(t,r,e),n).on("end.style."+t,null)}function XXe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function JXe(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&XXe(t,o,n)),r}return s._value=e,s}function ZXe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,JXe(t,e,n??""))}function e9e(t){return function(){this.textContent=t}}function t9e(t){return function(){var e=t(this);this.textContent=e??""}}function n9e(t){return this.tween("text",typeof t=="function"?t9e(ZH(this,"text",t)):e9e(t==null?"":t+""))}function r9e(t){return function(e){this.textContent=t.call(this,e)}}function i9e(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&r9e(i)),e}return r._value=t,r}function s9e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,i9e(t))}function o9e(){for(var t=this._name,e=this._id,n=qne(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var A=EA(l,e);NL(l,t,n,c,o,{time:A.time+A.delay+A.duration,delay:0,duration:A.duration,ease:A.ease})}return new Jh(r,this._parents,t,n)}function a9e(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=Du(this,r),A=c.on;A!==t&&(e=(t=A).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var l9e=0;function Jh(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qne(){return++l9e}var xh=UR.prototype;Jh.prototype={constructor:Jh,select:QXe,selectAll:VXe,selectChild:xh.selectChild,selectChildren:xh.selectChildren,filter:kXe,merge:MXe,selection:WXe,transition:o9e,call:xh.call,nodes:xh.nodes,node:xh.node,size:xh.size,empty:xh.empty,each:xh.each,on:FXe,attr:TXe,attrTween:RXe,style:qXe,styleTween:ZXe,text:n9e,textTween:s9e,remove:GXe,tween:hXe,delay:NXe,duration:OXe,ease:LXe,easeVarying:DXe,end:a9e,[Symbol.iterator]:xh[Symbol.iterator]};function c9e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var A9e={time:null,delay:0,duration:250,ease:c9e};function u9e(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function h9e(t){var e,n;t instanceof Jh?(e=t._id,t=t._name):(e=qne(),(n=A9e).time=XH(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&NL(l,t,e,c,o,n||u9e(l,e));return new Jh(r,this._parents,t,e)}UR.prototype.interrupt=cXe;UR.prototype.transition=h9e;const EU=Math.PI,TU=2*EU,fm=1e-6,d9e=TU-fm;function Xne(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function f9e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Xne;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class p9e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Xne:f9e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,A=o-e,u=a-n,h=A*A+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>fm)if(!(Math.abs(u*l-c*A)>fm)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,E=i-a,T=l*l+c*c,y=p*p+E*E,R=Math.sqrt(T),I=Math.sqrt(h),b=s*Math.tan((EU-Math.acos((T+h-y)/(2*R*I)))/2),B=b/I,w=b/R;Math.abs(B-1)>fm&&this._append`L${e+B*A},${n+B*u}`,this._append`A${s},${s},0,0,${+(u*p>A*E)},${this._x1=e+w*l},${this._y1=n+w*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,A=n+l,u=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${c},${A}`:(Math.abs(this._x1-c)>fm||Math.abs(this._y1-A)>fm)&&this._append`L${c},${A}`,r&&(h<0&&(h=h%TU+TU),h>d9e?this._append`A${r},${r},0,1,${u},${e-a},${n-l}A${r},${r},0,1,${u},${this._x1=c},${this._y1=A}`:h>fm&&this._append`A${r},${r},0,${+(h>=EU)},${u},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function JE(t){return function(){return t}}const ult=Math.abs,hlt=Math.atan2,dlt=Math.cos,flt=Math.max,plt=Math.min,mlt=Math.sin,glt=Math.sqrt,UK=1e-12,eG=Math.PI,FK=eG/2,Elt=2*eG;function Tlt(t){return t>1?0:t<-1?eG:Math.acos(t)}function Slt(t){return t>=1?FK:t<=-1?-FK:Math.asin(t)}function m9e(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new p9e(e)}function g9e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jne(t){this._context=t}Jne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function WO(t){return new Jne(t)}function E9e(t){return t[0]}function T9e(t){return t[1]}function S9e(t,e){var n=JE(!0),r=null,i=WO,s=null,o=m9e(a);t=typeof t=="function"?t:t===void 0?E9e:JE(t),e=typeof e=="function"?e:e===void 0?T9e:JE(e);function a(l){var c,A=(l=g9e(l)).length,u,h=!1,p;for(r==null&&(s=i(p=o())),c=0;c<=A;++c)!(c<A&&n(u=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(u,c,l),+e(u,c,l));if(p)return s=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:JE(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:JE(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:JE(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}class Zne{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ere(t){return new Zne(t,!0)}function tre(t){return new Zne(t,!1)}function Yf(){}function YO(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bL(t){this._context=t}bL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:YO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:YO(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fb(t){return new bL(t)}function nre(t){this._context=t}nre.prototype={areaStart:Yf,areaEnd:Yf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:YO(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y9e(t){return new nre(t)}function rre(t){this._context=t}rre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:YO(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function C9e(t){return new rre(t)}function ire(t,e){this._basis=new bL(t),this._beta=e}ire.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,o=e[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(r+l*s),this._beta*e[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const x9e=(function t(e){function n(r){return e===1?new bL(r):new ire(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function jO(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function tG(t,e){this._context=t,this._k=(1-e)/6}tG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jO(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:jO(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const sre=(function t(e){function n(r){return new tG(r,e)}return n.tension=function(r){return t(+r)},n})(0);function nG(t,e){this._context=t,this._k=(1-e)/6}nG.prototype={areaStart:Yf,areaEnd:Yf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:jO(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const R9e=(function t(e){function n(r){return new nG(r,e)}return n.tension=function(r){return t(+r)},n})(0);function rG(t,e){this._context=t,this._k=(1-e)/6}rG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jO(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const I9e=(function t(e){function n(r){return new rG(r,e)}return n.tension=function(r){return t(+r)},n})(0);function iG(t,e,n){var r=t._x1,i=t._y1,s=t._x2,o=t._y2;if(t._l01_a>UK){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>UK){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,A=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/A,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/A}t._context.bezierCurveTo(r,i,s,o,t._x2,t._y2)}function ore(t,e){this._context=t,this._alpha=e}ore.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:iG(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const are=(function t(e){function n(r){return e?new ore(r,e):new tG(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function lre(t,e){this._context=t,this._alpha=e}lre.prototype={areaStart:Yf,areaEnd:Yf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:iG(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _9e=(function t(e){function n(r){return e?new lre(r,e):new nG(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function cre(t,e){this._context=t,this._alpha=e}cre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:iG(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const N9e=(function t(e){function n(r){return e?new cre(r,e):new rG(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function Are(t){this._context=t}Are.prototype={areaStart:Yf,areaEnd:Yf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function b9e(t){return new Are(t)}function HK(t){return t<0?-1:1}function GK(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(HK(s)+HK(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function QK(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mk(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function KO(t){this._context=t}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mk(this,this._t0,QK(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mk(this,QK(this,n=GK(this,t,e)),n);break;default:mk(this,this._t0,n=GK(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ure(t){this._context=new hre(t)}(ure.prototype=Object.create(KO.prototype)).point=function(t,e){KO.prototype.point.call(this,e,t)};function hre(t){this._context=t}hre.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function dre(t){return new KO(t)}function fre(t){return new ure(t)}function pre(t){this._context=t}pre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=VK(t),i=VK(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function VK(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function mre(t){return new pre(t)}function vL(t,e){this._context=t,this._t=e}vL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gre(t){return new vL(t,.5)}function Ere(t){return new vL(t,0)}function Tre(t){return new vL(t,1)}function BC(t,e,n){this.k=t,this.x=e,this.y=n}BC.prototype={constructor:BC,scale:function(t){return t===1?this:new BC(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new BC(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};BC.prototype;var v9e=P(t=>{var i;const{securityLevel:e}=jr();let n=Or("body");if(e==="sandbox"){const o=((i=Or(`#i${t}`).node())==null?void 0:i.contentDocument)??document;n=Or(o.body)}return n.select(`#${t}`)},"selectSvgElement");function sG(t){return typeof t>"u"||t===null}P(sG,"isNothing");function Sre(t){return typeof t=="object"&&t!==null}P(Sre,"isObject");function yre(t){return Array.isArray(t)?t:sG(t)?[]:[t]}P(yre,"toArray");function Cre(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}P(Cre,"extend");function xre(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}P(xre,"repeat");function Rre(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}P(Rre,"isNegativeZero");var O9e=sG,w9e=Sre,L9e=yre,B9e=xre,D9e=Rre,k9e=Cre,Ms={isNothing:O9e,isObject:w9e,toArray:L9e,repeat:B9e,isNegativeZero:D9e,extend:k9e};function oG(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}P(oG,"formatError");function OS(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=oG(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}P(OS,"YAMLException$1");OS.prototype=Object.create(Error.prototype);OS.prototype.constructor=OS;OS.prototype.toString=P(function(e){return this.name+": "+oG(this,e)},"toString");var qa=OS;function Hb(t,e,n,r,i){var s="",o="",a=Math.floor(i/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),n-r>a&&(o=" ...",n=r+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"")+o,pos:r-e+s.length}}P(Hb,"getLine");function Gb(t,e){return Ms.repeat(" ",e-t.length)+t}P(Gb,"padStart");function Ire(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,c,A=Math.min(t.line+e.linesAfter,i.length).toString().length,u=e.maxLength-(e.indent+A+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=Hb(t.buffer,r[o-l],i[o-l],t.position-(r[o]-r[o-l]),u),a=Ms.repeat(" ",e.indent)+Gb((t.line-l+1).toString(),A)+" | "+c.str+`
`+a;for(c=Hb(t.buffer,r[o],i[o],t.position,u),a+=Ms.repeat(" ",e.indent)+Gb((t.line+1).toString(),A)+" | "+c.str+`
`,a+=Ms.repeat("-",e.indent+A+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=i.length);l++)c=Hb(t.buffer,r[o+l],i[o+l],t.position-(r[o]-r[o+l]),u),a+=Ms.repeat(" ",e.indent)+Gb((t.line+l+1).toString(),A)+" | "+c.str+`
`;return a.replace(/\n$/,"")}P(Ire,"makeSnippet");var M9e=Ire,P9e=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],U9e=["scalar","sequence","mapping"];function _re(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}P(_re,"compileStyleAliases");function Nre(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(P9e.indexOf(n)===-1)throw new qa('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=_re(e.styleAliases||null),U9e.indexOf(this.kind)===-1)throw new qa('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}P(Nre,"Type$1");var $o=Nre;function SU(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}P(SU,"compileList");function bre(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(P(r,"collectType"),e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}P(bre,"compileMap");function zO(t){return this.extend(t)}P(zO,"Schema$1");zO.prototype.extend=P(function(e){var n=[],r=[];if(e instanceof $o)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new qa("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof $o))throw new qa("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new qa("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new qa("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof $o))throw new qa("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(zO.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=SU(i,"implicit"),i.compiledExplicit=SU(i,"explicit"),i.compiledTypeMap=bre(i.compiledImplicit,i.compiledExplicit),i},"extend");var F9e=zO,H9e=new $o("tag:yaml.org,2002:str",{kind:"scalar",construct:P(function(t){return t!==null?t:""},"construct")}),G9e=new $o("tag:yaml.org,2002:seq",{kind:"sequence",construct:P(function(t){return t!==null?t:[]},"construct")}),Q9e=new $o("tag:yaml.org,2002:map",{kind:"mapping",construct:P(function(t){return t!==null?t:{}},"construct")}),V9e=new F9e({explicit:[H9e,G9e,Q9e]});function vre(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}P(vre,"resolveYamlNull");function Ore(){return null}P(Ore,"constructYamlNull");function wre(t){return t===null}P(wre,"isNull");var $9e=new $o("tag:yaml.org,2002:null",{kind:"scalar",resolve:vre,construct:Ore,predicate:wre,represent:{canonical:P(function(){return"~"},"canonical"),lowercase:P(function(){return"null"},"lowercase"),uppercase:P(function(){return"NULL"},"uppercase"),camelcase:P(function(){return"Null"},"camelcase"),empty:P(function(){return""},"empty")},defaultStyle:"lowercase"});function Lre(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}P(Lre,"resolveYamlBoolean");function Bre(t){return t==="true"||t==="True"||t==="TRUE"}P(Bre,"constructYamlBoolean");function Dre(t){return Object.prototype.toString.call(t)==="[object Boolean]"}P(Dre,"isBoolean");var W9e=new $o("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Lre,construct:Bre,predicate:Dre,represent:{lowercase:P(function(t){return t?"true":"false"},"lowercase"),uppercase:P(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:P(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function kre(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}P(kre,"isHexCode");function Mre(t){return 48<=t&&t<=55}P(Mre,"isOctCode");function Pre(t){return 48<=t&&t<=57}P(Pre,"isDecCode");function Ure(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!kre(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!Mre(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!Pre(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}P(Ure,"resolveYamlInteger");function Fre(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}P(Fre,"constructYamlInteger");function Hre(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Ms.isNegativeZero(t)}P(Hre,"isInteger");var Y9e=new $o("tag:yaml.org,2002:int",{kind:"scalar",resolve:Ure,construct:Fre,predicate:Hre,represent:{binary:P(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:P(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:P(function(t){return t.toString(10)},"decimal"),hexadecimal:P(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),j9e=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Gre(t){return!(t===null||!j9e.test(t)||t[t.length-1]==="_")}P(Gre,"resolveYamlFloat");function Qre(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}P(Qre,"constructYamlFloat");var K9e=/^[-+]?[0-9]+e/;function Vre(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ms.isNegativeZero(t))return"-0.0";return n=t.toString(10),K9e.test(n)?n.replace("e",".e"):n}P(Vre,"representYamlFloat");function $re(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Ms.isNegativeZero(t))}P($re,"isFloat");var z9e=new $o("tag:yaml.org,2002:float",{kind:"scalar",resolve:Gre,construct:Qre,predicate:$re,represent:Vre,defaultStyle:"lowercase"}),Wre=V9e.extend({implicit:[$9e,W9e,Y9e,z9e]}),q9e=Wre,Yre=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),jre=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Kre(t){return t===null?!1:Yre.exec(t)!==null||jre.exec(t)!==null}P(Kre,"resolveYamlTimestamp");function zre(t){var e,n,r,i,s,o,a,l=0,c=null,A,u,h;if(e=Yre.exec(t),e===null&&(e=jre.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(A=+e[10],u=+(e[11]||0),c=(A*60+u)*6e4,e[9]==="-"&&(c=-c)),h=new Date(Date.UTC(n,r,i,s,o,a,l)),c&&h.setTime(h.getTime()-c),h}P(zre,"constructYamlTimestamp");function qre(t){return t.toISOString()}P(qre,"representYamlTimestamp");var X9e=new $o("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Kre,construct:zre,instanceOf:Date,represent:qre});function Xre(t){return t==="<<"||t===null}P(Xre,"resolveYamlMerge");var J9e=new $o("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Xre}),aG=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Jre(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=aG;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}P(Jre,"resolveYamlBinary");function Zre(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=aG,o=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}P(Zre,"constructYamlBinary");function eie(t){var e="",n=0,r,i,s=t.length,o=aG;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}P(eie,"representYamlBinary");function tie(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}P(tie,"isBinary");var Z9e=new $o("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Jre,construct:Zre,predicate:tie,represent:eie}),eJe=Object.prototype.hasOwnProperty,tJe=Object.prototype.toString;function nie(t){if(t===null)return!0;var e=[],n,r,i,s,o,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],o=!1,tJe.call(i)!=="[object Object]")return!1;for(s in i)if(eJe.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}P(nie,"resolveYamlOmap");function rie(t){return t!==null?t:[]}P(rie,"constructYamlOmap");var nJe=new $o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:nie,construct:rie}),rJe=Object.prototype.toString;function iie(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],rJe.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}P(iie,"resolveYamlPairs");function sie(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}P(sie,"constructYamlPairs");var iJe=new $o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:iie,construct:sie}),sJe=Object.prototype.hasOwnProperty;function oie(t){if(t===null)return!0;var e,n=t;for(e in n)if(sJe.call(n,e)&&n[e]!==null)return!1;return!0}P(oie,"resolveYamlSet");function aie(t){return t!==null?t:{}}P(aie,"constructYamlSet");var oJe=new $o("tag:yaml.org,2002:set",{kind:"mapping",resolve:oie,construct:aie}),lie=q9e.extend({implicit:[X9e,J9e],explicit:[Z9e,nJe,iJe,oJe]}),jf=Object.prototype.hasOwnProperty,qO=1,cie=2,Aie=3,XO=4,gk=1,aJe=2,$K=3,lJe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,cJe=/[\x85\u2028\u2029]/,AJe=/[,\[\]\{\}]/,uie=/^(?:!|!!|![a-z\-]+!)$/i,hie=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function yU(t){return Object.prototype.toString.call(t)}P(yU,"_class");function AA(t){return t===10||t===13}P(AA,"is_EOL");function _f(t){return t===9||t===32}P(_f,"is_WHITE_SPACE");function da(t){return t===9||t===32||t===10||t===13}P(da,"is_WS_OR_EOL");function Om(t){return t===44||t===91||t===93||t===123||t===125}P(Om,"is_FLOW_INDICATOR");function die(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}P(die,"fromHexCode");function fie(t){return t===120?2:t===117?4:t===85?8:0}P(fie,"escapedHexLen");function pie(t){return 48<=t&&t<=57?t-48:-1}P(pie,"fromDecimalCode");function CU(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}P(CU,"simpleEscapeSequence");function mie(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}P(mie,"charFromCodepoint");var gie=new Array(256),Eie=new Array(256);for(im=0;im<256;im++)gie[im]=CU(im)?1:0,Eie[im]=CU(im);var im;function Tie(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||lie,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}P(Tie,"State$1");function lG(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=M9e(n),new qa(e,n)}P(lG,"generateError");function nn(t,e){throw lG(t,e)}P(nn,"throwError");function sR(t,e){t.onWarning&&t.onWarning.call(null,lG(t,e))}P(sR,"throwWarning");var WK={YAML:P(function(e,n,r){var i,s,o;e.version!==null&&nn(e,"duplication of %YAML directive"),r.length!==1&&nn(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&nn(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&nn(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&sR(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:P(function(e,n,r){var i,s;r.length!==2&&nn(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],uie.test(i)||nn(e,"ill-formed tag handle (first argument) of the TAG directive"),jf.call(e.tagMap,i)&&nn(e,'there is a previously declared suffix for "'+i+'" tag handle'),hie.test(s)||nn(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{nn(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s},"handleTagDirective")};function Wh(t,e,n,r){var i,s,o,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||nn(t,"expected valid JSON character");else lJe.test(a)&&nn(t,"the stream contains non-printable characters");t.result+=a}}P(Wh,"captureSegment");function xU(t,e,n,r){var i,s,o,a;for(Ms.isObject(n)||nn(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,a=i.length;o<a;o+=1)s=i[o],jf.call(e,s)||(e[s]=n[s],r[s]=!0)}P(xU,"mergeMappings");function wm(t,e,n,r,i,s,o,a,l){var c,A;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,A=i.length;c<A;c+=1)Array.isArray(i[c])&&nn(t,"nested arrays are not supported inside keys"),typeof i=="object"&&yU(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&yU(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,A=s.length;c<A;c+=1)xU(t,e,s[c],n);else xU(t,e,s,n);else!t.json&&!jf.call(n,i)&&jf.call(e,i)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,nn(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}P(wm,"storeMappingPair");function OL(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):nn(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}P(OL,"readLineBreak");function hs(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;_f(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(AA(i))for(OL(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&sR(t,"deficient indentation"),r}P(hs,"skipSeparationSpace");function HR(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||da(n)))}P(HR,"testDocumentSeparator");function wL(t,e){e===1?t.result+=" ":e>1&&(t.result+=Ms.repeat(`
`,e-1))}P(wL,"writeFoldedLines");function Sie(t,e,n){var r,i,s,o,a,l,c,A,u=t.kind,h=t.result,p;if(p=t.input.charCodeAt(t.position),da(p)||Om(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),da(i)||n&&Om(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),da(i)||n&&Om(i))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),da(r))break}else{if(t.position===t.lineStart&&HR(t)||n&&Om(p))break;if(AA(p))if(l=t.line,c=t.lineStart,A=t.lineIndent,hs(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=c,t.lineIndent=A;break}}a&&(Wh(t,s,o,!1),wL(t,t.line-l),s=o=t.position,a=!1),_f(p)||(o=t.position+1),p=t.input.charCodeAt(++t.position)}return Wh(t,s,o,!1),t.result?!0:(t.kind=u,t.result=h,!1)}P(Sie,"readPlainScalar");function yie(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Wh(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else AA(n)?(Wh(t,r,i,!0),wL(t,hs(t,!1,e)),r=i=t.position):t.position===t.lineStart&&HR(t)?nn(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);nn(t,"unexpected end of the stream within a single quoted scalar")}P(yie,"readSingleQuotedScalar");function Cie(t,e){var n,r,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Wh(t,n,t.position,!0),t.position++,!0;if(a===92){if(Wh(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),AA(a))hs(t,!1,e);else if(a<256&&gie[a])t.result+=Eie[a],t.position++;else if((o=fie(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=die(a))>=0?s=(s<<4)+o:nn(t,"expected hexadecimal character");t.result+=mie(s),t.position++}else nn(t,"unknown escape sequence");n=r=t.position}else AA(a)?(Wh(t,n,r,!0),wL(t,hs(t,!1,e)),n=r=t.position):t.position===t.lineStart&&HR(t)?nn(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}nn(t,"unexpected end of the stream within a double quoted scalar")}P(Cie,"readDoubleQuotedScalar");function xie(t,e){var n=!0,r,i,s,o=t.tag,a,l=t.anchor,c,A,u,h,p,E=Object.create(null),T,y,R,I;if(I=t.input.charCodeAt(t.position),I===91)A=93,p=!1,a=[];else if(I===123)A=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),I=t.input.charCodeAt(++t.position);I!==0;){if(hs(t,!0,e),I=t.input.charCodeAt(t.position),I===A)return t.position++,t.tag=o,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=a,!0;n?I===44&&nn(t,"expected the node content, but found ','"):nn(t,"missed comma between flow collection entries"),y=T=R=null,u=h=!1,I===63&&(c=t.input.charCodeAt(t.position+1),da(c)&&(u=h=!0,t.position++,hs(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,rg(t,e,qO,!1,!0),y=t.tag,T=t.result,hs(t,!0,e),I=t.input.charCodeAt(t.position),(h||t.line===r)&&I===58&&(u=!0,I=t.input.charCodeAt(++t.position),hs(t,!0,e),rg(t,e,qO,!1,!0),R=t.result),p?wm(t,a,E,y,T,R,r,i,s):u?a.push(wm(t,null,E,y,T,R,r,i,s)):a.push(T),hs(t,!0,e),I=t.input.charCodeAt(t.position),I===44?(n=!0,I=t.input.charCodeAt(++t.position)):n=!1}nn(t,"unexpected end of the stream within a flow collection")}P(xie,"readFlowCollection");function Rie(t,e){var n,r,i=gk,s=!1,o=!1,a=e,l=0,c=!1,A,u;if(u=t.input.charCodeAt(t.position),u===124)r=!1;else if(u===62)r=!0;else return!1;for(t.kind="scalar",t.result="";u!==0;)if(u=t.input.charCodeAt(++t.position),u===43||u===45)gk===i?i=u===43?$K:aJe:nn(t,"repeat of a chomping mode identifier");else if((A=pie(u))>=0)A===0?nn(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?nn(t,"repeat of an indentation width identifier"):(a=e+A-1,o=!0);else break;if(_f(u)){do u=t.input.charCodeAt(++t.position);while(_f(u));if(u===35)do u=t.input.charCodeAt(++t.position);while(!AA(u)&&u!==0)}for(;u!==0;){for(OL(t),t.lineIndent=0,u=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&u===32;)t.lineIndent++,u=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),AA(u)){l++;continue}if(t.lineIndent<a){i===$K?t.result+=Ms.repeat(`
`,s?1+l:l):i===gk&&s&&(t.result+=`
`);break}for(r?_f(u)?(c=!0,t.result+=Ms.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=Ms.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Ms.repeat(`
`,l):t.result+=Ms.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!AA(u)&&u!==0;)u=t.input.charCodeAt(++t.position);Wh(t,n,t.position,!1)}return!0}P(Rie,"readBlockScalar");function RU(t,e){var n,r=t.tag,i=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,nn(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!da(o))));){if(a=!0,t.position++,hs(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,rg(t,e,Aie,!1,!0),s.push(t.result),hs(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)nn(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}P(RU,"readBlockSequence");function Iie(t,e,n){var r,i,s,o,a,l,c=t.tag,A=t.anchor,u={},h=Object.create(null),p=null,E=null,T=null,y=!1,R=!1,I;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=u),I=t.input.charCodeAt(t.position);I!==0;){if(!y&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,nn(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(I===63||I===58)&&da(r))I===63?(y&&(wm(t,u,h,p,E,null,o,a,l),p=E=T=null),R=!0,y=!0,i=!0):y?(y=!1,i=!0):nn(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,I=r;else{if(o=t.line,a=t.lineStart,l=t.position,!rg(t,n,cie,!1,!0))break;if(t.line===s){for(I=t.input.charCodeAt(t.position);_f(I);)I=t.input.charCodeAt(++t.position);if(I===58)I=t.input.charCodeAt(++t.position),da(I)||nn(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(wm(t,u,h,p,E,null,o,a,l),p=E=T=null),R=!0,y=!1,i=!1,p=t.tag,E=t.result;else if(R)nn(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=A,!0}else if(R)nn(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=A,!0}if((t.line===s||t.lineIndent>e)&&(y&&(o=t.line,a=t.lineStart,l=t.position),rg(t,e,XO,!0,i)&&(y?E=t.result:T=t.result),y||(wm(t,u,h,p,E,T,o,a,l),p=E=T=null),hs(t,!0,-1),I=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&I!==0)nn(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&wm(t,u,h,p,E,null,o,a,l),R&&(t.tag=c,t.anchor=A,t.kind="mapping",t.result=u),R}P(Iie,"readBlockMapping");function _ie(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&nn(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):nn(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!da(o);)o===33&&(r?nn(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),uie.test(i)||nn(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),AJe.test(s)&&nn(t,"tag suffix cannot contain flow indicator characters")}s&&!hie.test(s)&&nn(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{nn(t,"tag name is malformed: "+s)}return n?t.tag=s:jf.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:nn(t,'undeclared tag handle "'+i+'"'),!0}P(_ie,"readTagProperty");function Nie(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&nn(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!da(n)&&!Om(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&nn(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}P(Nie,"readAnchorProperty");function bie(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!da(r)&&!Om(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&nn(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),jf.call(t.anchorMap,n)||nn(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],hs(t,!0,-1),!0}P(bie,"readAlias");function rg(t,e,n,r,i){var s,o,a,l=1,c=!1,A=!1,u,h,p,E,T,y;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=XO===n||Aie===n,r&&hs(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;_ie(t)||Nie(t);)hs(t,!0,-1)?(c=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||XO===n)&&(qO===n||cie===n?T=e:T=e+1,y=t.position-t.lineStart,l===1?a&&(RU(t,y)||Iie(t,y,T))||xie(t,T)?A=!0:(o&&Rie(t,T)||yie(t,T)||Cie(t,T)?A=!0:bie(t)?(A=!0,(t.tag!==null||t.anchor!==null)&&nn(t,"alias node should not have any properties")):Sie(t,T,qO===n)&&(A=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(A=a&&RU(t,y))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&nn(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),u=0,h=t.implicitTypes.length;u<h;u+=1)if(E=t.implicitTypes[u],E.resolve(t.result)){t.result=E.construct(t.result),t.tag=E.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(jf.call(t.typeMap[t.kind||"fallback"],t.tag))E=t.typeMap[t.kind||"fallback"][t.tag];else for(E=null,p=t.typeMap.multi[t.kind||"fallback"],u=0,h=p.length;u<h;u+=1)if(t.tag.slice(0,p[u].tag.length)===p[u].tag){E=p[u];break}E||nn(t,"unknown tag !<"+t.tag+">"),t.result!==null&&E.kind!==t.kind&&nn(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+E.kind+'", not "'+t.kind+'"'),E.resolve(t.result,t.tag)?(t.result=E.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):nn(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||A}P(rg,"composeNode");function vie(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(hs(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!da(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&nn(t,"directive name must not be less than one character in length");o!==0;){for(;_f(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!AA(o));break}if(AA(o))break;for(n=t.position;o!==0&&!da(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&OL(t),jf.call(WK,r)?WK[r](t,r,i):sR(t,'unknown document directive "'+r+'"')}if(hs(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,hs(t,!0,-1)):s&&nn(t,"directives end mark is expected"),rg(t,t.lineIndent-1,XO,!1,!0),hs(t,!0,-1),t.checkLineBreaks&&cJe.test(t.input.slice(e,t.position))&&sR(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&HR(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,hs(t,!0,-1));return}if(t.position<t.length-1)nn(t,"end of the stream or a document separator is expected");else return}P(vie,"readDocument");function cG(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new Tie(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,nn(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)vie(n);return n.documents}P(cG,"loadDocuments");function uJe(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=cG(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}P(uJe,"loadAll$1");function Oie(t,e){var n=cG(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new qa("expected a single document in the stream, but found more")}}P(Oie,"load$1");var hJe=Oie,dJe={load:hJe},wie=Object.prototype.toString,Lie=Object.prototype.hasOwnProperty,AG=65279,fJe=9,oR=10,pJe=13,mJe=32,gJe=33,EJe=34,IU=35,TJe=37,SJe=38,yJe=39,CJe=42,Bie=44,xJe=45,JO=58,RJe=61,IJe=62,_Je=63,NJe=64,Die=91,kie=93,bJe=96,Mie=123,vJe=124,Pie=125,zo={};zo[0]="\\0";zo[7]="\\a";zo[8]="\\b";zo[9]="\\t";zo[10]="\\n";zo[11]="\\v";zo[12]="\\f";zo[13]="\\r";zo[27]="\\e";zo[34]='\\"';zo[92]="\\\\";zo[133]="\\N";zo[160]="\\_";zo[8232]="\\L";zo[8233]="\\P";var OJe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],wJe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Uie(t,e){var n,r,i,s,o,a,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)o=r[i],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&Lie.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[o]=a;return n}P(Uie,"compileStyleMap");function Fie(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new qa("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Ms.repeat("0",r-e.length)+e}P(Fie,"encodeHex");var LJe=1,aR=2;function Hie(t){this.schema=t.schema||lie,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Ms.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Uie(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?aR:LJe,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}P(Hie,"State");function _U(t,e){for(var n=Ms.repeat(" ",e),r=0,i=-1,s="",o,a=t.length;r<a;)i=t.indexOf(`
`,r),i===-1?(o=t.slice(r),r=a):(o=t.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}P(_U,"indentString");function ZO(t,e){return`
`+Ms.repeat(" ",t.indent*e)}P(ZO,"generateNextLine");function Gie(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}P(Gie,"testImplicitResolving");function lR(t){return t===mJe||t===fJe}P(lR,"isWhitespace");function wS(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==AG||65536<=t&&t<=1114111}P(wS,"isPrintable");function NU(t){return wS(t)&&t!==AG&&t!==pJe&&t!==oR}P(NU,"isNsCharOrWhitespace");function bU(t,e,n){var r=NU(t),i=r&&!lR(t);return(n?r:r&&t!==Bie&&t!==Die&&t!==kie&&t!==Mie&&t!==Pie)&&t!==IU&&!(e===JO&&!i)||NU(e)&&!lR(e)&&t===IU||e===JO&&i}P(bU,"isPlainSafe");function Qie(t){return wS(t)&&t!==AG&&!lR(t)&&t!==xJe&&t!==_Je&&t!==JO&&t!==Bie&&t!==Die&&t!==kie&&t!==Mie&&t!==Pie&&t!==IU&&t!==SJe&&t!==CJe&&t!==gJe&&t!==vJe&&t!==RJe&&t!==IJe&&t!==yJe&&t!==EJe&&t!==TJe&&t!==NJe&&t!==bJe}P(Qie,"isPlainSafeFirst");function Vie(t){return!lR(t)&&t!==JO}P(Vie,"isPlainSafeLast");function OT(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}P(OT,"codePointAt");function uG(t){var e=/^\n* /;return e.test(t)}P(uG,"needIndentIndicator");var $ie=1,vU=2,Wie=3,Yie=4,mT=5;function jie(t,e,n,r,i,s,o,a){var l,c=0,A=null,u=!1,h=!1,p=r!==-1,E=-1,T=Qie(OT(t,0))&&Vie(OT(t,t.length-1));if(e||o)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=OT(t,l),!wS(c))return mT;T=T&&bU(c,A,a),A=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=OT(t,l),c===oR)u=!0,p&&(h=h||l-E-1>r&&t[E+1]!==" ",E=l);else if(!wS(c))return mT;T=T&&bU(c,A,a),A=c}h=h||p&&l-E-1>r&&t[E+1]!==" "}return!u&&!h?T&&!o&&!i(t)?$ie:s===aR?mT:vU:n>9&&uG(t)?mT:o?s===aR?mT:vU:h?Yie:Wie}P(jie,"chooseScalarStyle");function Kie(t,e,n,r,i){t.dump=(function(){if(e.length===0)return t.quotingType===aR?'""':"''";if(!t.noCompatMode&&(OJe.indexOf(e)!==-1||wJe.test(e)))return t.quotingType===aR?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=r||t.flowLevel>-1&&n>=t.flowLevel;function l(c){return Gie(t,c)}switch(P(l,"testAmbiguity"),jie(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!r,i)){case $ie:return e;case vU:return"'"+e.replace(/'/g,"''")+"'";case Wie:return"|"+OU(e,t.indent)+wU(_U(e,s));case Yie:return">"+OU(e,t.indent)+wU(_U(zie(e,o),s));case mT:return'"'+qie(e)+'"';default:throw new qa("impossible error: invalid scalar style")}})()}P(Kie,"writeScalar");function OU(t,e){var n=uG(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}P(OU,"blockHeader");function wU(t){return t[t.length-1]===`
`?t.slice(0,-1):t}P(wU,"dropEndingNewline");function zie(t,e){for(var n=/(\n+)([^\n]*)/g,r=(function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,n.lastIndex=c,LU(t.slice(0,c),e)})(),i=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",r+=a+(!i&&!s&&l!==""?`
`:"")+LU(l,e),i=s}return r}P(zie,"foldString");function LU(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,o=0,a=0,l="";r=n.exec(t);)a=r.index,a-i>e&&(s=o>i?o:a,l+=`
`+t.slice(i,s),i=s+1),o=a;return l+=`
`,t.length-i>e&&o>i?l+=t.slice(i,o)+`
`+t.slice(o+1):l+=t.slice(i),l.slice(1)}P(LU,"foldLine");function qie(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=OT(t,i),r=zo[n],!r&&wS(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||Fie(n);return e}P(qie,"escapeString");function Xie(t,e,n){var r="",i=t.tag,s,o,a;for(s=0,o=n.length;s<o;s+=1)a=n[s],t.replacer&&(a=t.replacer.call(n,String(s),a)),(Nu(t,e,a,!1,!1)||typeof a>"u"&&Nu(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}P(Xie,"writeFlowSequence");function BU(t,e,n,r){var i="",s=t.tag,o,a,l;for(o=0,a=n.length;o<a;o+=1)l=n[o],t.replacer&&(l=t.replacer.call(n,String(o),l)),(Nu(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Nu(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=ZO(t,e)),t.dump&&oR===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}P(BU,"writeBlockSequence");function Jie(t,e,n){var r="",i=t.tag,s=Object.keys(n),o,a,l,c,A;for(o=0,a=s.length;o<a;o+=1)A="",r!==""&&(A+=", "),t.condenseFlow&&(A+='"'),l=s[o],c=n[l],t.replacer&&(c=t.replacer.call(n,l,c)),Nu(t,e,l,!1,!1)&&(t.dump.length>1024&&(A+="? "),A+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Nu(t,e,c,!1,!1)&&(A+=t.dump,r+=A));t.tag=i,t.dump="{"+r+"}"}P(Jie,"writeFlowMapping");function Zie(t,e,n,r){var i="",s=t.tag,o=Object.keys(n),a,l,c,A,u,h;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new qa("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)h="",(!r||i!=="")&&(h+=ZO(t,e)),c=o[a],A=n[c],t.replacer&&(A=t.replacer.call(n,c,A)),Nu(t,e+1,c,!0,!0,!0)&&(u=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,u&&(t.dump&&oR===t.dump.charCodeAt(0)?h+="?":h+="? "),h+=t.dump,u&&(h+=ZO(t,e)),Nu(t,e+1,A,!0,u)&&(t.dump&&oR===t.dump.charCodeAt(0)?h+=":":h+=": ",h+=t.dump,i+=h));t.tag=s,t.dump=i||"{}"}P(Zie,"writeBlockMapping");function DU(t,e,n){var r,i,s,o,a,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,wie.call(a.represent)==="[object Function]")r=a.represent(e,l);else if(Lie.call(a.represent,l))r=a.represent[l](e,l);else throw new qa("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}P(DU,"detectType");function Nu(t,e,n,r,i,s,o){t.tag=null,t.dump=n,DU(t,n,!1)||DU(t,n,!0);var a=wie.call(t.dump),l=r,c;r&&(r=t.flowLevel<0||t.flowLevel>e);var A=a==="[object Object]"||a==="[object Array]",u,h;if(A&&(u=t.duplicates.indexOf(n),h=u!==-1),(t.tag!==null&&t.tag!=="?"||h||t.indent!==2&&e>0)&&(i=!1),h&&t.usedDuplicates[u])t.dump="*ref_"+u;else{if(A&&h&&!t.usedDuplicates[u]&&(t.usedDuplicates[u]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(Zie(t,e,t.dump,i),h&&(t.dump="&ref_"+u+t.dump)):(Jie(t,e,t.dump),h&&(t.dump="&ref_"+u+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?BU(t,e-1,t.dump,i):BU(t,e,t.dump,i),h&&(t.dump="&ref_"+u+t.dump)):(Xie(t,e,t.dump),h&&(t.dump="&ref_"+u+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&Kie(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new qa("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}P(Nu,"writeNode");function ese(t,e){var n=[],r=[],i,s;for(ew(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}P(ese,"getDuplicateReferences");function ew(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)ew(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)ew(t[r[i]],e,n)}P(ew,"inspectNode");function BJe(t,e){e=e||{};var n=new Hie(e);n.noRefs||ese(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Nu(n,0,r,!0,!0)?n.dump+`
`:""}P(BJe,"dump$1");function DJe(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}P(DJe,"renamed");var kJe=Wre,MJe=dJe.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var ko={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},YK={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function DC(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Di(t),e=Di(e);const[n,r]=[t.x,t.y],[i,s]=[e.x,e.y],o=i-n,a=s-r;return{angle:Math.atan(a/o),deltaX:o,deltaY:a}}P(DC,"calculateDeltaAndAngle");var Di=P(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),PJe=P(t=>({x:P(function(e,n,r){let i=0;const s=Di(r[0]).x<Di(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(ko,t.arrowTypeStart)){const{angle:p,deltaX:E}=DC(r[0],r[1]);i=ko[t.arrowTypeStart]*Math.cos(p)*(E>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(ko,t.arrowTypeEnd)){const{angle:p,deltaX:E}=DC(r[r.length-1],r[r.length-2]);i=ko[t.arrowTypeEnd]*Math.cos(p)*(E>=0?1:-1)}const o=Math.abs(Di(e).x-Di(r[r.length-1]).x),a=Math.abs(Di(e).y-Di(r[r.length-1]).y),l=Math.abs(Di(e).x-Di(r[0]).x),c=Math.abs(Di(e).y-Di(r[0]).y),A=ko[t.arrowTypeStart],u=ko[t.arrowTypeEnd],h=1;if(o<u&&o>0&&a<u){let p=u+h-o;p*=s==="right"?-1:1,i-=p}if(l<A&&l>0&&c<A){let p=A+h-l;p*=s==="right"?-1:1,i+=p}return Di(e).x+i},"x"),y:P(function(e,n,r){let i=0;const s=Di(r[0]).y<Di(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(ko,t.arrowTypeStart)){const{angle:p,deltaY:E}=DC(r[0],r[1]);i=ko[t.arrowTypeStart]*Math.abs(Math.sin(p))*(E>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(ko,t.arrowTypeEnd)){const{angle:p,deltaY:E}=DC(r[r.length-1],r[r.length-2]);i=ko[t.arrowTypeEnd]*Math.abs(Math.sin(p))*(E>=0?1:-1)}const o=Math.abs(Di(e).y-Di(r[r.length-1]).y),a=Math.abs(Di(e).x-Di(r[r.length-1]).x),l=Math.abs(Di(e).y-Di(r[0]).y),c=Math.abs(Di(e).x-Di(r[0]).x),A=ko[t.arrowTypeStart],u=ko[t.arrowTypeEnd],h=1;if(o<u&&o>0&&a<u){let p=u+h-o;p*=s==="up"?-1:1,i-=p}if(l<A&&l>0&&c<A){let p=A+h-l;p*=s==="up"?-1:1,i+=p}return Di(e).y+i},"y")}),"getLineFunctionsWithOffset"),hG=P(({flowchart:t})=>{var i,s;const e=((i=t==null?void 0:t.subGraphTitleMargin)==null?void 0:i.top)??0,n=((s=t==null?void 0:t.subGraphTitleMargin)==null?void 0:s.bottom)??0,r=e+n;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins"),UJe=P(t=>{const{handDrawnSeed:e}=jr();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),JS=P(t=>{const e=FJe([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),FJe=P(t=>{const e=new Map;return t.forEach(n=>{const[r,i]=n.split(":");e.set(r.trim(),i==null?void 0:i.trim())}),e},"styles2Map"),tse=P(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),$t=P(t=>{const{stylesArray:e}=JS(t),n=[],r=[],i=[],s=[];return e.forEach(o=>{const a=o[0];tse(a)?n.push(o.join(":")+" !important"):(r.push(o.join(":")+" !important"),a.includes("stroke")&&i.push(o.join(":")+" !important"),a==="fill"&&s.push(o.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:s}},"styles2String"),Vt=P((t,e)=>{var l;const{themeVariables:n,handDrawnSeed:r}=jr(),{nodeBorder:i,mainBkg:s}=n,{stylesMap:o}=JS(t);return Object.assign({roughness:.7,fill:o.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||i,seed:r,strokeWidth:((l=o.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:HJe(o.get("stroke-dasharray"))},e)},"userNodeOverrides"),HJe=P(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const i=isNaN(e[0])?0:e[0];return[i,i]}const n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1];return[n,r]},"getStrokeDashArray"),UN={},Os={},jK;function GJe(){return jK||(jK=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.BLANK_URL=Os.relativeFirstCharacters=Os.whitespaceEscapeCharsRegex=Os.urlSchemeRegex=Os.ctrlCharactersRegex=Os.htmlCtrlEntityRegex=Os.htmlEntitiesRegex=Os.invalidProtocolRegex=void 0,Os.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Os.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Os.htmlCtrlEntityRegex=/&(newline|tab);/gi,Os.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Os.urlSchemeRegex=/^.+(:|&colon;)/gim,Os.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Os.relativeFirstCharacters=[".","/"],Os.BLANK_URL="about:blank"),Os}var KK;function QJe(){if(KK)return UN;KK=1,Object.defineProperty(UN,"__esModule",{value:!0}),UN.sanitizeUrl=s;var t=GJe();function e(o){return t.relativeFirstCharacters.indexOf(o[0])>-1}function n(o){var a=o.replace(t.ctrlCharactersRegex,"");return a.replace(t.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function r(o){return URL.canParse(o)}function i(o){try{return decodeURIComponent(o)}catch{return o}}function s(o){if(!o)return t.BLANK_URL;var a,l=i(o.trim());do l=n(l).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),l=i(l),a=l.match(t.ctrlCharactersRegex)||l.match(t.htmlEntitiesRegex)||l.match(t.htmlCtrlEntityRegex)||l.match(t.whitespaceEscapeCharsRegex);while(a&&a.length>0);var c=l;if(!c)return t.BLANK_URL;if(e(c))return c;var A=c.trimStart(),u=A.match(t.urlSchemeRegex);if(!u)return c;var h=u[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(h))return t.BLANK_URL;var p=A.replace(/\\/g,"/");if(h==="mailto:"||h.includes("://"))return p;if(h==="http:"||h==="https:"){if(!r(p))return t.BLANK_URL;var E=new URL(p);return E.protocol=E.protocol.toLowerCase(),E.hostname=E.hostname.toLowerCase(),E.toString()}return p}return UN}var VJe=QJe(),nse=typeof global=="object"&&global&&global.Object===Object&&global,$Je=typeof self=="object"&&self&&self.Object===Object&&self,ku=nse||$Je||Function("return this")(),tw=ku.Symbol,rse=Object.prototype,WJe=rse.hasOwnProperty,YJe=rse.toString,nC=tw?tw.toStringTag:void 0;function jJe(t){var e=WJe.call(t,nC),n=t[nC];try{t[nC]=void 0;var r=!0}catch{}var i=YJe.call(t);return r&&(e?t[nC]=n:delete t[nC]),i}var KJe=Object.prototype,zJe=KJe.toString;function qJe(t){return zJe.call(t)}var XJe="[object Null]",JJe="[object Undefined]",zK=tw?tw.toStringTag:void 0;function ZS(t){return t==null?t===void 0?JJe:XJe:zK&&zK in Object(t)?jJe(t):qJe(t)}function fg(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ZJe="[object AsyncFunction]",e7e="[object Function]",t7e="[object GeneratorFunction]",n7e="[object Proxy]";function dG(t){if(!fg(t))return!1;var e=ZS(t);return e==e7e||e==t7e||e==ZJe||e==n7e}var Ek=ku["__core-js_shared__"],qK=(function(){var t=/[^.]+$/.exec(Ek&&Ek.keys&&Ek.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function r7e(t){return!!qK&&qK in t}var i7e=Function.prototype,s7e=i7e.toString;function pg(t){if(t!=null){try{return s7e.call(t)}catch{}try{return t+""}catch{}}return""}var o7e=/[\\^$.*+?()[\]{}|]/g,a7e=/^\[object .+?Constructor\]$/,l7e=Function.prototype,c7e=Object.prototype,A7e=l7e.toString,u7e=c7e.hasOwnProperty,h7e=RegExp("^"+A7e.call(u7e).replace(o7e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d7e(t){if(!fg(t)||r7e(t))return!1;var e=dG(t)?h7e:a7e;return e.test(pg(t))}function f7e(t,e){return t==null?void 0:t[e]}function mg(t,e){var n=f7e(t,e);return d7e(n)?n:void 0}var cR=mg(Object,"create");function p7e(){this.__data__=cR?cR(null):{},this.size=0}function m7e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var g7e="__lodash_hash_undefined__",E7e=Object.prototype,T7e=E7e.hasOwnProperty;function S7e(t){var e=this.__data__;if(cR){var n=e[t];return n===g7e?void 0:n}return T7e.call(e,t)?e[t]:void 0}var y7e=Object.prototype,C7e=y7e.hasOwnProperty;function x7e(t){var e=this.__data__;return cR?e[t]!==void 0:C7e.call(e,t)}var R7e="__lodash_hash_undefined__";function I7e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=cR&&e===void 0?R7e:e,this}function ig(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ig.prototype.clear=p7e;ig.prototype.delete=m7e;ig.prototype.get=S7e;ig.prototype.has=x7e;ig.prototype.set=I7e;function _7e(){this.__data__=[],this.size=0}function LL(t,e){return t===e||t!==t&&e!==e}function BL(t,e){for(var n=t.length;n--;)if(LL(t[n][0],e))return n;return-1}var N7e=Array.prototype,b7e=N7e.splice;function v7e(t){var e=this.__data__,n=BL(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():b7e.call(e,n,1),--this.size,!0}function O7e(t){var e=this.__data__,n=BL(e,t);return n<0?void 0:e[n][1]}function w7e(t){return BL(this.__data__,t)>-1}function L7e(t,e){var n=this.__data__,r=BL(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ld(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ld.prototype.clear=_7e;ld.prototype.delete=v7e;ld.prototype.get=O7e;ld.prototype.has=w7e;ld.prototype.set=L7e;var AR=mg(ku,"Map");function B7e(){this.size=0,this.__data__={hash:new ig,map:new(AR||ld),string:new ig}}function D7e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function DL(t,e){var n=t.__data__;return D7e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function k7e(t){var e=DL(this,t).delete(t);return this.size-=e?1:0,e}function M7e(t){return DL(this,t).get(t)}function P7e(t){return DL(this,t).has(t)}function U7e(t,e){var n=DL(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function np(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}np.prototype.clear=B7e;np.prototype.delete=k7e;np.prototype.get=M7e;np.prototype.has=P7e;np.prototype.set=U7e;var F7e="Expected a function";function GR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(F7e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(GR.Cache||np),n}GR.Cache=np;function H7e(){this.__data__=new ld,this.size=0}function G7e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Q7e(t){return this.__data__.get(t)}function V7e(t){return this.__data__.has(t)}var $7e=200;function W7e(t,e){var n=this.__data__;if(n instanceof ld){var r=n.__data__;if(!AR||r.length<$7e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new np(r)}return n.set(t,e),this.size=n.size,this}function ey(t){var e=this.__data__=new ld(t);this.size=e.size}ey.prototype.clear=H7e;ey.prototype.delete=G7e;ey.prototype.get=Q7e;ey.prototype.has=V7e;ey.prototype.set=W7e;var nw=(function(){try{var t=mg(Object,"defineProperty");return t({},"",{}),t}catch{}})();function fG(t,e,n){e=="__proto__"&&nw?nw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function kU(t,e,n){(n!==void 0&&!LL(t[e],n)||n===void 0&&!(e in t))&&fG(t,e,n)}function Y7e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[++i];if(n(s[l],l,s)===!1)break}return e}}var j7e=Y7e(),ise=typeof exports=="object"&&exports&&!exports.nodeType&&exports,XK=ise&&typeof module=="object"&&module&&!module.nodeType&&module,K7e=XK&&XK.exports===ise,JK=K7e?ku.Buffer:void 0,ZK=JK?JK.allocUnsafe:void 0;function z7e(t,e){if(e)return t.slice();var n=t.length,r=ZK?ZK(n):new t.constructor(n);return t.copy(r),r}var e6=ku.Uint8Array;function q7e(t){var e=new t.constructor(t.byteLength);return new e6(e).set(new e6(t)),e}function X7e(t,e){var n=e?q7e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function J7e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var t6=Object.create,Z7e=(function(){function t(){}return function(e){if(!fg(e))return{};if(t6)return t6(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function sse(t,e){return function(n){return t(e(n))}}var ose=sse(Object.getPrototypeOf,Object),eZe=Object.prototype;function kL(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||eZe;return t===n}function tZe(t){return typeof t.constructor=="function"&&!kL(t)?Z7e(ose(t)):{}}function QR(t){return t!=null&&typeof t=="object"}var nZe="[object Arguments]";function n6(t){return QR(t)&&ZS(t)==nZe}var ase=Object.prototype,rZe=ase.hasOwnProperty,iZe=ase.propertyIsEnumerable,rw=n6((function(){return arguments})())?n6:function(t){return QR(t)&&rZe.call(t,"callee")&&!iZe.call(t,"callee")},iw=Array.isArray,sZe=9007199254740991;function lse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sZe}function ML(t){return t!=null&&lse(t.length)&&!dG(t)}function oZe(t){return QR(t)&&ML(t)}function aZe(){return!1}var cse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,r6=cse&&typeof module=="object"&&module&&!module.nodeType&&module,lZe=r6&&r6.exports===cse,i6=lZe?ku.Buffer:void 0,cZe=i6?i6.isBuffer:void 0,pG=cZe||aZe,AZe="[object Object]",uZe=Function.prototype,hZe=Object.prototype,Ase=uZe.toString,dZe=hZe.hasOwnProperty,fZe=Ase.call(Object);function pZe(t){if(!QR(t)||ZS(t)!=AZe)return!1;var e=ose(t);if(e===null)return!0;var n=dZe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ase.call(n)==fZe}var mZe="[object Arguments]",gZe="[object Array]",EZe="[object Boolean]",TZe="[object Date]",SZe="[object Error]",yZe="[object Function]",CZe="[object Map]",xZe="[object Number]",RZe="[object Object]",IZe="[object RegExp]",_Ze="[object Set]",NZe="[object String]",bZe="[object WeakMap]",vZe="[object ArrayBuffer]",OZe="[object DataView]",wZe="[object Float32Array]",LZe="[object Float64Array]",BZe="[object Int8Array]",DZe="[object Int16Array]",kZe="[object Int32Array]",MZe="[object Uint8Array]",PZe="[object Uint8ClampedArray]",UZe="[object Uint16Array]",FZe="[object Uint32Array]",Oi={};Oi[wZe]=Oi[LZe]=Oi[BZe]=Oi[DZe]=Oi[kZe]=Oi[MZe]=Oi[PZe]=Oi[UZe]=Oi[FZe]=!0;Oi[mZe]=Oi[gZe]=Oi[vZe]=Oi[EZe]=Oi[OZe]=Oi[TZe]=Oi[SZe]=Oi[yZe]=Oi[CZe]=Oi[xZe]=Oi[RZe]=Oi[IZe]=Oi[_Ze]=Oi[NZe]=Oi[bZe]=!1;function HZe(t){return QR(t)&&lse(t.length)&&!!Oi[ZS(t)]}function GZe(t){return function(e){return t(e)}}var use=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fx=use&&typeof module=="object"&&module&&!module.nodeType&&module,QZe=fx&&fx.exports===use,Tk=QZe&&nse.process,s6=(function(){try{var t=fx&&fx.require&&fx.require("util").types;return t||Tk&&Tk.binding&&Tk.binding("util")}catch{}})(),o6=s6&&s6.isTypedArray,mG=o6?GZe(o6):HZe;function MU(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var VZe=Object.prototype,$Ze=VZe.hasOwnProperty;function WZe(t,e,n){var r=t[e];(!($Ze.call(t,e)&&LL(r,n))||n===void 0&&!(e in t))&&fG(t,e,n)}function YZe(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=void 0;l===void 0&&(l=t[a]),i?fG(n,a,l):WZe(n,a,l)}return n}function jZe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var KZe=9007199254740991,zZe=/^(?:0|[1-9]\d*)$/;function hse(t,e){var n=typeof t;return e=e??KZe,!!e&&(n=="number"||n!="symbol"&&zZe.test(t))&&t>-1&&t%1==0&&t<e}var qZe=Object.prototype,XZe=qZe.hasOwnProperty;function JZe(t,e){var n=iw(t),r=!n&&rw(t),i=!n&&!r&&pG(t),s=!n&&!r&&!i&&mG(t),o=n||r||i||s,a=o?jZe(t.length,String):[],l=a.length;for(var c in t)(e||XZe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||hse(c,l)))&&a.push(c);return a}function ZZe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var eet=Object.prototype,tet=eet.hasOwnProperty;function net(t){if(!fg(t))return ZZe(t);var e=kL(t),n=[];for(var r in t)r=="constructor"&&(e||!tet.call(t,r))||n.push(r);return n}function dse(t){return ML(t)?JZe(t,!0):net(t)}function ret(t){return YZe(t,dse(t))}function iet(t,e,n,r,i,s,o){var a=MU(t,n),l=MU(e,n),c=o.get(l);if(c){kU(t,n,c);return}var A=s?s(a,l,n+"",t,e,o):void 0,u=A===void 0;if(u){var h=iw(l),p=!h&&pG(l),E=!h&&!p&&mG(l);A=l,h||p||E?iw(a)?A=a:oZe(a)?A=J7e(a):p?(u=!1,A=z7e(l,!0)):E?(u=!1,A=X7e(l,!0)):A=[]:pZe(l)||rw(l)?(A=a,rw(a)?A=ret(a):(!fg(a)||dG(a))&&(A=tZe(l))):u=!1}u&&(o.set(l,A),i(A,l,r,s,o),o.delete(l)),kU(t,n,A)}function fse(t,e,n,r,i){t!==e&&j7e(e,function(s,o){if(i||(i=new ey),fg(s))iet(t,e,o,n,fse,r,i);else{var a=r?r(MU(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),kU(t,o,a)}},dse)}function pse(t){return t}function set(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var a6=Math.max;function oet(t,e,n){return e=a6(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=a6(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),set(t,this,a)}}function aet(t){return function(){return t}}var cet=nw?function(t,e){return nw(t,"toString",{configurable:!0,enumerable:!1,value:aet(e),writable:!0})}:pse,Aet=800,uet=16,het=Date.now;function det(t){var e=0,n=0;return function(){var r=het(),i=uet-(r-n);if(n=r,i>0){if(++e>=Aet)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var fet=det(cet);function pet(t,e){return fet(oet(t,e,pse),t+"")}function met(t,e,n){if(!fg(n))return!1;var r=typeof e;return(r=="number"?ML(n)&&hse(e,n.length):r=="string"&&e in n)?LL(n[e],t):!1}function get(t){return pet(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&met(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Eet=get(function(t,e,n){fse(t,e,n)}),Tet="",yet={curveBasis:Fb,curveBasisClosed:y9e,curveBasisOpen:C9e,curveBumpX:ere,curveBumpY:tre,curveBundle:x9e,curveCardinalClosed:R9e,curveCardinalOpen:I9e,curveCardinal:sre,curveCatmullRomClosed:_9e,curveCatmullRomOpen:N9e,curveCatmullRom:are,curveLinear:WO,curveLinearClosed:b9e,curveMonotoneX:dre,curveMonotoneY:fre,curveNatural:mre,curveStep:gre,curveStepAfter:Tre,curveStepBefore:Ere},Cet=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,xet=P(function(t,e){const n=mse(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const o=n.map(a=>a.args);DO(o),r=ks(r,[...o])}else r=n.args;if(!r)return;let i=HH(t,e);const s="config";return r[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[s],delete r[s]),r},"detectInit"),mse=P(function(t,e=null){var n,r;try{const i=new RegExp(`[%]{2}(?![{]${Cet.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),$e.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let s;const o=[];for(;(s=hx.exec(t))!==null;)if(s.index===hx.lastIndex&&hx.lastIndex++,s&&!e||e&&((n=s[1])!=null&&n.match(e))||e&&((r=s[2])!=null&&r.match(e))){const a=s[1]?s[1]:s[2],l=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;o.push({type:a,args:l})}return o.length===0?{type:t,args:null}:o.length===1?o[0]:o}catch(i){return $e.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),Ret=P(function(t){return t.replace(hx,"")},"removeDirectives"),Iet=P(function(t,e){for(const[n,r]of e.entries())if(r.match(t))return n;return-1},"isSubstringInArray");function gG(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return yet[n]??e}P(gG,"interpolateToCurve");function gse(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?VJe.sanitizeUrl(n):n}P(gse,"formatUrl");var _et=P((t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let s=window;for(let o=0;o<r;o++)if(s=s[n[o]],!s){$e.error(`Function name: ${t} not found in window`);return}s[i](...e)},"runFunc");function EG(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}P(EG,"distance");function Ese(t){let e,n=0;t.forEach(i=>{n+=EG(i,e),e=i});const r=n/2;return TG(t,r)}P(Ese,"traverseEdge");function Tse(t){return t.length===1?t[0]:Ese(t)}P(Tse,"calcLabelPosition");var l6=P((t,e=2)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},"roundNumber"),TG=P((t,e)=>{let n,r=e;for(const i of t){if(n){const s=EG(i,n);if(s===0)return n;if(s<r)r-=s;else{const o=r/s;if(o<=0)return n;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:l6((1-o)*n.x+o*i.x,5),y:l6((1-o)*n.y+o*i.y,5)}}}n=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Net=P((t,e,n)=>{$e.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());const i=TG(e,25),s=t?10:5,o=Math.atan2(e[0].y-i.y,e[0].x-i.x),a={x:0,y:0};return a.x=Math.sin(o)*s+(e[0].x+i.x)/2,a.y=-Math.cos(o)*s+(e[0].y+i.y)/2,a},"calcCardinalityPosition");function Sse(t,e,n){const r=structuredClone(n);$e.info("our points",r),e!=="start_left"&&e!=="start_right"&&r.reverse();const i=25+t,s=TG(r,i),o=10+t*.5,a=Math.atan2(r[0].y-s.y,r[0].x-s.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(a+Math.PI)*o+(r[0].x+s.x)/2,l.y=-Math.cos(a+Math.PI)*o+(r[0].y+s.y)/2):e==="end_right"?(l.x=Math.sin(a-Math.PI)*o+(r[0].x+s.x)/2-5,l.y=-Math.cos(a-Math.PI)*o+(r[0].y+s.y)/2-5):e==="end_left"?(l.x=Math.sin(a)*o+(r[0].x+s.x)/2-5,l.y=-Math.cos(a)*o+(r[0].y+s.y)/2-5):(l.x=Math.sin(a)*o+(r[0].x+s.x)/2,l.y=-Math.cos(a)*o+(r[0].y+s.y)/2),l}P(Sse,"calcTerminalLabelPosition");function yse(t){let e="",n="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":e=e+r+";");return{style:e,labelStyle:n}}P(yse,"getStylesFromArray");var c6=0,bet=P(()=>(c6++,"id-"+Math.random().toString(36).substr(2,12)+"-"+c6),"generateId");function Cse(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}P(Cse,"makeRandomHex");var vet=P(t=>Cse(t.length),"random"),Oet=P(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),wet=P(function(t,e){const n=e.text.replace(XS.lineBreakRegex," "),[,r]=PL(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",r),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),i},"drawSimpleText"),Let=GR((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),XS.lineBreakRegex.test(t)))return t;const r=t.split(" ").filter(Boolean),i=[];let s="";return r.forEach((o,a)=>{const l=Zh(`${o} `,n),c=Zh(s,n);if(l>e){const{hyphenatedStrings:h,remainingWord:p}=Bet(o,e,"-",n);i.push(s,...h),s=p}else c+l>=e?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");a+1===r.length&&i.push(s)}),i.filter(o=>o!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Bet=GR((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...t],s=[];let o="";return i.forEach((a,l)=>{const c=`${o}${a}`;if(Zh(c,r)>=e){const u=l+1,h=i.length===u,p=`${c}${n}`;s.push(h?c:p),o=""}else o=c}),{hyphenatedStrings:s,remainingWord:o}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function xse(t,e){return SG(t,e).height}P(xse,"calculateTextHeight");function Zh(t,e){return SG(t,e).width}P(Zh,"calculateTextWidth");var SG=GR((t,e)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,s]=PL(n),o=["sans-serif",r],a=t.split(XS.lineBreakRegex),l=[],c=Or("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const A=c.append("svg");for(const h of o){let p=0;const E={width:0,height:0,lineHeight:0};for(const T of a){const y=Oet();y.text=T||Tet;const R=wet(A,y).style("font-size",s).style("font-weight",i).style("font-family",h),I=(R._groups||R)[0][0].getBBox();if(I.width===0&&I.height===0)throw new Error("svg element not in render tree");E.width=Math.round(Math.max(E.width,I.width)),p=Math.round(I.height),E.height+=p,E.lineHeight=Math.round(Math.max(E.lineHeight,p))}l.push(E)}A.remove();const u=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[u]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),oS,Det=(oS=class{constructor(e=!1,n){this.count=0,this.count=n?n.length:0,this.next=e?()=>this.count++:()=>Date.now()}},P(oS,"InitIDGenerator"),oS),FN,ket=P(function(t){return FN=FN||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),FN.innerHTML=t,unescape(FN.textContent)},"entityDecode");function yG(t){return"str"in t}P(yG,"isDetailedError");var Met=P((t,e,n,r)=>{var s;if(!r)return;const i=(s=t.node())==null?void 0:s.getBBox();i&&t.append("text").text(r).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",e)},"insertTitle"),PL=P(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function CG(t,e){return Eet({},t,e)}P(CG,"cleanAndMerge");var tA={assignWithDepth:ks,wrapLabel:Let,calculateTextHeight:xse,calculateTextWidth:Zh,calculateTextDimensions:SG,cleanAndMerge:CG,detectInit:xet,detectDirective:mse,isSubstringInArray:Iet,interpolateToCurve:gG,calcLabelPosition:Tse,calcCardinalityPosition:Net,calcTerminalLabelPosition:Sse,formatUrl:gse,getStylesFromArray:yse,generateId:bet,random:vet,runFunc:_et,entityDecode:ket,insertTitle:Met,isLabelCoordinateInPath:Rse,parseFontSize:PL,InitIDGenerator:Det},Pet=P(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?""+r+"":""+r+""}),e},"encodeEntities"),gg=P(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),ylt=P((t,e,{counter:n=0,prefix:r,suffix:i},s)=>s||`${r?`${r}_`:""}${t}_${e}_${n}${i?`_${i}`:""}`,"getEdgeId");function Wo(t){return t??null}P(Wo,"handleUndefinedAttr");function Rse(t,e){const n=Math.round(t.x),r=Math.round(t.y),i=e.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(n.toString())||i.includes(r.toString())}P(Rse,"isLabelCoordinateInPath");const Uet=Object.freeze({left:0,top:0,width:16,height:16}),sw=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ise=Object.freeze({...Uet,...sw}),Fet=Object.freeze({...Ise,body:"",hidden:!1}),Het=Object.freeze({width:null,height:null}),Get=Object.freeze({...Het,...sw}),Qet=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:r,prefix:l,name:a};return Sk(c)?c:null}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return Sk(a)?a:null}if(n&&r===""){const a={provider:r,prefix:"",name:s};return Sk(a,n)?a:null}return null},Sk=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function Vet(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function A6(t,e){const n=Vet(t,e);for(const r in Fet)r in sw?r in t&&!(r in n)&&(n[r]=sw[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function $et(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=r[o]&&r[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function u6(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function o(a){s=A6(r[a]||i[a],s)}return o(e),n.forEach(o),A6(t,s)}function Wet(t,e){if(t.icons[e])return u6(t,e,[]);const n=$et(t,[e])[e];return n?u6(t,e,n):null}const Yet=/(-?[0-9.]*[0-9]+[0-9.]*)/g,jet=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function h6(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(Yet);if(r===null||!r.length)return t;const i=[];let s=r.shift(),o=jet.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}function Ket(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const o=t.indexOf(">",s);if(o===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(o+1)}return{defs:n,content:t}}function zet(t,e){return t?"<defs>"+t+"</defs>"+e:e}function qet(t,e,n){const r=Ket(t);return zet(r.defs,e+r.content+n)}const Xet=t=>t==="unset"||t==="undefined"||t==="none";function Jet(t,e){const n={...Ise,...t},r={...Get,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(T=>{const y=[],R=T.hFlip,I=T.vFlip;let b=T.rotate;R?I?b+=2:(y.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),y.push("scale(-1 1)"),i.top=i.left=0):I&&(y.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),y.push("scale(1 -1)"),i.top=i.left=0);let B;switch(b<0&&(b-=Math.floor(b/4)*4),b=b%4,b){case 1:B=i.height/2+i.top,y.unshift("rotate(90 "+B.toString()+" "+B.toString()+")");break;case 2:y.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:B=i.width/2+i.left,y.unshift("rotate(-90 "+B.toString()+" "+B.toString()+")");break}b%2===1&&(i.left!==i.top&&(B=i.left,i.left=i.top,i.top=B),i.width!==i.height&&(B=i.width,i.width=i.height,i.height=B)),y.length&&(s=qet(s,'<g transform="'+y.join(" ")+'">',"</g>"))});const o=r.width,a=r.height,l=i.width,c=i.height;let A,u;o===null?(u=a===null?"1em":a==="auto"?c:a,A=h6(u,l/c)):(A=o==="auto"?l:o,u=a===null?h6(A,c/l):a==="auto"?c:a);const h={},p=(T,y)=>{Xet(y)||(h[T]=y.toString())};p("width",A),p("height",u);const E=[i.left,i.top,l,c];return h.viewBox=E.join(" "),{attributes:h,viewBox:E,body:s}}const Zet=/\sid="(\S+)"/g,d6=new Map;function ett(t){t=t.replace(/[0-9]+$/,"")||"a";const e=d6.get(t)||0;return d6.set(t,e+1),e?`${t}${e}`:t}function ttt(t){const e=[];let n;for(;n=Zet.exec(t);)e.push(n[1]);if(!e.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(i=>{const s=ett(i),o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}function ntt(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function xG(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Eg=xG();function _se(t){Eg=t}var px={exec:()=>null};function Ur(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(fa.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var rtt=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),fa={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},itt=/^(?:[ \t]*(?:\n|$))+/,stt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ott=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,VR=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,att=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,RG=/(?:[*+-]|\d{1,9}[.)])/,Nse=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,bse=Ur(Nse).replace(/bull/g,RG).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ltt=Ur(Nse).replace(/bull/g,RG).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),IG=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ctt=/^[^\n]+/,_G=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Att=Ur(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",_G).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),utt=Ur(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,RG).getRegex(),UL="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",NG=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,htt=Ur("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",NG).replace("tag",UL).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),vse=Ur(IG).replace("hr",VR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",UL).getRegex(),dtt=Ur(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",vse).getRegex(),bG={blockquote:dtt,code:stt,def:Att,fences:ott,heading:att,hr:VR,html:htt,lheading:bse,list:utt,newline:itt,paragraph:vse,table:px,text:ctt},f6=Ur("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",VR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",UL).getRegex(),ftt={...bG,lheading:ltt,table:f6,paragraph:Ur(IG).replace("hr",VR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",f6).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",UL).getRegex()},ptt={...bG,html:Ur(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",NG).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:px,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ur(IG).replace("hr",VR).replace("heading",` *#{1,6} *[^
]`).replace("lheading",bse).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},mtt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,gtt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ose=/^( {2,}|\\)\n(?!\s*$)/,Ett=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,FL=/[\p{P}\p{S}]/u,vG=/[\s\p{P}\p{S}]/u,wse=/[^\s\p{P}\p{S}]/u,Ttt=Ur(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,vG).getRegex(),Lse=/(?!~)[\p{P}\p{S}]/u,Stt=/(?!~)[\s\p{P}\p{S}]/u,ytt=/(?:[^\s\p{P}\p{S}]|~)/u,Ctt=Ur(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",rtt?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Bse=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,xtt=Ur(Bse,"u").replace(/punct/g,FL).getRegex(),Rtt=Ur(Bse,"u").replace(/punct/g,Lse).getRegex(),Dse="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Itt=Ur(Dse,"gu").replace(/notPunctSpace/g,wse).replace(/punctSpace/g,vG).replace(/punct/g,FL).getRegex(),_tt=Ur(Dse,"gu").replace(/notPunctSpace/g,ytt).replace(/punctSpace/g,Stt).replace(/punct/g,Lse).getRegex(),Ntt=Ur("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,wse).replace(/punctSpace/g,vG).replace(/punct/g,FL).getRegex(),btt=Ur(/\\(punct)/,"gu").replace(/punct/g,FL).getRegex(),vtt=Ur(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ott=Ur(NG).replace("(?:-->|$)","-->").getRegex(),wtt=Ur("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ott).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ow=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Ltt=Ur(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ow).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),kse=Ur(/^!?\[(label)\]\[(ref)\]/).replace("label",ow).replace("ref",_G).getRegex(),Mse=Ur(/^!?\[(ref)\](?:\[\])?/).replace("ref",_G).getRegex(),Btt=Ur("reflink|nolink(?!\\()","g").replace("reflink",kse).replace("nolink",Mse).getRegex(),p6=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,OG={_backpedal:px,anyPunctuation:btt,autolink:vtt,blockSkip:Ctt,br:Ose,code:gtt,del:px,emStrongLDelim:xtt,emStrongRDelimAst:Itt,emStrongRDelimUnd:Ntt,escape:mtt,link:Ltt,nolink:Mse,punctuation:Ttt,reflink:kse,reflinkSearch:Btt,tag:wtt,text:Ett,url:px},Dtt={...OG,link:Ur(/^!?\[(label)\]\((.*?)\)/).replace("label",ow).getRegex(),reflink:Ur(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ow).getRegex()},PU={...OG,emStrongRDelimAst:_tt,emStrongLDelim:Rtt,url:Ur(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",p6).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Ur(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",p6).getRegex()},ktt={...PU,br:Ur(Ose).replace("{2,}","*").getRegex(),text:Ur(PU.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},HN={normal:bG,gfm:ftt,pedantic:ptt},rC={normal:OG,gfm:PU,breaks:ktt,pedantic:Dtt},Mtt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},m6=t=>Mtt[t];function tu(t,e){if(e){if(fa.escapeTest.test(t))return t.replace(fa.escapeReplace,m6)}else if(fa.escapeTestNoEncode.test(t))return t.replace(fa.escapeReplaceNoEncode,m6);return t}function g6(t){try{t=encodeURI(t).replace(fa.percentDecode,"%")}catch{return null}return t}function E6(t,e){var s;let n=t.replace(fa.findPipe,(o,a,l)=>{let c=!1,A=a;for(;--A>=0&&l[A]==="\\";)c=!c;return c?"|":" |"}),r=n.split(fa.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(fa.slashPipe,"|");return r}function iC(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function Ptt(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function T6(t,e,n,r,i){let s=e.href,o=e.title||null,a=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function Utt(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let o=s.match(n.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=i.length?s.slice(i.length):s}).join(`
`)}var aw=class{constructor(e){it(this,"options");it(this,"rules");it(this,"lexer");this.options=e||Eg}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:iC(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=Utt(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=iC(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:iC(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=iC(n[0],`
`).split(`
`),i="",s="",o=[];for(;r.length>0;){let a=!1,l=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))l.push(r[c]),a=!0;else if(!a)l.push(r[c]);else break;r=r.slice(c);let A=l.join(`
`),u=A.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${A}`:A,s=s?`${s}
${u}`:u;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,o,!0),this.lexer.state.top=h,r.length===0)break;let p=o.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){let E=p,T=E.raw+`
`+r.join(`
`),y=this.blockquote(T);o[o.length-1]=y,i=i.substring(0,i.length-E.raw.length)+y.raw,s=s.substring(0,s.length-E.text.length)+y.text;break}else if((p==null?void 0:p.type)==="list"){let E=p,T=E.raw+`
`+r.join(`
`),y=this.list(T);o[o.length-1]=y,i=i.substring(0,i.length-p.raw.length)+y.raw,s=s.substring(0,s.length-E.raw.length)+y.raw,r=T.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let o=this.rules.other.listItemRegex(r),a=!1;for(;e;){let c=!1,A="",u="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;A=n[0],e=e.substring(A.length);let h=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,I=>" ".repeat(3*I.length)),p=e.split(`
`,1)[0],E=!h.trim(),T=0;if(this.options.pedantic?(T=2,u=h.trimStart()):E?T=n[1].length+1:(T=n[2].search(this.rules.other.nonSpaceChar),T=T>4?1:T,u=h.slice(T),T+=n[1].length),E&&this.rules.other.blankLine.test(p)&&(A+=p+`
`,e=e.substring(p.length+1),c=!0),!c){let I=this.rules.other.nextBulletRegex(T),b=this.rules.other.hrRegex(T),B=this.rules.other.fencesBeginRegex(T),w=this.rules.other.headingBeginRegex(T),O=this.rules.other.htmlBeginRegex(T);for(;e;){let L=e.split(`
`,1)[0],U;if(p=L,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),U=p):U=p.replace(this.rules.other.tabCharGlobal,"    "),B.test(p)||w.test(p)||O.test(p)||I.test(p)||b.test(p))break;if(U.search(this.rules.other.nonSpaceChar)>=T||!p.trim())u+=`
`+U.slice(T);else{if(E||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||B.test(h)||w.test(h)||b.test(h))break;u+=`
`+p}!E&&!p.trim()&&(E=!0),A+=L+`
`,e=e.substring(L.length+1),h=U.slice(T)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(A)&&(a=!0));let y=null,R;this.options.gfm&&(y=this.rules.other.listIsTask.exec(u),y&&(R=y[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:A,task:!!y,checked:R,loose:!1,text:u,tokens:[]}),s.raw+=A}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let A=s.items[c].tokens.filter(h=>h.type==="space"),u=A.length>0&&A.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=u}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){var a;let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=E6(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(a=n[3])!=null&&a.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let l of i)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<r.length;l++)o.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:o.align[l]});for(let l of s)o.rows.push(E6(l,o.header.length).map((c,A)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[A]})));return o}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let o=iC(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{let o=Ptt(n[2],"()");if(o===-2)return;if(o>-1){let a=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),T6(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return T6(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,o,a,l=s,c=0,A=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(A.lastIndex=0,n=n.slice(-1*e.length+s);(i=A.exec(n))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=[...o].length,i[3]||i[4]){l+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);let u=[...i[0]][0].length,h=e.slice(0,s+i.index+u+a);if(Math.min(s,a)%2){let E=h.slice(1,-1);return{type:"em",raw:h,text:E,tokens:this.lexer.inlineTokens(E)}}let p=h.slice(2,-2);return{type:"strong",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=n[0],s="mailto:"+i;else{let o;do o=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(o!==n[0]);i=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},Xc=class UU{constructor(e){it(this,"tokens");it(this,"options");it(this,"state");it(this,"tokenizer");it(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Eg,this.options.tokenizer=this.options.tokenizer||new aw,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:fa,block:HN.normal,inline:rC.normal};this.options.pedantic?(n.block=HN.pedantic,n.inline=rC.pedantic):this.options.gfm&&(n.block=HN.gfm,this.options.breaks?n.inline=rC.breaks:n.inline=rC.gfm),this.tokenizer.rules=n}static get rules(){return{block:HN,inline:rC}}static lex(e,n){return new UU(n).lex(e)}static lexInline(e,n){return new UU(n).inlineTokens(e)}lex(e){e=e.replace(fa.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,s,o;for(this.options.pedantic&&(e=e.replace(fa.tabCharGlobal,"    ").replace(fa.spaceLine,""));e;){let a;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(a=c.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let c=n.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},n.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),n.push(a);continue}let l=e;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0,A=e.slice(1),u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},A),typeof u=="number"&&u>=0&&(c=Math.min(c,u))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a),r=l.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var l,c,A,u,h;let r=e,i=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((c=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:c.call({lexer:this},r))??r;let o=!1,a="";for(;e;){o||(a=""),o=!1;let p;if((u=(A=this.options.extensions)==null?void 0:A.inline)!=null&&u.some(T=>(p=T.call({lexer:this},e,n))?(e=e.substring(p.raw.length),n.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);let T=n.at(-1);p.type==="text"&&(T==null?void 0:T.type)==="text"?(T.raw+=p.raw,T.text+=p.text):n.push(p);continue}if(p=this.tokenizer.emStrong(e,r,a)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.del(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),n.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),n.push(p);continue}let E=e;if((h=this.options.extensions)!=null&&h.startInline){let T=1/0,y=e.slice(1),R;this.options.extensions.startInline.forEach(I=>{R=I.call({lexer:this},y),typeof R=="number"&&R>=0&&(T=Math.min(T,R))}),T<1/0&&T>=0&&(E=e.substring(0,T+1))}if(p=this.tokenizer.inlineText(E)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(a=p.raw.slice(-1)),o=!0;let T=n.at(-1);(T==null?void 0:T.type)==="text"?(T.raw+=p.raw,T.text+=p.text):n.push(p);continue}if(e){let T="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(T);break}else throw new Error(T)}}return n}},lw=class{constructor(e){it(this,"options");it(this,"parser");this.options=e||Eg}space(e){return""}code({text:e,lang:n,escaped:r}){var o;let i=(o=(n||"").match(fa.notSpaceStart))==null?void 0:o[0],s=e.replace(fa.endingNewline,"")+`
`;return i?'<pre><code class="language-'+tu(i)+'">'+(r?s:tu(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:tu(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,i="";for(let a=0;a<e.items.length;a++){let l=e.items[a];i+=this.listitem(l)}let s=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(e){var r;let n="";if(e.task){let i=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+tu(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):n+=i+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){let o=e.rows[s];r="";for(let a=0;a<o.length;a++)r+=this.tablecell(o[a]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${tu(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let i=this.parser.parseInline(r),s=g6(e);if(s===null)return i;e=s;let o='<a href="'+e+'"';return n&&(o+=' title="'+tu(n)+'"'),o+=">"+i+"</a>",o}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let s=g6(e);if(s===null)return tu(r);e=s;let o=`<img src="${e}" alt="${r}"`;return n&&(o+=` title="${tu(n)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:tu(e.text)}},wG=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Jc=class FU{constructor(e){it(this,"options");it(this,"renderer");it(this,"textRenderer");this.options=e||Eg,this.options.renderer=this.options.renderer||new lw,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new wG}static parse(e,n){return new FU(n).parse(e)}static parseInline(e,n){return new FU(n).parseInline(e)}parse(e,n=!0){var i,s;let r="";for(let o=0;o<e.length;o++){let a=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[a.type]){let c=a,A=this.options.extensions.renderers[c.type].call({parser:this},c);if(A!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=A||"";continue}}let l=a;switch(l.type){case"space":{r+=this.renderer.space(l);continue}case"hr":{r+=this.renderer.hr(l);continue}case"heading":{r+=this.renderer.heading(l);continue}case"code":{r+=this.renderer.code(l);continue}case"table":{r+=this.renderer.table(l);continue}case"blockquote":{r+=this.renderer.blockquote(l);continue}case"list":{r+=this.renderer.list(l);continue}case"html":{r+=this.renderer.html(l);continue}case"def":{r+=this.renderer.def(l);continue}case"paragraph":{r+=this.renderer.paragraph(l);continue}case"text":{let c=l,A=this.renderer.text(c);for(;o+1<e.length&&e[o+1].type==="text";)c=e[++o],A+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:A,text:A,tokens:[{type:"text",raw:A,text:A,escaped:!0}]}):r+=A;continue}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){var i,s;let r="";for(let o=0;o<e.length;o++){let a=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[a.type]){let c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=c||"";continue}}let l=a;switch(l.type){case"escape":{r+=n.text(l);break}case"html":{r+=n.html(l);break}case"link":{r+=n.link(l);break}case"image":{r+=n.image(l);break}case"strong":{r+=n.strong(l);break}case"em":{r+=n.em(l);break}case"codespan":{r+=n.codespan(l);break}case"br":{r+=n.br(l);break}case"del":{r+=n.del(l);break}case"text":{r+=n.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},jN,kC=(jN=class{constructor(e){it(this,"options");it(this,"block");this.options=e||Eg}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Xc.lex:Xc.lexInline}provideParser(){return this.block?Jc.parse:Jc.parseInline}},it(jN,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),it(jN,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),jN),Ftt=class{constructor(...e){it(this,"defaults",xG());it(this,"options",this.setOptions);it(this,"parse",this.parseMarkdown(!0));it(this,"parseInline",this.parseMarkdown(!1));it(this,"Parser",Jc);it(this,"Renderer",lw);it(this,"TextRenderer",wG);it(this,"Lexer",Xc);it(this,"Tokenizer",aw);it(this,"Hooks",kC);this.use(...e)}walkTokens(e,n){var i,s;let r=[];for(let o of e)switch(r=r.concat(n.call(this,o)),o.type){case"table":{let a=o;for(let l of a.header)r=r.concat(this.walkTokens(l.tokens,n));for(let l of a.rows)for(let c of l)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{let a=o;r=r.concat(this.walkTokens(a.items,n));break}default:{let a=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let c=a[l].flat(1/0);r=r.concat(this.walkTokens(c,n))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=n.renderers[s.name];o?n.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new lw(this.defaults);for(let o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,l=r.renderer[a],c=s[a];s[a]=(...A)=>{let u=l.apply(s,A);return u===!1&&(u=c.apply(s,A)),u||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new aw(this.defaults);for(let o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=r.tokenizer[a],c=s[a];s[a]=(...A)=>{let u=l.apply(s,A);return u===!1&&(u=c.apply(s,A)),u}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new kC;for(let o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,l=r.hooks[a],c=s[a];kC.passThroughHooks.has(o)?s[a]=A=>{if(this.defaults.async&&kC.passThroughHooksRespectAsync.has(o))return(async()=>{let h=await l.call(s,A);return c.call(s,h)})();let u=l.call(s,A);return c.call(s,u)}:s[a]=(...A)=>{if(this.defaults.async)return(async()=>{let h=await l.apply(s,A);return h===!1&&(h=await c.apply(s,A)),h})();let u=l.apply(s,A);return u===!1&&(u=c.apply(s,A)),u}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Xc.lex(e,n??this.defaults)}parser(e,n){return Jc.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(n):n,l=await(s.hooks?await s.hooks.provideLexer():e?Xc.lex:Xc.lexInline)(a,s),c=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let A=await(s.hooks?await s.hooks.provideParser():e?Jc.parse:Jc.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(A):A})().catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let a=(s.hooks?s.hooks.provideLexer():e?Xc.lex:Xc.lexInline)(n,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():e?Jc.parse:Jc.parseInline)(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return o(a)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+tu(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},sg=new Ftt;function Kr(t,e){return sg.parse(t,e)}Kr.options=Kr.setOptions=function(t){return sg.setOptions(t),Kr.defaults=sg.defaults,_se(Kr.defaults),Kr};Kr.getDefaults=xG;Kr.defaults=Eg;Kr.use=function(...t){return sg.use(...t),Kr.defaults=sg.defaults,_se(Kr.defaults),Kr};Kr.walkTokens=function(t,e){return sg.walkTokens(t,e)};Kr.parseInline=sg.parseInline;Kr.Parser=Jc;Kr.parser=Jc.parse;Kr.Renderer=lw;Kr.TextRenderer=wG;Kr.Lexer=Xc;Kr.lexer=Xc.lex;Kr.Tokenizer=aw;Kr.Hooks=kC;Kr.parse=Kr;Kr.options;Kr.setOptions;Kr.use;Kr.walkTokens;Kr.parseInline;Jc.parse;Xc.lex;function Pse(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(a,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?a.concat(c.map(function(A){var u,h;return(h=(u=A.match(/[\t ]/g))===null||u===void 0?void 0:u.length)!==null&&h!==void 0?h:0})):a},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(a){return a.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var o=r[0];return e.forEach(function(a,l){var c=o.match(/(?:^|\n)( *)$/),A=c?c[1]:"",u=a;typeof a=="string"&&a.includes(`
`)&&(u=String(a).split(`
`).map(function(h,p){return p===0?h:""+A+h}).join(`
`)),o+=u+r[l+1]}),o}var Htt={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},HU=new Map,Use=new Map,Gtt=P(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if($e.debug("Registering icon pack:",e.name),"loader"in e)Use.set(e.name,e.loader);else if("icons"in e)HU.set(e.name,e.icons);else throw $e.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),Fse=P(async(t,e)=>{const n=Qet(t,!0,e!==void 0);if(!n)throw new Error(`Invalid icon name: ${t}`);const r=n.prefix||e;if(!r)throw new Error(`Icon name must contain a prefix: ${t}`);let i=HU.get(r);if(!i){const o=Use.get(r);if(!o)throw new Error(`Icon set not found: ${n.prefix}`);try{i={...await o(),prefix:r},HU.set(r,i)}catch(a){throw $e.error(a),new Error(`Failed to load icon set: ${n.prefix}`)}}const s=Wet(i,n.name);if(!s)throw new Error(`Icon not found: ${t}`);return s},"getRegisteredIconData"),Qtt=P(async t=>{try{return await Fse(t),!0}catch{return!1}},"isIconAvailable"),$R=P(async(t,e,n)=>{let r;try{r=await Fse(t,e==null?void 0:e.fallbackPrefix)}catch(o){$e.error(o),r=Htt}const i=Jet(r,e),s=ntt(ttt(i.body),{...i.attributes,...n});return _c(s,Vo())},"getIconSVG");function Hse(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=Pse(r);return e===!1?i.replace(/ /g,"&nbsp;"):i}P(Hse,"preprocessMarkdown");function Gse(t,e={}){const n=Hse(t,e),r=Kr.lexer(n),i=[[]];let s=0;function o(a,l="normal"){a.type==="text"?a.text.split(`
`).forEach((A,u)=>{u!==0&&(s++,i.push([])),A.split(" ").forEach(h=>{h=h.replace(/&#39;/g,"'"),h&&i[s].push({content:h,type:l})})}):a.type==="strong"||a.type==="em"?a.tokens.forEach(c=>{o(c,a.type)}):a.type==="html"&&i[s].push({content:a.text,type:"normal"})}return P(o,"processNode"),r.forEach(a=>{var l;a.type==="paragraph"?(l=a.tokens)==null||l.forEach(c=>{o(c)}):a.type==="html"?i[s].push({content:a.text,type:"normal"}):i[s].push({content:a.raw,type:"normal"})}),i}P(Gse,"markdownToLines");function Qse(t,{markdownAutoWrap:e}={}){const n=Kr.lexer(t);function r(i){var s,o,a;return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(s=i.tokens)==null?void 0:s.map(r).join("")}</strong>`:i.type==="em"?`<em>${(o=i.tokens)==null?void 0:o.map(r).join("")}</em>`:i.type==="paragraph"?`<p>${(a=i.tokens)==null?void 0:a.map(r).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:($e.warn(`Unsupported markdown: ${i.type}`),i.raw)}return P(r,"output"),n.map(r).join("")}P(Qse,"markdownToHTML");function Vse(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}P(Vse,"splitTextToChars");function $se(t,e){const n=Vse(e.content);return LG(t,[],n,e.type)}P($se,"splitWordToFitWidth");function LG(t,e,n,r){if(n.length===0)return[{content:e.join(""),type:r},{content:"",type:r}];const[i,...s]=n,o=[...e,i];return t([{content:o.join(""),type:r}])?LG(t,o,s,r):(e.length===0&&i&&(e.push(i),n.shift()),[{content:e.join(""),type:r},{content:n.join(""),type:r}])}P(LG,"splitWordToFitWidthRecursion");function Wse(t,e){if(t.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return cw(t,e)}P(Wse,"splitLineToFitWidth");function cw(t,e,n=[],r=[]){if(t.length===0)return r.length>0&&n.push(r),n.length>0?n:[];let i="";t[0].content===" "&&(i=" ",t.shift());const s=t.shift()??{content:" ",type:"normal"},o=[...r];if(i!==""&&o.push({content:i,type:"normal"}),o.push(s),e(o))return cw(t,e,n,o);if(r.length>0)n.push(r),t.unshift(s);else if(s.content){const[a,l]=$se(e,s);n.push([a]),l.content&&t.unshift(l)}return cw(t,e,n)}P(cw,"splitLineToFitWidthRecursion");function GU(t,e){e&&t.attr("style",e)}P(GU,"applyStyle");async function Yse(t,e,n,r,i=!1,s=Vo()){const o=t.append("foreignObject");o.attr("width",`${10*n}px`),o.attr("height",`${10*n}px`);const a=o.append("xhtml:div"),l=NS(e.label)?await GH(e.label.replace(XS.lineBreakRegex,`
`),s):_c(e.label,s),c=e.isNode?"nodeLabel":"edgeLabel",A=a.append("span");A.html(l),GU(A,e.labelStyle),A.attr("class",`${c} ${r}`),GU(a,e.labelStyle),a.style("display","table-cell"),a.style("white-space","nowrap"),a.style("line-height","1.5"),a.style("max-width",n+"px"),a.style("text-align","center"),a.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&a.attr("class","labelBkg");let u=a.node().getBoundingClientRect();return u.width===n&&(a.style("display","table"),a.style("white-space","break-spaces"),a.style("width",n+"px"),u=a.node().getBoundingClientRect()),o.node()}P(Yse,"addHtmlSpan");function HL(t,e,n){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*n-.1+"em").attr("dy",n+"em")}P(HL,"createTspan");function jse(t,e,n){const r=t.append("text"),i=HL(r,1,e);GL(i,n);const s=i.node().getComputedTextLength();return r.remove(),s}P(jse,"computeWidthOfText");function Vtt(t,e,n){var o;const r=t.append("text"),i=HL(r,1,e);GL(i,[{content:n,type:"normal"}]);const s=(o=i.node())==null?void 0:o.getBoundingClientRect();return s&&r.remove(),s}P(Vtt,"computeDimensionOfText");function Kse(t,e,n,r=!1){const s=e.append("g"),o=s.insert("rect").attr("class","background").attr("style","stroke: none"),a=s.append("text").attr("y","-10.1");let l=0;for(const c of n){const A=P(h=>jse(s,1.1,h)<=t,"checkWidth"),u=A(c)?[c]:Wse(c,A);for(const h of u){const p=HL(a,l,1.1);GL(p,h),l++}}if(r){const c=a.node().getBBox(),A=2;return o.attr("x",c.x-A).attr("y",c.y-A).attr("width",c.width+2*A).attr("height",c.height+2*A),s.node()}else return a.node()}P(Kse,"createFormattedText");function GL(t,e){t.text(""),e.forEach((n,r)=>{const i=t.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");r===0?i.text(n.content):i.text(" "+n.content)})}P(GL,"updateTextContentAndStyles");async function zse(t,e={}){const n=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,o)=>(n.push((async()=>{const a=`${s}:${o}`;return await Qtt(a)?await $R(a,void 0,{class:"label-icon"}):`<i class='${_c(i,e).replace(":"," ")}'></i>`})()),i));const r=await Promise.all(n);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>r.shift()??"")}P(zse,"replaceIconSubstring");var rp=P(async(t,e="",{style:n="",isTitle:r=!1,classes:i="",useHtmlLabels:s=!0,isNode:o=!0,width:a=200,addSvgBackground:l=!1}={},c)=>{if($e.debug("XYZ createText",e,n,r,i,s,o,"addSvgBackground: ",l),s){const A=Qse(e,c),u=await zse(gg(A),c),h=e.replace(/\\\\/g,"\\"),p={isNode:o,label:NS(e)?h:u,labelStyle:n.replace("fill:","color:")};return await Yse(t,p,a,i,l,c)}else{const A=e.replace(/<br\s*\/?>/g,"<br/>"),u=Gse(A.replace("<br>","<br/>"),c),h=Kse(a,t,u,e?l:!1);if(o){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const p=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Or(h).attr("style",p)}else{const p=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Or(h).select("rect").attr("style",p.replace(/background:/g,"fill:"));const E=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Or(h).select("text").attr("style",E)}return h}},"createText");function yk(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,o=Math.cos(s),a=Math.sin(s);for(const l of t){const[c,A]=l;l[0]=(c-r)*o-(A-i)*a+r,l[1]=(c-r)*a+(A-i)*o+i}}}function $tt(t,e){return t[0]===e[0]&&t[1]===e[1]}function Wtt(t,e,n,r=1){const i=n,s=Math.max(e,.1),o=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,a=[0,0];if(i)for(const c of o)yk(c,a,i);const l=(function(c,A,u){const h=[];for(const I of c){const b=[...I];$tt(b[0],b[b.length-1])||b.push([b[0][0],b[0][1]]),b.length>2&&h.push(b)}const p=[];A=Math.max(A,.1);const E=[];for(const I of h)for(let b=0;b<I.length-1;b++){const B=I[b],w=I[b+1];if(B[1]!==w[1]){const O=Math.min(B[1],w[1]);E.push({ymin:O,ymax:Math.max(B[1],w[1]),x:O===B[1]?B[0]:w[0],islope:(w[0]-B[0])/(w[1]-B[1])})}}if(E.sort(((I,b)=>I.ymin<b.ymin?-1:I.ymin>b.ymin?1:I.x<b.x?-1:I.x>b.x?1:I.ymax===b.ymax?0:(I.ymax-b.ymax)/Math.abs(I.ymax-b.ymax))),!E.length)return p;let T=[],y=E[0].ymin,R=0;for(;T.length||E.length;){if(E.length){let I=-1;for(let b=0;b<E.length&&!(E[b].ymin>y);b++)I=b;E.splice(0,I+1).forEach((b=>{T.push({s:y,edge:b})}))}if(T=T.filter((I=>!(I.edge.ymax<=y))),T.sort(((I,b)=>I.edge.x===b.edge.x?0:(I.edge.x-b.edge.x)/Math.abs(I.edge.x-b.edge.x))),(u!==1||R%A==0)&&T.length>1)for(let I=0;I<T.length;I+=2){const b=I+1;if(b>=T.length)break;const B=T[I].edge,w=T[b].edge;p.push([[Math.round(B.x),y],[Math.round(w.x),y]])}y+=u,T.forEach((I=>{I.edge.x=I.edge.x+u*I.edge.islope})),R++}return p})(o,s,r);if(i){for(const c of o)yk(c,a,-i);(function(c,A,u){const h=[];c.forEach((p=>h.push(...p))),yk(h,A,u)})(l,a,-i)}return l}function WR(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),Wtt(t,i,r,s||1)}class BG{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=WR(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function QL(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class Ytt extends BG{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=WR(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,o=[],a=.5*r*Math.cos(s),l=.5*r*Math.sin(s);for(const[c,A]of i)QL([c,A])&&o.push([[c[0]-a,c[1]+l],[...A]],[[c[0]+a,c[1]-l],[...A]]);return{type:"fillSketch",ops:this.renderLines(o,n)}}}class jtt extends BG{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}class Ktt{constructor(e){this.helper=e}fillPolygons(e,n){const r=WR(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const o=i/4;for(const a of e){const l=QL(a),c=l/i,A=Math.ceil(c)-1,u=l-A*i,h=(a[0][0]+a[1][0])/2-i/4,p=Math.min(a[0][1],a[1][1]);for(let E=0;E<A;E++){const T=p+u+E*i,y=h-o+2*Math.random()*o,R=T-o+2*Math.random()*o,I=this.helper.ellipse(y,R,s,s,n);r.push(...I.ops)}}return{type:"fillSketch",ops:r}}}class ztt{constructor(e){this.helper=e}fillPolygons(e,n){const r=WR(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach((o=>{const a=QL(o),l=Math.floor(a/(r+i)),c=(a+i-l*(r+i))/2;let A=o[0],u=o[1];A[0]>u[0]&&(A=o[1],u=o[0]);const h=Math.atan((u[1]-A[1])/(u[0]-A[0]));for(let p=0;p<l;p++){const E=p*(r+i),T=E+r,y=[A[0]+E*Math.cos(h)+c*Math.cos(h),A[1]+E*Math.sin(h)+c*Math.sin(h)],R=[A[0]+T*Math.cos(h)+c*Math.cos(h),A[1]+T*Math.sin(h)+c*Math.sin(h)];s.push(...this.helper.doubleLineOps(y[0],y[1],R[0],R[1],n))}})),s}}class qtt{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,s=WR(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach((s=>{const o=QL(s),a=Math.round(o/(2*n));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const A=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let u=0;u<a;u++){const h=2*u*n,p=2*(u+1)*n,E=Math.sqrt(2*Math.pow(n,2)),T=[l[0]+h*Math.cos(A),l[1]+h*Math.sin(A)],y=[l[0]+p*Math.cos(A),l[1]+p*Math.sin(A)],R=[T[0]+E*Math.cos(A+Math.PI/4),T[1]+E*Math.sin(A+Math.PI/4)];i.push(...this.helper.doubleLineOps(T[0],T[1],R[0],R[1],r),...this.helper.doubleLineOps(R[0],R[1],y[0],y[1],r))}})),i}}const Pa={};class Xtt{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Jtt=0,Ck=1,S6=2,GN={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function xk(t,e){return t.type===e}function DG(t){const e=[],n=(function(o){const a=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:Jtt,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:Ck,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return a[a.length]={type:S6,text:""},a})(t);let r="BOD",i=0,s=n[i];for(;!xk(s,S6);){let o=0;const a=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return DG("M0,0"+t);i++,o=GN[s.text],r=s.text}else xk(s,Ck)?o=GN[r]:(i++,o=GN[s.text],r=s.text);if(!(i+o<n.length))throw new Error("Path data ended short");for(let l=i;l<i+o;l++){const c=n[l];if(!xk(c,Ck))throw new Error("Param not a number: "+r+","+c.text);a[a.length]=+c.text}if(typeof GN[r]!="number")throw new Error("Bad segment: "+r);{const l={key:r,data:a};e.push(l),i+=o,s=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function qse(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:o,data:a}of t)switch(o){case"M":s.push({key:"M",data:[...a]}),[e,n]=a,[r,i]=a;break;case"m":e+=a[0],n+=a[1],s.push({key:"M",data:[e,n]}),r=e,i=n;break;case"L":s.push({key:"L",data:[...a]}),[e,n]=a;break;case"l":e+=a[0],n+=a[1],s.push({key:"L",data:[e,n]});break;case"C":s.push({key:"C",data:[...a]}),e=a[4],n=a[5];break;case"c":{const l=a.map(((c,A)=>A%2?c+n:c+e));s.push({key:"C",data:l}),e=l[4],n=l[5];break}case"Q":s.push({key:"Q",data:[...a]}),e=a[2],n=a[3];break;case"q":{const l=a.map(((c,A)=>A%2?c+n:c+e));s.push({key:"Q",data:l}),e=l[2],n=l[3];break}case"A":s.push({key:"A",data:[...a]}),e=a[5],n=a[6];break;case"a":e+=a[5],n+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,n]});break;case"H":s.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...a]}),e=a[2],n=a[3];break;case"s":{const l=a.map(((c,A)=>A%2?c+n:c+e));s.push({key:"S",data:l}),e=l[2],n=l[3];break}case"T":s.push({key:"T",data:[...a]}),e=a[0],n=a[1];break;case"t":e+=a[0],n+=a[1],s.push({key:"T",data:[e,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=r,n=i}return s}function Xse(t){const e=[];let n="",r=0,i=0,s=0,o=0,a=0,l=0;for(const{key:c,data:A}of t){switch(c){case"M":e.push({key:"M",data:[...A]}),[r,i]=A,[s,o]=A;break;case"C":e.push({key:"C",data:[...A]}),r=A[4],i=A[5],a=A[2],l=A[3];break;case"L":e.push({key:"L",data:[...A]}),[r,i]=A;break;case"H":r=A[0],e.push({key:"L",data:[r,i]});break;case"V":i=A[0],e.push({key:"L",data:[r,i]});break;case"S":{let u=0,h=0;n==="C"||n==="S"?(u=r+(r-a),h=i+(i-l)):(u=r,h=i),e.push({key:"C",data:[u,h,...A]}),a=A[0],l=A[1],r=A[2],i=A[3];break}case"T":{const[u,h]=A;let p=0,E=0;n==="Q"||n==="T"?(p=r+(r-a),E=i+(i-l)):(p=r,E=i);const T=r+2*(p-r)/3,y=i+2*(E-i)/3,R=u+2*(p-u)/3,I=h+2*(E-h)/3;e.push({key:"C",data:[T,y,R,I,u,h]}),a=p,l=E,r=u,i=h;break}case"Q":{const[u,h,p,E]=A,T=r+2*(u-r)/3,y=i+2*(h-i)/3,R=p+2*(u-p)/3,I=E+2*(h-E)/3;e.push({key:"C",data:[T,y,R,I,p,E]}),a=u,l=h,r=p,i=E;break}case"A":{const u=Math.abs(A[0]),h=Math.abs(A[1]),p=A[2],E=A[3],T=A[4],y=A[5],R=A[6];u===0||h===0?(e.push({key:"C",data:[r,i,y,R,y,R]}),r=y,i=R):(r!==y||i!==R)&&(Jse(r,i,y,R,u,h,p,E,T).forEach((function(I){e.push({key:"C",data:I})})),r=y,i=R);break}case"Z":e.push({key:"Z",data:[]}),r=s,i=o}n=c}return e}function sC(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function Jse(t,e,n,r,i,s,o,a,l,c){const A=(u=o,Math.PI*u/180);var u;let h=[],p=0,E=0,T=0,y=0;if(c)[p,E,T,y]=c;else{[t,e]=sC(t,e,-A),[n,r]=sC(n,r,-A);const j=(t-n)/2,V=(e-r)/2;let $=j*j/(i*i)+V*V/(s*s);$>1&&($=Math.sqrt($),i*=$,s*=$);const J=i*i,te=s*s,X=J*te-J*V*V-te*j*j,oe=J*V*V+te*j*j,F=(a===l?-1:1)*Math.sqrt(Math.abs(X/oe));T=F*i*V/s+(t+n)/2,y=F*-s*j/i+(e+r)/2,p=Math.asin(parseFloat(((e-y)/s).toFixed(9))),E=Math.asin(parseFloat(((r-y)/s).toFixed(9))),t<T&&(p=Math.PI-p),n<T&&(E=Math.PI-E),p<0&&(p=2*Math.PI+p),E<0&&(E=2*Math.PI+E),l&&p>E&&(p-=2*Math.PI),!l&&E>p&&(E-=2*Math.PI)}let R=E-p;if(Math.abs(R)>120*Math.PI/180){const j=E,V=n,$=r;E=l&&E>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,h=Jse(n=T+i*Math.cos(E),r=y+s*Math.sin(E),V,$,i,s,o,0,l,[E,j,T,y])}R=E-p;const I=Math.cos(p),b=Math.sin(p),B=Math.cos(E),w=Math.sin(E),O=Math.tan(R/4),L=4/3*i*O,U=4/3*s*O,G=[t,e],Q=[t+L*b,e-U*I],Y=[n+L*w,r-U*B],K=[n,r];if(Q[0]=2*G[0]-Q[0],Q[1]=2*G[1]-Q[1],c)return[Q,Y,K].concat(h);{h=[Q,Y,K].concat(h);const j=[];for(let V=0;V<h.length;V+=3){const $=sC(h[V][0],h[V][1],A),J=sC(h[V+1][0],h[V+1][1],A),te=sC(h[V+2][0],h[V+2][1],A);j.push([$[0],$[1],J[0],J[1],te[0],te[1]])}return j}}const Ztt={randOffset:function(t,e){return Ln(t,e)},randOffsetWithRange:function(t,e,n){return Aw(t,e,n)},ellipse:function(t,e,n,r,i){const s=eoe(n,r,i);return QU(t,e,i,s).opset},doubleLineOps:function(t,e,n,r,i){return Kf(t,e,n,r,i,!0)}};function Zse(t,e,n,r,i){return{type:"path",ops:Kf(t,e,n,r,i)}}function Qb(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...Kf(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...Kf(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return r===2?Zse(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function ent(t,e,n,r,i){return(function(s,o){return Qb(s,!0,o)})([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function y6(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=QN(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:QN(n[0],1.5*(1+.22*e.roughness),R6(e));for(let s=1;s<n.length;s++){const o=n[s];if(o.length){const a=QN(o,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:QN(o,1.5*(1+.22*e.roughness),R6(e));for(const c of a)c.op!=="move"&&r.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function eoe(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/i;let o=Math.abs(t/2),a=Math.abs(e/2);const l=1-n.curveFitting;return o+=Ln(o*l,n),a+=Ln(a*l,n),{increment:s,rx:o,ry:a}}function QU(t,e,n,r){const[i,s]=I6(r.increment,t,e,r.rx,r.ry,1,r.increment*Aw(.1,Aw(.4,1,n),n),n);let o=uw(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[a]=I6(r.increment,t,e,r.rx,r.ry,1.5,0,n),l=uw(a,null,n);o=o.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function C6(t,e,n,r,i,s,o,a,l){const c=t,A=e;let u=Math.abs(n/2),h=Math.abs(r/2);u+=Ln(.01*u,l),h+=Ln(.01*h,l);let p=i,E=s;for(;p<0;)p+=2*Math.PI,E+=2*Math.PI;E-p>2*Math.PI&&(p=0,E=2*Math.PI);const T=2*Math.PI/l.curveStepCount,y=Math.min(T/2,(E-p)/2),R=_6(y,c,A,u,h,p,E,1,l);if(!l.disableMultiStroke){const I=_6(y,c,A,u,h,p,E,1.5,l);R.push(...I)}return o&&(a?R.push(...Kf(c,A,c+u*Math.cos(p),A+h*Math.sin(p),l),...Kf(c,A,c+u*Math.cos(E),A+h*Math.sin(E),l)):R.push({op:"lineTo",data:[c,A]},{op:"lineTo",data:[c+u*Math.cos(p),A+h*Math.sin(p)]})),{type:"path",ops:R}}function x6(t,e){const n=Xse(qse(DG(t))),r=[];let i=[0,0],s=[0,0];for(const{key:o,data:a}of n)switch(o){case"M":s=[a[0],a[1]],i=[a[0],a[1]];break;case"L":r.push(...Kf(s[0],s[1],a[0],a[1],e)),s=[a[0],a[1]];break;case"C":{const[l,c,A,u,h,p]=a;r.push(...tnt(l,c,A,u,h,p,s,e)),s=[h,p];break}case"Z":r.push(...Kf(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:r}}function Rk(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:"move",data:[r[0][0]+Ln(i,e),r[0][1]+Ln(i,e)]});for(let o=1;o<s;o++)n.push({op:"lineTo",data:[r[o][0]+Ln(i,e),r[o][1]+Ln(i,e)]})}}return{type:"fillPath",ops:n}}function ZE(t,e){return(function(n,r){let i=n.fillStyle||"hachure";if(!Pa[i])switch(i){case"zigzag":Pa[i]||(Pa[i]=new Ytt(r));break;case"cross-hatch":Pa[i]||(Pa[i]=new jtt(r));break;case"dots":Pa[i]||(Pa[i]=new Ktt(r));break;case"dashed":Pa[i]||(Pa[i]=new ztt(r));break;case"zigzag-line":Pa[i]||(Pa[i]=new qtt(r));break;default:i="hachure",Pa[i]||(Pa[i]=new BG(r))}return Pa[i]})(e,Ztt).fillPolygons(t,e)}function R6(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function toe(t){return t.randomizer||(t.randomizer=new Xtt(t.seed||0)),t.randomizer.next()}function Aw(t,e,n,r=1){return n.roughness*r*(toe(n)*(e-t)+t)}function Ln(t,e,n=1){return Aw(-t,t,e,n)}function Kf(t,e,n,r,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,a=VU(t,e,n,r,i,!0,!1);if(o)return a;const l=VU(t,e,n,r,i,!0,!0);return a.concat(l)}function VU(t,e,n,r,i,s,o){const a=Math.pow(t-n,2)+Math.pow(e-r,2),l=Math.sqrt(a);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let A=i.maxRandomnessOffset||0;A*A*100>a&&(A=l/10);const u=A/2,h=.2+.2*toe(i);let p=i.bowing*i.maxRandomnessOffset*(r-e)/200,E=i.bowing*i.maxRandomnessOffset*(t-n)/200;p=Ln(p,i,c),E=Ln(E,i,c);const T=[],y=()=>Ln(u,i,c),R=()=>Ln(A,i,c),I=i.preserveVertices;return o?T.push({op:"move",data:[t+(I?0:y()),e+(I?0:y())]}):T.push({op:"move",data:[t+(I?0:Ln(A,i,c)),e+(I?0:Ln(A,i,c))]}),o?T.push({op:"bcurveTo",data:[p+t+(n-t)*h+y(),E+e+(r-e)*h+y(),p+t+2*(n-t)*h+y(),E+e+2*(r-e)*h+y(),n+(I?0:y()),r+(I?0:y())]}):T.push({op:"bcurveTo",data:[p+t+(n-t)*h+R(),E+e+(r-e)*h+R(),p+t+2*(n-t)*h+R(),E+e+2*(r-e)*h+R(),n+(I?0:R()),r+(I?0:R())]}),T}function QN(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+Ln(e,n),t[0][1]+Ln(e,n)]),r.push([t[0][0]+Ln(e,n),t[0][1]+Ln(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+Ln(e,n),t[i][1]+Ln(e,n)]),i===t.length-1&&r.push([t[i][0]+Ln(e,n),t[i][1]+Ln(e,n)]);return uw(r,null,n)}function uw(t,e,n){const r=t.length,i=[];if(r>3){const s=[],o=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let a=1;a+2<r;a++){const l=t[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*t[a+1][0]-o*t[a-1][0])/6,l[1]+(o*t[a+1][1]-o*t[a-1][1])/6],s[2]=[t[a+1][0]+(o*t[a][0]-o*t[a+2][0])/6,t[a+1][1]+(o*t[a][1]-o*t[a+2][1])/6],s[3]=[t[a+1][0],t[a+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...VU(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function I6(t,e,n,r,i,s,o,a){const l=[],c=[];if(a.roughness===0){t/=4,c.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let A=0;A<=2*Math.PI;A+=t){const u=[e+r*Math.cos(A),n+i*Math.sin(A)];l.push(u),c.push(u)}c.push([e+r*Math.cos(0),n+i*Math.sin(0)]),c.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const A=Ln(.5,a)-Math.PI/2;c.push([Ln(s,a)+e+.9*r*Math.cos(A-t),Ln(s,a)+n+.9*i*Math.sin(A-t)]);const u=2*Math.PI+A-.01;for(let h=A;h<u;h+=t){const p=[Ln(s,a)+e+r*Math.cos(h),Ln(s,a)+n+i*Math.sin(h)];l.push(p),c.push(p)}c.push([Ln(s,a)+e+r*Math.cos(A+2*Math.PI+.5*o),Ln(s,a)+n+i*Math.sin(A+2*Math.PI+.5*o)]),c.push([Ln(s,a)+e+.98*r*Math.cos(A+o),Ln(s,a)+n+.98*i*Math.sin(A+o)]),c.push([Ln(s,a)+e+.9*r*Math.cos(A+.5*o),Ln(s,a)+n+.9*i*Math.sin(A+.5*o)])}return[c,l]}function _6(t,e,n,r,i,s,o,a,l){const c=s+Ln(.1,l),A=[];A.push([Ln(a,l)+e+.9*r*Math.cos(c-t),Ln(a,l)+n+.9*i*Math.sin(c-t)]);for(let u=c;u<=o;u+=t)A.push([Ln(a,l)+e+r*Math.cos(u),Ln(a,l)+n+i*Math.sin(u)]);return A.push([e+r*Math.cos(o),n+i*Math.sin(o)]),A.push([e+r*Math.cos(o),n+i*Math.sin(o)]),uw(A,null,l)}function tnt(t,e,n,r,i,s,o,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let A=[0,0];const u=a.disableMultiStroke?1:2,h=a.preserveVertices;for(let p=0;p<u;p++)p===0?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(h?0:Ln(c[0],a)),o[1]+(h?0:Ln(c[0],a))]}),A=h?[i,s]:[i+Ln(c[p],a),s+Ln(c[p],a)],l.push({op:"bcurveTo",data:[t+Ln(c[p],a),e+Ln(c[p],a),n+Ln(c[p],a),r+Ln(c[p],a),A[0],A[1]]});return l}function oC(t){return[...t]}function N6(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(oC(t[0]),oC(t[1]),oC(t[2]),oC(t[2]));else{const i=[];i.push(t[0],t[0]);for(let a=1;a<t.length;a++)i.push(t[a]),a===t.length-1&&i.push(t[a]);const s=[],o=1-e;r.push(oC(i[0]));for(let a=1;a+2<i.length;a++){const l=i[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*i[a+1][0]-o*i[a-1][0])/6,l[1]+(o*i[a+1][1]-o*i[a-1][1])/6],s[2]=[i[a+1][0]+(o*i[a][0]-o*i[a+2][0])/6,i[a+1][1]+(o*i[a][1]-o*i[a+2][1])/6],s[3]=[i[a+1][0],i[a+1][1]],r.push(s[1],s[2],s[3])}}return r}function Vb(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function nnt(t,e,n){const r=Vb(e,n);if(r===0)return Vb(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),Vb(t,pm(e,n,i))}function pm(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function $U(t,e,n,r){const i=r||[];if((function(a,l){const c=a[l+0],A=a[l+1],u=a[l+2],h=a[l+3];let p=3*A[0]-2*c[0]-h[0];p*=p;let E=3*A[1]-2*c[1]-h[1];E*=E;let T=3*u[0]-2*h[0]-c[0];T*=T;let y=3*u[1]-2*h[1]-c[1];return y*=y,p<T&&(p=T),E<y&&(E=y),p+E})(t,e)<n){const a=t[e+0];i.length?(s=i[i.length-1],o=a,Math.sqrt(Vb(s,o))>1&&i.push(a)):i.push(a),i.push(t[e+3])}else{const l=t[e+0],c=t[e+1],A=t[e+2],u=t[e+3],h=pm(l,c,.5),p=pm(c,A,.5),E=pm(A,u,.5),T=pm(h,p,.5),y=pm(p,E,.5),R=pm(T,y,.5);$U([l,h,T,R],0,n,i),$U([R,y,E,u],0,n,i)}var s,o;return i}function rnt(t,e){return hw(t,0,t.length,e)}function hw(t,e,n,r,i){const s=i||[],o=t[e],a=t[n-1];let l=0,c=1;for(let A=e+1;A<n-1;++A){const u=nnt(t[A],o,a);u>l&&(l=u,c=A)}return Math.sqrt(l)>r?(hw(t,e,c+1,r,s),hw(t,c,n,r,s)):(s.length||s.push(o),s.push(a)),s}function Ik(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++)$U(t,3*s,e,r);return n&&n>0?hw(r,0,r.length,n):r}const yl="none";class dw{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const o=this._o(s);return this._d("line",[Zse(e,n,r,i,o)],o)}rectangle(e,n,r,i,s){const o=this._o(s),a=[],l=ent(e,n,r,i,o);if(o.fill){const c=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];o.fillStyle==="solid"?a.push(Rk([c],o)):a.push(ZE([c],o))}return o.stroke!==yl&&a.push(l),this._d("rectangle",a,o)}ellipse(e,n,r,i,s){const o=this._o(s),a=[],l=eoe(r,i,o),c=QU(e,n,o,l);if(o.fill)if(o.fillStyle==="solid"){const A=QU(e,n,o,l).opset;A.type="fillPath",a.push(A)}else a.push(ZE([c.estimatedPoints],o));return o.stroke!==yl&&a.push(c.opset),this._d("ellipse",a,o)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape="circle",s}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[Qb(e,!1,r)],r)}arc(e,n,r,i,s,o,a=!1,l){const c=this._o(l),A=[],u=C6(e,n,r,i,s,o,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const h=Object.assign({},c);h.disableMultiStroke=!0;const p=C6(e,n,r,i,s,o,!0,!1,h);p.type="fillPath",A.push(p)}else A.push((function(h,p,E,T,y,R,I){const b=h,B=p;let w=Math.abs(E/2),O=Math.abs(T/2);w+=Ln(.01*w,I),O+=Ln(.01*O,I);let L=y,U=R;for(;L<0;)L+=2*Math.PI,U+=2*Math.PI;U-L>2*Math.PI&&(L=0,U=2*Math.PI);const G=(U-L)/I.curveStepCount,Q=[];for(let Y=L;Y<=U;Y+=G)Q.push([b+w*Math.cos(Y),B+O*Math.sin(Y)]);return Q.push([b+w*Math.cos(U),B+O*Math.sin(U)]),Q.push([b,B]),ZE([Q],I)})(e,n,r,i,s,o,c));return c.stroke!==yl&&A.push(u),this._d("arc",A,c)}curve(e,n){const r=this._o(n),i=[],s=y6(e,r);if(r.fill&&r.fill!==yl)if(r.fillStyle==="solid"){const o=y6(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],a=e;if(a.length){const l=typeof a[0][0]=="number"?[a]:a;for(const c of l)c.length<3?o.push(...c):c.length===3?o.push(...Ik(N6([c[0],c[0],c[1],c[2]]),10,(1+r.roughness)/2)):o.push(...Ik(N6(c),10,(1+r.roughness)/2))}o.length&&i.push(ZE([o],r))}return r.stroke!==yl&&i.push(s),this._d("curve",i,r)}polygon(e,n){const r=this._o(n),i=[],s=Qb(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(Rk([e],r)):i.push(ZE([e],r))),r.stroke!==yl&&i.push(s),this._d("polygon",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==yl,o=r.stroke!==yl,a=!!(r.simplification&&r.simplification<1),l=(function(A,u,h){const p=Xse(qse(DG(A))),E=[];let T=[],y=[0,0],R=[];const I=()=>{R.length>=4&&T.push(...Ik(R,u)),R=[]},b=()=>{I(),T.length&&(E.push(T),T=[])};for(const{key:w,data:O}of p)switch(w){case"M":b(),y=[O[0],O[1]],T.push(y);break;case"L":I(),T.push([O[0],O[1]]);break;case"C":if(!R.length){const L=T.length?T[T.length-1]:y;R.push([L[0],L[1]])}R.push([O[0],O[1]]),R.push([O[2],O[3]]),R.push([O[4],O[5]]);break;case"Z":I(),T.push([y[0],y[1]])}if(b(),!h)return E;const B=[];for(const w of E){const O=rnt(w,h);O.length&&B.push(O)}return B})(e,1,a?4-4*(r.simplification||1):(1+r.roughness)/2),c=x6(e,r);if(s)if(r.fillStyle==="solid")if(l.length===1){const A=x6(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(A.ops)})}else i.push(Rk(l,r));else i.push(ZE(l,r));return o&&(a?l.forEach((A=>{i.push(Qb(A,!1,r))})):i.push(c)),this._d("path",i,r)}opsToPath(e,n){let r="";for(const i of e.ops){const s=typeof n=="number"&&n>=0?i.data.map((o=>+o.toFixed(n))):i.data;switch(i.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:yl};break;case"fillPath":o={d:this.opsToPath(s),stroke:yl,strokeWidth:0,fill:r.fill||yl};break;case"fillSketch":o=this.fillSketch(s,r)}o&&i.push(o)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||yl,strokeWidth:r,fill:yl}}_mergedShape(e){return e.filter(((n,r)=>r===0||n.op!=="move"))}}class int{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new dw(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const o of n)switch(o.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const a=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,a),i.restore();break}case"fillSketch":this.fillSketch(i,o,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i="nonzero"){e.beginPath();for(const s of n.ops){const o=typeof r=="number"&&r>=0?s.data.map((a=>+a.toFixed(r))):s.data;switch(s.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}n.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o),o}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o),o}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o),o}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,o,a=!1,l){const c=this.gen.arc(e,n,r,i,s,o,a,l);return this.draw(c),c}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const VN="http://www.w3.org/2000/svg";class snt{constructor(e,n){this.svg=e,this.gen=new dw(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(VN,"g"),o=e.options.fixedDecimalPlaceDigits;for(const a of n){let l=null;switch(a.type){case"path":l=i.createElementNS(VN,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke",r.stroke),l.setAttribute("stroke-width",r.strokeWidth+""),l.setAttribute("fill","none"),r.strokeLineDash&&l.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(VN,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,a,r)}l&&s.appendChild(l)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(VN,"path");return s.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o)}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o)}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,o,a=!1,l){const c=this.gen.arc(e,n,r,i,s,o,a,l);return this.draw(c)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}var Qt={canvas:(t,e)=>new int(t,e),svg:(t,e)=>new snt(t,e),generator:t=>new dw(t),newSeed:()=>dw.newSeed()},yn=P(async(t,e,n)=>{var u,h;let r;const i=e.useHtmlLabels||Fs((u=jr())==null?void 0:u.htmlLabels);n?r=n:r="node default";const s=t.insert("g").attr("class",r).attr("id",e.domId||e.id),o=s.insert("g").attr("class","label").attr("style",Wo(e.labelStyle));let a;e.label===void 0?a="":a=typeof e.label=="string"?e.label:e.label[0];const l=await rp(o,_c(gg(a),jr()),{useHtmlLabels:i,width:e.width||((h=jr().flowchart)==null?void 0:h.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let c=l.getBBox();const A=((e==null?void 0:e.padding)??0)/2;if(i){const p=l.children[0],E=Or(l),T=p.getElementsByTagName("img");if(T){const y=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...T].map(R=>new Promise(I=>{function b(){if(R.style.display="flex",R.style.flexDirection="column",y){const B=jr().fontSize?jr().fontSize:window.getComputedStyle(document.body).fontSize,w=5,[O=pne.fontSize]=PL(B),L=O*w+"px";R.style.minWidth=L,R.style.maxWidth=L}else R.style.width="100%";I(R)}P(b,"setupImage"),setTimeout(()=>{R.complete&&b()}),R.addEventListener("error",b),R.addEventListener("load",b)})))}c=p.getBoundingClientRect(),E.attr("width",c.width),E.attr("height",c.height)}return i?o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):o.attr("transform","translate(0, "+-c.height/2+")"),e.centerLabel&&o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:s,bbox:c,halfPadding:A,label:o}},"labelHelper"),_k=P(async(t,e,n)=>{var l,c,A,u,h,p;const r=n.useHtmlLabels||Fs((c=(l=jr())==null?void 0:l.flowchart)==null?void 0:c.htmlLabels),i=t.insert("g").attr("class","label").attr("style",n.labelStyle||""),s=await rp(i,_c(gg(e),jr()),{useHtmlLabels:r,width:n.width||((u=(A=jr())==null?void 0:A.flowchart)==null?void 0:u.wrappingWidth),style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let o=s.getBBox();const a=n.padding/2;if(Fs((p=(h=jr())==null?void 0:h.flowchart)==null?void 0:p.htmlLabels)){const E=s.children[0],T=Or(s);o=E.getBoundingClientRect(),T.attr("width",o.width),T.attr("height",o.height)}return r?i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):i.attr("transform","translate(0, "+-o.height/2+")"),n.centerLabel&&i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:o,halfPadding:a,label:i}},"insertLabel"),Kt=P((t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height},"updateNodeBounds"),fn=P((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function pr(t){const e=t.map((n,r)=>`${r===0?"M":"L"}${n.x},${n.y}`);return e.push("Z"),e.join(" ")}P(pr,"createPathFromPoints");function zf(t,e,n,r,i,s){const o=[],l=n-t,c=r-e,A=l/s,u=2*Math.PI/A,h=e+c/2;for(let p=0;p<=50;p++){const E=p/50,T=t+E*l,y=h+i*Math.sin(u*(T-t));o.push({x:T,y})}return o}P(zf,"generateFullSineWavePoints");function uR(t,e,n,r,i,s){const o=[],a=i*Math.PI/180,A=(s*Math.PI/180-a)/(r-1);for(let u=0;u<r;u++){const h=a+u*A,p=t+n*Math.cos(h),E=e+n*Math.sin(h);o.push({x:-p,y:-E})}return o}P(uR,"generateCirclePoints");var ont=P((t,e)=>{var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,a=t.height/2,l,c;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=s===0?0:a*i/s,c=a):(i<0&&(o=-o),l=o,c=i===0?0:o*s/i),{x:n+l,y:r+c}},"intersectRect"),ty=ont;function noe(t,e){e&&t.attr("style",e)}P(noe,"applyStyle");async function roe(t){const e=Or(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=jr();let i=t.label;t.label&&NS(t.label)&&(i=await GH(t.label.replace(XS.lineBreakRegex,`
`),r));const o='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>";return n.html(_c(o,r)),noe(n,t.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}P(roe,"addHtmlLabel");var ant=P(async(t,e,n,r)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Fs(jr().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),$e.info("vertexText"+i);const s={isNode:r,label:gg(i).replace(/fa[blrs]?:fa-[\w-]+/g,a=>`<i class='${a.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await roe(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(const a of o){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),n?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=a.trim(),s.appendChild(l)}return s}},"createLabel"),Lm=ant,ip=P((t,e,n,r,i)=>["M",t+i,e,"H",t+n-i,"A",i,i,0,0,1,t+n,e+i,"V",e+r-i,"A",i,i,0,0,1,t+n-i,e+r,"H",t+i,"A",i,i,0,0,1,t,e+r-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),ioe=P(async(t,e)=>{$e.info("Creating subgraph rect for ",e.id,e);const n=jr(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:o}=r,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:A}=$t(e),u=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),h=Fs(n.flowchart.htmlLabels),p=u.insert("g").attr("class","cluster-label "),E=await rp(p,e.label,{style:e.labelStyle,useHtmlLabels:h,isNode:!0});let T=E.getBBox();if(Fs(n.flowchart.htmlLabels)){const L=E.children[0],U=Or(E);T=L.getBoundingClientRect(),U.attr("width",T.width),U.attr("height",T.height)}const y=e.width<=T.width+e.padding?T.width+e.padding:e.width;e.width<=T.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const R=e.height,I=e.x-y/2,b=e.y-R/2;$e.trace("Data ",e,JSON.stringify(e));let B;if(e.look==="handDrawn"){const L=Qt.svg(u),U=Vt(e,{roughness:.7,fill:s,stroke:o,fillWeight:3,seed:i}),G=L.path(ip(I,b,y,R,0),U);B=u.insert(()=>($e.debug("Rough node insert CXC",G),G),":first-child"),B.select("path:nth-child(2)").attr("style",c.join(";")),B.select("path").attr("style",A.join(";").replace("fill","stroke"))}else B=u.insert("rect",":first-child"),B.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",I).attr("y",b).attr("width",y).attr("height",R);const{subGraphTitleTopMargin:w}=hG(n);if(p.attr("transform",`translate(${e.x-T.width/2}, ${e.y-e.height/2+w})`),a){const L=p.select("span");L&&L.attr("style",a)}const O=B.node().getBBox();return e.offsetX=0,e.width=O.width,e.height=O.height,e.offsetY=T.height-e.padding/2,e.intersect=function(L){return ty(e,L)},{cluster:u,labelBBox:T}},"rect"),lnt=P((t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,s=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const o=r.node().getBBox();return e.width=o.width,e.height=o.height,e.intersect=function(a){return ty(e,a)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),cnt=P(async(t,e)=>{const n=jr(),{themeVariables:r,handDrawnSeed:i}=n,{altBackground:s,compositeBackground:o,compositeTitleBackground:a,nodeBorder:l}=r,c=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),A=c.insert("g",":first-child"),u=c.insert("g").attr("class","cluster-label");let h=c.append("rect");const p=u.node().appendChild(await Lm(e.label,e.labelStyle,void 0,!0));let E=p.getBBox();if(Fs(n.flowchart.htmlLabels)){const G=p.children[0],Q=Or(p);E=G.getBoundingClientRect(),Q.attr("width",E.width),Q.attr("height",E.height)}const T=0*e.padding,y=T/2,R=(e.width<=E.width+e.padding?E.width+e.padding:e.width)+T;e.width<=E.width+e.padding?e.diff=(R-e.width)/2-e.padding:e.diff=-e.padding;const I=e.height+T,b=e.height+T-E.height-6,B=e.x-R/2,w=e.y-I/2;e.width=R;const O=e.y-e.height/2-y+E.height+2;let L;if(e.look==="handDrawn"){const G=e.cssClasses.includes("statediagram-cluster-alt"),Q=Qt.svg(c),Y=e.rx||e.ry?Q.path(ip(B,w,R,I,10),{roughness:.7,fill:a,fillStyle:"solid",stroke:l,seed:i}):Q.rectangle(B,w,R,I,{seed:i});L=c.insert(()=>Y,":first-child");const K=Q.rectangle(B,O,R,b,{fill:G?s:o,fillStyle:G?"hachure":"solid",stroke:l,seed:i});L=c.insert(()=>Y,":first-child"),h=c.insert(()=>K)}else L=A.insert("rect",":first-child"),L.attr("class","outer").attr("x",B).attr("y",w).attr("width",R).attr("height",I).attr("data-look",e.look),h.attr("class","inner").attr("x",B).attr("y",O).attr("width",R).attr("height",b);u.attr("transform",`translate(${e.x-E.width/2}, ${w+1-(Fs(n.flowchart.htmlLabels)?0:3)})`);const U=L.node().getBBox();return e.height=U.height,e.offsetX=0,e.offsetY=E.height-e.padding/2,e.labelBBox=E,e.intersect=function(G){return ty(e,G)},{cluster:c,labelBBox:E}},"roundedWithTitle"),Ant=P(async(t,e)=>{$e.info("Creating subgraph rect for ",e.id,e);const n=jr(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:o}=r,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:A}=$t(e),u=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),h=Fs(n.flowchart.htmlLabels),p=u.insert("g").attr("class","cluster-label "),E=await rp(p,e.label,{style:e.labelStyle,useHtmlLabels:h,isNode:!0,width:e.width});let T=E.getBBox();if(Fs(n.flowchart.htmlLabels)){const L=E.children[0],U=Or(E);T=L.getBoundingClientRect(),U.attr("width",T.width),U.attr("height",T.height)}const y=e.width<=T.width+e.padding?T.width+e.padding:e.width;e.width<=T.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const R=e.height,I=e.x-y/2,b=e.y-R/2;$e.trace("Data ",e,JSON.stringify(e));let B;if(e.look==="handDrawn"){const L=Qt.svg(u),U=Vt(e,{roughness:.7,fill:s,stroke:o,fillWeight:4,seed:i}),G=L.path(ip(I,b,y,R,e.rx),U);B=u.insert(()=>($e.debug("Rough node insert CXC",G),G),":first-child"),B.select("path:nth-child(2)").attr("style",c.join(";")),B.select("path").attr("style",A.join(";").replace("fill","stroke"))}else B=u.insert("rect",":first-child"),B.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",I).attr("y",b).attr("width",y).attr("height",R);const{subGraphTitleTopMargin:w}=hG(n);if(p.attr("transform",`translate(${e.x-T.width/2}, ${e.y-e.height/2+w})`),a){const L=p.select("span");L&&L.attr("style",a)}const O=B.node().getBBox();return e.offsetX=0,e.width=O.width,e.height=O.height,e.offsetY=T.height-e.padding/2,e.intersect=function(L){return ty(e,L)},{cluster:u,labelBBox:T}},"kanbanSection"),unt=P((t,e)=>{const n=jr(),{themeVariables:r,handDrawnSeed:i}=n,{nodeBorder:s}=r,o=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),a=o.insert("g",":first-child"),l=0*e.padding,c=e.width+l;e.diff=-e.padding;const A=e.height+l,u=e.x-c/2,h=e.y-A/2;e.width=c;let p;if(e.look==="handDrawn"){const y=Qt.svg(o).rectangle(u,h,c,A,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});p=o.insert(()=>y,":first-child")}else p=a.insert("rect",":first-child"),p.attr("class","divider").attr("x",u).attr("y",h).attr("width",c).attr("height",A).attr("data-look",e.look);const E=p.node().getBBox();return e.height=E.height,e.offsetX=0,e.offsetY=0,e.intersect=function(T){return ty(e,T)},{cluster:o,labelBBox:{}}},"divider"),hnt=ioe,dnt={rect:ioe,squareRect:hnt,roundedWithTitle:cnt,noteGroup:lnt,divider:unt,kanbanSection:Ant},soe=new Map,fnt=P(async(t,e)=>{const n=e.shape||"rect",r=await dnt[n](t,e);return soe.set(e.id,r),r},"insertCluster"),Nlt=P(()=>{soe=new Map},"clear");function ooe(t,e){return t.intersect(e)}P(ooe,"intersectNode");var pnt=ooe;function aoe(t,e,n,r){var i=t.x,s=t.y,o=i-r.x,a=s-r.y,l=Math.sqrt(e*e*a*a+n*n*o*o),c=Math.abs(e*n*o/l);r.x<i&&(c=-c);var A=Math.abs(e*n*a/l);return r.y<s&&(A=-A),{x:i+c,y:s+A}}P(aoe,"intersectEllipse");var loe=aoe;function coe(t,e,n){return loe(t,e,e,n)}P(coe,"intersectCircle");var mnt=coe;function Aoe(t,e,n,r){{const i=e.y-t.y,s=t.x-e.x,o=e.x*t.y-t.x*e.y,a=i*n.x+s*n.y+o,l=i*r.x+s*r.y+o,c=1e-6;if(a!==0&&l!==0&&WU(a,l))return;const A=r.y-n.y,u=n.x-r.x,h=r.x*n.y-n.x*r.y,p=A*t.x+u*t.y+h,E=A*e.x+u*e.y+h;if(Math.abs(p)<c&&Math.abs(E)<c&&WU(p,E))return;const T=i*u-A*s;if(T===0)return;const y=Math.abs(T/2);let R=s*h-u*o;const I=R<0?(R-y)/T:(R+y)/T;R=A*o-i*h;const b=R<0?(R-y)/T:(R+y)/T;return{x:I,y:b}}}P(Aoe,"intersectLine");function WU(t,e){return t*e>0}P(WU,"sameSign");var gnt=Aoe;function uoe(t,e,n){let r=t.x,i=t.y,s=[],o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(A){o=Math.min(o,A.x),a=Math.min(a,A.y)}):(o=Math.min(o,e.x),a=Math.min(a,e.y));let l=r-t.width/2-o,c=i-t.height/2-a;for(let A=0;A<e.length;A++){let u=e[A],h=e[A<e.length-1?A+1:0],p=gnt(t,n,{x:l+u.x,y:c+u.y},{x:l+h.x,y:c+h.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(A,u){let h=A.x-n.x,p=A.y-n.y,E=Math.sqrt(h*h+p*p),T=u.x-n.x,y=u.y-n.y,R=Math.sqrt(T*T+y*y);return E<R?-1:E===R?0:1}),s[0]):t}P(uoe,"intersectPolygon");var Ent=uoe,Nt={node:pnt,circle:mnt,ellipse:loe,polygon:Ent,rect:ty};function hoe(t,e){const{labelStyles:n}=$t(e);e.labelStyle=n;const r=fn(e);let i=r;r||(i="anchor");const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=1,{cssStyles:a}=e,l=Qt.svg(s),c=Vt(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(c.roughness=0);const A=l.circle(0,0,o*2,c),u=s.insert(()=>A,":first-child");return u.attr("class","anchor").attr("style",Wo(a)),Kt(e,u),e.intersect=function(h){return $e.info("Circle intersect",e,o,h),Nt.circle(e,o,h)},s}P(hoe,"anchor");function YU(t,e,n,r,i,s,o){const l=(t+n)/2,c=(e+r)/2,A=Math.atan2(r-e,n-t),u=(n-t)/2,h=(r-e)/2,p=u/i,E=h/s,T=Math.sqrt(p**2+E**2);if(T>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-T**2),R=l+y*s*Math.sin(A)*(o?-1:1),I=c-y*i*Math.cos(A)*(o?-1:1),b=Math.atan2((e-I)/s,(t-R)/i);let w=Math.atan2((r-I)/s,(n-R)/i)-b;o&&w<0&&(w+=2*Math.PI),!o&&w>0&&(w-=2*Math.PI);const O=[];for(let L=0;L<20;L++){const U=L/19,G=b+U*w,Q=R+i*Math.cos(G),Y=I+s*Math.sin(G);O.push({x:Q,y:Y})}return O}P(YU,"generateArcPoints");async function doe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=s.width+e.padding+20,a=s.height+e.padding,l=a/2,c=l/(2.5+a/50),{cssStyles:A}=e,u=[{x:o/2,y:-a/2},{x:-o/2,y:-a/2},...YU(-o/2,-a/2,-o/2,a/2,c,l,!1),{x:o/2,y:a/2},...YU(o/2,a/2,o/2,-a/2,c,l,!0)],h=Qt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const E=pr(u),T=h.path(E,p),y=i.insert(()=>T,":first-child");return y.attr("class","basic label-container"),A&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",A),r&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",r),y.attr("transform",`translate(${c/2}, 0)`),Kt(e,y),e.intersect=function(R){return Nt.polygon(e,u,R)},i}P(doe,"bowTieRect");function sp(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}P(sp,"insertPolygonShape");async function foe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=s.height+e.padding,a=12,l=s.width+e.padding+a,c=0,A=l,u=-o,h=0,p=[{x:c+a,y:u},{x:A,y:u},{x:A,y:h},{x:c,y:h},{x:c,y:u+a},{x:c+a,y:u}];let E;const{cssStyles:T}=e;if(e.look==="handDrawn"){const y=Qt.svg(i),R=Vt(e,{}),I=pr(p),b=y.path(I,R);E=i.insert(()=>b,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`),T&&E.attr("style",T)}else E=sp(i,l,o,p);return r&&E.attr("style",r),Kt(e,E),e.intersect=function(y){return Nt.polygon(e,p,y)},i}P(foe,"card");function poe(t,e){const{nodeStyles:n}=$t(e);e.label="";const r=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,s=Math.max(28,e.width??0),o=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],a=Qt.svg(r),l=Vt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=pr(o),A=a.path(c,l),u=r.insert(()=>A,":first-child");return i&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",i),n&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",n),e.width=28,e.height=28,e.intersect=function(h){return Nt.polygon(e,o,h)},r}P(poe,"choice");async function kG(t,e,n){const{labelStyles:r,nodeStyles:i}=$t(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,halfPadding:a}=await yn(t,e,fn(e)),l=(n==null?void 0:n.padding)??a,c=o.width/2+l;let A;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=Qt.svg(s),p=Vt(e,{}),E=h.circle(0,0,c*2,p);A=s.insert(()=>E,":first-child"),A.attr("class","basic label-container").attr("style",Wo(u))}else A=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);return Kt(e,A),e.calcIntersect=function(h,p){const E=h.width/2;return Nt.circle(h,E,p)},e.intersect=function(h){return $e.info("Circle intersect",e,c,h),Nt.circle(e,c,h)},s}P(kG,"circle");function moe(t){const e=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=t*2,i={x:r/2*e,y:r/2*n},s={x:-(r/2)*e,y:r/2*n},o={x:-(r/2)*e,y:-(r/2)*n},a={x:r/2*e,y:-(r/2)*n};return`M ${s.x},${s.y} L ${a.x},${a.y}
                   M ${i.x},${i.y} L ${o.x},${o.y}`}P(moe,"createLine");function goe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n,e.label="";const i=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),s=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:o}=e,a=Qt.svg(i),l=Vt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=a.circle(0,0,s*2,l),A=moe(s),u=a.path(A,l),h=i.insert(()=>c,":first-child");return h.insert(()=>u),o&&e.look!=="handDrawn"&&h.selectAll("path").attr("style",o),r&&e.look!=="handDrawn"&&h.selectAll("path").attr("style",r),Kt(e,h),e.intersect=function(p){return $e.info("crossedCircle intersect",e,{radius:s,point:p}),Nt.circle(e,s,p)},i}P(goe,"crossedCircle");function Nh(t,e,n,r=100,i=0,s=180){const o=[],a=i*Math.PI/180,A=(s*Math.PI/180-a)/(r-1);for(let u=0;u<r;u++){const h=a+u*A,p=t+n*Math.cos(h),E=e+n*Math.sin(h);o.push({x:-p,y:-E})}return o}P(Nh,"generateCirclePoints");async function Eoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:A}=e,u=[...Nh(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...Nh(a/2+c*2,-c,c,20,-180,-270),...Nh(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...Nh(a/2,l/2,c,20,0,90)],h=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...Nh(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...Nh(a/2+a*.1,-c,c,20,-180,-270),...Nh(a/2+a*.1,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...Nh(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2,y:l/2+c}],p=Qt.svg(i),E=Vt(e,{fill:"none"});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const y=pr(u).replace("Z",""),R=p.path(y,E),I=pr(h),b=p.path(I,{...E}),B=i.insert("g",":first-child");return B.insert(()=>b,":first-child").attr("stroke-opacity",0),B.insert(()=>R,":first-child"),B.attr("class","text"),A&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",A),r&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",r),B.attr("transform",`translate(${c}, 0)`),o.attr("transform",`translate(${-a/2+c-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Kt(e,B),e.intersect=function(w){return Nt.polygon(e,h,w)},i}P(Eoe,"curlyBraceLeft");function bh(t,e,n,r=100,i=0,s=180){const o=[],a=i*Math.PI/180,A=(s*Math.PI/180-a)/(r-1);for(let u=0;u<r;u++){const h=a+u*A,p=t+n*Math.cos(h),E=e+n*Math.sin(h);o.push({x:p,y:E})}return o}P(bh,"generateCirclePoints");async function Toe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:A}=e,u=[...bh(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...bh(a/2+c*2,-c,c,20,-180,-270),...bh(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...bh(a/2,l/2,c,20,0,90)],h=[{x:-a/2,y:-l/2-c},{x:a/2,y:-l/2-c},...bh(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...bh(a/2+c*2,-c,c,20,-180,-270),...bh(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...bh(a/2,l/2,c,20,0,90),{x:a/2,y:l/2+c},{x:-a/2,y:l/2+c}],p=Qt.svg(i),E=Vt(e,{fill:"none"});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const y=pr(u).replace("Z",""),R=p.path(y,E),I=pr(h),b=p.path(I,{...E}),B=i.insert("g",":first-child");return B.insert(()=>b,":first-child").attr("stroke-opacity",0),B.insert(()=>R,":first-child"),B.attr("class","text"),A&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",A),r&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",r),B.attr("transform",`translate(${-c}, 0)`),o.attr("transform",`translate(${-a/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Kt(e,B),e.intersect=function(w){return Nt.polygon(e,h,w)},i}P(Toe,"curlyBraceRight");function mo(t,e,n,r=100,i=0,s=180){const o=[],a=i*Math.PI/180,A=(s*Math.PI/180-a)/(r-1);for(let u=0;u<r;u++){const h=a+u*A,p=t+n*Math.cos(h),E=e+n*Math.sin(h);o.push({x:-p,y:-E})}return o}P(mo,"generateCirclePoints");async function Soe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:A}=e,u=[...mo(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...mo(a/2+c*2,-c,c,20,-180,-270),...mo(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...mo(a/2,l/2,c,20,0,90)],h=[...mo(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...mo(-a/2-c/2,-c,c,20,0,90),...mo(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...mo(-a/2+c+c/2,l/2,c,30,-180,-270)],p=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...mo(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...mo(a/2+c*2,-c,c,20,-180,-270),...mo(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...mo(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2-c-c/2,y:l/2+c},...mo(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...mo(-a/2-c/2,-c,c,20,0,90),...mo(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...mo(-a/2+c+c/2,l/2,c,30,-180,-270)],E=Qt.svg(i),T=Vt(e,{fill:"none"});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const R=pr(u).replace("Z",""),I=E.path(R,T),B=pr(h).replace("Z",""),w=E.path(B,T),O=pr(p),L=E.path(O,{...T}),U=i.insert("g",":first-child");return U.insert(()=>L,":first-child").attr("stroke-opacity",0),U.insert(()=>I,":first-child"),U.insert(()=>w,":first-child"),U.attr("class","text"),A&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",A),r&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",r),U.attr("transform",`translate(${c-c/4}, 0)`),o.attr("transform",`translate(${-a/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Kt(e,U),e.intersect=function(G){return Nt.polygon(e,p,G)},i}P(Soe,"curlyBraces");async function yoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=80,a=20,l=Math.max(o,(s.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),c=Math.max(a,s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),A=c/2,{cssStyles:u}=e,h=Qt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const E=l,T=c,y=E-A,R=T/4,I=[{x:y,y:0},{x:R,y:0},{x:0,y:T/2},{x:R,y:T},{x:y,y:T},...uR(-y,-T/2,A,50,270,90)],b=pr(I),B=h.path(b,p),w=i.insert(()=>B,":first-child");return w.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),w.attr("transform",`translate(${-l/2}, ${-c/2})`),Kt(e,w),e.intersect=function(O){return Nt.polygon(e,I,O)},i}P(yoe,"curvedTrapezoid");var Tnt=P((t,e,n,r,i,s)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),Snt=P((t,e,n,r,i,s)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),ynt=P((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function Coe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+e.padding,e.width??0),l=a/2,c=l/(2.5+a/50),A=Math.max(s.height+c+e.padding,e.height??0);let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const p=Qt.svg(i),E=Snt(0,0,a,A,l,c),T=ynt(0,c,a,A,l,c),y=p.path(E,Vt(e,{})),R=p.path(T,Vt(e,{fill:"none"}));u=i.insert(()=>R,":first-child"),u=i.insert(()=>y,":first-child"),u.attr("class","basic label-container"),h&&u.attr("style",h)}else{const p=Tnt(0,0,a,A,l,c);u=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",Wo(h)).attr("style",r)}return u.attr("label-offset-y",c),u.attr("transform",`translate(${-a/2}, ${-(A/2+c)})`),Kt(e,u),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`),e.intersect=function(p){const E=Nt.rect(e,p),T=E.x-(e.x??0);if(l!=0&&(Math.abs(T)<(e.width??0)/2||Math.abs(T)==(e.width??0)/2&&Math.abs(E.y-(e.y??0))>(e.height??0)/2-c)){let y=c*c*(1-T*T/(l*l));y>0&&(y=Math.sqrt(y)),y=c-y,p.y-(e.y??0)>0&&(y=-y),E.y+=y}return E},i}P(Coe,"cylinder");async function xoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=s.width+e.padding,l=s.height+e.padding,c=l*.2,A=-a/2,u=-l/2-c/2,{cssStyles:h}=e,p=Qt.svg(i),E=Vt(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const T=[{x:A,y:u+c},{x:-A,y:u+c},{x:-A,y:-u},{x:A,y:-u},{x:A,y:u},{x:-A,y:u},{x:-A,y:u+c}],y=p.polygon(T.map(I=>[I.x,I.y]),E),R=i.insert(()=>y,":first-child");return R.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",h),r&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",r),o.attr("transform",`translate(${A+(e.padding??0)/2-(s.x-(s.left??0))}, ${u+c+(e.padding??0)/2-(s.y-(s.top??0))})`),Kt(e,R),e.intersect=function(I){return Nt.rect(e,I)},i}P(xoe,"dividedRectangle");async function Roe(t,e){var h,p;const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o}=await yn(t,e,fn(e)),l=s.width/2+o+5,c=s.width/2+o;let A;const{cssStyles:u}=e;if(e.look==="handDrawn"){const E=Qt.svg(i),T=Vt(e,{roughness:.2,strokeWidth:2.5}),y=Vt(e,{roughness:.2,strokeWidth:1.5}),R=E.circle(0,0,l*2,T),I=E.circle(0,0,c*2,y);A=i.insert("g",":first-child"),A.attr("class",Wo(e.cssClasses)).attr("style",Wo(u)),(h=A.node())==null||h.appendChild(R),(p=A.node())==null||p.appendChild(I)}else{A=i.insert("g",":first-child");const E=A.insert("circle",":first-child"),T=A.insert("circle");A.attr("class","basic label-container").attr("style",r),E.attr("class","outer-circle").attr("style",r).attr("r",l).attr("cx",0).attr("cy",0),T.attr("class","inner-circle").attr("style",r).attr("r",c).attr("cx",0).attr("cy",0)}return Kt(e,A),e.intersect=function(E){return $e.info("DoubleCircle intersect",e,l,E),Nt.circle(e,l,E)},i}P(Roe,"doublecircle");function Ioe(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=$t(e);e.label="",e.labelStyle=r;const s=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),o=7,{cssStyles:a}=e,l=Qt.svg(s),{nodeBorder:c}=n,A=Vt(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(A.roughness=0);const u=l.circle(0,0,o*2,A),h=s.insert(()=>u,":first-child");return h.selectAll("path").attr("style",`fill: ${c} !important;`),a&&a.length>0&&e.look!=="handDrawn"&&h.selectAll("path").attr("style",a),i&&e.look!=="handDrawn"&&h.selectAll("path").attr("style",i),Kt(e,h),e.intersect=function(p){return $e.info("filledCircle intersect",e,{radius:o,point:p}),Nt.circle(e,o,p)},s}P(Ioe,"filledCircle");async function _oe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=s.width+(e.padding??0),l=a+s.height,c=a+s.height,A=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:u}=e,h=Qt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const E=pr(A),T=h.path(E,p),y=i.insert(()=>T,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return u&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),e.width=a,e.height=l,Kt(e,y),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(e.padding??0)/2+(s.y-(s.top??0))})`),e.intersect=function(R){return $e.info("Triangle intersect",e,A,R),Nt.polygon(e,A,R)},i}P(_oe,"flippedTriangle");function Noe(t,e,{dir:n,config:{state:r,themeVariables:i}}){const{nodeStyles:s}=$t(e);e.label="";const o=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),{cssStyles:a}=e;let l=Math.max(70,(e==null?void 0:e.width)??0),c=Math.max(10,(e==null?void 0:e.height)??0);n==="LR"&&(l=Math.max(10,(e==null?void 0:e.width)??0),c=Math.max(70,(e==null?void 0:e.height)??0));const A=-1*l/2,u=-1*c/2,h=Qt.svg(o),p=Vt(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const E=h.rectangle(A,u,l,c,p),T=o.insert(()=>E,":first-child");a&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",a),s&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",s),Kt(e,T);const y=(r==null?void 0:r.padding)??0;return e.width&&e.height&&(e.width+=y/2||0,e.height+=y/2||0),e.intersect=function(R){return Nt.rect(e,R)},o}P(Noe,"forkJoin");async function boe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const i=80,s=50,{shapeSvg:o,bbox:a}=await yn(t,e,fn(e)),l=Math.max(i,a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(s,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),A=c/2,{cssStyles:u}=e,h=Qt.svg(o),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const E=[{x:-l/2,y:-c/2},{x:l/2-A,y:-c/2},...uR(-l/2+A,0,A,50,90,270),{x:l/2-A,y:c/2},{x:-l/2,y:c/2}],T=pr(E),y=h.path(T,p),R=o.insert(()=>y,":first-child");return R.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",r),Kt(e,R),e.intersect=function(I){return $e.info("Pill intersect",e,{radius:A,point:I}),Nt.polygon(e,E,I)},o}P(boe,"halfRoundedRectangle");async function voe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=s.height+(e.padding??0),a=s.width+(e.padding??0)*2.5,{cssStyles:l}=e,c=Qt.svg(i),A=Vt(e,{});e.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");let u=a/2;const h=u/6;u=u+h;const p=o/2,E=p/2,T=u-E,y=[{x:-T,y:-p},{x:0,y:-p},{x:T,y:-p},{x:u,y:0},{x:T,y:p},{x:0,y:p},{x:-T,y:p},{x:-u,y:0}],R=pr(y),I=c.path(R,A),b=i.insert(()=>I,":first-child");return b.attr("class","basic label-container"),l&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",l),r&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",r),e.width=a,e.height=o,Kt(e,b),e.intersect=function(B){return Nt.polygon(e,y,B)},i}P(voe,"hexagon");async function Ooe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.label="",e.labelStyle=n;const{shapeSvg:i}=await yn(t,e,fn(e)),s=Math.max(30,(e==null?void 0:e.width)??0),o=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:a}=e,l=Qt.svg(i),c=Vt(e,{});e.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const A=[{x:0,y:0},{x:s,y:0},{x:0,y:o},{x:s,y:o}],u=pr(A),h=l.path(u,c),p=i.insert(()=>h,":first-child");return p.attr("class","basic label-container"),a&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",a),r&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",r),p.attr("transform",`translate(${-s/2}, ${-o/2})`),Kt(e,p),e.intersect=function(E){return $e.info("Pill intersect",e,{points:A}),Nt.polygon(e,A,E)},i}P(Ooe,"hourglass");async function woe(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=$t(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=r==null?void 0:r.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:A,label:u}=await yn(t,e,"icon-shape default"),h=e.pos==="t",p=a,E=a,{nodeBorder:T}=n,{stylesMap:y}=JS(e),R=-E/2,I=-p/2,b=e.label?8:0,B=Qt.svg(c),w=Vt(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const O=B.rectangle(R,I,E,p,w),L=Math.max(E,A.width),U=p+A.height+b,G=B.rectangle(-L/2,-U/2,L,U,{...w,fill:"transparent",stroke:"none"}),Q=c.insert(()=>O,":first-child"),Y=c.insert(()=>G);if(e.icon){const K=c.append("g");K.html(`<g>${await $R(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const j=K.node().getBBox(),V=j.width,$=j.height,J=j.x,te=j.y;K.attr("transform",`translate(${-V/2-J},${h?A.height/2+b/2-$/2-te:-A.height/2-b/2-$/2-te})`),K.attr("style",`color: ${y.get("stroke")??T};`)}return u.attr("transform",`translate(${-A.width/2-(A.x-(A.left??0))},${h?-U/2:U/2-A.height})`),Q.attr("transform",`translate(0,${h?A.height/2+b/2:-A.height/2-b/2})`),Kt(e,Y),e.intersect=function(K){if($e.info("iconSquare intersect",e,K),!e.label)return Nt.rect(e,K);const j=e.x??0,V=e.y??0,$=e.height??0;let J=[];return h?J=[{x:j-A.width/2,y:V-$/2},{x:j+A.width/2,y:V-$/2},{x:j+A.width/2,y:V-$/2+A.height+b},{x:j+E/2,y:V-$/2+A.height+b},{x:j+E/2,y:V+$/2},{x:j-E/2,y:V+$/2},{x:j-E/2,y:V-$/2+A.height+b},{x:j-A.width/2,y:V-$/2+A.height+b}]:J=[{x:j-E/2,y:V-$/2},{x:j+E/2,y:V-$/2},{x:j+E/2,y:V-$/2+p},{x:j+A.width/2,y:V-$/2+p},{x:j+A.width/2/2,y:V+$/2},{x:j-A.width/2,y:V+$/2},{x:j-A.width/2,y:V-$/2+p},{x:j-E/2,y:V-$/2+p}],Nt.polygon(e,J,K)},c}P(woe,"icon");async function Loe(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=$t(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=r==null?void 0:r.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:A,label:u}=await yn(t,e,"icon-shape default"),h=20,p=e.label?8:0,E=e.pos==="t",{nodeBorder:T,mainBkg:y}=n,{stylesMap:R}=JS(e),I=Qt.svg(c),b=Vt(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const B=R.get("fill");b.stroke=B??y;const w=c.append("g");e.icon&&w.html(`<g>${await $R(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const O=w.node().getBBox(),L=O.width,U=O.height,G=O.x,Q=O.y,Y=Math.max(L,U)*Math.SQRT2+h*2,K=I.circle(0,0,Y,b),j=Math.max(Y,A.width),V=Y+A.height+p,$=I.rectangle(-j/2,-V/2,j,V,{...b,fill:"transparent",stroke:"none"}),J=c.insert(()=>K,":first-child"),te=c.insert(()=>$);return w.attr("transform",`translate(${-L/2-G},${E?A.height/2+p/2-U/2-Q:-A.height/2-p/2-U/2-Q})`),w.attr("style",`color: ${R.get("stroke")??T};`),u.attr("transform",`translate(${-A.width/2-(A.x-(A.left??0))},${E?-V/2:V/2-A.height})`),J.attr("transform",`translate(0,${E?A.height/2+p/2:-A.height/2-p/2})`),Kt(e,te),e.intersect=function(X){return $e.info("iconSquare intersect",e,X),Nt.rect(e,X)},c}P(Loe,"iconCircle");async function Boe(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=$t(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=r==null?void 0:r.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:A,halfPadding:u,label:h}=await yn(t,e,"icon-shape default"),p=e.pos==="t",E=a+u*2,T=a+u*2,{nodeBorder:y,mainBkg:R}=n,{stylesMap:I}=JS(e),b=-T/2,B=-E/2,w=e.label?8:0,O=Qt.svg(c),L=Vt(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const U=I.get("fill");L.stroke=U??R;const G=O.path(ip(b,B,T,E,5),L),Q=Math.max(T,A.width),Y=E+A.height+w,K=O.rectangle(-Q/2,-Y/2,Q,Y,{...L,fill:"transparent",stroke:"none"}),j=c.insert(()=>G,":first-child").attr("class","icon-shape2"),V=c.insert(()=>K);if(e.icon){const $=c.append("g");$.html(`<g>${await $R(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const J=$.node().getBBox(),te=J.width,X=J.height,oe=J.x,F=J.y;$.attr("transform",`translate(${-te/2-oe},${p?A.height/2+w/2-X/2-F:-A.height/2-w/2-X/2-F})`),$.attr("style",`color: ${I.get("stroke")??y};`)}return h.attr("transform",`translate(${-A.width/2-(A.x-(A.left??0))},${p?-Y/2:Y/2-A.height})`),j.attr("transform",`translate(0,${p?A.height/2+w/2:-A.height/2-w/2})`),Kt(e,V),e.intersect=function($){if($e.info("iconSquare intersect",e,$),!e.label)return Nt.rect(e,$);const J=e.x??0,te=e.y??0,X=e.height??0;let oe=[];return p?oe=[{x:J-A.width/2,y:te-X/2},{x:J+A.width/2,y:te-X/2},{x:J+A.width/2,y:te-X/2+A.height+w},{x:J+T/2,y:te-X/2+A.height+w},{x:J+T/2,y:te+X/2},{x:J-T/2,y:te+X/2},{x:J-T/2,y:te-X/2+A.height+w},{x:J-A.width/2,y:te-X/2+A.height+w}]:oe=[{x:J-T/2,y:te-X/2},{x:J+T/2,y:te-X/2},{x:J+T/2,y:te-X/2+E},{x:J+A.width/2,y:te-X/2+E},{x:J+A.width/2/2,y:te+X/2},{x:J-A.width/2,y:te+X/2},{x:J-A.width/2,y:te-X/2+E},{x:J-T/2,y:te-X/2+E}],Nt.polygon(e,oe,$)},c}P(Boe,"iconRounded");async function Doe(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=$t(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=r==null?void 0:r.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:A,halfPadding:u,label:h}=await yn(t,e,"icon-shape default"),p=e.pos==="t",E=a+u*2,T=a+u*2,{nodeBorder:y,mainBkg:R}=n,{stylesMap:I}=JS(e),b=-T/2,B=-E/2,w=e.label?8:0,O=Qt.svg(c),L=Vt(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const U=I.get("fill");L.stroke=U??R;const G=O.path(ip(b,B,T,E,.1),L),Q=Math.max(T,A.width),Y=E+A.height+w,K=O.rectangle(-Q/2,-Y/2,Q,Y,{...L,fill:"transparent",stroke:"none"}),j=c.insert(()=>G,":first-child"),V=c.insert(()=>K);if(e.icon){const $=c.append("g");$.html(`<g>${await $R(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const J=$.node().getBBox(),te=J.width,X=J.height,oe=J.x,F=J.y;$.attr("transform",`translate(${-te/2-oe},${p?A.height/2+w/2-X/2-F:-A.height/2-w/2-X/2-F})`),$.attr("style",`color: ${I.get("stroke")??y};`)}return h.attr("transform",`translate(${-A.width/2-(A.x-(A.left??0))},${p?-Y/2:Y/2-A.height})`),j.attr("transform",`translate(0,${p?A.height/2+w/2:-A.height/2-w/2})`),Kt(e,V),e.intersect=function($){if($e.info("iconSquare intersect",e,$),!e.label)return Nt.rect(e,$);const J=e.x??0,te=e.y??0,X=e.height??0;let oe=[];return p?oe=[{x:J-A.width/2,y:te-X/2},{x:J+A.width/2,y:te-X/2},{x:J+A.width/2,y:te-X/2+A.height+w},{x:J+T/2,y:te-X/2+A.height+w},{x:J+T/2,y:te+X/2},{x:J-T/2,y:te+X/2},{x:J-T/2,y:te-X/2+A.height+w},{x:J-A.width/2,y:te-X/2+A.height+w}]:oe=[{x:J-T/2,y:te-X/2},{x:J+T/2,y:te-X/2},{x:J+T/2,y:te-X/2+E},{x:J+A.width/2,y:te-X/2+E},{x:J+A.width/2/2,y:te+X/2},{x:J-A.width/2,y:te+X/2},{x:J-A.width/2,y:te-X/2+E},{x:J-T/2,y:te-X/2+E}],Nt.polygon(e,oe,$)},c}P(Doe,"iconSquare");async function koe(t,e,{config:{flowchart:n}}){const r=new Image;r.src=(e==null?void 0:e.img)??"",await r.decode();const i=Number(r.naturalWidth.toString().replace("px","")),s=Number(r.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/s;const{labelStyles:o}=$t(e);e.labelStyle=o;const a=n==null?void 0:n.wrappingWidth;e.defaultWidth=n==null?void 0:n.wrappingWidth;const l=Math.max(e.label?a??0:0,(e==null?void 0:e.assetWidth)??i),c=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:l,A=e.constraint==="on"?c/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??s;e.width=Math.max(c,a??0);const{shapeSvg:u,bbox:h,label:p}=await yn(t,e,"image-shape default"),E=e.pos==="t",T=-c/2,y=-A/2,R=e.label?8:0,I=Qt.svg(u),b=Vt(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const B=I.rectangle(T,y,c,A,b),w=Math.max(c,h.width),O=A+h.height+R,L=I.rectangle(-w/2,-O/2,w,O,{...b,fill:"none",stroke:"none"}),U=u.insert(()=>B,":first-child"),G=u.insert(()=>L);if(e.img){const Q=u.append("image");Q.attr("href",e.img),Q.attr("width",c),Q.attr("height",A),Q.attr("preserveAspectRatio","none"),Q.attr("transform",`translate(${-c/2},${E?O/2-A:-O/2})`)}return p.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${E?-A/2-h.height/2-R/2:A/2-h.height/2+R/2})`),U.attr("transform",`translate(0,${E?h.height/2+R/2:-h.height/2-R/2})`),Kt(e,G),e.intersect=function(Q){if($e.info("iconSquare intersect",e,Q),!e.label)return Nt.rect(e,Q);const Y=e.x??0,K=e.y??0,j=e.height??0;let V=[];return E?V=[{x:Y-h.width/2,y:K-j/2},{x:Y+h.width/2,y:K-j/2},{x:Y+h.width/2,y:K-j/2+h.height+R},{x:Y+c/2,y:K-j/2+h.height+R},{x:Y+c/2,y:K+j/2},{x:Y-c/2,y:K+j/2},{x:Y-c/2,y:K-j/2+h.height+R},{x:Y-h.width/2,y:K-j/2+h.height+R}]:V=[{x:Y-c/2,y:K-j/2},{x:Y+c/2,y:K-j/2},{x:Y+c/2,y:K-j/2+A},{x:Y+h.width/2,y:K-j/2+A},{x:Y+h.width/2/2,y:K+j/2},{x:Y-h.width/2,y:K+j/2},{x:Y-h.width/2,y:K-j/2+A},{x:Y-c/2,y:K-j/2+A}],Nt.polygon(e,V,Q)},u}P(koe,"imageSquare");async function Moe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),a=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:-3*a/6,y:-a}];let c;const{cssStyles:A}=e;if(e.look==="handDrawn"){const u=Qt.svg(i),h=Vt(e,{}),p=pr(l),E=u.path(p,h);c=i.insert(()=>E,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),A&&c.attr("style",A)}else c=sp(i,o,a,l);return r&&c.attr("style",r),e.width=o,e.height=a,Kt(e,c),e.intersect=function(u){return Nt.polygon(e,l,u)},i}P(Moe,"inv_trapezoid");async function VL(t,e,n){const{labelStyles:r,nodeStyles:i}=$t(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await yn(t,e,fn(e)),a=Math.max(o.width+n.labelPaddingX*2,(e==null?void 0:e.width)||0),l=Math.max(o.height+n.labelPaddingY*2,(e==null?void 0:e.height)||0),c=-a/2,A=-l/2;let u,{rx:h,ry:p}=e;const{cssStyles:E}=e;if(n!=null&&n.rx&&n.ry&&(h=n.rx,p=n.ry),e.look==="handDrawn"){const T=Qt.svg(s),y=Vt(e,{}),R=h||p?T.path(ip(c,A,a,l,h||0),y):T.rectangle(c,A,a,l,y);u=s.insert(()=>R,":first-child"),u.attr("class","basic label-container").attr("style",Wo(E))}else u=s.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",i).attr("rx",Wo(h)).attr("ry",Wo(p)).attr("x",c).attr("y",A).attr("width",a).attr("height",l);return Kt(e,u),e.calcIntersect=function(T,y){return Nt.rect(T,y)},e.intersect=function(T){return Nt.rect(e,T)},s}P(VL,"drawRect");async function Poe(t,e){const{shapeSvg:n,bbox:r,label:i}=await yn(t,e,"label"),s=n.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),Kt(e,s),e.intersect=function(l){return Nt.rect(e,l)},n}P(Poe,"labelRect");async function Uoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=Math.max(s.width+(e.padding??0),(e==null?void 0:e.width)??0),a=Math.max(s.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:-(3*a)/6,y:-a}];let c;const{cssStyles:A}=e;if(e.look==="handDrawn"){const u=Qt.svg(i),h=Vt(e,{}),p=pr(l),E=u.path(p,h);c=i.insert(()=>E,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),A&&c.attr("style",A)}else c=sp(i,o,a,l);return r&&c.attr("style",r),e.width=o,e.height=a,Kt(e,c),e.intersect=function(u){return Nt.polygon(e,l,u)},i}P(Uoe,"lean_left");async function Foe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=Math.max(s.width+(e.padding??0),(e==null?void 0:e.width)??0),a=Math.max(s.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:-3*a/6,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:0,y:-a}];let c;const{cssStyles:A}=e;if(e.look==="handDrawn"){const u=Qt.svg(i),h=Vt(e,{}),p=pr(l),E=u.path(p,h);c=i.insert(()=>E,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),A&&c.attr("style",A)}else c=sp(i,o,a,l);return r&&c.attr("style",r),e.width=o,e.height=a,Kt(e,c),e.intersect=function(u){return Nt.polygon(e,l,u)},i}P(Foe,"lean_right");function Hoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.label="",e.labelStyle=n;const i=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,o=Math.max(35,(e==null?void 0:e.width)??0),a=Math.max(35,(e==null?void 0:e.height)??0),l=7,c=[{x:o,y:0},{x:0,y:a+l/2},{x:o-2*l,y:a+l/2},{x:0,y:2*a},{x:o,y:a-l/2},{x:2*l,y:a-l/2}],A=Qt.svg(i),u=Vt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=pr(c),p=A.path(h,u),E=i.insert(()=>p,":first-child");return s&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",s),r&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(-${o/2},${-a})`),Kt(e,E),e.intersect=function(T){return $e.info("lightningBolt intersect",e,T),Nt.polygon(e,c,T)},i}P(Hoe,"lightningBolt");var Cnt=P((t,e,n,r,i,s,o)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+o}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),xnt=P((t,e,n,r,i,s,o)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+o}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),Rnt=P((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function Goe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+(e.padding??0),e.width??0),l=a/2,c=l/(2.5+a/50),A=Math.max(s.height+c+(e.padding??0),e.height??0),u=A*.1;let h;const{cssStyles:p}=e;if(e.look==="handDrawn"){const E=Qt.svg(i),T=xnt(0,0,a,A,l,c,u),y=Rnt(0,c,a,A,l,c),R=Vt(e,{}),I=E.path(T,R),b=E.path(y,R);i.insert(()=>b,":first-child").attr("class","line"),h=i.insert(()=>I,":first-child"),h.attr("class","basic label-container"),p&&h.attr("style",p)}else{const E=Cnt(0,0,a,A,l,c,u);h=i.insert("path",":first-child").attr("d",E).attr("class","basic label-container").attr("style",Wo(p)).attr("style",r)}return h.attr("label-offset-y",c),h.attr("transform",`translate(${-a/2}, ${-(A/2+c)})`),Kt(e,h),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),e.intersect=function(E){const T=Nt.rect(e,E),y=T.x-(e.x??0);if(l!=0&&(Math.abs(y)<(e.width??0)/2||Math.abs(y)==(e.width??0)/2&&Math.abs(T.y-(e.y??0))>(e.height??0)/2-c)){let R=c*c*(1-y*y/(l*l));R>0&&(R=Math.sqrt(R)),R=c-R,E.y-(e.y??0)>0&&(R=-R),T.y+=R}return T},i}P(Goe,"linedCylinder");async function Qoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,A=l+c,{cssStyles:u}=e,h=Qt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const E=[{x:-a/2-a/2*.1,y:-A/2},{x:-a/2-a/2*.1,y:A/2},...zf(-a/2-a/2*.1,A/2,a/2+a/2*.1,A/2,c,.8),{x:a/2+a/2*.1,y:-A/2},{x:-a/2-a/2*.1,y:-A/2},{x:-a/2,y:-A/2},{x:-a/2,y:A/2*1.1},{x:-a/2,y:-A/2}],T=h.polygon(E.map(R=>[R.x,R.y]),p),y=i.insert(()=>T,":first-child");return y.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",r),y.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(e.padding??0)+a/2*.1/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),Kt(e,y),e.intersect=function(R){return Nt.polygon(e,E,R)},i}P(Qoe,"linedWaveEdgedRect");async function Voe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=5,A=-a/2,u=-l/2,{cssStyles:h}=e,p=Qt.svg(i),E=Vt(e,{}),T=[{x:A-c,y:u+c},{x:A-c,y:u+l+c},{x:A+a-c,y:u+l+c},{x:A+a-c,y:u+l},{x:A+a,y:u+l},{x:A+a,y:u+l-c},{x:A+a+c,y:u+l-c},{x:A+a+c,y:u-c},{x:A+c,y:u-c},{x:A+c,y:u},{x:A,y:u},{x:A,y:u+c}],y=[{x:A,y:u+c},{x:A+a-c,y:u+c},{x:A+a-c,y:u+l},{x:A+a,y:u+l},{x:A+a,y:u},{x:A,y:u}];e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const R=pr(T),I=p.path(R,E),b=pr(y),B=p.path(b,{...E,fill:"none"}),w=i.insert(()=>B,":first-child");return w.insert(()=>I,":first-child"),w.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",h),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(s.width/2)-c-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),Kt(e,w),e.intersect=function(O){return Nt.polygon(e,T,O)},i}P(Voe,"multiRect");async function $oe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,A=l+c,u=-a/2,h=-A/2,p=5,{cssStyles:E}=e,T=zf(u-p,h+A+p,u+a-p,h+A+p,c,.8),y=T==null?void 0:T[T.length-1],R=[{x:u-p,y:h+p},{x:u-p,y:h+A+p},...T,{x:u+a-p,y:y.y-p},{x:u+a,y:y.y-p},{x:u+a,y:y.y-2*p},{x:u+a+p,y:y.y-2*p},{x:u+a+p,y:h-p},{x:u+p,y:h-p},{x:u+p,y:h},{x:u,y:h},{x:u,y:h+p}],I=[{x:u,y:h+p},{x:u+a-p,y:h+p},{x:u+a-p,y:y.y-p},{x:u+a,y:y.y-p},{x:u+a,y:h},{x:u,y:h}],b=Qt.svg(i),B=Vt(e,{});e.look!=="handDrawn"&&(B.roughness=0,B.fillStyle="solid");const w=pr(R),O=b.path(w,B),L=pr(I),U=b.path(L,B),G=i.insert(()=>O,":first-child");return G.insert(()=>U),G.attr("class","basic label-container"),E&&e.look!=="handDrawn"&&G.selectAll("path").attr("style",E),r&&e.look!=="handDrawn"&&G.selectAll("path").attr("style",r),G.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-(s.width/2)-p-(s.x-(s.left??0))}, ${-(s.height/2)+p-c/2-(s.y-(s.top??0))})`),Kt(e,G),e.intersect=function(Q){return Nt.polygon(e,R,Q)},i}P($oe,"multiWaveEdgedRectangle");async function Woe(t,e,{config:{themeVariables:n}}){var I;const{labelStyles:r,nodeStyles:i}=$t(e);e.labelStyle=r,e.useHtmlLabels||((I=Vo().flowchart)==null?void 0:I.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:o,bbox:a,label:l}=await yn(t,e,fn(e)),c=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),A=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-c/2,h=-A/2,{cssStyles:p}=e,E=Qt.svg(o),T=Vt(e,{fill:n.noteBkgColor,stroke:n.noteBorderColor});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const y=E.rectangle(u,h,c,A,T),R=o.insert(()=>y,":first-child");return R.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",i),l.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Kt(e,R),e.intersect=function(b){return Nt.rect(e,b)},o}P(Woe,"note");var Int=P((t,e,n)=>[`M${t+n/2},${e}`,`L${t+n},${e-n/2}`,`L${t+n/2},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Yoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=s.width+e.padding,a=s.height+e.padding,l=o+a,c=.5,A=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const p=Qt.svg(i),E=Vt(e,{}),T=Int(0,0,l),y=p.path(T,E);u=i.insert(()=>y,":first-child").attr("transform",`translate(${-l/2+c}, ${l/2})`),h&&u.attr("style",h)}else u=sp(i,l,l,A),u.attr("transform",`translate(${-l/2+c}, ${l/2})`);return r&&u.attr("style",r),Kt(e,u),e.calcIntersect=function(p,E){const T=p.width,y=[{x:T/2,y:0},{x:T,y:-T/2},{x:T/2,y:-T},{x:0,y:-T/2}],R=Nt.polygon(p,y,E);return{x:R.x-.5,y:R.y-.5}},e.intersect=function(p){return this.calcIntersect(e,p)},i}P(Yoe,"question");async function joe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0),(e==null?void 0:e.height)??0),c=-a/2,A=-l/2,u=A/2,h=[{x:c+u,y:A},{x:c,y:0},{x:c+u,y:-A},{x:-c,y:-A},{x:-c,y:A}],{cssStyles:p}=e,E=Qt.svg(i),T=Vt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const y=pr(h),R=E.path(y,T),I=i.insert(()=>R,":first-child");return I.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",r),I.attr("transform",`translate(${-u/2},0)`),o.attr("transform",`translate(${-u/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Kt(e,I),e.intersect=function(b){return Nt.polygon(e,h,b)},i}P(joe,"rect_left_inv_arrow");async function Koe(t,e){var U,G;const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=s.insert("g"),a=s.insert("g").attr("class","label").attr("style",r),l=e.description,c=e.label,A=a.node().appendChild(await Lm(c,e.labelStyle,!0,!0));let u={width:0,height:0};if(Fs((G=(U=jr())==null?void 0:U.flowchart)==null?void 0:G.htmlLabels)){const Q=A.children[0],Y=Or(A);u=Q.getBoundingClientRect(),Y.attr("width",u.width),Y.attr("height",u.height)}$e.info("Text 2",l);const h=l||[],p=A.getBBox(),E=a.node().appendChild(await Lm(h.join?h.join("<br/>"):h,e.labelStyle,!0,!0)),T=E.children[0],y=Or(E);u=T.getBoundingClientRect(),y.attr("width",u.width),y.attr("height",u.height);const R=(e.padding||0)/2;Or(E).attr("transform","translate( "+(u.width>p.width?0:(p.width-u.width)/2)+", "+(p.height+R+5)+")"),Or(A).attr("transform","translate( "+(u.width<p.width?0:-(p.width-u.width)/2)+", 0)"),u=a.node().getBBox(),a.attr("transform","translate("+-u.width/2+", "+(-u.height/2-R+3)+")");const I=u.width+(e.padding||0),b=u.height+(e.padding||0),B=-u.width/2-R,w=-u.height/2-R;let O,L;if(e.look==="handDrawn"){const Q=Qt.svg(s),Y=Vt(e,{}),K=Q.path(ip(B,w,I,b,e.rx||0),Y),j=Q.line(-u.width/2-R,-u.height/2-R+p.height+R,u.width/2+R,-u.height/2-R+p.height+R,Y);L=s.insert(()=>($e.debug("Rough node insert CXC",K),j),":first-child"),O=s.insert(()=>($e.debug("Rough node insert CXC",K),K),":first-child")}else O=o.insert("rect",":first-child"),L=o.insert("line"),O.attr("class","outer title-state").attr("style",r).attr("x",-u.width/2-R).attr("y",-u.height/2-R).attr("width",u.width+(e.padding||0)).attr("height",u.height+(e.padding||0)),L.attr("class","divider").attr("x1",-u.width/2-R).attr("x2",u.width/2+R).attr("y1",-u.height/2-R+p.height+R).attr("y2",-u.height/2-R+p.height+R);return Kt(e,O),e.intersect=function(Q){return Nt.rect(e,Q)},s}P(Koe,"rectWithTitle");function MC(t,e,n,r,i,s,o){const l=(t+n)/2,c=(e+r)/2,A=Math.atan2(r-e,n-t),u=(n-t)/2,h=(r-e)/2,p=u/i,E=h/s,T=Math.sqrt(p**2+E**2);if(T>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-T**2),R=l+y*s*Math.sin(A)*(o?-1:1),I=c-y*i*Math.cos(A)*(o?-1:1),b=Math.atan2((e-I)/s,(t-R)/i);let w=Math.atan2((r-I)/s,(n-R)/i)-b;o&&w<0&&(w+=2*Math.PI),!o&&w>0&&(w-=2*Math.PI);const O=[];for(let L=0;L<20;L++){const U=L/19,G=b+U*w,Q=R+i*Math.cos(G),Y=I+s*Math.sin(G);O.push({x:Q,y:Y})}return O}P(MC,"generateArcPoints");async function zoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=(e==null?void 0:e.padding)??0,a=(e==null?void 0:e.padding)??0,l=(e!=null&&e.width?e==null?void 0:e.width:s.width)+o*2,c=(e!=null&&e.height?e==null?void 0:e.height:s.height)+a*2,A=e.radius||5,u=e.taper||5,{cssStyles:h}=e,p=Qt.svg(i),E=Vt(e,{});e.stroke&&(E.stroke=e.stroke),e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const T=[{x:-l/2+u,y:-c/2},{x:l/2-u,y:-c/2},...MC(l/2-u,-c/2,l/2,-c/2+u,A,A,!0),{x:l/2,y:-c/2+u},{x:l/2,y:c/2-u},...MC(l/2,c/2-u,l/2-u,c/2,A,A,!0),{x:l/2-u,y:c/2},{x:-l/2+u,y:c/2},...MC(-l/2+u,c/2,-l/2,c/2-u,A,A,!0),{x:-l/2,y:c/2-u},{x:-l/2,y:-c/2+u},...MC(-l/2,-c/2+u,-l/2+u,-c/2,A,A,!0)],y=pr(T),R=p.path(y,E),I=i.insert(()=>R,":first-child");return I.attr("class","basic label-container outer-path"),h&&e.look!=="handDrawn"&&I.selectChildren("path").attr("style",h),r&&e.look!=="handDrawn"&&I.selectChildren("path").attr("style",r),Kt(e,I),e.intersect=function(b){return Nt.polygon(e,T,b)},i}P(zoe,"roundedRect");async function qoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=(e==null?void 0:e.padding)??0,l=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),A=-s.width/2-a,u=-s.height/2-a,{cssStyles:h}=e,p=Qt.svg(i),E=Vt(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const T=[{x:A,y:u},{x:A+l+8,y:u},{x:A+l+8,y:u+c},{x:A-8,y:u+c},{x:A-8,y:u},{x:A,y:u},{x:A,y:u+c}],y=p.polygon(T.map(I=>[I.x,I.y]),E),R=i.insert(()=>y,":first-child");return R.attr("class","basic label-container").attr("style",Wo(h)),r&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",r),h&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",r),o.attr("transform",`translate(${-l/2+4+(e.padding??0)-(s.x-(s.left??0))},${-c/2+(e.padding??0)-(s.y-(s.top??0))})`),Kt(e,R),e.intersect=function(I){return Nt.rect(e,I)},i}P(qoe,"shadedProcess");async function Xoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=-a/2,A=-l/2,{cssStyles:u}=e,h=Qt.svg(i),p=Vt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const E=[{x:c,y:A},{x:c,y:A+l},{x:c+a,y:A+l},{x:c+a,y:A-l/2}],T=pr(E),y=h.path(T,p),R=i.insert(()=>y,":first-child");return R.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",r),R.attr("transform",`translate(0, ${l/4})`),o.attr("transform",`translate(${-a/2+(e.padding??0)-(s.x-(s.left??0))}, ${-l/4+(e.padding??0)-(s.y-(s.top??0))})`),Kt(e,R),e.intersect=function(I){return Nt.polygon(e,E,I)},i}P(Xoe,"slopedRect");async function Joe(t,e){const n={rx:0,ry:0,labelPaddingX:e.labelPaddingX??((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return VL(t,e,n)}P(Joe,"squareRect");async function Zoe(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=s.height+e.padding,a=s.width+o/4+e.padding,l=o/2,{cssStyles:c}=e,A=Qt.svg(i),u=Vt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=[{x:-a/2+l,y:-o/2},{x:a/2-l,y:-o/2},...uR(-a/2+l,0,l,50,90,270),{x:a/2-l,y:o/2},...uR(a/2-l,0,l,50,270,450)],p=pr(h),E=A.path(p,u),T=i.insert(()=>E,":first-child");return T.attr("class","basic label-container outer-path"),c&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",c),r&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",r),Kt(e,T),e.intersect=function(y){return Nt.polygon(e,h,y)},i}P(Zoe,"stadium");async function eae(t,e){return VL(t,e,{rx:5,ry:5})}P(eae,"state");function tae(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=$t(e);e.labelStyle=r;const{cssStyles:s}=e,{lineColor:o,stateBorder:a,nodeBorder:l}=n,c=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),A=Qt.svg(c),u=Vt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=A.circle(0,0,14,{...u,stroke:o,strokeWidth:2}),p=a??l,E=A.circle(0,0,5,{...u,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),T=c.insert(()=>h,":first-child");return T.insert(()=>E),s&&T.selectAll("path").attr("style",s),i&&T.selectAll("path").attr("style",i),Kt(e,T),e.intersect=function(y){return Nt.circle(e,7,y)},c}P(tae,"stateEnd");function nae(t,e,{config:{themeVariables:n}}){const{lineColor:r}=n,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s;if(e.look==="handDrawn"){const a=Qt.svg(i).circle(0,0,14,UJe(r));s=i.insert(()=>a),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Kt(e,s),e.intersect=function(o){return Nt.circle(e,7,o)},i}P(nae,"stateStart");async function rae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=((e==null?void 0:e.padding)||0)/2,a=s.width+e.padding,l=s.height+e.padding,c=-s.width/2-o,A=-s.height/2-o,u=[{x:0,y:0},{x:a,y:0},{x:a,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const h=Qt.svg(i),p=Vt(e,{}),E=h.rectangle(c-8,A,a+16,l,p),T=h.line(c,A,c,A+l,p),y=h.line(c+a,A,c+a,A+l,p);i.insert(()=>T,":first-child"),i.insert(()=>y,":first-child");const R=i.insert(()=>E,":first-child"),{cssStyles:I}=e;R.attr("class","basic label-container").attr("style",Wo(I)),Kt(e,R)}else{const h=sp(i,a,l,u);r&&h.attr("style",r),Kt(e,h)}return e.intersect=function(h){return Nt.polygon(e,u,h)},i}P(rae,"subroutine");async function iae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),a=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=-o/2,c=-a/2,A=.2*a,u=.2*a,{cssStyles:h}=e,p=Qt.svg(i),E=Vt(e,{}),T=[{x:l-A/2,y:c},{x:l+o+A/2,y:c},{x:l+o+A/2,y:c+a},{x:l-A/2,y:c+a}],y=[{x:l+o-A/2,y:c+a},{x:l+o+A/2,y:c+a},{x:l+o+A/2,y:c+a-u}];e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const R=pr(T),I=p.path(R,E),b=pr(y),B=p.path(b,{...E,fillStyle:"solid"}),w=i.insert(()=>B,":first-child");return w.insert(()=>I,":first-child"),w.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",h),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),Kt(e,w),e.intersect=function(O){return Nt.polygon(e,T,O)},i}P(iae,"taggedRect");async function sae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,A=.2*a,u=.2*l,h=l+c,{cssStyles:p}=e,E=Qt.svg(i),T=Vt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const y=[{x:-a/2-a/2*.1,y:h/2},...zf(-a/2-a/2*.1,h/2,a/2+a/2*.1,h/2,c,.8),{x:a/2+a/2*.1,y:-h/2},{x:-a/2-a/2*.1,y:-h/2}],R=-a/2+a/2*.1,I=-h/2-u*.4,b=[{x:R+a-A,y:(I+l)*1.4},{x:R+a,y:I+l-u},{x:R+a,y:(I+l)*.9},...zf(R+a,(I+l)*1.3,R+a-A,(I+l)*1.5,-l*.03,.5)],B=pr(y),w=E.path(B,T),O=pr(b),L=E.path(O,{...T,fillStyle:"solid"}),U=i.insert(()=>L,":first-child");return U.insert(()=>w,":first-child"),U.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",r),U.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),Kt(e,U),e.intersect=function(G){return Nt.polygon(e,y,G)},i}P(sae,"taggedWaveEdgedRectangle");async function oae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=Math.max(s.width+e.padding,(e==null?void 0:e.width)||0),a=Math.max(s.height+e.padding,(e==null?void 0:e.height)||0),l=-o/2,c=-a/2,A=i.insert("rect",":first-child");return A.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",o).attr("height",a),Kt(e,A),e.intersect=function(u){return Nt.rect(e,u)},i}P(oae,"text");var _nt=P((t,e,n,r,i,s)=>`M${t},${e}
    a${i},${s} 0,0,1 0,${-r}
    l${n},0
    a${i},${s} 0,0,1 0,${r}
    M${n},${-r}
    a${i},${s} 0,0,0 0,${r}
    l${-n},0`,"createCylinderPathD"),Nnt=P((t,e,n,r,i,s)=>[`M${t},${e}`,`M${t+n},${e}`,`a${i},${s} 0,0,0 0,${-r}`,`l${-n},0`,`a${i},${s} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),bnt=P((t,e,n,r,i,s)=>[`M${t+n/2},${-r/2}`,`a${i},${s} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function aae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o,halfPadding:a}=await yn(t,e,fn(e)),l=e.look==="neo"?a*2:a,c=s.height+l,A=c/2,u=A/(2.5+c/50),h=s.width+u+l,{cssStyles:p}=e;let E;if(e.look==="handDrawn"){const T=Qt.svg(i),y=Nnt(0,0,h,c,u,A),R=bnt(0,0,h,c,u,A),I=T.path(y,Vt(e,{})),b=T.path(R,Vt(e,{fill:"none"}));E=i.insert(()=>b,":first-child"),E=i.insert(()=>I,":first-child"),E.attr("class","basic label-container"),p&&E.attr("style",p)}else{const T=_nt(0,0,h,c,u,A);E=i.insert("path",":first-child").attr("d",T).attr("class","basic label-container").attr("style",Wo(p)).attr("style",r),E.attr("class","basic label-container"),p&&E.selectAll("path").attr("style",p),r&&E.selectAll("path").attr("style",r)}return E.attr("label-offset-x",u),E.attr("transform",`translate(${-h/2}, ${c/2} )`),o.attr("transform",`translate(${-(s.width/2)-u-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Kt(e,E),e.intersect=function(T){const y=Nt.rect(e,T),R=y.y-(e.y??0);if(A!=0&&(Math.abs(R)<(e.height??0)/2||Math.abs(R)==(e.height??0)/2&&Math.abs(y.x-(e.x??0))>(e.width??0)/2-u)){let I=u*u*(1-R*R/(A*A));I!=0&&(I=Math.sqrt(Math.abs(I))),I=u-I,T.x-(e.x??0)>0&&(I=-I),y.x+=I}return y},i}P(aae,"tiltedCylinder");async function lae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=s.width+e.padding,a=s.height+e.padding,l=[{x:-3*a/6,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:0,y:-a}];let c;const{cssStyles:A}=e;if(e.look==="handDrawn"){const u=Qt.svg(i),h=Vt(e,{}),p=pr(l),E=u.path(p,h);c=i.insert(()=>E,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),A&&c.attr("style",A)}else c=sp(i,o,a,l);return r&&c.attr("style",r),e.width=o,e.height=a,Kt(e,c),e.intersect=function(u){return Nt.polygon(e,l,u)},i}P(lae,"trapezoid");async function cae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=60,a=20,l=Math.max(o,s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(a,s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:A}=e,u=Qt.svg(i),h=Vt(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const p=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],E=pr(p),T=u.path(E,h),y=i.insert(()=>T,":first-child");return y.attr("class","basic label-container"),A&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",A),r&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),Kt(e,y),e.intersect=function(R){return Nt.polygon(e,p,R)},i}P(cae,"trapezoidalPentagon");async function Aae(t,e){var I;const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Fs((I=jr().flowchart)==null?void 0:I.htmlLabels),l=s.width+(e.padding??0),c=l+s.height,A=l+s.height,u=[{x:0,y:0},{x:A,y:0},{x:A/2,y:-c}],{cssStyles:h}=e,p=Qt.svg(i),E=Vt(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const T=pr(u),y=p.path(T,E),R=i.insert(()=>y,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return h&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",h),r&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",r),e.width=l,e.height=c,Kt(e,R),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${c/2-(s.height+(e.padding??0)/(a?2:1)-(s.y-(s.top??0)))})`),e.intersect=function(b){return $e.info("Triangle intersect",e,u,b),Nt.polygon(e,u,b)},i}P(Aae,"triangle");async function uae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/8,A=l+c,{cssStyles:u}=e,p=70-a,E=p>0?p/2:0,T=Qt.svg(i),y=Vt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const R=[{x:-a/2-E,y:A/2},...zf(-a/2-E,A/2,a/2+E,A/2,c,.8),{x:a/2+E,y:-A/2},{x:-a/2-E,y:-A/2}],I=pr(R),b=T.path(I,y),B=i.insert(()=>b,":first-child");return B.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",r),B.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c-(s.y-(s.top??0))})`),Kt(e,B),e.intersect=function(w){return Nt.polygon(e,R,w)},i}P(uae,"waveEdgedRectangle");async function hae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await yn(t,e,fn(e)),o=100,a=50,l=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),A=l/c;let u=l,h=c;u>h*A?h=u/A:u=h*A,u=Math.max(u,o),h=Math.max(h,a);const p=Math.min(h*.2,h/4),E=h+p*2,{cssStyles:T}=e,y=Qt.svg(i),R=Vt(e,{});e.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const I=[{x:-u/2,y:E/2},...zf(-u/2,E/2,u/2,E/2,p,1),{x:u/2,y:-E/2},...zf(u/2,-E/2,-u/2,-E/2,p,-1)],b=pr(I),B=y.path(b,R),w=i.insert(()=>B,":first-child");return w.attr("class","basic label-container"),T&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",T),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),Kt(e,w),e.intersect=function(O){return Nt.polygon(e,I,O)},i}P(hae,"waveRectangle");async function dae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await yn(t,e,fn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=5,A=-a/2,u=-l/2,{cssStyles:h}=e,p=Qt.svg(i),E=Vt(e,{}),T=[{x:A-c,y:u-c},{x:A-c,y:u+l},{x:A+a,y:u+l},{x:A+a,y:u-c}],y=`M${A-c},${u-c} L${A+a},${u-c} L${A+a},${u+l} L${A-c},${u+l} L${A-c},${u-c}
                M${A-c},${u} L${A+a},${u}
                M${A},${u-c} L${A},${u+l}`;e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const R=p.path(y,E),I=i.insert(()=>R,":first-child");return I.attr("transform",`translate(${c/2}, ${c/2})`),I.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",h),r&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(s.width/2)+c/2-(s.x-(s.left??0))}, ${-(s.height/2)+c/2-(s.y-(s.top??0))})`),Kt(e,I),e.intersect=function(b){return Nt.polygon(e,T,b)},i}P(dae,"windowPane");async function MG(t,e){var le,q,we,Oe;const n=e;if(n.alias&&(e.label=n.alias),e.look==="handDrawn"){const{themeVariables:Ce}=Vo(),{background:Ue}=Ce,We={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${Ue}`]};await MG(t,We)}const r=Vo();e.useHtmlLabels=r.htmlLabels;let i=((le=r.er)==null?void 0:le.diagramPadding)??10,s=((q=r.er)==null?void 0:q.entityPadding)??6;const{cssStyles:o}=e,{labelStyles:a,nodeStyles:l}=$t(e);if(n.attributes.length===0&&e.label){const Ce={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};Zh(e.label,r)+Ce.labelPaddingX*2<r.er.minEntityWidth&&(e.width=r.er.minEntityWidth);const Ue=await VL(t,e,Ce);if(!Fs(r.htmlLabels)){const We=Ue.select("text"),qe=(we=We.node())==null?void 0:we.getBBox();We.attr("transform",`translate(${-qe.width/2}, 0)`)}return Ue}r.htmlLabels||(i*=1.25,s*=1.25);let c=fn(e);c||(c="node default");const A=t.insert("g").attr("class",c).attr("id",e.domId||e.id),u=await gT(A,e.label??"",r,0,0,["name"],a);u.height+=s;let h=0;const p=[],E=[];let T=0,y=0,R=0,I=0,b=!0,B=!0;for(const Ce of n.attributes){const Ue=await gT(A,Ce.type,r,0,h,["attribute-type"],a);T=Math.max(T,Ue.width+i);const We=await gT(A,Ce.name,r,0,h,["attribute-name"],a);y=Math.max(y,We.width+i);const qe=await gT(A,Ce.keys.join(),r,0,h,["attribute-keys"],a);R=Math.max(R,qe.width+i);const Je=await gT(A,Ce.comment,r,0,h,["attribute-comment"],a);I=Math.max(I,Je.width+i);const ut=Math.max(Ue.height,We.height,qe.height,Je.height)+s;E.push({yOffset:h,rowHeight:ut}),h+=ut}let w=4;R<=i&&(b=!1,R=0,w--),I<=i&&(B=!1,I=0,w--);const O=A.node().getBBox();if(u.width+i*2-(T+y+R+I)>0){const Ce=u.width+i*2-(T+y+R+I);T+=Ce/w,y+=Ce/w,R>0&&(R+=Ce/w),I>0&&(I+=Ce/w)}const L=T+y+R+I,U=Qt.svg(A),G=Vt(e,{});e.look!=="handDrawn"&&(G.roughness=0,G.fillStyle="solid");let Q=0;E.length>0&&(Q=E.reduce((Ce,Ue)=>Ce+((Ue==null?void 0:Ue.rowHeight)??0),0));const Y=Math.max(O.width+i*2,(e==null?void 0:e.width)||0,L),K=Math.max((Q??0)+u.height,(e==null?void 0:e.height)||0),j=-Y/2,V=-K/2;A.selectAll("g:not(:first-child)").each((Ce,Ue,We)=>{const qe=Or(We[Ue]),Je=qe.attr("transform");let ut=0,en=0;if(Je){const be=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Je);be&&(ut=parseFloat(be[1]),en=parseFloat(be[2]),qe.attr("class").includes("attribute-name")?ut+=T:qe.attr("class").includes("attribute-keys")?ut+=T+y:qe.attr("class").includes("attribute-comment")&&(ut+=T+y+R))}qe.attr("transform",`translate(${j+i/2+ut}, ${en+V+u.height+s/2})`)}),A.select(".name").attr("transform","translate("+-u.width/2+", "+(V+s/2)+")");const $=U.rectangle(j,V,Y,K,G),J=A.insert(()=>$,":first-child").attr("style",o.join("")),{themeVariables:te}=Vo(),{rowEven:X,rowOdd:oe,nodeBorder:F}=te;p.push(0);for(const[Ce,Ue]of E.entries()){const qe=(Ce+1)%2===0&&Ue.yOffset!==0,Je=U.rectangle(j,u.height+V+(Ue==null?void 0:Ue.yOffset),Y,Ue==null?void 0:Ue.rowHeight,{...G,fill:qe?X:oe,stroke:F});A.insert(()=>Je,"g.label").attr("style",o.join("")).attr("class",`row-rect-${qe?"even":"odd"}`)}let ee=U.line(j,u.height+V,Y+j,u.height+V,G);A.insert(()=>ee).attr("class","divider"),ee=U.line(T+j,u.height+V,T+j,K+V,G),A.insert(()=>ee).attr("class","divider"),b&&(ee=U.line(T+y+j,u.height+V,T+y+j,K+V,G),A.insert(()=>ee).attr("class","divider")),B&&(ee=U.line(T+y+R+j,u.height+V,T+y+R+j,K+V,G),A.insert(()=>ee).attr("class","divider"));for(const Ce of p)ee=U.line(j,u.height+V+Ce,Y+j,u.height+V+Ce,G),A.insert(()=>ee).attr("class","divider");if(Kt(e,J),l&&e.look!=="handDrawn"){const Ce=l.split(";"),Ue=(Oe=Ce==null?void 0:Ce.filter(We=>We.includes("stroke")))==null?void 0:Oe.map(We=>`${We}`).join("; ");A.selectAll("path").attr("style",Ue??""),A.selectAll(".row-rect-even path").attr("style",l)}return e.intersect=function(Ce){return Nt.rect(e,Ce)},A}P(MG,"erBox");async function gT(t,e,n,r=0,i=0,s=[],o=""){const a=t.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${r}, ${i})`).attr("style",o);e!==TK(e)&&(e=TK(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=a.node().appendChild(await rp(a,e,{width:Zh(e,n)+100,style:o,useHtmlLabels:n.htmlLabels},n));if(e.includes("&lt;")||e.includes("&gt;")){let A=l.children[0];for(A.textContent=A.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");A.childNodes[0];)A=A.childNodes[0],A.textContent=A.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(Fs(n.htmlLabels)){const A=l.children[0];A.style.textAlign="start";const u=Or(l);c=A.getBoundingClientRect(),u.attr("width",c.width),u.attr("height",c.height)}return c}P(gT,"addText");async function fae(t,e,n,r,i=n.class.padding??12){const s=r?0:3,o=t.insert("g").attr("class",fn(e)).attr("id",e.domId||e.id);let a=null,l=null,c=null,A=null,u=0,h=0,p=0;if(a=o.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const I=e.annotations[0];await PC(a,{text:`${I}`},0),u=a.node().getBBox().height}l=o.insert("g").attr("class","label-group text"),await PC(l,e,0,["font-weight: bolder"]);const E=l.node().getBBox();h=E.height,c=o.insert("g").attr("class","members-group text");let T=0;for(const I of e.members){const b=await PC(c,I,T,[I.parseClassifier()]);T+=b+s}p=c.node().getBBox().height,p<=0&&(p=i/2),A=o.insert("g").attr("class","methods-group text");let y=0;for(const I of e.methods){const b=await PC(A,I,y,[I.parseClassifier()]);y+=b+s}let R=o.node().getBBox();if(a!==null){const I=a.node().getBBox();a.attr("transform",`translate(${-I.width/2})`)}return l.attr("transform",`translate(${-E.width/2}, ${u})`),R=o.node().getBBox(),c.attr("transform",`translate(0, ${u+h+i*2})`),R=o.node().getBBox(),A.attr("transform",`translate(0, ${u+h+(p?p+i*4:i*2)})`),R=o.node().getBBox(),{shapeSvg:o,bbox:R}}P(fae,"textHelper");async function PC(t,e,n,r=[]){const i=t.insert("g").attr("class","label").attr("style",r.join("; ")),s=Vo();let o="useHtmlLabels"in e?e.useHtmlLabels:Fs(s.htmlLabels)??!0,a="";"text"in e?a=e.text:a=e.label,!o&&a.startsWith("\\")&&(a=a.substring(1)),NS(a)&&(o=!0);const l=await rp(i,YH(gg(a)),{width:Zh(a,s)+50,classes:"markdown-node-label",useHtmlLabels:o},s);let c,A=1;if(o){const u=l.children[0],h=Or(l);A=u.innerHTML.split("<br>").length,u.innerHTML.includes("</math>")&&(A+=u.innerHTML.split("<mrow>").length-1);const p=u.getElementsByTagName("img");if(p){const E=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(T=>new Promise(y=>{function R(){var I;if(T.style.display="flex",T.style.flexDirection="column",E){const b=((I=s.fontSize)==null?void 0:I.toString())??window.getComputedStyle(document.body).fontSize,w=parseInt(b,10)*5+"px";T.style.minWidth=w,T.style.maxWidth=w}else T.style.width="100%";y(T)}P(R,"setupImage"),setTimeout(()=>{T.complete&&R()}),T.addEventListener("error",R),T.addEventListener("load",R)})))}c=u.getBoundingClientRect(),h.attr("width",c.width),h.attr("height",c.height)}else{r.includes("font-weight: bolder")&&Or(l).selectAll("tspan").attr("font-weight",""),A=l.children.length;const u=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(u.textContent=a[0]+a.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),a[1]===" "&&(u.textContent=u.textContent[0]+" "+u.textContent.substring(1))),u.textContent==="undefined"&&(u.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*A)+n)+")"),c.height}P(PC,"addText");async function pae(t,e){var G,Q;const n=jr(),r=n.class.padding??12,i=r,s=e.useHtmlLabels??Fs(n.htmlLabels)??!0,o=e;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:a,bbox:l}=await fae(t,e,n,s,i),{labelStyles:c,nodeStyles:A}=$t(e);e.labelStyle=c,e.cssStyles=o.styles||"";const u=((G=o.styles)==null?void 0:G.join(";"))||A||"";e.cssStyles||(e.cssStyles=u.replaceAll("!important","").split(";"));const h=o.members.length===0&&o.methods.length===0&&!((Q=n.class)!=null&&Q.hideEmptyMembersBox),p=Qt.svg(a),E=Vt(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const T=l.width;let y=l.height;o.members.length===0&&o.methods.length===0?y+=i:o.members.length>0&&o.methods.length===0&&(y+=i*2);const R=-T/2,I=-y/2,b=p.rectangle(R-r,I-r-(h?r:o.members.length===0&&o.methods.length===0?-r/2:0),T+2*r,y+2*r+(h?r*2:o.members.length===0&&o.methods.length===0?-r:0),E),B=a.insert(()=>b,":first-child");B.attr("class","basic label-container");const w=B.node().getBBox();a.selectAll(".text").each((Y,K,j)=>{var oe;const V=Or(j[K]),$=V.attr("transform");let J=0;if($){const ee=RegExp(/translate\(([^,]+),([^)]+)\)/).exec($);ee&&(J=parseFloat(ee[2]))}let te=J+I+r-(h?r:o.members.length===0&&o.methods.length===0?-r/2:0);s||(te-=4);let X=R;(V.attr("class").includes("label-group")||V.attr("class").includes("annotation-group"))&&(X=-((oe=V.node())==null?void 0:oe.getBBox().width)/2||0,a.selectAll("text").each(function(F,ee,le){window.getComputedStyle(le[ee]).textAnchor==="middle"&&(X=0)})),V.attr("transform",`translate(${X}, ${te})`)});const O=a.select(".annotation-group").node().getBBox().height-(h?r/2:0)||0,L=a.select(".label-group").node().getBBox().height-(h?r/2:0)||0,U=a.select(".members-group").node().getBBox().height-(h?r/2:0)||0;if(o.members.length>0||o.methods.length>0||h){const Y=p.line(w.x,O+L+I+r,w.x+w.width,O+L+I+r,E);a.insert(()=>Y).attr("class","divider").attr("style",u)}if(h||o.members.length>0||o.methods.length>0){const Y=p.line(w.x,O+L+U+I+i*2+r,w.x+w.width,O+L+U+I+r+i*2,E);a.insert(()=>Y).attr("class","divider").attr("style",u)}if(o.look!=="handDrawn"&&a.selectAll("path").attr("style",u),B.select(":nth-child(2)").attr("style",u),a.selectAll(".divider").select("path").attr("style",u),e.labelStyle?a.selectAll("span").attr("style",e.labelStyle):a.selectAll("span").attr("style",u),!s){const Y=RegExp(/color\s*:\s*([^;]*)/),K=Y.exec(u);if(K){const j=K[0].replace("color","fill");a.selectAll("tspan").attr("style",j)}else if(c){const j=Y.exec(c);if(j){const V=j[0].replace("color","fill");a.selectAll("tspan").attr("style",V)}}}return Kt(e,B),e.intersect=function(Y){return Nt.rect(e,Y)},a}P(pae,"classBox");async function mae(t,e){var O,L;const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const i=e,s=e,o=20,a=20,l="verifyMethod"in e,c=fn(e),A=t.insert("g").attr("class",c).attr("id",e.domId??e.id);let u;l?u=await nu(A,`&lt;&lt;${i.type}&gt;&gt;`,0,e.labelStyle):u=await nu(A,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let h=u;const p=await nu(A,i.name,h,e.labelStyle+"; font-weight: bold;");if(h+=p+a,l){const U=await nu(A,`${i.requirementId?`ID: ${i.requirementId}`:""}`,h,e.labelStyle);h+=U;const G=await nu(A,`${i.text?`Text: ${i.text}`:""}`,h,e.labelStyle);h+=G;const Q=await nu(A,`${i.risk?`Risk: ${i.risk}`:""}`,h,e.labelStyle);h+=Q,await nu(A,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,h,e.labelStyle)}else{const U=await nu(A,`${s.type?`Type: ${s.type}`:""}`,h,e.labelStyle);h+=U,await nu(A,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,h,e.labelStyle)}const E=(((O=A.node())==null?void 0:O.getBBox().width)??200)+o,T=(((L=A.node())==null?void 0:L.getBBox().height)??200)+o,y=-E/2,R=-T/2,I=Qt.svg(A),b=Vt(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const B=I.rectangle(y,R,E,T,b),w=A.insert(()=>B,":first-child");if(w.attr("class","basic label-container").attr("style",r),A.selectAll(".label").each((U,G,Q)=>{const Y=Or(Q[G]),K=Y.attr("transform");let j=0,V=0;if(K){const X=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(K);X&&(j=parseFloat(X[1]),V=parseFloat(X[2]))}const $=V-T/2;let J=y+o/2;(G===0||G===1)&&(J=j),Y.attr("transform",`translate(${J}, ${$+o})`)}),h>u+p+a){const U=I.line(y,R+u+p+a,y+E,R+u+p+a,b);A.insert(()=>U).attr("style",r)}return Kt(e,w),e.intersect=function(U){return Nt.rect(e,U)},A}P(mae,"requirementBox");async function nu(t,e,n,r=""){if(e==="")return 0;const i=t.insert("g").attr("class","label").attr("style",r),s=jr(),o=s.htmlLabels??!0,a=await rp(i,YH(gg(e)),{width:Zh(e,s)+50,classes:"markdown-node-label",useHtmlLabels:o,style:r},s);let l;if(o){const c=a.children[0],A=Or(a);l=c.getBoundingClientRect(),A.attr("width",l.width),A.attr("height",l.height)}else{const c=a.children[0];for(const A of c.children)A.textContent=A.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),r&&A.setAttribute("style",r);l=a.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+n})`),l.height}P(nu,"addText");var vnt=P(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function gae(t,e,{config:n}){var K,j;const{labelStyles:r,nodeStyles:i}=$t(e);e.labelStyle=r||"";const s=10,o=e.width;e.width=(e.width??200)-10;const{shapeSvg:a,bbox:l,label:c}=await yn(t,e,fn(e)),A=e.padding||10;let u="",h;"ticket"in e&&e.ticket&&((K=n==null?void 0:n.kanban)!=null&&K.ticketBaseUrl)&&(u=(j=n==null?void 0:n.kanban)==null?void 0:j.ticketBaseUrl.replace("#TICKET#",e.ticket),h=a.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",u).attr("target","_blank"));const p={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let E,T;h?{label:E,bbox:T}=await _k(h,"ticket"in e&&e.ticket||"",p):{label:E,bbox:T}=await _k(a,"ticket"in e&&e.ticket||"",p);const{label:y,bbox:R}=await _k(a,"assigned"in e&&e.assigned||"",p);e.width=o;const I=10,b=(e==null?void 0:e.width)||0,B=Math.max(T.height,R.height)/2,w=Math.max(l.height+I*2,(e==null?void 0:e.height)||0)+B,O=-b/2,L=-w/2;c.attr("transform","translate("+(A-b/2)+", "+(-B-l.height/2)+")"),E.attr("transform","translate("+(A-b/2)+", "+(-B+l.height/2)+")"),y.attr("transform","translate("+(A+b/2-R.width-2*s)+", "+(-B+l.height/2)+")");let U;const{rx:G,ry:Q}=e,{cssStyles:Y}=e;if(e.look==="handDrawn"){const V=Qt.svg(a),$=Vt(e,{}),J=G||Q?V.path(ip(O,L,b,w,G||0),$):V.rectangle(O,L,b,w,$);U=a.insert(()=>J,":first-child"),U.attr("class","basic label-container").attr("style",Y||null)}else{U=a.insert("rect",":first-child"),U.attr("class","basic label-container __APA__").attr("style",i).attr("rx",G??5).attr("ry",Q??5).attr("x",O).attr("y",L).attr("width",b).attr("height",w);const V="priority"in e&&e.priority;if(V){const $=a.append("line"),J=O+2,te=L+Math.floor((G??0)/2),X=L+w-Math.floor((G??0)/2);$.attr("x1",J).attr("y1",te).attr("x2",J).attr("y2",X).attr("stroke-width","4").attr("stroke",vnt(V))}}return Kt(e,U),e.height=w,e.intersect=function(V){return Nt.rect(e,V)},a}P(gae,"kanbanItem");async function Eae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o,label:a}=await yn(t,e,fn(e)),l=s.width+10*o,c=s.height+8*o,A=.15*l,{cssStyles:u}=e,h=s.width+20,p=s.height+20,E=Math.max(l,h),T=Math.max(c,p);a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let y;const R=`M0 0 
    a${A},${A} 1 0,0 ${E*.25},${-1*T*.1}
    a${A},${A} 1 0,0 ${E*.25},0
    a${A},${A} 1 0,0 ${E*.25},0
    a${A},${A} 1 0,0 ${E*.25},${T*.1}

    a${A},${A} 1 0,0 ${E*.15},${T*.33}
    a${A*.8},${A*.8} 1 0,0 0,${T*.34}
    a${A},${A} 1 0,0 ${-1*E*.15},${T*.33}

    a${A},${A} 1 0,0 ${-1*E*.25},${T*.15}
    a${A},${A} 1 0,0 ${-1*E*.25},0
    a${A},${A} 1 0,0 ${-1*E*.25},0
    a${A},${A} 1 0,0 ${-1*E*.25},${-1*T*.15}

    a${A},${A} 1 0,0 ${-1*E*.1},${-1*T*.33}
    a${A*.8},${A*.8} 1 0,0 0,${-1*T*.34}
    a${A},${A} 1 0,0 ${E*.1},${-1*T*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const I=Qt.svg(i),b=Vt(e,{}),B=I.path(R,b);y=i.insert(()=>B,":first-child"),y.attr("class","basic label-container").attr("style",Wo(u))}else y=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",R);return y.attr("transform",`translate(${-E/2}, ${-T/2})`),Kt(e,y),e.calcIntersect=function(I,b){return Nt.rect(I,b)},e.intersect=function(I){return $e.info("Bang intersect",e,I),Nt.rect(e,I)},i}P(Eae,"bang");async function Tae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o,label:a}=await yn(t,e,fn(e)),l=s.width+2*o,c=s.height+2*o,A=.15*l,u=.25*l,h=.35*l,p=.2*l,{cssStyles:E}=e;let T;const y=`M0 0 
    a${A},${A} 0 0,1 ${l*.25},${-1*l*.1}
    a${h},${h} 1 0,1 ${l*.4},${-1*l*.1}
    a${u},${u} 1 0,1 ${l*.35},${l*.2}

    a${A},${A} 1 0,1 ${l*.15},${c*.35}
    a${p},${p} 1 0,1 ${-1*l*.15},${c*.65}

    a${u},${A} 1 0,1 ${-1*l*.25},${l*.15}
    a${h},${h} 1 0,1 ${-1*l*.5},0
    a${A},${A} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${A},${A} 1 0,1 ${-1*l*.1},${-1*c*.35}
    a${p},${p} 1 0,1 ${l*.1},${-1*c*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const R=Qt.svg(i),I=Vt(e,{}),b=R.path(y,I);T=i.insert(()=>b,":first-child"),T.attr("class","basic label-container").attr("style",Wo(E))}else T=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",y);return a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),T.attr("transform",`translate(${-l/2}, ${-c/2})`),Kt(e,T),e.calcIntersect=function(R,I){return Nt.rect(R,I)},e.intersect=function(R){return $e.info("Cloud intersect",e,R),Nt.rect(e,R)},i}P(Tae,"cloud");async function Sae(t,e){const{labelStyles:n,nodeStyles:r}=$t(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o,label:a}=await yn(t,e,fn(e)),l=s.width+8*o,c=s.height+2*o,A=5,u=`
    M${-l/2} ${c/2-A}
    v${-c+2*A}
    q0,-${A} ${A},-${A}
    h${l-2*A}
    q${A},0 ${A},${A}
    v${c-2*A}
    q0,${A} -${A},${A}
    h${-l+2*A}
    q-${A},0 -${A},-${A}
    Z
  `,h=i.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",r).attr("d",u);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",c/2).attr("x2",l/2).attr("y2",c/2),a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>a.node()),Kt(e,h),e.calcIntersect=function(p,E){return Nt.rect(p,E)},e.intersect=function(p){return Nt.rect(e,p)},i}P(Sae,"defaultMindmapNode");async function yae(t,e){const n={padding:e.padding??0};return kG(t,e,n)}P(yae,"mindmapCircle");var Ont=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Joe},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:zoe},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Zoe},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:rae},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Coe},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:kG},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:Eae},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:Tae},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Yoe},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:voe},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Foe},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Uoe},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:lae},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Moe},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Roe},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:oae},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:foe},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:qoe},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:nae},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:tae},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Noe},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Ooe},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Eoe},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Toe},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Soe},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Hoe},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:uae},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:boe},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:aae},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Goe},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:yoe},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:xoe},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:Aae},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:dae},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Ioe},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:cae},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:_oe},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Xoe},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:$oe},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Voe},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:doe},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:goe},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:sae},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:iae},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:hae},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:joe},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Qoe}],wnt=P(()=>{const e=[...Object.entries({state:eae,choice:poe,note:Woe,rectWithTitle:Koe,labelRect:Poe,iconSquare:Doe,iconCircle:Loe,icon:woe,iconRounded:Boe,imageSquare:koe,anchor:hoe,kanbanItem:gae,mindmapCircle:yae,defaultMindmapNode:Sae,classBox:pae,erBox:MG,requirementBox:mae}),...Ont.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(i=>[i,n.handler]))];return Object.fromEntries(e)},"generateShapeMap"),Cae=wnt();function Lnt(t){return t in Cae}P(Lnt,"isValidShape");var $L=new Map;async function xae(t,e,n){let r,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const s=e.shape?Cae[e.shape]:void 0;if(!s)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let o;n.config.securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o??null),i=await s(r,e,n)}else i=await s(t,e,n),r=i;return e.tooltip&&i.attr("title",e.tooltip),$L.set(e.id,r),e.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}P(xae,"insertNode");var blt=P((t,e)=>{$L.set(e.id,t)},"setNodeElem"),vlt=P(()=>{$L.clear()},"clear"),Olt=P(t=>{const e=$L.get(t.id);$e.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode"),Bnt=P((t,e,n,r,i,s)=>{e.arrowTypeStart&&b6(t,"start",e.arrowTypeStart,n,r,i,s),e.arrowTypeEnd&&b6(t,"end",e.arrowTypeEnd,n,r,i,s)},"addEdgeMarkers"),Dnt={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},b6=P((t,e,n,r,i,s,o)=>{var u;const a=Dnt[n];if(!a){$e.warn(`Unknown arrow type: ${n}`);return}const l=a.type,A=`${i}_${s}-${l}${e==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const h=o.replace(/[^\dA-Za-z]/g,"_"),p=`${A}_${h}`;if(!document.getElementById(p)){const E=document.getElementById(A);if(E){const T=E.cloneNode(!0);T.id=p,T.querySelectorAll("path, circle, line").forEach(R=>{R.setAttribute("stroke",o),a.fill&&R.setAttribute("fill",o)}),(u=E.parentNode)==null||u.appendChild(T)}}t.attr(`marker-${e}`,`url(${r}#${p})`)}else t.attr(`marker-${e}`,`url(${r}#${A})`)},"addEdgeMarker"),fw=new Map,go=new Map,wlt=P(()=>{fw.clear(),go.clear()},"clear"),$N=P(t=>t?t.reduce((n,r)=>n+";"+r,""):"","getLabelStyles"),knt=P(async(t,e)=>{let n=Fs(jr().flowchart.htmlLabels);const{labelStyles:r}=$t(e);e.labelStyle=r;const i=await rp(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});$e.info("abc82",e,e.labelType);const s=t.insert("g").attr("class","edgeLabel"),o=s.insert("g").attr("class","label").attr("data-id",e.id);o.node().appendChild(i);let a=i.getBBox();if(n){const c=i.children[0],A=Or(i);a=c.getBoundingClientRect(),A.attr("width",a.width),A.attr("height",a.height)}o.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),fw.set(e.id,s),e.width=a.width,e.height=a.height;let l;if(e.startLabelLeft){const c=await Lm(e.startLabelLeft,$N(e.labelStyle)),A=t.insert("g").attr("class","edgeTerminals"),u=A.insert("g").attr("class","inner");l=u.node().appendChild(c);const h=c.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),go.get(e.id)||go.set(e.id,{}),go.get(e.id).startLeft=A,UC(l,e.startLabelLeft)}if(e.startLabelRight){const c=await Lm(e.startLabelRight,$N(e.labelStyle)),A=t.insert("g").attr("class","edgeTerminals"),u=A.insert("g").attr("class","inner");l=A.node().appendChild(c),u.node().appendChild(c);const h=c.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),go.get(e.id)||go.set(e.id,{}),go.get(e.id).startRight=A,UC(l,e.startLabelRight)}if(e.endLabelLeft){const c=await Lm(e.endLabelLeft,$N(e.labelStyle)),A=t.insert("g").attr("class","edgeTerminals"),u=A.insert("g").attr("class","inner");l=u.node().appendChild(c);const h=c.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),A.node().appendChild(c),go.get(e.id)||go.set(e.id,{}),go.get(e.id).endLeft=A,UC(l,e.endLabelLeft)}if(e.endLabelRight){const c=await Lm(e.endLabelRight,$N(e.labelStyle)),A=t.insert("g").attr("class","edgeTerminals"),u=A.insert("g").attr("class","inner");l=u.node().appendChild(c);const h=c.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),A.node().appendChild(c),go.get(e.id)||go.set(e.id,{}),go.get(e.id).endRight=A,UC(l,e.endLabelRight)}return i},"insertEdgeLabel");function UC(t,e){jr().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}P(UC,"setTerminalWidth");var Mnt=P((t,e)=>{$e.debug("Moving label abc88 ",t.id,t.label,fw.get(t.id),e);let n=e.updatedPath?e.updatedPath:e.originalPath;const r=jr(),{subGraphTitleTotalMargin:i}=hG(r);if(t.label){const s=fw.get(t.id);let o=t.x,a=t.y;if(n){const l=tA.calcLabelPosition(n);$e.debug("Moving label "+t.label+" from (",o,",",a,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(o=l.x,a=l.y)}s.attr("transform",`translate(${o}, ${a+i/2})`)}if(t.startLabelLeft){const s=go.get(t.id).startLeft;let o=t.x,a=t.y;if(n){const l=tA.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(t.startLabelRight){const s=go.get(t.id).startRight;let o=t.x,a=t.y;if(n){const l=tA.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(t.endLabelLeft){const s=go.get(t.id).endLeft;let o=t.x,a=t.y;if(n){const l=tA.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(t.endLabelRight){const s=go.get(t.id).endRight;let o=t.x,a=t.y;if(n){const l=tA.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}},"positionEdgeLabel"),Pnt=P((t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),s=Math.abs(e.y-r),o=t.width/2,a=t.height/2;return i>=o||s>=a},"outsideNode"),Unt=P((t,e,n)=>{$e.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,s=Math.abs(r-n.x),o=t.width/2;let a=n.x<e.x?o-s:o+s;const l=t.height/2,c=Math.abs(e.y-n.y),A=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*o>Math.abs(r-e.x)*l){let u=n.y<e.y?e.y-l-i:i-l-e.y;a=A*u/c;const h={x:n.x<e.x?n.x+a:n.x-A+a,y:n.y<e.y?n.y+c-u:n.y-c+u};return a===0&&(h.x=e.x,h.y=e.y),A===0&&(h.x=e.x),c===0&&(h.y=e.y),$e.debug(`abc89 top/bottom calc, Q ${c}, q ${u}, R ${A}, r ${a}`,h),h}else{n.x<e.x?a=e.x-o-r:a=r-o-e.x;let u=c*a/A,h=n.x<e.x?n.x+A-a:n.x-A+a,p=n.y<e.y?n.y+u:n.y-u;return $e.debug(`sides calc abc89, Q ${c}, q ${u}, R ${A}, r ${a}`,{_x:h,_y:p}),a===0&&(h=e.x,p=e.y),A===0&&(h=e.x),c===0&&(p=e.y),{x:h,y:p}}},"intersection"),v6=P((t,e)=>{$e.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach(s=>{if($e.info("abc88 checking point",s,e),!Pnt(e,s)&&!i){const o=Unt(e,r,s);$e.debug("abc88 inside",s,r,o),$e.debug("abc88 intersection",o,e);let a=!1;n.forEach(l=>{a=a||l.x===o.x&&l.y===o.y}),n.some(l=>l.x===o.x&&l.y===o.y)?$e.warn("abc88 no intersect",o,n):n.push(o),i=!0}else $e.warn("abc88 outside",s,r),r=s,i||n.push(s)}),$e.debug("returning points",n),n},"cutPathAtIntersect");function Rae(t){const e=[],n=[];for(let r=1;r<t.length-1;r++){const i=t[r-1],s=t[r],o=t[r+1];(i.x===s.x&&s.y===o.y&&Math.abs(s.x-o.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===o.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-o.y)>5)&&(e.push(s),n.push(r))}return{cornerPoints:e,cornerPointPositions:n}}P(Rae,"extractCornerPoints");var O6=P(function(t,e,n){const r=e.x-t.x,i=e.y-t.y,s=Math.sqrt(r*r+i*i),o=n/s;return{x:e.x-o*r,y:e.y-o*i}},"findAdjacentPoint"),Fnt=P(function(t){const{cornerPointPositions:e}=Rae(t),n=[];for(let r=0;r<t.length;r++)if(e.includes(r)){const i=t[r-1],s=t[r+1],o=t[r],a=O6(i,o,5),l=O6(s,o,5),c=l.x-a.x,A=l.y-a.y;n.push(a);const u=Math.sqrt(2)*2;let h={x:o.x,y:o.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){$e.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const p=5;o.x===a.x?h={x:c<0?a.x-p+u:a.x+p-u,y:A<0?a.y-u:a.y+u}:h={x:c<0?a.x-u:a.x+u,y:A<0?a.y-p+u:a.y+p-u}}else $e.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));n.push(h,l)}else n.push(t[r]);return n},"fixCorners"),Hnt=P((t,e,n)=>{const r=t-e-n,i=2,s=2,o=i+s,a=Math.floor(r/o),l=Array(a).fill(`${i} ${s}`).join(" ");return`0 ${e} ${l} ${n}`},"generateDashArray"),Gnt=P(function(t,e,n,r,i,s,o,a=!1){var V;const{handDrawnSeed:l}=jr();let c=e.points,A=!1;const u=i;var h=s;const p=[];for(const $ in e.cssCompiledStyles)tse($)||p.push(e.cssCompiledStyles[$]);$e.debug("UIO intersect check",e.points,h.x,u.x),h.intersect&&u.intersect&&!a&&(c=c.slice(1,e.points.length-1),c.unshift(u.intersect(c[0])),$e.debug("Last point UIO",e.start,"-->",e.end,c[c.length-1],h,h.intersect(c[c.length-1])),c.push(h.intersect(c[c.length-1])));const E=btoa(JSON.stringify(c));e.toCluster&&($e.info("to cluster abc88",n.get(e.toCluster)),c=v6(e.points,n.get(e.toCluster).node),A=!0),e.fromCluster&&($e.debug("from cluster abc88",n.get(e.fromCluster),JSON.stringify(c,null,2)),c=v6(c.reverse(),n.get(e.fromCluster).node).reverse(),A=!0);let T=c.filter($=>!Number.isNaN($.y));T=Fnt(T);let y=Fb;switch(y=WO,e.curve){case"linear":y=WO;break;case"basis":y=Fb;break;case"cardinal":y=sre;break;case"bumpX":y=ere;break;case"bumpY":y=tre;break;case"catmullRom":y=are;break;case"monotoneX":y=dre;break;case"monotoneY":y=fre;break;case"natural":y=mre;break;case"step":y=gre;break;case"stepAfter":y=Tre;break;case"stepBefore":y=Ere;break;default:y=Fb}const{x:R,y:I}=PJe(e),b=S9e().x(R).y(I).curve(y);let B;switch(e.thickness){case"normal":B="edge-thickness-normal";break;case"thick":B="edge-thickness-thick";break;case"invisible":B="edge-thickness-invisible";break;default:B="edge-thickness-normal"}switch(e.pattern){case"solid":B+=" edge-pattern-solid";break;case"dotted":B+=" edge-pattern-dotted";break;case"dashed":B+=" edge-pattern-dashed";break;default:B+=" edge-pattern-solid"}let w,O=e.curve==="rounded"?Iae(_ae(T,e),5):b(T);const L=Array.isArray(e.style)?e.style:[e.style];let U=L.find($=>$==null?void 0:$.startsWith("stroke:")),G=!1;if(e.look==="handDrawn"){const $=Qt.svg(t);Object.assign([],T);const J=$.path(O,{roughness:.3,seed:l});B+=" transition",w=Or(J).select("path").attr("id",e.id).attr("class"," "+B+(e.classes?" "+e.classes:"")).attr("style",L?L.reduce((X,oe)=>X+";"+oe,""):"");let te=w.attr("d");w.attr("d",te),t.node().appendChild(w.node())}else{const $=p.join(";"),J=L?L.reduce((q,we)=>q+we+";",""):"";let te="";e.animate&&(te=" edge-animation-fast"),e.animation&&(te=" edge-animation-"+e.animation);const X=($?$+";"+J+";":J)+";"+(L?L.reduce((q,we)=>q+";"+we,""):"");w=t.append("path").attr("d",O).attr("id",e.id).attr("class"," "+B+(e.classes?" "+e.classes:"")+(te??"")).attr("style",X),U=(V=X.match(/stroke:([^;]+)/))==null?void 0:V[1],G=e.animate===!0||!!e.animation||$.includes("animation");const oe=w.node(),F=typeof oe.getTotalLength=="function"?oe.getTotalLength():0,ee=YK[e.arrowTypeStart]||0,le=YK[e.arrowTypeEnd]||0;if(e.look==="neo"&&!G){const we=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?Hnt(F,ee,le):`0 ${ee} ${F-ee-le} ${le}`}; stroke-dashoffset: 0;`;w.attr("style",we+w.attr("style"))}}w.attr("data-edge",!0),w.attr("data-et","edge"),w.attr("data-id",e.id),w.attr("data-points",E),e.showPoints&&T.forEach($=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",$.x).attr("cy",$.y)});let Q="";(jr().flowchart.arrowMarkerAbsolute||jr().state.arrowMarkerAbsolute)&&(Q=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Q=Q.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),$e.info("arrowTypeStart",e.arrowTypeStart),$e.info("arrowTypeEnd",e.arrowTypeEnd),Bnt(w,e,Q,o,r,U);const Y=Math.floor(c.length/2),K=c[Y];tA.isLabelCoordinateInPath(K,w.attr("d"))||(A=!0);let j={};return A&&(j.updatedPath=c),j.originalPath=e.points,j},"insertEdge");function Iae(t,e){if(t.length<2)return"";let n="";const r=t.length,i=1e-5;for(let s=0;s<r;s++){const o=t[s],a=t[s-1],l=t[s+1];if(s===0)n+=`M${o.x},${o.y}`;else if(s===r-1)n+=`L${o.x},${o.y}`;else{const c=o.x-a.x,A=o.y-a.y,u=l.x-o.x,h=l.y-o.y,p=Math.hypot(c,A),E=Math.hypot(u,h);if(p<i||E<i){n+=`L${o.x},${o.y}`;continue}const T=c/p,y=A/p,R=u/E,I=h/E,b=T*R+y*I,B=Math.max(-1,Math.min(1,b)),w=Math.acos(B);if(w<i||Math.abs(Math.PI-w)<i){n+=`L${o.x},${o.y}`;continue}const O=Math.min(e/Math.sin(w/2),p/2,E/2),L=o.x-T*O,U=o.y-y*O,G=o.x+R*O,Q=o.y+I*O;n+=`L${L},${U}`,n+=`Q${o.x},${o.y} ${G},${Q}`}}return n}P(Iae,"generateRoundedPath");function jU(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const n=e.x-t.x,r=e.y-t.y;return{angle:Math.atan2(r,n),deltaX:n,deltaY:r}}P(jU,"calculateDeltaAndAngle");function _ae(t,e){const n=t.map(i=>({...i}));if(t.length>=2&&ko[e.arrowTypeStart]){const i=ko[e.arrowTypeStart],s=t[0],o=t[1],{angle:a}=jU(s,o),l=i*Math.cos(a),c=i*Math.sin(a);n[0].x=s.x+l,n[0].y=s.y+c}const r=t.length;if(r>=2&&ko[e.arrowTypeEnd]){const i=ko[e.arrowTypeEnd],s=t[r-1],o=t[r-2],{angle:a}=jU(o,s),l=i*Math.cos(a),c=i*Math.sin(a);n[r-1].x=s.x-l,n[r-1].y=s.y-c}return n}P(_ae,"applyMarkerOffsetsToPoints");var Qnt=P((t,e,n,r)=>{e.forEach(i=>{irt[i](t,n,r)})},"insertMarkers"),Vnt=P((t,e,n)=>{$e.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),$nt=P((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Wnt=P((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Ynt=P((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),jnt=P((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Knt=P((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),znt=P((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),qnt=P((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Xnt=P((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Jnt=P((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),Znt=P((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("d","M9,0 L9,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),ert=P((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),trt=P((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),nrt=P((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),rrt=P((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),irt={extension:Vnt,composition:$nt,aggregation:Wnt,dependency:Ynt,lollipop:jnt,point:Knt,circle:znt,cross:qnt,barb:Xnt,only_one:Jnt,zero_or_one:Znt,one_or_more:ert,zero_or_more:trt,requirement_arrow:nrt,requirement_contains:rrt},srt=Qnt,ort={common:XS,getConfig:Vo,insertCluster:fnt,insertEdge:Gnt,insertEdgeLabel:knt,insertMarkers:srt,insertNode:xae,interpolateToCurve:gG,labelHelper:yn,log:$e,positionEdgeLabel:Mnt},hR={},Nae=P(t=>{for(const e of t)hR[e.name]=e},"registerLayoutLoaders"),art=P(()=>{Nae([{name:"dagre",loader:P(async()=>await ir(()=>import("./dagre-6UL2VRFP-BtT2BXAH.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:P(async()=>await ir(()=>import("./cose-bilkent-S5V4N54A-IbIBEYxz.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");art();var Llt=P(async(t,e)=>{if(!(t.layoutAlgorithm in hR))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const n=hR[t.layoutAlgorithm];return(await n.loader()).render(t,e,ort,{algorithm:n.algorithm})},"render"),Blt=P((t="",{fallback:e="dagre"}={})=>{if(t in hR)return t;if(e in hR)return $e.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),bae="comm",vae="rule",Oae="decl",lrt="@import",crt="@namespace",Art="@keyframes",urt="@layer",wae=Math.abs,PG=String.fromCharCode;function Lae(t){return t.trim()}function $b(t,e,n){return t.replace(e,n)}function hrt(t,e,n){return t.indexOf(e,n)}function JT(t,e){return t.charCodeAt(e)|0}function LS(t,e,n){return t.slice(e,n)}function au(t){return t.length}function drt(t){return t.length}function WN(t,e){return e.push(t),t}var WL=1,BS=1,Bae=0,Nc=0,Ss=0,ny="";function UG(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:WL,column:BS,length:o,return:"",siblings:a}}function frt(){return Ss}function prt(){return Ss=Nc>0?JT(ny,--Nc):0,BS--,Ss===10&&(BS=1,WL--),Ss}function uA(){return Ss=Nc<Bae?JT(ny,Nc++):0,BS++,Ss===10&&(BS=1,WL++),Ss}function Tf(){return JT(ny,Nc)}function Wb(){return Nc}function YL(t,e){return LS(ny,t,e)}function dR(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mrt(t){return WL=BS=1,Bae=au(ny=t),Nc=0,[]}function grt(t){return ny="",t}function Nk(t){return Lae(YL(Nc-1,KU(t===91?t+2:t===40?t+1:t)))}function Ert(t){for(;(Ss=Tf())&&Ss<33;)uA();return dR(t)>2||dR(Ss)>3?"":" "}function Trt(t,e){for(;--e&&uA()&&!(Ss<48||Ss>102||Ss>57&&Ss<65||Ss>70&&Ss<97););return YL(t,Wb()+(e<6&&Tf()==32&&uA()==32))}function KU(t){for(;uA();)switch(Ss){case t:return Nc;case 34:case 39:t!==34&&t!==39&&KU(Ss);break;case 40:t===41&&KU(t);break;case 92:uA();break}return Nc}function Srt(t,e){for(;uA()&&t+Ss!==57;)if(t+Ss===84&&Tf()===47)break;return"/*"+YL(e,Nc-1)+"*"+PG(t===47?t:uA())}function yrt(t){for(;!dR(Tf());)uA();return YL(t,Nc)}function Crt(t){return grt(Yb("",null,null,null,[""],t=mrt(t),0,[0],t))}function Yb(t,e,n,r,i,s,o,a,l){for(var c=0,A=0,u=o,h=0,p=0,E=0,T=1,y=1,R=1,I=0,b="",B=i,w=s,O=r,L=b;y;)switch(E=I,I=uA()){case 40:if(E!=108&&JT(L,u-1)==58){hrt(L+=$b(Nk(I),"&","&\f"),"&\f",wae(c?a[c-1]:0))!=-1&&(R=-1);break}case 34:case 39:case 91:L+=Nk(I);break;case 9:case 10:case 13:case 32:L+=Ert(E);break;case 92:L+=Trt(Wb()-1,7);continue;case 47:switch(Tf()){case 42:case 47:WN(xrt(Srt(uA(),Wb()),e,n,l),l),(dR(E||1)==5||dR(Tf()||1)==5)&&au(L)&&LS(L,-1,void 0)!==" "&&(L+=" ");break;default:L+="/"}break;case 123*T:a[c++]=au(L)*R;case 125*T:case 59:case 0:switch(I){case 0:case 125:y=0;case 59+A:R==-1&&(L=$b(L,/\f/g,"")),p>0&&(au(L)-u||T===0&&E===47)&&WN(p>32?L6(L+";",r,n,u-1,l):L6($b(L," ","")+";",r,n,u-2,l),l);break;case 59:L+=";";default:if(WN(O=w6(L,e,n,c,A,i,a,b,B=[],w=[],u,s),s),I===123)if(A===0)Yb(L,e,O,O,B,s,u,a,w);else{switch(h){case 99:if(JT(L,3)===110)break;case 108:if(JT(L,2)===97)break;default:A=0;case 100:case 109:case 115:}A?Yb(t,O,O,r&&WN(w6(t,O,O,0,0,i,a,b,i,B=[],u,w),w),i,w,u,a,r?B:w):Yb(L,O,O,O,[""],w,0,a,w)}}c=A=p=0,T=R=1,b=L="",u=o;break;case 58:u=1+au(L),p=E;default:if(T<1){if(I==123)--T;else if(I==125&&T++==0&&prt()==125)continue}switch(L+=PG(I),I*T){case 38:R=A>0?1:(L+="\f",-1);break;case 44:a[c++]=(au(L)-1)*R,R=1;break;case 64:Tf()===45&&(L+=Nk(uA())),h=Tf(),A=u=au(b=L+=yrt(Wb())),I++;break;case 45:E===45&&au(L)==2&&(T=0)}}return s}function w6(t,e,n,r,i,s,o,a,l,c,A,u){for(var h=i-1,p=i===0?s:[""],E=drt(p),T=0,y=0,R=0;T<r;++T)for(var I=0,b=LS(t,h+1,h=wae(y=o[T])),B=t;I<E;++I)(B=Lae(y>0?p[I]+" "+b:$b(b,/&\f/g,p[I])))&&(l[R++]=B);return UG(t,e,n,i===0?vae:a,l,c,A,u)}function xrt(t,e,n,r){return UG(t,e,n,bae,PG(frt()),LS(t,2,-2),0,r)}function L6(t,e,n,r,i){return UG(t,e,n,Oae,LS(t,0,r),LS(t,r+1,-1),r,i)}function zU(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Rrt(t,e,n,r){switch(t.type){case urt:if(t.children.length)break;case lrt:case crt:case Oae:return t.return=t.return||t.value;case bae:return"";case Art:return t.return=t.value+"{"+zU(t.children,r)+"}";case vae:if(!au(t.value=t.props.join(",")))return""}return au(n=zU(t.children,r))?t.return=t.value+"{"+n+"}":""}var Irt=sse(Object.keys,Object),_rt=Object.prototype,Nrt=_rt.hasOwnProperty;function brt(t){if(!kL(t))return Irt(t);var e=[];for(var n in Object(t))Nrt.call(t,n)&&n!="constructor"&&e.push(n);return e}var qU=mg(ku,"DataView"),XU=mg(ku,"Promise"),JU=mg(ku,"Set"),ZU=mg(ku,"WeakMap"),B6="[object Map]",vrt="[object Object]",D6="[object Promise]",k6="[object Set]",M6="[object WeakMap]",P6="[object DataView]",Ort=pg(qU),wrt=pg(AR),Lrt=pg(XU),Brt=pg(JU),Drt=pg(ZU),mm=ZS;(qU&&mm(new qU(new ArrayBuffer(1)))!=P6||AR&&mm(new AR)!=B6||XU&&mm(XU.resolve())!=D6||JU&&mm(new JU)!=k6||ZU&&mm(new ZU)!=M6)&&(mm=function(t){var e=ZS(t),n=e==vrt?t.constructor:void 0,r=n?pg(n):"";if(r)switch(r){case Ort:return P6;case wrt:return B6;case Lrt:return D6;case Brt:return k6;case Drt:return M6}return e});var krt="[object Map]",Mrt="[object Set]",Prt=Object.prototype,Urt=Prt.hasOwnProperty;function U6(t){if(t==null)return!0;if(ML(t)&&(iw(t)||typeof t=="string"||typeof t.splice=="function"||pG(t)||mG(t)||rw(t)))return!t.length;var e=mm(t);if(e==krt||e==Mrt)return!t.size;if(kL(t))return!brt(t).length;for(var n in t)if(Urt.call(t,n))return!1;return!0}var Dae="c4",Frt=P(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Hrt=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-D257Hj4r.js");return{diagram:e}},__vite__mapDeps([8,9]));return{id:Dae,diagram:t}},"loader"),Grt={id:Dae,detector:Frt,loader:Hrt},Qrt=Grt,kae="flowchart",Vrt=P((t,e)=>{var n,r;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),$rt=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-ereE-QQk.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:kae,diagram:t}},"loader"),Wrt={id:kae,detector:Vrt,loader:$rt},Yrt=Wrt,Mae="flowchart-v2",jrt=P((t,e)=>{var n,r,i;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"?!1:(((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),Krt=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-ereE-QQk.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:Mae,diagram:t}},"loader"),zrt={id:Mae,detector:jrt,loader:Krt},qrt=zrt,Pae="er",Xrt=P(t=>/^\s*erDiagram/.test(t),"detector"),Jrt=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-8-ex1zFd.js");return{diagram:e}},__vite__mapDeps([15,12,13,14]));return{id:Pae,diagram:t}},"loader"),Zrt={id:Pae,detector:Xrt,loader:Jrt},eit=Zrt,Uae="gitGraph",tit=P(t=>/^\s*gitGraph/.test(t),"detector"),nit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-CATvYfHx.js");return{diagram:e}},__vite__mapDeps([16,17,18,19,4,2]));return{id:Uae,diagram:t}},"loader"),rit={id:Uae,detector:tit,loader:nit},iit=rit,Fae="gantt",sit=P(t=>/^\s*gantt/.test(t),"detector"),oit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./ganttDiagram-JELNMOA3-rtnI-3r9.js");return{diagram:e}},__vite__mapDeps([20,21,22,23]));return{id:Fae,diagram:t}},"loader"),ait={id:Fae,detector:sit,loader:oit},lit=ait,Hae="info",cit=P(t=>/^\s*info/.test(t),"detector"),Ait=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./infoDiagram-WHAUD3N6-CzzMNZGX.js");return{diagram:e}},__vite__mapDeps([24,19,4,2]));return{id:Hae,diagram:t}},"loader"),uit={id:Hae,detector:cit,loader:Ait},Gae="pie",hit=P(t=>/^\s*pie/.test(t),"detector"),dit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-C3P89oQm.js");return{diagram:e}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:Gae,diagram:t}},"loader"),fit={id:Gae,detector:hit,loader:dit},Qae="quadrantChart",pit=P(t=>/^\s*quadrantChart/.test(t),"detector"),mit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-DxpFgPAG.js");return{diagram:e}},__vite__mapDeps([28,21,22,23]));return{id:Qae,diagram:t}},"loader"),git={id:Qae,detector:pit,loader:mit},Eit=git,Vae="xychart",Tit=P(t=>/^\s*xychart(-beta)?/.test(t),"detector"),Sit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-ja3jEhMr.js");return{diagram:e}},__vite__mapDeps([29,22,27,21,23]));return{id:Vae,diagram:t}},"loader"),yit={id:Vae,detector:Tit,loader:Sit},Cit=yit,$ae="requirement",xit=P(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),Rit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-BeMbH3EU.js");return{diagram:e}},__vite__mapDeps([30,12,13]));return{id:$ae,diagram:t}},"loader"),Iit={id:$ae,detector:xit,loader:Rit},_it=Iit,Wae="sequence",Nit=P(t=>/^\s*sequenceDiagram/.test(t),"detector"),bit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-BtD2nguh.js");return{diagram:e}},__vite__mapDeps([31,9,18]));return{id:Wae,diagram:t}},"loader"),vit={id:Wae,detector:Nit,loader:bit},Oit=vit,Yae="class",wit=P((t,e)=>{var n;return((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),Lit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-DSQ7GBJ0.js");return{diagram:e}},__vite__mapDeps([32,33,11,12,13]));return{id:Yae,diagram:t}},"loader"),Bit={id:Yae,detector:wit,loader:Lit},Dit=Bit,jae="classDiagram",kit=P((t,e)=>{var n;return/^\s*classDiagram/.test(t)&&((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),Mit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-DSQ7GBJ0.js");return{diagram:e}},__vite__mapDeps([34,33,11,12,13]));return{id:jae,diagram:t}},"loader"),Pit={id:jae,detector:kit,loader:Mit},Uit=Pit,Kae="state",Fit=P((t,e)=>{var n;return((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),Hit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-Bq3DouMs.js");return{diagram:e}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:Kae,diagram:t}},"loader"),Git={id:Kae,detector:Fit,loader:Hit},Qit=Git,zae="stateDiagram",Vit=P((t,e)=>{var n;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},"detector"),$it=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-BoCJKjXT.js");return{diagram:e}},__vite__mapDeps([37,36,12,13]));return{id:zae,diagram:t}},"loader"),Wit={id:zae,detector:Vit,loader:$it},Yit=Wit,qae="journey",jit=P(t=>/^\s*journey/.test(t),"detector"),Kit=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-BXjPbgIN.js");return{diagram:e}},__vite__mapDeps([38,9,11,26]));return{id:qae,diagram:t}},"loader"),zit={id:qae,detector:jit,loader:Kit},qit=zit,Xit=P((t,e,n)=>{$e.debug(`rendering svg for syntax error
`);const r=v9e(e),i=r.append("g");r.attr("viewBox","0 0 2412 512"),xne(r,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),Xae={draw:Xit},Jit=Xae,Zit={db:{},renderer:Xae,parser:{parse:P(()=>{},"parse")}},est=Zit,Jae="flowchart-elk",tst=P((t,e={})=>{var n;return/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),nst=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-ereE-QQk.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:Jae,diagram:t}},"loader"),rst={id:Jae,detector:tst,loader:nst},ist=rst,Zae="timeline",sst=P(t=>/^\s*timeline/.test(t),"detector"),ost=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-CBOkzt4Y.js");return{diagram:e}},__vite__mapDeps([39,26]));return{id:Zae,diagram:t}},"loader"),ast={id:Zae,detector:sst,loader:ost},lst=ast,ele="mindmap",cst=P(t=>/^\s*mindmap/.test(t),"detector"),Ast=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-CnwU_L3b.js");return{diagram:e}},__vite__mapDeps([40,12,13]));return{id:ele,diagram:t}},"loader"),ust={id:ele,detector:cst,loader:Ast},hst=ust,tle="kanban",dst=P(t=>/^\s*kanban/.test(t),"detector"),fst=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-CTv55IHw.js");return{diagram:e}},__vite__mapDeps([41,11]));return{id:tle,diagram:t}},"loader"),pst={id:tle,detector:dst,loader:fst},mst=pst,nle="sankey",gst=P(t=>/^\s*sankey(-beta)?/.test(t),"detector"),Est=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-DDQhELWq.js");return{diagram:e}},__vite__mapDeps([42,27,22]));return{id:nle,diagram:t}},"loader"),Tst={id:nle,detector:gst,loader:Est},Sst=Tst,rle="packet",yst=P(t=>/^\s*packet(-beta)?/.test(t),"detector"),Cst=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-CdC-S-RB.js");return{diagram:e}},__vite__mapDeps([43,17,19,4,2]));return{id:rle,diagram:t}},"loader"),xst={id:rle,detector:yst,loader:Cst},ile="radar",Rst=P(t=>/^\s*radar-beta/.test(t),"detector"),Ist=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-M7P6gHr9.js");return{diagram:e}},__vite__mapDeps([44,17,19,4,2]));return{id:ile,diagram:t}},"loader"),_st={id:ile,detector:Rst,loader:Ist},sle="block",Nst=P(t=>/^\s*block(-beta)?/.test(t),"detector"),bst=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-BLOd_sgo.js");return{diagram:e}},__vite__mapDeps([45,11,5,1,2,14]));return{id:sle,diagram:t}},"loader"),vst={id:sle,detector:Nst,loader:bst},Ost=vst,ole="architecture",wst=P(t=>/^\s*architecture/.test(t),"detector"),Lst=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-CeZ5WRmo.js");return{diagram:e}},__vite__mapDeps([46,17,19,4,2,7]));return{id:ole,diagram:t}},"loader"),Bst={id:ole,detector:wst,loader:Lst},Dst=Bst,ale="treemap",kst=P(t=>/^\s*treemap/.test(t),"detector"),Mst=P(async()=>{const{diagram:t}=await ir(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-DPk6Vqj4.js");return{diagram:e}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:ale,diagram:t}},"loader"),Pst={id:ale,detector:kst,loader:Mst},F6=!1,jL=P(()=>{F6||(F6=!0,UO("error",est,t=>t.toLowerCase().trim()==="error"),UO("---",{db:{clear:P(()=>{},"clear")},styles:{},renderer:{draw:P(()=>{},"draw")},parser:{parse:P(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:P(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),oU(ist,hst,Dst),oU(Qrt,mst,Uit,Dit,eit,lit,uit,fit,_it,Oit,qrt,Yrt,lst,iit,Yit,Qit,qit,Eit,Sst,xst,Cit,Ost,_st,Pst))},"addDiagrams"),Ust=P(async()=>{$e.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(eg).map(async([n,{detector:r,loader:i}])=>{if(i)try{AU(n)}catch{try{const{diagram:s,id:o}=await i();UO(o,s,r)}catch(s){throw $e.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete eg[n],s}}}))).filter(n=>n.status==="rejected");if(e.length>0){$e.error(`Failed to load ${e.length} external diagrams`);for(const n of e)$e.error(n);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),Fst="graphics-document document";function lle(t,e){t.attr("role",Fst),e!==""&&t.attr("aria-roledescription",e)}P(lle,"setA11yDiagramInfo");function cle(t,e,n,r){if(t.insert!==void 0){if(n){const i=`chart-desc-${r}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(n)}if(e){const i=`chart-title-${r}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}P(cle,"addSVGa11yTitleDescription");var Qm,eF=(Qm=class{constructor(e,n,r,i,s){this.type=e,this.text=n,this.db=r,this.parser=i,this.renderer=s}static async fromText(e,n={}){var c,A;const r=Vo(),i=HH(e,r);e=Pet(e)+`
`;try{AU(i)}catch{const u=sze(i);if(!u)throw new une(`Diagram ${i} not found.`);const{id:h,diagram:p}=await u();UO(h,p)}const{db:s,parser:o,renderer:a,init:l}=AU(i);return o.parser&&(o.parser.yy=s),(c=s.clear)==null||c.call(s),l==null||l(r),n.title&&((A=s.setDiagramTitle)==null||A.call(s,n.title)),await o.parse(e),new Qm(i,e,s,o,a)}async render(e,n){await this.renderer.draw(this.text,e,n,this)}getParser(){return this.parser}getType(){return this.type}},P(Qm,"Diagram"),Qm),H6=[],Hst=P(()=>{H6.forEach(t=>{t()}),H6=[]},"attachFunctions"),Gst=P(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function Ale(t){const e=t.match(Ane);if(!e)return{text:t,metadata:{}};let n=MJe(e[1],{schema:kJe})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:t.slice(e[0].length),metadata:r}}P(Ale,"extractFrontMatter");var Qst=P(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,n,r)=>"<"+n+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Vst=P(t=>{const{text:e,metadata:n}=Ale(t),{displayMode:r,title:i,config:s={}}=n;return r&&(s.gantt||(s.gantt={}),s.gantt.displayMode=r),{title:i,config:s,text:e}},"processFrontmatter"),$st=P(t=>{const e=tA.detectInit(t)??{},n=tA.detectDirective(t,"wrap");return Array.isArray(n)?e.wrap=n.some(({type:r})=>r==="wrap"):(n==null?void 0:n.type)==="wrap"&&(e.wrap=!0),{text:Ret(t),directive:e}},"processDirectives");function FG(t){const e=Qst(t),n=Vst(e),r=$st(n.text),i=CG(n.config,r.directive);return t=Gst(r.text),{code:t,title:n.title,config:i}}P(FG,"preprocessDiagram");function ule(t){const e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)}P(ule,"toBase64");var Wst=5e4,Yst="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",jst="sandbox",Kst="loose",zst="http://www.w3.org/2000/svg",qst="http://www.w3.org/1999/xlink",Xst="http://www.w3.org/1999/xhtml",Jst="100%",Zst="100%",eot="border:0;margin:0;",tot="margin:0",not="allow-top-navigation-by-user-activation allow-popups",rot='The "iframe" tag is not supported by your browser.',iot=["foreignobject"],sot=["dominant-baseline"];function HG(t){const e=FG(t);return MO(),yze(e.config??{}),e}P(HG,"processAndSetConfigs");async function hle(t,e){jL();try{const{code:n,config:r}=HG(t);return{diagramType:(await fle(n)).type,config:r}}catch(n){if(e!=null&&e.suppressErrors)return!1;throw n}}P(hle,"parse");var G6=P((t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),oot=P((t,e=new Map)=>{var r;let n="";if(t.themeCSS!==void 0&&(n+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const a=t.htmlLabels??((r=t.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{U6(l.styles)||a.forEach(c=>{n+=G6(l.id,c,l.styles)}),U6(l.textStyles)||(n+=G6(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(c=>c.replace("color","fill"))))})}return n},"createCssStyles"),aot=P((t,e,n,r)=>{const i=oot(t,n),s=Gze(e,i,t.themeVariables);return zU(Crt(`${r}{${s}}`),Rrt)},"createUserStyles"),lot=P((t="",e,n)=>{let r=t;return!n&&!e&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=gg(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),cot=P((t="",e)=>{var i,s;const n=(s=(i=e==null?void 0:e.viewBox)==null?void 0:i.baseVal)!=null&&s.height?e.viewBox.baseVal.height+"px":Zst,r=ule(`<body style="${tot}">${t}</body>`);return`<iframe style="width:${Jst};height:${n};${eot}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${not}">
  ${rot}
</iframe>`},"putIntoIFrame"),Q6=P((t,e,n,r,i)=>{const s=t.append("div");s.attr("id",n),r&&s.attr("style",r);const o=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",zst);return i&&o.attr("xmlns:xlink",i),o.append("g"),t},"appendDivSvgG");function tF(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}P(tF,"sandboxedIframe");var Aot=P((t,e,n,r)=>{var i,s,o;(i=t.getElementById(e))==null||i.remove(),(s=t.getElementById(n))==null||s.remove(),(o=t.getElementById(r))==null||o.remove()},"removeExistingElements"),uot=P(async function(t,e,n){var K,j,V,$,J,te;jL();const r=HG(e);e=r.code;const i=Vo();$e.debug(i),e.length>((i==null?void 0:i.maxTextSize)??Wst)&&(e=Yst);const s="#"+t,o="i"+t,a="#"+o,l="d"+t,c="#"+l,A=P(()=>{const oe=Or(h?a:c).node();oe&&"remove"in oe&&oe.remove()},"removeTempElements");let u=Or("body");const h=i.securityLevel===jst,p=i.securityLevel===Kst,E=i.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),h){const X=tF(Or(n),o);u=Or(X.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=Or(n);Q6(u,t,l,`font-family: ${E}`,qst)}else{if(Aot(document,t,l,o),h){const X=tF(Or("body"),o);u=Or(X.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=Or("body");Q6(u,t,l)}let T,y;try{T=await eF.fromText(e,{title:r.title})}catch(X){if(i.suppressErrorRendering)throw A(),X;T=await eF.fromText("error"),y=X}const R=u.select(c).node(),I=T.type,b=R.firstChild,B=b.firstChild,w=(j=(K=T.renderer).getClasses)==null?void 0:j.call(K,e,T),O=aot(i,I,w,s),L=document.createElement("style");L.innerHTML=O,b.insertBefore(L,B);try{await T.renderer.draw(e,t,aK.version,T)}catch(X){throw i.suppressErrorRendering?A():Jit.draw(e,t,aK.version),X}const U=u.select(`${c} svg`),G=($=(V=T.db).getAccTitle)==null?void 0:$.call(V),Q=(te=(J=T.db).getAccDescription)==null?void 0:te.call(J);ple(I,U,G,Q),u.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Xst);let Y=u.select(c).node().innerHTML;if($e.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),Y=lot(Y,h,Fs(i.arrowMarkerAbsolute)),h){const X=u.select(c+" svg").node();Y=cot(Y,X)}else p||(Y=IS.sanitize(Y,{ADD_TAGS:iot,ADD_ATTR:sot,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Hst(),y)throw y;return A(),{diagramType:I,svg:Y,bindFunctions:T.db.bindFunctions}},"render");function dle(t={}){var r;const e=ks({},t);e!=null&&e.fontFamily&&!((r=e.themeVariables)!=null&&r.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Tze(e),e!=null&&e.theme&&e.theme in $h?e.themeVariables=$h[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=$h.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?Eze(e):mne();FH(n.logLevel),jL()}P(dle,"initialize");var fle=P((t,e={})=>{const{code:n}=FG(t);return eF.fromText(n,e)},"getDiagramFromText");function ple(t,e,n,r){lle(e,t),cle(e,n,r,e.attr("id"))}P(ple,"addA11yInfo");var og=Object.freeze({render:uot,parse:hle,getDiagramFromText:fle,initialize:dle,getConfig:Vo,setConfig:gne,getSiteConfig:mne,updateSiteConfig:Sze,reset:P(()=>{MO()},"reset"),globalReset:P(()=>{MO(_S)},"globalReset"),defaultConfig:_S});FH(Vo().logLevel);MO(Vo());var hot=P((t,e,n)=>{$e.warn(t),yG(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),mle=P(async function(t={querySelector:".mermaid"}){try{await dot(t)}catch(e){if(yG(e)&&$e.error(e.str),vl.parseError&&vl.parseError(e),!t.suppressErrors)throw $e.error("Use the suppressErrors option to suppress these errors"),e}},"run"),dot=P(async function({postRenderCallback:t,querySelector:e,nodes:n}={querySelector:".mermaid"}){const r=og.getConfig();$e.debug(`${t?"":"No "}Callback function found`);let i;if(n)i=n;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");$e.debug(`Found ${i.length} diagrams`),(r==null?void 0:r.startOnLoad)!==void 0&&($e.debug("Start On Load: "+(r==null?void 0:r.startOnLoad)),og.updateSiteConfig({startOnLoad:r==null?void 0:r.startOnLoad}));const s=new tA.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const a=[];for(const l of Array.from(i)){if($e.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${s.next()}`;o=l.innerHTML,o=Pse(tA.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const A=tA.detectInit(o);A&&$e.debug("Detected early reinit: ",A);try{const{svg:u,bindFunctions:h}=await Sle(c,o,l);l.innerHTML=u,t&&await t(c),h&&h(l)}catch(u){hot(u,a,vl.parseError)}}if(a.length>0)throw a[0]},"runThrowsErrors"),gle=P(function(t){og.initialize(t)},"initialize"),fot=P(async function(t,e,n){$e.warn("mermaid.init is deprecated. Please use run instead."),t&&gle(t);const r={postRenderCallback:n,querySelector:".mermaid"};typeof e=="string"?r.querySelector=e:e&&(e instanceof HTMLElement?r.nodes=[e]:r.nodes=e),await mle(r)},"init"),pot=P(async(t,{lazyLoad:e=!0}={})=>{jL(),oU(...t),e===!1&&await Ust()},"registerExternalDiagrams"),Ele=P(function(){if(vl.startOnLoad){const{startOnLoad:t}=og.getConfig();t&&vl.run().catch(e=>$e.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",Ele,!1);var mot=P(function(t){vl.parseError=t},"setParseErrorHandler"),pw=[],bk=!1,Tle=P(async()=>{if(!bk){for(bk=!0;pw.length>0;){const t=pw.shift();if(t)try{await t()}catch(e){$e.error("Error executing queue",e)}}bk=!1}},"executeQueue"),got=P(async(t,e)=>new Promise((n,r)=>{const i=P(()=>new Promise((s,o)=>{og.parse(t,e).then(a=>{s(a),n(a)},a=>{var l;$e.error("Error parsing",a),(l=vl.parseError)==null||l.call(vl,a),o(a),r(a)})}),"performCall");pw.push(i),Tle().catch(r)}),"parse"),Sle=P((t,e,n)=>new Promise((r,i)=>{const s=P(()=>new Promise((o,a)=>{og.render(t,e,n).then(l=>{o(l),r(l)},l=>{var c;$e.error("Error parsing",l),(c=vl.parseError)==null||c.call(vl,l),a(l),i(l)})}),"performCall");pw.push(s),Tle().catch(i)}),"render"),Eot=P(()=>Object.keys(eg).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),vl={startOnLoad:!0,mermaidAPI:og,parse:got,render:Sle,init:fot,run:mle,registerExternalDiagrams:pot,registerLayoutLoaders:Nae,initialize:gle,parseError:void 0,contentLoaded:Ele,setParseErrorHandler:mot,detectType:HH,registerIconPacks:Gtt,getRegisteredDiagramsMetadata:Eot},DS=vl;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */var FC={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Tot=FC.exports,V6;function Sot(){return V6||(V6=1,(function(t,e){(function(){var n,r="4.17.23",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,A="__lodash_placeholder__",u=1,h=2,p=4,E=1,T=2,y=1,R=2,I=4,b=8,B=16,w=32,O=64,L=128,U=256,G=512,Q=30,Y="...",K=800,j=16,V=1,$=2,J=3,te=1/0,X=9007199254740991,oe=17976931348623157e292,F=NaN,ee=4294967295,le=ee-1,q=ee>>>1,we=[["ary",L],["bind",y],["bindKey",R],["curry",b],["curryRight",B],["flip",G],["partial",w],["partialRight",O],["rearg",U]],Oe="[object Arguments]",Ce="[object Array]",Ue="[object AsyncFunction]",We="[object Boolean]",qe="[object Date]",Je="[object DOMException]",ut="[object Error]",en="[object Function]",rn="[object GeneratorFunction]",be="[object Map]",nt="[object Number]",Ke="[object Null]",gt="[object Object]",at="[object Promise]",_t="[object Proxy]",Tt="[object RegExp]",Dt="[object Set]",Ft="[object String]",mn="[object Symbol]",an="[object Undefined]",qt="[object WeakMap]",ce="[object WeakSet]",_e="[object ArrayBuffer]",Ye="[object DataView]",dt="[object Float32Array]",Wt="[object Float64Array]",Xt="[object Int8Array]",Te="[object Int16Array]",Ae="[object Int32Array]",me="[object Uint8Array]",st="[object Uint8ClampedArray]",ke="[object Uint16Array]",ht="[object Uint32Array]",sn=/\b__p \+= '';/g,mr=/\b(__p \+=) '' \+/g,Lt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dn=/&(?:amp|lt|gt|quot|#39);/g,tn=/[&<>"']/g,cn=RegExp(Dn.source),gr=RegExp(tn.source),Qn=/<%-([\s\S]+?)%>/g,hn=/<%([\s\S]+?)%>/g,Tr=/<%=([\s\S]+?)%>/g,Br=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gr=/^\w*$/,Fr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ei=/[\\^$.*+?()[\]{}|]/g,gi=RegExp(ei.source),Wi=/^\s+/,lt=/\s/,Zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pt=/\{\n\/\* \[wrapped with (.+)\] \*/,kn=/,? & /,et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gn=/[()=,{}\[\]\/\s]/,Cn=/\\(\\)?/g,nr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zn=/\w*$/,qr=/^[-+]0x[0-9a-f]+$/i,xs=/^0b[01]+$/i,Ii=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,he=/^(?:0|[1-9]\d*)$/,De=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ie=/($^)/,Le=/['\n\r\u2028\u2029\\]/g,Me="\\ud800-\\udfff",bt="\\u0300-\\u036f",tt="\\ufe20-\\ufe2f",wn="\\u20d0-\\u20ff",rr=bt+tt+wn,Sr="\\u2700-\\u27bf",Vn="a-z\\xdf-\\xf6\\xf8-\\xff",ti="\\xac\\xb1\\xd7\\xf7",_i="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bl="\\u2000-\\u206f",Hs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",TA="A-Z\\xc0-\\xd6\\xd8-\\xde",SA="\\ufe0e\\ufe0f",cd=ti+_i+Bl+Hs,yA="[']",Ad="["+Me+"]",CA="["+cd+"]",vc="["+rr+"]",Sg="\\d+",op="["+Sr+"]",ud="["+Vn+"]",Pu="[^"+Me+cd+Sg+Sr+Vn+TA+"]",Uu="\\ud83c[\\udffb-\\udfff]",Fu="(?:"+vc+"|"+Uu+")",yg="[^"+Me+"]",Hu="(?:\\ud83c[\\udde6-\\uddff]){2}",ur="[\\ud800-\\udbff][\\udc00-\\udfff]",Oc="["+TA+"]",ap="\\u200d",Gu="(?:"+ud+"|"+Pu+")",Cg="(?:"+Oc+"|"+Pu+")",lp="(?:"+yA+"(?:d|ll|m|re|s|t|ve))?",cp="(?:"+yA+"(?:D|LL|M|RE|S|T|VE))?",hd=Fu+"?",Qu="["+SA+"]?",Dl="(?:"+ap+"(?:"+[yg,Hu,ur].join("|")+")"+Qu+hd+")*",kl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ml="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vu=Qu+hd+Dl,sl="(?:"+[op,Hu,ur].join("|")+")"+Vu,ol="(?:"+[yg+vc+"?",vc,Hu,ur,Ad].join("|")+")",oy=RegExp(yA,"g"),so=RegExp(vc,"g"),Pl=RegExp(Uu+"(?="+Uu+")|"+ol+Vu,"g"),xg=RegExp([Oc+"?"+ud+"+"+lp+"(?="+[CA,Oc,"$"].join("|")+")",Cg+"+"+cp+"(?="+[CA,Oc+Gu,"$"].join("|")+")",Oc+"?"+Gu+"+"+lp,Oc+"+"+cp,Ml,kl,Sg,sl].join("|"),"g"),Rg=RegExp("["+ap+Me+rr+SA+"]"),re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Be=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ct=-1,Rt={};Rt[dt]=Rt[Wt]=Rt[Xt]=Rt[Te]=Rt[Ae]=Rt[me]=Rt[st]=Rt[ke]=Rt[ht]=!0,Rt[Oe]=Rt[Ce]=Rt[_e]=Rt[We]=Rt[Ye]=Rt[qe]=Rt[ut]=Rt[en]=Rt[be]=Rt[nt]=Rt[gt]=Rt[Tt]=Rt[Dt]=Rt[Ft]=Rt[qt]=!1;var Ht={};Ht[Oe]=Ht[Ce]=Ht[_e]=Ht[Ye]=Ht[We]=Ht[qe]=Ht[dt]=Ht[Wt]=Ht[Xt]=Ht[Te]=Ht[Ae]=Ht[be]=Ht[nt]=Ht[gt]=Ht[Tt]=Ht[Dt]=Ht[Ft]=Ht[mn]=Ht[me]=Ht[st]=Ht[ke]=Ht[ht]=!0,Ht[ut]=Ht[en]=Ht[qt]=!1;var ai={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ni={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_r=parseFloat,Ei=parseInt,Pi=typeof r_=="object"&&r_&&r_.Object===Object&&r_,li=typeof self=="object"&&self&&self.Object===Object&&self,Kn=Pi||li||Function("return this")(),$u=e&&!e.nodeType&&e,Ul=$u&&!0&&t&&!t.nodeType&&t,ay=Ul&&Ul.exports===$u,dd=ay&&Pi.process,oo=(function(){try{var ge=Ul&&Ul.require&&Ul.require("util").types;return ge||dd&&dd.binding&&dd.binding("util")}catch{}})(),ly=oo&&oo.isArrayBuffer,Io=oo&&oo.isDate,Wu=oo&&oo.isMap,Ig=oo&&oo.isRegExp,fd=oo&&oo.isSet,YR=oo&&oo.isTypedArray;function ao(ge,Pe,Ne){switch(Ne.length){case 0:return ge.call(Pe);case 1:return ge.call(Pe,Ne[0]);case 2:return ge.call(Pe,Ne[0],Ne[1]);case 3:return ge.call(Pe,Ne[0],Ne[1],Ne[2])}return ge.apply(Pe,Ne)}function cy(ge,Pe,Ne,Ct){for(var Mn=-1,Nr=ge==null?0:ge.length;++Mn<Nr;){var ji=ge[Mn];Pe(Ct,ji,Ne(ji),ge)}return Ct}function Gs(ge,Pe){for(var Ne=-1,Ct=ge==null?0:ge.length;++Ne<Ct&&Pe(ge[Ne],Ne,ge)!==!1;);return ge}function _g(ge,Pe){for(var Ne=ge==null?0:ge.length;Ne--&&Pe(ge[Ne],Ne,ge)!==!1;);return ge}function Ay(ge,Pe){for(var Ne=-1,Ct=ge==null?0:ge.length;++Ne<Ct;)if(!Pe(ge[Ne],Ne,ge))return!1;return!0}function xA(ge,Pe){for(var Ne=-1,Ct=ge==null?0:ge.length,Mn=0,Nr=[];++Ne<Ct;){var ji=ge[Ne];Pe(ji,Ne,ge)&&(Nr[Mn++]=ji)}return Nr}function Ng(ge,Pe){var Ne=ge==null?0:ge.length;return!!Ne&&pd(ge,Pe,0)>-1}function uy(ge,Pe,Ne){for(var Ct=-1,Mn=ge==null?0:ge.length;++Ct<Mn;)if(Ne(Pe,ge[Ct]))return!0;return!1}function ni(ge,Pe){for(var Ne=-1,Ct=ge==null?0:ge.length,Mn=Array(Ct);++Ne<Ct;)Mn[Ne]=Pe(ge[Ne],Ne,ge);return Mn}function RA(ge,Pe){for(var Ne=-1,Ct=Pe.length,Mn=ge.length;++Ne<Ct;)ge[Mn+Ne]=Pe[Ne];return ge}function hy(ge,Pe,Ne,Ct){var Mn=-1,Nr=ge==null?0:ge.length;for(Ct&&Nr&&(Ne=ge[++Mn]);++Mn<Nr;)Ne=Pe(Ne,ge[Mn],Mn,ge);return Ne}function zL(ge,Pe,Ne,Ct){var Mn=ge==null?0:ge.length;for(Ct&&Mn&&(Ne=ge[--Mn]);Mn--;)Ne=Pe(Ne,ge[Mn],Mn,ge);return Ne}function dy(ge,Pe){for(var Ne=-1,Ct=ge==null?0:ge.length;++Ne<Ct;)if(Pe(ge[Ne],Ne,ge))return!0;return!1}var qL=py("length");function jR(ge){return ge.split("")}function XL(ge){return ge.match(et)||[]}function KR(ge,Pe,Ne){var Ct;return Ne(ge,function(Mn,Nr,ji){if(Pe(Mn,Nr,ji))return Ct=Nr,!1}),Ct}function bg(ge,Pe,Ne,Ct){for(var Mn=ge.length,Nr=Ne+(Ct?1:-1);Ct?Nr--:++Nr<Mn;)if(Pe(ge[Nr],Nr,ge))return Nr;return-1}function pd(ge,Pe,Ne){return Pe===Pe?wg(ge,Pe,Ne):bg(ge,zR,Ne)}function fy(ge,Pe,Ne,Ct){for(var Mn=Ne-1,Nr=ge.length;++Mn<Nr;)if(Ct(ge[Mn],Pe))return Mn;return-1}function zR(ge){return ge!==ge}function qR(ge,Pe){var Ne=ge==null?0:ge.length;return Ne?my(ge,Pe)/Ne:F}function py(ge){return function(Pe){return Pe==null?n:Pe[ge]}}function vg(ge){return function(Pe){return ge==null?n:ge[Pe]}}function XR(ge,Pe,Ne,Ct,Mn){return Mn(ge,function(Nr,ji,Qr){Ne=Ct?(Ct=!1,Nr):Pe(Ne,Nr,ji,Qr)}),Ne}function JL(ge,Pe){var Ne=ge.length;for(ge.sort(Pe);Ne--;)ge[Ne]=ge[Ne].value;return ge}function my(ge,Pe){for(var Ne,Ct=-1,Mn=ge.length;++Ct<Mn;){var Nr=Pe(ge[Ct]);Nr!==n&&(Ne=Ne===n?Nr:Ne+Nr)}return Ne}function gy(ge,Pe){for(var Ne=-1,Ct=Array(ge);++Ne<ge;)Ct[Ne]=Pe(Ne);return Ct}function ZL(ge,Pe){return ni(Pe,function(Ne){return[Ne,ge[Ne]]})}function JR(ge){return ge&&ge.slice(0,Lg(ge)+1).replace(Wi,"")}function qo(ge){return function(Pe){return ge(Pe)}}function Ap(ge,Pe){return ni(Pe,function(Ne){return ge[Ne]})}function wc(ge,Pe){return ge.has(Pe)}function ZR(ge,Pe){for(var Ne=-1,Ct=ge.length;++Ne<Ct&&pd(Pe,ge[Ne],0)>-1;);return Ne}function Ey(ge,Pe){for(var Ne=ge.length;Ne--&&pd(Pe,ge[Ne],0)>-1;);return Ne}function eI(ge,Pe){for(var Ne=ge.length,Ct=0;Ne--;)ge[Ne]===Pe&&++Ct;return Ct}var tI=vg(ai),nI=vg(Ni);function rI(ge){return"\\"+$n[ge]}function md(ge,Pe){return ge==null?n:ge[Pe]}function gd(ge){return Rg.test(ge)}function eB(ge){return re.test(ge)}function tB(ge){for(var Pe,Ne=[];!(Pe=ge.next()).done;)Ne.push(Pe.value);return Ne}function Og(ge){var Pe=-1,Ne=Array(ge.size);return ge.forEach(function(Ct,Mn){Ne[++Pe]=[Mn,Ct]}),Ne}function Ty(ge,Pe){return function(Ne){return ge(Pe(Ne))}}function Sa(ge,Pe){for(var Ne=-1,Ct=ge.length,Mn=0,Nr=[];++Ne<Ct;){var ji=ge[Ne];(ji===Pe||ji===A)&&(ge[Ne]=A,Nr[Mn++]=Ne)}return Nr}function IA(ge){var Pe=-1,Ne=Array(ge.size);return ge.forEach(function(Ct){Ne[++Pe]=Ct}),Ne}function nB(ge){var Pe=-1,Ne=Array(ge.size);return ge.forEach(function(Ct){Ne[++Pe]=[Ct,Ct]}),Ne}function wg(ge,Pe,Ne){for(var Ct=Ne-1,Mn=ge.length;++Ct<Mn;)if(ge[Ct]===Pe)return Ct;return-1}function rB(ge,Pe,Ne){for(var Ct=Ne+1;Ct--;)if(ge[Ct]===Pe)return Ct;return Ct}function Yu(ge){return gd(ge)?sI(ge):qL(ge)}function Xo(ge){return gd(ge)?oI(ge):jR(ge)}function Lg(ge){for(var Pe=ge.length;Pe--&&lt.test(ge.charAt(Pe)););return Pe}var iI=vg(Yi);function sI(ge){for(var Pe=Pl.lastIndex=0;Pl.test(ge);)++Pe;return Pe}function oI(ge){return ge.match(Pl)||[]}function iB(ge){return ge.match(xg)||[]}var sB=(function ge(Pe){Pe=Pe==null?Kn:Ed.defaults(Kn.Object(),Pe,Ed.pick(Kn,Be));var Ne=Pe.Array,Ct=Pe.Date,Mn=Pe.Error,Nr=Pe.Function,ji=Pe.Math,Qr=Pe.Object,up=Pe.RegExp,oB=Pe.String,ya=Pe.TypeError,Lc=Ne.prototype,Sy=Nr.prototype,Fl=Qr.prototype,Td=Pe["__core-js_shared__"],hp=Sy.toString,yr=Fl.hasOwnProperty,Sd=0,Bg=(function(){var g=/[^.]+$/.exec(Td&&Td.keys&&Td.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""})(),dp=Fl.toString,Dg=hp.call(Qr),aI=Kn._,lI=up("^"+hp.call(yr).replace(ei,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fp=ay?Pe.Buffer:n,Bc=Pe.Symbol,pp=Pe.Uint8Array,yy=fp?fp.allocUnsafe:n,al=Ty(Qr.getPrototypeOf,Qr),kg=Qr.create,Mg=Fl.propertyIsEnumerable,Pg=Lc.splice,cI=Bc?Bc.isConcatSpreadable:n,Dc=Bc?Bc.iterator:n,ju=Bc?Bc.toStringTag:n,mp=(function(){try{var g=MA(Qr,"defineProperty");return g({},"",{}),g}catch{}})(),AI=Pe.clearTimeout!==Kn.clearTimeout&&Pe.clearTimeout,ci=Ct&&Ct.now!==Kn.Date.now&&Ct.now,Cy=Pe.setTimeout!==Kn.setTimeout&&Pe.setTimeout,Ku=ji.ceil,_A=ji.floor,Ug=Qr.getOwnPropertySymbols,xy=fp?fp.isBuffer:n,yd=Pe.isFinite,Fg=Lc.join,Cd=Ty(Qr.keys,Qr),Ki=ji.max,Qs=ji.min,aB=Ct.now,uI=Pe.parseInt,gp=ji.random,Hg=Lc.reverse,Ep=MA(Pe,"DataView"),zu=MA(Pe,"Map"),Tp=MA(Pe,"Promise"),NA=MA(Pe,"Set"),Sp=MA(Pe,"WeakMap"),xd=MA(Qr,"create"),Gg=Sp&&new Sp,Rd={},Ry=PA(Ep),bA=PA(zu),hI=PA(Tp),Id=PA(NA),Hl=PA(Sp),vA=Bc?Bc.prototype:n,Jo=vA?vA.valueOf:n,Qg=vA?vA.toString:n;function Z(g){if(qi(g)&&!Yn(g)&&!(g instanceof Wn)){if(g instanceof Vs)return g;if(yr.call(g,"__wrapped__"))return HI(g)}return new Vs(g)}var _d=(function(){function g(){}return function(S){if(!Hi(S))return{};if(kg)return kg(S);g.prototype=S;var v=new g;return g.prototype=n,v}})();function Gl(){}function Vs(g,S){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=n}Z.templateSettings={escape:Qn,evaluate:hn,interpolate:Tr,variable:"",imports:{_:Z}},Z.prototype=Gl.prototype,Z.prototype.constructor=Z,Vs.prototype=_d(Gl.prototype),Vs.prototype.constructor=Vs;function Wn(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function Vg(){var g=new Wn(this.__wrapped__);return g.__actions__=co(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=co(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=co(this.__views__),g}function Iy(){if(this.__filtered__){var g=new Wn(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function Nd(){var g=this.__wrapped__.value(),S=this.__dir__,v=Yn(g),k=S<0,W=v?g.length:0,ne=Zy(0,W,this.__views__),ae=ne.start,fe=ne.end,Ee=fe-ae,Ge=k?fe:ae-1,Ve=this.__iteratees__,Xe=Ve.length,Et=0,zt=Qs(Ee,this.__takeCount__);if(!v||!k&&W==Ee&&zt==Ee)return kd(g,this.__actions__);var Rn=[];e:for(;Ee--&&Et<zt;){Ge+=S;for(var er=-1,In=g[Ge];++er<Xe;){var hr=Ve[er],xr=hr.iteratee,gl=hr.type,ra=xr(In);if(gl==$)In=ra;else if(!ra){if(gl==V)continue e;break e}}Rn[Et++]=In}return Rn}Wn.prototype=_d(Gl.prototype),Wn.prototype.constructor=Wn;function _o(g){var S=-1,v=g==null?0:g.length;for(this.clear();++S<v;){var k=g[S];this.set(k[0],k[1])}}function Ai(){this.__data__=xd?xd(null):{},this.size=0}function ri(g){var S=this.has(g)&&delete this.__data__[g];return this.size-=S?1:0,S}function OA(g){var S=this.__data__;if(xd){var v=S[g];return v===l?n:v}return yr.call(S,g)?S[g]:n}function $s(g){var S=this.__data__;return xd?S[g]!==n:yr.call(S,g)}function No(g,S){var v=this.__data__;return this.size+=this.has(g)?0:1,v[g]=xd&&S===n?l:S,this}_o.prototype.clear=Ai,_o.prototype.delete=ri,_o.prototype.get=OA,_o.prototype.has=$s,_o.prototype.set=No;function lo(g){var S=-1,v=g==null?0:g.length;for(this.clear();++S<v;){var k=g[S];this.set(k[0],k[1])}}function bd(){this.__data__=[],this.size=0}function bo(g){var S=this.__data__,v=Ys(S,g);if(v<0)return!1;var k=S.length-1;return v==k?S.pop():Pg.call(S,v,1),--this.size,!0}function $g(g){var S=this.__data__,v=Ys(S,g);return v<0?n:S[v][1]}function dI(g){return Ys(this.__data__,g)>-1}function fI(g,S){var v=this.__data__,k=Ys(v,g);return k<0?(++this.size,v.push([g,S])):v[k][1]=S,this}lo.prototype.clear=bd,lo.prototype.delete=bo,lo.prototype.get=$g,lo.prototype.has=dI,lo.prototype.set=fI;function Ca(g){var S=-1,v=g==null?0:g.length;for(this.clear();++S<v;){var k=g[S];this.set(k[0],k[1])}}function pI(){this.size=0,this.__data__={hash:new _o,map:new(zu||lo),string:new _o}}function kc(g){var S=Mp(this,g).delete(g);return this.size-=S?1:0,S}function Wg(g){return Mp(this,g).get(g)}function _y(g){return Mp(this,g).has(g)}function mI(g,S){var v=Mp(this,g),k=v.size;return v.set(g,S),this.size+=v.size==k?0:1,this}Ca.prototype.clear=pI,Ca.prototype.delete=kc,Ca.prototype.get=Wg,Ca.prototype.has=_y,Ca.prototype.set=mI;function qu(g){var S=-1,v=g==null?0:g.length;for(this.__data__=new Ca;++S<v;)this.add(g[S])}function wA(g){return this.__data__.set(g,l),this}function vd(g){return this.__data__.has(g)}qu.prototype.add=qu.prototype.push=wA,qu.prototype.has=vd;function Ws(g){var S=this.__data__=new lo(g);this.size=S.size}function Yg(){this.__data__=new lo,this.size=0}function jg(g){var S=this.__data__,v=S.delete(g);return this.size=S.size,v}function xa(g){return this.__data__.get(g)}function Ra(g){return this.__data__.has(g)}function Xu(g,S){var v=this.__data__;if(v instanceof lo){var k=v.__data__;if(!zu||k.length<i-1)return k.push([g,S]),this.size=++v.size,this;v=this.__data__=new Ca(k)}return v.set(g,S),this.size=v.size,this}Ws.prototype.clear=Yg,Ws.prototype.delete=jg,Ws.prototype.get=xa,Ws.prototype.has=Ra,Ws.prototype.set=Xu;function Ql(g,S){var v=Yn(g),k=!v&&Kp(g),W=!v&&!k&&Wd(g),ne=!v&&!k&&!W&&ME(g),ae=v||k||W||ne,fe=ae?gy(g.length,oB):[],Ee=fe.length;for(var Ge in g)(S||yr.call(g,Ge))&&!(ae&&(Ge=="length"||W&&(Ge=="offset"||Ge=="parent")||ne&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||Si(Ge,Ee)))&&fe.push(Ge);return fe}function Vl(g){var S=g.length;return S?g[Bd(0,S-1)]:n}function Ju(g,S){return TE(co(g),Mc(S,0,g.length))}function gI(g){return TE(co(g))}function yp(g,S,v){(v!==n&&!Yc(g[S],v)||v===n&&!(S in g))&&$l(g,S,v)}function Zu(g,S,v){var k=g[S];(!(yr.call(g,S)&&Yc(k,v))||v===n&&!(S in g))&&$l(g,S,v)}function Ys(g,S){for(var v=g.length;v--;)if(Yc(g[v][0],S))return v;return-1}function Zo(g,S,v,k){return Yl(g,function(W,ne,ae){S(k,W,v(W),ae)}),k}function ui(g,S){return g&&cl(S,zs(S),g)}function ll(g,S){return g&&cl(S,Ba(S),g)}function $l(g,S,v){S=="__proto__"&&mp?mp(g,S,{configurable:!0,enumerable:!0,value:v,writable:!0}):g[S]=v}function Kg(g,S){for(var v=-1,k=S.length,W=Ne(k),ne=g==null;++v<k;)W[v]=ne?n:wB(g,S[v]);return W}function Mc(g,S,v){return g===g&&(v!==n&&(g=g<=v?g:v),S!==n&&(g=g>=S?g:S)),g}function vo(g,S,v,k,W,ne){var ae,fe=S&u,Ee=S&h,Ge=S&p;if(v&&(ae=W?v(g,k,W,ne):v(g)),ae!==n)return ae;if(!Hi(g))return g;var Ve=Yn(g);if(Ve){if(ae=Up(g),!fe)return co(g,ae)}else{var Xe=_s(g),Et=Xe==en||Xe==rn;if(Wd(g))return Gy(g,fe);if(Xe==gt||Xe==Oe||Et&&!W){if(ae=Ee||Et?{}:Ns(g),!fe)return Ee?cB(g,ll(ae,g)):aE(g,ui(ae,g))}else{if(!Ht[Xe])return W?g:{};ae=AB(g,Xe,fe)}}ne||(ne=new Ws);var zt=ne.get(g);if(zt)return zt;ne.set(g,ae),XG(g)?g.forEach(function(In){ae.add(vo(In,S,v,In,g,ne))}):zG(g)&&g.forEach(function(In,hr){ae.set(hr,vo(In,S,v,hr,g,ne))});var Rn=Ge?Ee?kp:Dp:Ee?Ba:zs,er=Ve?n:Rn(g);return Gs(er||g,function(In,hr){er&&(hr=In,In=g[hr]),Zu(ae,hr,vo(In,S,v,hr,g,ne))}),ae}function EI(g){var S=zs(g);return function(v){return Cp(v,g,S)}}function Cp(g,S,v){var k=v.length;if(g==null)return!k;for(g=Qr(g);k--;){var W=v[k],ne=S[W],ae=g[W];if(ae===n&&!(W in g)||!ne(ae))return!1}return!0}function Ny(g,S,v){if(typeof g!="function")throw new ya(o);return Qd(function(){g.apply(n,v)},S)}function Wl(g,S,v,k){var W=-1,ne=Ng,ae=!0,fe=g.length,Ee=[],Ge=S.length;if(!fe)return Ee;v&&(S=ni(S,qo(v))),k?(ne=uy,ae=!1):S.length>=i&&(ne=wc,ae=!1,S=new qu(S));e:for(;++W<fe;){var Ve=g[W],Xe=v==null?Ve:v(Ve);if(Ve=k||Ve!==0?Ve:0,ae&&Xe===Xe){for(var Et=Ge;Et--;)if(S[Et]===Xe)continue e;Ee.push(Ve)}else ne(S,Xe,k)||Ee.push(Ve)}return Ee}var Yl=va(ea),TI=va(LA,!0);function xp(g,S){var v=!0;return Yl(g,function(k,W,ne){return v=!!S(k,W,ne),v}),v}function eh(g,S,v){for(var k=-1,W=g.length;++k<W;){var ne=g[k],ae=S(ne);if(ae!=null&&(fe===n?ae===ae&&!ml(ae):v(ae,fe)))var fe=ae,Ee=ne}return Ee}function SI(g,S,v,k){var W=g.length;for(v=Xn(v),v<0&&(v=-v>W?0:W+v),k=k===n||k>W?W:Xn(k),k<0&&(k+=W),k=v>k?0:ZG(k);v<k;)g[v++]=S;return g}function by(g,S){var v=[];return Yl(g,function(k,W,ne){S(k,W,ne)&&v.push(k)}),v}function Li(g,S,v,k,W){var ne=-1,ae=g.length;for(v||(v=mE),W||(W=[]);++ne<ae;){var fe=g[ne];S>0&&v(fe)?S>1?Li(fe,S-1,v,k,W):RA(W,fe):k||(W[W.length]=fe)}return W}var zg=cE(),Rp=cE(!0);function ea(g,S){return g&&zg(g,S,zs)}function LA(g,S){return g&&Rp(g,S,zs)}function Od(g,S){return xA(S,function(v){return dh(g[v])})}function Pc(g,S){S=zl(S,g);for(var v=0,k=S.length;g!=null&&v<k;)g=g[dl(S[v++])];return v&&v==k?g:n}function qg(g,S,v){var k=S(g);return Yn(g)?k:RA(k,v(g))}function Rs(g){return g==null?g===n?an:Ke:ju&&ju in Qr(g)?pE(g):t0(g)}function BA(g,S){return g>S}function Ia(g,S){return g!=null&&yr.call(g,S)}function th(g,S){return g!=null&&S in Qr(g)}function vy(g,S,v){return g>=Qs(S,v)&&g<Ki(S,v)}function Xg(g,S,v){for(var k=v?uy:Ng,W=g[0].length,ne=g.length,ae=ne,fe=Ne(ne),Ee=1/0,Ge=[];ae--;){var Ve=g[ae];ae&&S&&(Ve=ni(Ve,qo(S))),Ee=Qs(Ve.length,Ee),fe[ae]=!v&&(S||W>=120&&Ve.length>=120)?new qu(ae&&Ve):n}Ve=g[0];var Xe=-1,Et=fe[0];e:for(;++Xe<W&&Ge.length<Ee;){var zt=Ve[Xe],Rn=S?S(zt):zt;if(zt=v||zt!==0?zt:0,!(Et?wc(Et,Rn):k(Ge,Rn,v))){for(ae=ne;--ae;){var er=fe[ae];if(!(er?wc(er,Rn):k(g[ae],Rn,v)))continue e}Et&&Et.push(Rn),Ge.push(zt)}}return Ge}function Uc(g,S,v,k){return ea(g,function(W,ne,ae){S(k,v(W),ne,ae)}),k}function _a(g,S,v){S=zl(S,g),g=ps(g,S);var k=g==null?g:g[dl(ho(S))];return k==null?n:ao(k,g,v)}function Jg(g){return qi(g)&&Rs(g)==Oe}function yI(g){return qi(g)&&Rs(g)==_e}function Fc(g){return qi(g)&&Rs(g)==qe}function Na(g,S,v,k,W){return g===S?!0:g==null||S==null||!qi(g)&&!qi(S)?g!==g&&S!==S:Zg(g,S,v,k,Na,W)}function Zg(g,S,v,k,W,ne){var ae=Yn(g),fe=Yn(S),Ee=ae?Ce:_s(g),Ge=fe?Ce:_s(S);Ee=Ee==Oe?gt:Ee,Ge=Ge==Oe?gt:Ge;var Ve=Ee==gt,Xe=Ge==gt,Et=Ee==Ge;if(Et&&Wd(g)){if(!Wd(S))return!1;ae=!0,Ve=!1}if(Et&&!Ve)return ne||(ne=new Ws),ae||ME(g)?Xy(g,S,v,k,W,ne):Jy(g,S,Ee,v,k,W,ne);if(!(v&E)){var zt=Ve&&yr.call(g,"__wrapped__"),Rn=Xe&&yr.call(S,"__wrapped__");if(zt||Rn){var er=zt?g.value():g,In=Rn?S.value():S;return ne||(ne=new Ws),W(er,In,v,k,ne)}}return Et?(ne||(ne=new Ws),LI(g,S,v,k,W,ne)):!1}function CI(g){return qi(g)&&_s(g)==be}function wd(g,S,v,k){var W=v.length,ne=W,ae=!k;if(g==null)return!ne;for(g=Qr(g);W--;){var fe=v[W];if(ae&&fe[2]?fe[1]!==g[fe[0]]:!(fe[0]in g))return!1}for(;++W<ne;){fe=v[W];var Ee=fe[0],Ge=g[Ee],Ve=fe[1];if(ae&&fe[2]){if(Ge===n&&!(Ee in g))return!1}else{var Xe=new Ws;if(k)var Et=k(Ge,Ve,Ee,g,S,Xe);if(!(Et===n?Na(Ve,Ge,E|T,k,Xe):Et))return!1}}return!0}function Oy(g){if(!Hi(g)||kI(g))return!1;var S=dh(g)?lI:Ii;return S.test(PA(g))}function Ip(g){return qi(g)&&Rs(g)==Tt}function jl(g){return qi(g)&&_s(g)==Dt}function _p(g){return qi(g)&&e_(g.length)&&!!Rt[Rs(g)]}function Ld(g){return typeof g=="function"?g:g==null?Da:typeof g=="object"?Yn(g)?Ti(g[0],g[1]):eE(g):AQ(g)}function Hc(g){if(!$c(g))return Cd(g);var S=[];for(var v in Qr(g))yr.call(g,v)&&v!="constructor"&&S.push(v);return S}function wy(g){if(!Hi(g))return UI(g);var S=$c(g),v=[];for(var k in g)k=="constructor"&&(S||!yr.call(g,k))||v.push(k);return v}function DA(g,S){return g<S}function Ly(g,S){var v=-1,k=La(g)?Ne(g.length):[];return Yl(g,function(W,ne,ae){k[++v]=S(W,ne,ae)}),k}function eE(g){var S=Pp(g);return S.length==1&&S[0][2]?gE(S[0][0],S[0][1]):function(v){return v===g||wd(v,g,S)}}function Ti(g,S){return vt(g)&&Hp(S)?gE(dl(g),S):function(v){var k=wB(v,g);return k===n&&k===S?LB(v,g):Na(S,k,E|T)}}function nh(g,S,v,k,W){g!==S&&zg(S,function(ne,ae){if(W||(W=new Ws),Hi(ne))By(g,S,ae,v,nh,k,W);else{var fe=k?k(Jl(g,ae),ne,ae+"",g,S,W):n;fe===n&&(fe=ne),yp(g,ae,fe)}},Ba)}function By(g,S,v,k,W,ne,ae){var fe=Jl(g,v),Ee=Jl(S,v),Ge=ae.get(Ee);if(Ge){yp(g,v,Ge);return}var Ve=ne?ne(fe,Ee,v+"",g,S,ae):n,Xe=Ve===n;if(Xe){var Et=Yn(Ee),zt=!Et&&Wd(Ee),Rn=!Et&&!zt&&ME(Ee);Ve=Ee,Et||zt||Rn?Yn(fe)?Ve=fe:ss(fe)?Ve=co(fe):zt?(Xe=!1,Ve=Gy(Ee,!0)):Rn?(Xe=!1,Ve=NI(Ee,!0)):Ve=[]:T0(Ee)||Kp(Ee)?(Ve=fe,Kp(fe)?Ve=eQ(fe):(!Hi(fe)||dh(fe))&&(Ve=Ns(Ee))):Xe=!1}Xe&&(ae.set(Ee,Ve),W(Ve,Ee,k,ne,ae),ae.delete(Ee)),yp(g,v,Ve)}function tE(g,S){var v=g.length;if(v)return S+=S<0?v:0,Si(S,v)?g[S]:n}function Np(g,S,v){S.length?S=ni(S,function(ne){return Yn(ne)?function(ae){return Pc(ae,ne.length===1?ne[0]:ne)}:ne}):S=[Da];var k=-1;S=ni(S,qo(dn()));var W=Ly(g,function(ne,ae,fe){var Ee=ni(S,function(Ge){return Ge(ne)});return{criteria:Ee,index:++k,value:ne}});return JL(W,function(ne,ae){return lB(ne,ae,v)})}function Dy(g,S){return kA(g,S,function(v,k){return LB(g,k)})}function kA(g,S,v){for(var k=-1,W=S.length,ne={};++k<W;){var ae=S[k],fe=Pc(g,ae);v(fe,ae)&&ih(ne,zl(ae,g),fe)}return ne}function bi(g){return function(S){return Pc(S,g)}}function Ui(g,S,v,k){var W=k?fy:pd,ne=-1,ae=S.length,fe=g;for(g===S&&(S=co(S)),v&&(fe=ni(g,qo(v)));++ne<ae;)for(var Ee=0,Ge=S[ne],Ve=v?v(Ge):Ge;(Ee=W(fe,Ve,Ee,k))>-1;)fe!==g&&Pg.call(fe,Ee,1),Pg.call(g,Ee,1);return g}function rs(g,S){for(var v=g?S.length:0,k=v-1;v--;){var W=S[v];if(v==k||W!==ne){var ne=W;Si(W)?Pg.call(g,W,1):iE(g,W)}}return g}function Bd(g,S){return g+_A(gp()*(S-g+1))}function bp(g,S,v,k){for(var W=-1,ne=Ki(Ku((S-g)/(v||1)),0),ae=Ne(ne);ne--;)ae[k?ne:++W]=g,g+=v;return ae}function rh(g,S){var v="";if(!g||S<1||S>X)return v;do S%2&&(v+=g),S=_A(S/2),S&&(g+=g);while(S);return v}function qn(g,S){return ta(EE(g,S,Da),g+"")}function js(g){return Vl(PE(g))}function ky(g,S){var v=PE(g);return TE(v,Mc(S,0,v.length))}function ih(g,S,v,k){if(!Hi(g))return g;S=zl(S,g);for(var W=-1,ne=S.length,ae=ne-1,fe=g;fe!=null&&++W<ne;){var Ee=dl(S[W]),Ge=v;if(Ee==="__proto__"||Ee==="constructor"||Ee==="prototype")return g;if(W!=ae){var Ve=fe[Ee];Ge=k?k(Ve,Ee,fe):n,Ge===n&&(Ge=Hi(Ve)?Ve:Si(S[W+1])?[]:{})}Zu(fe,Ee,Ge),fe=fe[Ee]}return g}var nE=Gg?function(g,S){return Gg.set(g,S),g}:Da,Kl=mp?function(g,S){return mp(g,"toString",{configurable:!0,enumerable:!1,value:DB(S),writable:!0})}:Da;function ba(g){return TE(PE(g))}function Ks(g,S,v){var k=-1,W=g.length;S<0&&(S=-S>W?0:W+S),v=v>W?W:v,v<0&&(v+=W),W=S>v?0:v-S>>>0,S>>>=0;for(var ne=Ne(W);++k<W;)ne[k]=g[k+S];return ne}function My(g,S){var v;return Yl(g,function(k,W,ne){return v=S(k,W,ne),!v}),!!v}function Dd(g,S,v){var k=0,W=g==null?k:g.length;if(typeof S=="number"&&S===S&&W<=q){for(;k<W;){var ne=k+W>>>1,ae=g[ne];ae!==null&&!ml(ae)&&(v?ae<=S:ae<S)?k=ne+1:W=ne}return W}return rE(g,S,Da,v)}function rE(g,S,v,k){var W=0,ne=g==null?0:g.length;if(ne===0)return 0;S=v(S);for(var ae=S!==S,fe=S===null,Ee=ml(S),Ge=S===n;W<ne;){var Ve=_A((W+ne)/2),Xe=v(g[Ve]),Et=Xe!==n,zt=Xe===null,Rn=Xe===Xe,er=ml(Xe);if(ae)var In=k||Rn;else Ge?In=Rn&&(k||Et):fe?In=Rn&&Et&&(k||!zt):Ee?In=Rn&&Et&&!zt&&(k||!er):zt||er?In=!1:In=k?Xe<=S:Xe<S;In?W=Ve+1:ne=Ve}return Qs(ne,le)}function Py(g,S){for(var v=-1,k=g.length,W=0,ne=[];++v<k;){var ae=g[v],fe=S?S(ae):ae;if(!v||!Yc(fe,Ee)){var Ee=fe;ne[W++]=ae===0?0:ae}}return ne}function Uy(g){return typeof g=="number"?g:ml(g)?F:+g}function Oo(g){if(typeof g=="string")return g;if(Yn(g))return ni(g,Oo)+"";if(ml(g))return Qg?Qg.call(g):"";var S=g+"";return S=="0"&&1/g==-te?"-0":S}function Gc(g,S,v){var k=-1,W=Ng,ne=g.length,ae=!0,fe=[],Ee=fe;if(v)ae=!1,W=uy;else if(ne>=i){var Ge=S?null:wI(g);if(Ge)return IA(Ge);ae=!1,W=wc,Ee=new qu}else Ee=S?[]:fe;e:for(;++k<ne;){var Ve=g[k],Xe=S?S(Ve):Ve;if(Ve=v||Ve!==0?Ve:0,ae&&Xe===Xe){for(var Et=Ee.length;Et--;)if(Ee[Et]===Xe)continue e;S&&Ee.push(Xe),fe.push(Ve)}else W(Ee,Xe,v)||(Ee!==fe&&Ee.push(Xe),fe.push(Ve))}return fe}function iE(g,S){S=zl(S,g);var v=-1,k=S.length;if(!k)return!0;for(var W=g==null||typeof g!="object"&&typeof g!="function";++v<k;){var ne=S[v];if(typeof ne=="string"){if(ne==="__proto__"&&!yr.call(g,"__proto__"))return!1;if(ne==="constructor"&&v+1<k&&typeof S[v+1]=="string"&&S[v+1]==="prototype"){if(W&&v===0)continue;return!1}}}var ae=ps(g,S);return ae==null||delete ae[dl(ho(S))]}function Fy(g,S,v,k){return ih(g,S,v(Pc(g,S)),k)}function vp(g,S,v,k){for(var W=g.length,ne=k?W:-1;(k?ne--:++ne<W)&&S(g[ne],ne,g););return v?Ks(g,k?0:ne,k?ne+1:W):Ks(g,k?ne+1:0,k?W:ne)}function kd(g,S){var v=g;return v instanceof Wn&&(v=v.value()),hy(S,function(k,W){return W.func.apply(W.thisArg,RA([k],W.args))},v)}function sE(g,S,v){var k=g.length;if(k<2)return k?Gc(g[0]):[];for(var W=-1,ne=Ne(k);++W<k;)for(var ae=g[W],fe=-1;++fe<k;)fe!=W&&(ne[W]=Wl(ne[W]||ae,g[fe],S,v));return Gc(Li(ne,1),S,v)}function Op(g,S,v){for(var k=-1,W=g.length,ne=S.length,ae={};++k<W;){var fe=k<ne?S[k]:n;v(ae,g[k],fe)}return ae}function Md(g){return ss(g)?g:[]}function oE(g){return typeof g=="function"?g:Da}function zl(g,S){return Yn(g)?g:vt(g,S)?[g]:i0(Vr(g))}var xI=qn;function Qc(g,S,v){var k=g.length;return v=v===n?k:v,!S&&v>=k?g:Ks(g,S,v)}var Hy=AI||function(g){return Kn.clearTimeout(g)};function Gy(g,S){if(S)return g.slice();var v=g.length,k=yy?yy(v):new g.constructor(v);return g.copy(k),k}function wp(g){var S=new g.constructor(g.byteLength);return new pp(S).set(new pp(g)),S}function RI(g,S){var v=S?wp(g.buffer):g.buffer;return new g.constructor(v,g.byteOffset,g.byteLength)}function II(g){var S=new g.constructor(g.source,zn.exec(g));return S.lastIndex=g.lastIndex,S}function _I(g){return Jo?Qr(Jo.call(g)):{}}function NI(g,S){var v=S?wp(g.buffer):g.buffer;return new g.constructor(v,g.byteOffset,g.length)}function Qy(g,S){if(g!==S){var v=g!==n,k=g===null,W=g===g,ne=ml(g),ae=S!==n,fe=S===null,Ee=S===S,Ge=ml(S);if(!fe&&!Ge&&!ne&&g>S||ne&&ae&&Ee&&!fe&&!Ge||k&&ae&&Ee||!v&&Ee||!W)return 1;if(!k&&!ne&&!Ge&&g<S||Ge&&v&&W&&!k&&!ne||fe&&v&&W||!ae&&W||!Ee)return-1}return 0}function lB(g,S,v){for(var k=-1,W=g.criteria,ne=S.criteria,ae=W.length,fe=v.length;++k<ae;){var Ee=Qy(W[k],ne[k]);if(Ee){if(k>=fe)return Ee;var Ge=v[k];return Ee*(Ge=="desc"?-1:1)}}return g.index-S.index}function bI(g,S,v,k){for(var W=-1,ne=g.length,ae=v.length,fe=-1,Ee=S.length,Ge=Ki(ne-ae,0),Ve=Ne(Ee+Ge),Xe=!k;++fe<Ee;)Ve[fe]=S[fe];for(;++W<ae;)(Xe||W<ne)&&(Ve[v[W]]=g[W]);for(;Ge--;)Ve[fe++]=g[W++];return Ve}function Vy(g,S,v,k){for(var W=-1,ne=g.length,ae=-1,fe=v.length,Ee=-1,Ge=S.length,Ve=Ki(ne-fe,0),Xe=Ne(Ve+Ge),Et=!k;++W<Ve;)Xe[W]=g[W];for(var zt=W;++Ee<Ge;)Xe[zt+Ee]=S[Ee];for(;++ae<fe;)(Et||W<ne)&&(Xe[zt+v[ae]]=g[W++]);return Xe}function co(g,S){var v=-1,k=g.length;for(S||(S=Ne(k));++v<k;)S[v]=g[v];return S}function cl(g,S,v,k){var W=!v;v||(v={});for(var ne=-1,ae=S.length;++ne<ae;){var fe=S[ne],Ee=k?k(v[fe],g[fe],fe,v,g):n;Ee===n&&(Ee=g[fe]),W?$l(v,fe,Ee):Zu(v,fe,Ee)}return v}function aE(g,S){return cl(g,Al(g),S)}function cB(g,S){return cl(g,BI(g),S)}function lE(g,S){return function(v,k){var W=Yn(v)?cy:Zo,ne=S?S():{};return W(v,g,dn(k,2),ne)}}function Pd(g){return qn(function(S,v){var k=-1,W=v.length,ne=W>1?v[W-1]:n,ae=W>2?v[2]:n;for(ne=g.length>3&&typeof ne=="function"?(W--,ne):n,ae&&uo(v[0],v[1],ae)&&(ne=W<3?n:ne,W=1),S=Qr(S);++k<W;){var fe=v[k];fe&&g(S,fe,k,ne)}return S})}function va(g,S){return function(v,k){if(v==null)return v;if(!La(v))return g(v,k);for(var W=v.length,ne=S?W:-1,ae=Qr(v);(S?ne--:++ne<W)&&k(ae[ne],ne,ae)!==!1;);return v}}function cE(g){return function(S,v,k){for(var W=-1,ne=Qr(S),ae=k(S),fe=ae.length;fe--;){var Ee=ae[g?fe:++W];if(v(ne[Ee],Ee,ne)===!1)break}return S}}function AE(g,S,v){var k=S&y,W=Ud(g);function ne(){var ae=this&&this!==Kn&&this instanceof ne?W:g;return ae.apply(k?v:this,arguments)}return ne}function $y(g){return function(S){S=Vr(S);var v=gd(S)?Xo(S):n,k=v?v[0]:S.charAt(0),W=v?Qc(v,1).join(""):S.slice(1);return k[g]()+W}}function sh(g){return function(S){return hy(lQ(aQ(S).replace(oy,"")),g,"")}}function Ud(g){return function(){var S=arguments;switch(S.length){case 0:return new g;case 1:return new g(S[0]);case 2:return new g(S[0],S[1]);case 3:return new g(S[0],S[1],S[2]);case 4:return new g(S[0],S[1],S[2],S[3]);case 5:return new g(S[0],S[1],S[2],S[3],S[4]);case 6:return new g(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new g(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var v=_d(g.prototype),k=g.apply(v,S);return Hi(k)?k:v}}function Wy(g,S,v){var k=Ud(g);function W(){for(var ne=arguments.length,ae=Ne(ne),fe=ne,Ee=Vc(W);fe--;)ae[fe]=arguments[fe];var Ge=ne<3&&ae[0]!==Ee&&ae[ne-1]!==Ee?[]:Sa(ae,Ee);if(ne-=Ge.length,ne<v)return Ao(g,S,Fd,W.placeholder,n,ae,Ge,n,n,v-ne);var Ve=this&&this!==Kn&&this instanceof W?k:g;return ao(Ve,this,ae)}return W}function oh(g){return function(S,v,k){var W=Qr(S);if(!La(S)){var ne=dn(v,3);S=zs(S),v=function(fe){return ne(W[fe],fe,W)}}var ae=g(S,v,k);return ae>-1?W[ne?S[ae]:ae]:n}}function uE(g){return Xl(function(S){var v=S.length,k=v,W=Vs.prototype.thru;for(g&&S.reverse();k--;){var ne=S[k];if(typeof ne!="function")throw new ya(o);if(W&&!ae&&Hd(ne)=="wrapper")var ae=new Vs([],!0)}for(k=ae?k:v;++k<v;){ne=S[k];var fe=Hd(ne),Ee=fe=="wrapper"?fE(ne):n;Ee&&Fp(Ee[0])&&Ee[1]==(L|b|w|U)&&!Ee[4].length&&Ee[9]==1?ae=ae[Hd(Ee[0])].apply(ae,Ee[3]):ae=ne.length==1&&Fp(ne)?ae[fe]():ae.thru(ne)}return function(){var Ge=arguments,Ve=Ge[0];if(ae&&Ge.length==1&&Yn(Ve))return ae.plant(Ve).value();for(var Xe=0,Et=v?S[Xe].apply(this,Ge):Ve;++Xe<v;)Et=S[Xe].call(this,Et);return Et}})}function Fd(g,S,v,k,W,ne,ae,fe,Ee,Ge){var Ve=S&L,Xe=S&y,Et=S&R,zt=S&(b|B),Rn=S&G,er=Et?n:Ud(g);function In(){for(var hr=arguments.length,xr=Ne(hr),gl=hr;gl--;)xr[gl]=arguments[gl];if(zt)var ra=Vc(In),El=eI(xr,ra);if(k&&(xr=bI(xr,k,W,zt)),ne&&(xr=Vy(xr,ne,ae,zt)),hr-=El,zt&&hr<Ge){var os=Sa(xr,ra);return Ao(g,S,Fd,In.placeholder,v,xr,os,fe,Ee,Ge-hr)}var jc=Xe?v:this,ph=Et?jc[g]:g;return hr=xr.length,fe?xr=ul(xr,fe):Rn&&hr>1&&xr.reverse(),Ve&&Ee<hr&&(xr.length=Ee),this&&this!==Kn&&this instanceof In&&(ph=er||Ud(ph)),ph.apply(jc,xr)}return In}function vI(g,S){return function(v,k){return Uc(v,g,S(k),{})}}function Lp(g,S){return function(v,k){var W;if(v===n&&k===n)return S;if(v!==n&&(W=v),k!==n){if(W===n)return k;typeof v=="string"||typeof k=="string"?(v=Oo(v),k=Oo(k)):(v=Uy(v),k=Uy(k)),W=g(v,k)}return W}}function hE(g){return Xl(function(S){return S=ni(S,qo(dn())),qn(function(v){var k=this;return g(S,function(W){return ao(W,k,v)})})})}function Bp(g,S){S=S===n?" ":Oo(S);var v=S.length;if(v<2)return v?rh(S,g):S;var k=rh(S,Ku(g/Yu(S)));return gd(S)?Qc(Xo(k),0,g).join(""):k.slice(0,g)}function OI(g,S,v,k){var W=S&y,ne=Ud(g);function ae(){for(var fe=-1,Ee=arguments.length,Ge=-1,Ve=k.length,Xe=Ne(Ve+Ee),Et=this&&this!==Kn&&this instanceof ae?ne:g;++Ge<Ve;)Xe[Ge]=k[Ge];for(;Ee--;)Xe[Ge++]=arguments[++fe];return ao(Et,W?v:this,Xe)}return ae}function Yy(g){return function(S,v,k){return k&&typeof k!="number"&&uo(S,v,k)&&(v=k=n),S=fh(S),v===n?(v=S,S=0):v=fh(v),k=k===n?S<v?1:-1:fh(k),bp(S,v,k,g)}}function dE(g){return function(S,v){return typeof S=="string"&&typeof v=="string"||(S=Zl(S),v=Zl(v)),g(S,v)}}function Ao(g,S,v,k,W,ne,ae,fe,Ee,Ge){var Ve=S&b,Xe=Ve?ae:n,Et=Ve?n:ae,zt=Ve?ne:n,Rn=Ve?n:ne;S|=Ve?w:O,S&=~(Ve?O:w),S&I||(S&=-4);var er=[g,S,W,zt,Xe,Rn,Et,fe,Ee,Ge],In=v.apply(n,er);return Fp(g)&&n0(In,er),In.placeholder=k,r0(In,g,S)}function Is(g){var S=ji[g];return function(v,k){if(v=Zl(v),k=k==null?0:Qs(Xn(k),292),k&&yd(v)){var W=(Vr(v)+"e").split("e"),ne=S(W[0]+"e"+(+W[1]+k));return W=(Vr(ne)+"e").split("e"),+(W[0]+"e"+(+W[1]-k))}return S(v)}}var wI=NA&&1/IA(new NA([,-0]))[1]==te?function(g){return new NA(g)}:PB;function jy(g){return function(S){var v=_s(S);return v==be?Og(S):v==Dt?nB(S):ZL(S,g(S))}}function ql(g,S,v,k,W,ne,ae,fe){var Ee=S&R;if(!Ee&&typeof g!="function")throw new ya(o);var Ge=k?k.length:0;if(Ge||(S&=-97,k=W=n),ae=ae===n?ae:Ki(Xn(ae),0),fe=fe===n?fe:Xn(fe),Ge-=W?W.length:0,S&O){var Ve=k,Xe=W;k=W=n}var Et=Ee?n:fE(g),zt=[g,S,v,k,W,Ve,Xe,ne,ae,fe];if(Et&&PI(zt,Et),g=zt[0],S=zt[1],v=zt[2],k=zt[3],W=zt[4],fe=zt[9]=zt[9]===n?Ee?0:g.length:Ki(zt[9]-Ge,0),!fe&&S&(b|B)&&(S&=-25),!S||S==y)var Rn=AE(g,S,v);else S==b||S==B?Rn=Wy(g,S,fe):(S==w||S==(y|w))&&!W.length?Rn=OI(g,S,v,k):Rn=Fd.apply(n,zt);var er=Et?nE:n0;return r0(er(Rn,zt),g,S)}function Ky(g,S,v,k){return g===n||Yc(g,Fl[v])&&!yr.call(k,v)?S:g}function zy(g,S,v,k,W,ne){return Hi(g)&&Hi(S)&&(ne.set(S,g),nh(g,S,n,zy,ne),ne.delete(S)),g}function qy(g){return T0(g)?n:g}function Xy(g,S,v,k,W,ne){var ae=v&E,fe=g.length,Ee=S.length;if(fe!=Ee&&!(ae&&Ee>fe))return!1;var Ge=ne.get(g),Ve=ne.get(S);if(Ge&&Ve)return Ge==S&&Ve==g;var Xe=-1,Et=!0,zt=v&T?new qu:n;for(ne.set(g,S),ne.set(S,g);++Xe<fe;){var Rn=g[Xe],er=S[Xe];if(k)var In=ae?k(er,Rn,Xe,S,g,ne):k(Rn,er,Xe,g,S,ne);if(In!==n){if(In)continue;Et=!1;break}if(zt){if(!dy(S,function(hr,xr){if(!wc(zt,xr)&&(Rn===hr||W(Rn,hr,v,k,ne)))return zt.push(xr)})){Et=!1;break}}else if(!(Rn===er||W(Rn,er,v,k,ne))){Et=!1;break}}return ne.delete(g),ne.delete(S),Et}function Jy(g,S,v,k,W,ne,ae){switch(v){case Ye:if(g.byteLength!=S.byteLength||g.byteOffset!=S.byteOffset)return!1;g=g.buffer,S=S.buffer;case _e:return!(g.byteLength!=S.byteLength||!ne(new pp(g),new pp(S)));case We:case qe:case nt:return Yc(+g,+S);case ut:return g.name==S.name&&g.message==S.message;case Tt:case Ft:return g==S+"";case be:var fe=Og;case Dt:var Ee=k&E;if(fe||(fe=IA),g.size!=S.size&&!Ee)return!1;var Ge=ae.get(g);if(Ge)return Ge==S;k|=T,ae.set(g,S);var Ve=Xy(fe(g),fe(S),k,W,ne,ae);return ae.delete(g),Ve;case mn:if(Jo)return Jo.call(g)==Jo.call(S)}return!1}function LI(g,S,v,k,W,ne){var ae=v&E,fe=Dp(g),Ee=fe.length,Ge=Dp(S),Ve=Ge.length;if(Ee!=Ve&&!ae)return!1;for(var Xe=Ee;Xe--;){var Et=fe[Xe];if(!(ae?Et in S:yr.call(S,Et)))return!1}var zt=ne.get(g),Rn=ne.get(S);if(zt&&Rn)return zt==S&&Rn==g;var er=!0;ne.set(g,S),ne.set(S,g);for(var In=ae;++Xe<Ee;){Et=fe[Xe];var hr=g[Et],xr=S[Et];if(k)var gl=ae?k(xr,hr,Et,S,g,ne):k(hr,xr,Et,g,S,ne);if(!(gl===n?hr===xr||W(hr,xr,v,k,ne):gl)){er=!1;break}In||(In=Et=="constructor")}if(er&&!In){var ra=g.constructor,El=S.constructor;ra!=El&&"constructor"in g&&"constructor"in S&&!(typeof ra=="function"&&ra instanceof ra&&typeof El=="function"&&El instanceof El)&&(er=!1)}return ne.delete(g),ne.delete(S),er}function Xl(g){return ta(EE(g,n,yE),g+"")}function Dp(g){return qg(g,zs,Al)}function kp(g){return qg(g,Ba,BI)}var fE=Gg?function(g){return Gg.get(g)}:PB;function Hd(g){for(var S=g.name+"",v=Rd[S],k=yr.call(Rd,S)?v.length:0;k--;){var W=v[k],ne=W.func;if(ne==null||ne==g)return W.name}return S}function Vc(g){var S=yr.call(Z,"placeholder")?Z:g;return S.placeholder}function dn(){var g=Z.iteratee||kB;return g=g===kB?Ld:g,arguments.length?g(arguments[0],arguments[1]):g}function Mp(g,S){var v=g.__data__;return Gd(S)?v[typeof S=="string"?"string":"hash"]:v.map}function Pp(g){for(var S=zs(g),v=S.length;v--;){var k=S[v],W=g[k];S[v]=[k,W,Hp(W)]}return S}function MA(g,S){var v=md(g,S);return Oy(v)?v:n}function pE(g){var S=yr.call(g,ju),v=g[ju];try{g[ju]=n;var k=!0}catch{}var W=dp.call(g);return k&&(S?g[ju]=v:delete g[ju]),W}var Al=Ug?function(g){return g==null?[]:(g=Qr(g),xA(Ug(g),function(S){return Mg.call(g,S)}))}:UB,BI=Ug?function(g){for(var S=[];g;)RA(S,Al(g)),g=al(g);return S}:UB,_s=Rs;(Ep&&_s(new Ep(new ArrayBuffer(1)))!=Ye||zu&&_s(new zu)!=be||Tp&&_s(Tp.resolve())!=at||NA&&_s(new NA)!=Dt||Sp&&_s(new Sp)!=qt)&&(_s=function(g){var S=Rs(g),v=S==gt?g.constructor:n,k=v?PA(v):"";if(k)switch(k){case Ry:return Ye;case bA:return be;case hI:return at;case Id:return Dt;case Hl:return qt}return S});function Zy(g,S,v){for(var k=-1,W=v.length;++k<W;){var ne=v[k],ae=ne.size;switch(ne.type){case"drop":g+=ae;break;case"dropRight":S-=ae;break;case"take":S=Qs(S,g+ae);break;case"takeRight":g=Ki(g,S-ae);break}}return{start:g,end:S}}function DI(g){var S=g.match(Pt);return S?S[1].split(kn):[]}function e0(g,S,v){S=zl(S,g);for(var k=-1,W=S.length,ne=!1;++k<W;){var ae=dl(S[k]);if(!(ne=g!=null&&v(g,ae)))break;g=g[ae]}return ne||++k!=W?ne:(W=g==null?0:g.length,!!W&&e_(W)&&Si(ae,W)&&(Yn(g)||Kp(g)))}function Up(g){var S=g.length,v=new g.constructor(S);return S&&typeof g[0]=="string"&&yr.call(g,"index")&&(v.index=g.index,v.input=g.input),v}function Ns(g){return typeof g.constructor=="function"&&!$c(g)?_d(al(g)):{}}function AB(g,S,v){var k=g.constructor;switch(S){case _e:return wp(g);case We:case qe:return new k(+g);case Ye:return RI(g,v);case dt:case Wt:case Xt:case Te:case Ae:case me:case st:case ke:case ht:return NI(g,v);case be:return new k;case nt:case Ft:return new k(g);case Tt:return II(g);case Dt:return new k;case mn:return _I(g)}}function uB(g,S){var v=S.length;if(!v)return g;var k=v-1;return S[k]=(v>1?"& ":"")+S[k],S=S.join(v>2?", ":" "),g.replace(Zt,`{
/* [wrapped with `+S+`] */
`)}function mE(g){return Yn(g)||Kp(g)||!!(cI&&g&&g[cI])}function Si(g,S){var v=typeof g;return S=S??X,!!S&&(v=="number"||v!="symbol"&&he.test(g))&&g>-1&&g%1==0&&g<S}function uo(g,S,v){if(!Hi(v))return!1;var k=typeof S;return(k=="number"?La(v)&&Si(S,v.length):k=="string"&&S in v)?Yc(v[S],g):!1}function vt(g,S){if(Yn(g))return!1;var v=typeof g;return v=="number"||v=="symbol"||v=="boolean"||g==null||ml(g)?!0:Gr.test(g)||!Br.test(g)||S!=null&&g in Qr(S)}function Gd(g){var S=typeof g;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?g!=="__proto__":g===null}function Fp(g){var S=Hd(g),v=Z[S];if(typeof v!="function"||!(S in Wn.prototype))return!1;if(g===v)return!0;var k=fE(v);return!!k&&g===k[0]}function kI(g){return!!Bg&&Bg in g}var hB=Td?dh:FB;function $c(g){var S=g&&g.constructor,v=typeof S=="function"&&S.prototype||Fl;return g===v}function Hp(g){return g===g&&!Hi(g)}function gE(g,S){return function(v){return v==null?!1:v[g]===S&&(S!==n||g in Qr(v))}}function MI(g){var S=xe(g,function(k){return v.size===c&&v.clear(),k}),v=S.cache;return S}function PI(g,S){var v=g[1],k=S[1],W=v|k,ne=W<(y|R|L),ae=k==L&&v==b||k==L&&v==U&&g[7].length<=S[8]||k==(L|U)&&S[7].length<=S[8]&&v==b;if(!(ne||ae))return g;k&y&&(g[2]=S[2],W|=v&y?0:I);var fe=S[3];if(fe){var Ee=g[3];g[3]=Ee?bI(Ee,fe,S[4]):fe,g[4]=Ee?Sa(g[3],A):S[4]}return fe=S[5],fe&&(Ee=g[5],g[5]=Ee?Vy(Ee,fe,S[6]):fe,g[6]=Ee?Sa(g[5],A):S[6]),fe=S[7],fe&&(g[7]=fe),k&L&&(g[8]=g[8]==null?S[8]:Qs(g[8],S[8])),g[9]==null&&(g[9]=S[9]),g[0]=S[0],g[1]=W,g}function UI(g){var S=[];if(g!=null)for(var v in Qr(g))S.push(v);return S}function t0(g){return dp.call(g)}function EE(g,S,v){return S=Ki(S===n?g.length-1:S,0),function(){for(var k=arguments,W=-1,ne=Ki(k.length-S,0),ae=Ne(ne);++W<ne;)ae[W]=k[S+W];W=-1;for(var fe=Ne(S+1);++W<S;)fe[W]=k[W];return fe[S]=v(ae),ao(g,this,fe)}}function ps(g,S){return S.length<2?g:Pc(g,Ks(S,0,-1))}function ul(g,S){for(var v=g.length,k=Qs(S.length,v),W=co(g);k--;){var ne=S[k];g[k]=Si(ne,v)?W[ne]:n}return g}function Jl(g,S){if(!(S==="constructor"&&typeof g[S]=="function")&&S!="__proto__")return g[S]}var n0=hl(nE),Qd=Cy||function(g,S){return Kn.setTimeout(g,S)},ta=hl(Kl);function r0(g,S,v){var k=S+"";return ta(g,uB(k,FI(DI(k),v)))}function hl(g){var S=0,v=0;return function(){var k=aB(),W=j-(k-v);if(v=k,W>0){if(++S>=K)return arguments[0]}else S=0;return g.apply(n,arguments)}}function TE(g,S){var v=-1,k=g.length,W=k-1;for(S=S===n?k:S;++v<S;){var ne=Bd(v,W),ae=g[ne];g[ne]=g[v],g[v]=ae}return g.length=S,g}var i0=MI(function(g){var S=[];return g.charCodeAt(0)===46&&S.push(""),g.replace(Fr,function(v,k,W,ne){S.push(W?ne.replace(Cn,"$1"):k||v)}),S});function dl(g){if(typeof g=="string"||ml(g))return g;var S=g+"";return S=="0"&&1/g==-te?"-0":S}function PA(g){if(g!=null){try{return hp.call(g)}catch{}try{return g+""}catch{}}return""}function FI(g,S){return Gs(we,function(v){var k="_."+v[0];S&v[1]&&!Ng(g,k)&&g.push(k)}),g.sort()}function HI(g){if(g instanceof Wn)return g.clone();var S=new Vs(g.__wrapped__,g.__chain__);return S.__actions__=co(g.__actions__),S.__index__=g.__index__,S.__values__=g.__values__,S}function SE(g,S,v){(v?uo(g,S,v):S===n)?S=1:S=Ki(Xn(S),0);var k=g==null?0:g.length;if(!k||S<1)return[];for(var W=0,ne=0,ae=Ne(Ku(k/S));W<k;)ae[ne++]=Ks(g,W,W+=S);return ae}function s0(g){for(var S=-1,v=g==null?0:g.length,k=0,W=[];++S<v;){var ne=g[S];ne&&(W[k++]=ne)}return W}function Oa(){var g=arguments.length;if(!g)return[];for(var S=Ne(g-1),v=arguments[0],k=g;k--;)S[k-1]=arguments[k];return RA(Yn(v)?co(v):[v],Li(S,1))}var Cr=qn(function(g,S){return ss(g)?Wl(g,Li(S,1,ss,!0)):[]}),ms=qn(function(g,S){var v=ho(S);return ss(v)&&(v=n),ss(g)?Wl(g,Li(S,1,ss,!0),dn(v,2)):[]}),zi=qn(function(g,S){var v=ho(S);return ss(v)&&(v=n),ss(g)?Wl(g,Li(S,1,ss,!0),n,v):[]});function bs(g,S,v){var k=g==null?0:g.length;return k?(S=v||S===n?1:Xn(S),Ks(g,S<0?0:S,k)):[]}function na(g,S,v){var k=g==null?0:g.length;return k?(S=v||S===n?1:Xn(S),S=k-S,Ks(g,0,S<0?0:S)):[]}function Vd(g,S){return g&&g.length?vp(g,dn(S,3),!0,!0):[]}function is(g,S){return g&&g.length?vp(g,dn(S,3),!0):[]}function Gp(g,S,v,k){var W=g==null?0:g.length;return W?(v&&typeof v!="number"&&uo(g,S,v)&&(v=0,k=W),SI(g,S,v,k)):[]}function UA(g,S,v){var k=g==null?0:g.length;if(!k)return-1;var W=v==null?0:Xn(v);return W<0&&(W=Ki(k+W,0)),bg(g,dn(S,3),W)}function Qp(g,S,v){var k=g==null?0:g.length;if(!k)return-1;var W=k-1;return v!==n&&(W=Xn(v),W=v<0?Ki(k+W,0):Qs(W,k-1)),bg(g,dn(S,3),W,!0)}function yE(g){var S=g==null?0:g.length;return S?Li(g,1):[]}function Vp(g){var S=g==null?0:g.length;return S?Li(g,te):[]}function wo(g,S){var v=g==null?0:g.length;return v?(S=S===n?1:Xn(S),Li(g,S)):[]}function o0(g){for(var S=-1,v=g==null?0:g.length,k={};++S<v;){var W=g[S];k[W[0]]=W[1]}return k}function ah(g){return g&&g.length?g[0]:n}function Wc(g,S,v){var k=g==null?0:g.length;if(!k)return-1;var W=v==null?0:Xn(v);return W<0&&(W=Ki(k+W,0)),pd(g,S,W)}function CE(g){var S=g==null?0:g.length;return S?Ks(g,0,-1):[]}var a0=qn(function(g){var S=ni(g,Md);return S.length&&S[0]===g[0]?Xg(S):[]}),FA=qn(function(g){var S=ho(g),v=ni(g,Md);return S===ho(v)?S=n:v.pop(),v.length&&v[0]===g[0]?Xg(v,dn(S,2)):[]}),xE=qn(function(g){var S=ho(g),v=ni(g,Md);return S=typeof S=="function"?S:n,S&&v.pop(),v.length&&v[0]===g[0]?Xg(v,n,S):[]});function HA(g,S){return g==null?"":Fg.call(g,S)}function ho(g){var S=g==null?0:g.length;return S?g[S-1]:n}function $p(g,S,v){var k=g==null?0:g.length;if(!k)return-1;var W=k;return v!==n&&(W=Xn(v),W=W<0?Ki(k+W,0):Qs(W,k-1)),S===S?rB(g,S,W):bg(g,zR,W,!0)}function l0(g,S){return g&&g.length?tE(g,Xn(S)):n}var RE=qn(Wp);function Wp(g,S){return g&&g.length&&S&&S.length?Ui(g,S):g}function fo(g,S,v){return g&&g.length&&S&&S.length?Ui(g,S,dn(v,2)):g}function GA(g,S,v){return g&&g.length&&S&&S.length?Ui(g,S,n,v):g}var fl=Xl(function(g,S){var v=g==null?0:g.length,k=Kg(g,S);return rs(g,ni(S,function(W){return Si(W,v)?+W:W}).sort(Qy)),k});function Lo(g,S){var v=[];if(!(g&&g.length))return v;var k=-1,W=[],ne=g.length;for(S=dn(S,3);++k<ne;){var ae=g[k];S(ae,k,g)&&(v.push(ae),W.push(k))}return rs(g,W),v}function IE(g){return g==null?g:Hg.call(g)}function c0(g,S,v){var k=g==null?0:g.length;return k?(v&&typeof v!="number"&&uo(g,S,v)?(S=0,v=k):(S=S==null?0:Xn(S),v=v===n?k:Xn(v)),Ks(g,S,v)):[]}function A0(g,S){return Dd(g,S)}function dB(g,S,v){return rE(g,S,dn(v,2))}function QA(g,S){var v=g==null?0:g.length;if(v){var k=Dd(g,S);if(k<v&&Yc(g[k],S))return k}return-1}function GI(g,S){return Dd(g,S,!0)}function u0(g,S,v){return rE(g,S,dn(v,2),!0)}function lh(g,S){var v=g==null?0:g.length;if(v){var k=Dd(g,S,!0)-1;if(Yc(g[k],S))return k}return-1}function h0(g){return g&&g.length?Py(g):[]}function ch(g,S){return g&&g.length?Py(g,dn(S,2)):[]}function QI(g){var S=g==null?0:g.length;return S?Ks(g,1,S):[]}function VI(g,S,v){return g&&g.length?(S=v||S===n?1:Xn(S),Ks(g,0,S<0?0:S)):[]}function d0(g,S,v){var k=g==null?0:g.length;return k?(S=v||S===n?1:Xn(S),S=k-S,Ks(g,S<0?0:S,k)):[]}function _E(g,S){return g&&g.length?vp(g,dn(S,3),!1,!0):[]}function fB(g,S){return g&&g.length?vp(g,dn(S,3)):[]}var pB=qn(function(g){return Gc(Li(g,1,ss,!0))}),$I=qn(function(g){var S=ho(g);return ss(S)&&(S=n),Gc(Li(g,1,ss,!0),dn(S,2))}),WI=qn(function(g){var S=ho(g);return S=typeof S=="function"?S:n,Gc(Li(g,1,ss,!0),n,S)});function Ah(g){return g&&g.length?Gc(g):[]}function mB(g,S){return g&&g.length?Gc(g,dn(S,2)):[]}function $d(g,S){return S=typeof S=="function"?S:n,g&&g.length?Gc(g,n,S):[]}function NE(g){if(!(g&&g.length))return[];var S=0;return g=xA(g,function(v){if(ss(v))return S=Ki(v.length,S),!0}),gy(S,function(v){return ni(g,py(v))})}function vi(g,S){if(!(g&&g.length))return[];var v=NE(g);return S==null?v:ni(v,function(k){return ao(S,n,k)})}var gB=qn(function(g,S){return ss(g)?Wl(g,S):[]}),YI=qn(function(g){return sE(xA(g,ss))}),EB=qn(function(g){var S=ho(g);return ss(S)&&(S=n),sE(xA(g,ss),dn(S,2))}),TB=qn(function(g){var S=ho(g);return S=typeof S=="function"?S:n,sE(xA(g,ss),n,S)}),jI=qn(NE);function KI(g,S){return Op(g||[],S||[],Zu)}function SB(g,S){return Op(g||[],S||[],ih)}var wa=qn(function(g){var S=g.length,v=S>1?g[S-1]:n;return v=typeof v=="function"?(g.pop(),v):n,vi(g,v)});function bE(g){var S=Z(g);return S.__chain__=!0,S}function yB(g,S){return S(g),g}function pl(g,S){return S(g)}var vE=Xl(function(g){var S=g.length,v=S?g[0]:0,k=this.__wrapped__,W=function(ne){return Kg(ne,g)};return S>1||this.__actions__.length||!(k instanceof Wn)||!Si(v)?this.thru(W):(k=k.slice(v,+v+(S?1:0)),k.__actions__.push({func:pl,args:[W],thisArg:n}),new Vs(k,this.__chain__).thru(function(ne){return S&&!ne.length&&ne.push(n),ne}))});function uh(){return bE(this)}function OE(){return new Vs(this.value(),this.__chain__)}function f0(){this.__values__===n&&(this.__values__=JG(this.value()));var g=this.__index__>=this.__values__.length,S=g?n:this.__values__[this.__index__++];return{done:g,value:S}}function p0(){return this}function CB(g){for(var S,v=this;v instanceof Gl;){var k=HI(v);k.__index__=0,k.__values__=n,S?W.__wrapped__=k:S=k;var W=k;v=v.__wrapped__}return W.__wrapped__=g,S}function m0(){var g=this.__wrapped__;if(g instanceof Wn){var S=g;return this.__actions__.length&&(S=new Wn(this)),S=S.reverse(),S.__actions__.push({func:pl,args:[IE],thisArg:n}),new Vs(S,this.__chain__)}return this.thru(IE)}function xB(){return kd(this.__wrapped__,this.__actions__)}var zI=lE(function(g,S,v){yr.call(g,v)?++g[v]:$l(g,v,1)});function qI(g,S,v){var k=Yn(g)?Ay:xp;return v&&uo(g,S,v)&&(S=n),k(g,dn(S,3))}function wE(g,S){var v=Yn(g)?xA:by;return v(g,dn(S,3))}var LE=oh(UA),XI=oh(Qp);function g0(g,S){return Li(hh(g,S),1)}function RB(g,S){return Li(hh(g,S),te)}function JI(g,S,v){return v=v===n?1:Xn(v),Li(hh(g,S),v)}function BE(g,S){var v=Yn(g)?Gs:Yl;return v(g,dn(S,3))}function Yp(g,S){var v=Yn(g)?_g:TI;return v(g,dn(S,3))}var E0=lE(function(g,S,v){yr.call(g,v)?g[v].push(S):$l(g,v,[S])});function DE(g,S,v,k){g=La(g)?g:PE(g),v=v&&!k?Xn(v):0;var W=g.length;return v<0&&(v=Ki(W+v,0)),t_(g)?v<=W&&g.indexOf(S,v)>-1:!!W&&pd(g,S,v)>-1}var ZI=qn(function(g,S,v){var k=-1,W=typeof S=="function",ne=La(g)?Ne(g.length):[];return Yl(g,function(ae){ne[++k]=W?ao(S,ae,v):_a(ae,S,v)}),ne}),IB=lE(function(g,S,v){$l(g,v,S)});function hh(g,S){var v=Yn(g)?ni:Ly;return v(g,dn(S,3))}function _B(g,S,v,k){return g==null?[]:(Yn(S)||(S=S==null?[]:[S]),v=k?n:v,Yn(v)||(v=v==null?[]:[v]),Np(g,S,v))}var jp=lE(function(g,S,v){g[v?0:1].push(S)},function(){return[[],[]]});function NB(g,S,v){var k=Yn(g)?hy:XR,W=arguments.length<3;return k(g,dn(S,4),v,W,Yl)}function kE(g,S,v){var k=Yn(g)?zL:XR,W=arguments.length<3;return k(g,dn(S,4),v,W,TI)}function d(g,S){var v=Yn(g)?xA:by;return v(g,rt(dn(S,3)))}function m(g){var S=Yn(g)?Vl:js;return S(g)}function C(g,S,v){(v?uo(g,S,v):S===n)?S=1:S=Xn(S);var k=Yn(g)?Ju:ky;return k(g,S)}function N(g){var S=Yn(g)?gI:ba;return S(g)}function D(g){if(g==null)return 0;if(La(g))return t_(g)?Yu(g):g.length;var S=_s(g);return S==be||S==Dt?g.size:Hc(g).length}function M(g,S,v){var k=Yn(g)?dy:My;return v&&uo(g,S,v)&&(S=n),k(g,dn(S,3))}var z=qn(function(g,S){if(g==null)return[];var v=S.length;return v>1&&uo(g,S[0],S[1])?S=[]:v>2&&uo(S[0],S[1],S[2])&&(S=[S[0]]),Np(g,Li(S,1),[])}),se=ci||function(){return Kn.Date.now()};function de(g,S){if(typeof S!="function")throw new ya(o);return g=Xn(g),function(){if(--g<1)return S.apply(this,arguments)}}function ve(g,S,v){return S=v?n:S,S=g&&S==null?g.length:S,ql(g,L,n,n,n,n,S)}function ze(g,S){var v;if(typeof S!="function")throw new ya(o);return g=Xn(g),function(){return--g>0&&(v=S.apply(this,arguments)),g<=1&&(S=n),v}}var Ze=qn(function(g,S,v){var k=y;if(v.length){var W=Sa(v,Vc(Ze));k|=w}return ql(g,k,S,v,W)}),je=qn(function(g,S,v){var k=y|R;if(v.length){var W=Sa(v,Vc(je));k|=w}return ql(S,k,g,v,W)});function xt(g,S,v){S=v?n:S;var k=ql(g,b,n,n,n,n,n,S);return k.placeholder=xt.placeholder,k}function kt(g,S,v){S=v?n:S;var k=ql(g,B,n,n,n,n,n,S);return k.placeholder=kt.placeholder,k}function Ut(g,S,v){var k,W,ne,ae,fe,Ee,Ge=0,Ve=!1,Xe=!1,Et=!0;if(typeof g!="function")throw new ya(o);S=Zl(S)||0,Hi(v)&&(Ve=!!v.leading,Xe="maxWait"in v,ne=Xe?Ki(Zl(v.maxWait)||0,S):ne,Et="trailing"in v?!!v.trailing:Et);function zt(os){var jc=k,ph=W;return k=W=n,Ge=os,ae=g.apply(ph,jc),ae}function Rn(os){return Ge=os,fe=Qd(hr,S),Ve?zt(os):ae}function er(os){var jc=os-Ee,ph=os-Ge,uQ=S-jc;return Xe?Qs(uQ,ne-ph):uQ}function In(os){var jc=os-Ee,ph=os-Ge;return Ee===n||jc>=S||jc<0||Xe&&ph>=ne}function hr(){var os=se();if(In(os))return xr(os);fe=Qd(hr,er(os))}function xr(os){return fe=n,Et&&k?zt(os):(k=W=n,ae)}function gl(){fe!==n&&Hy(fe),Ge=0,k=Ee=W=fe=n}function ra(){return fe===n?ae:xr(se())}function El(){var os=se(),jc=In(os);if(k=arguments,W=this,Ee=os,jc){if(fe===n)return Rn(Ee);if(Xe)return Hy(fe),fe=Qd(hr,S),zt(Ee)}return fe===n&&(fe=Qd(hr,S)),ae}return El.cancel=gl,El.flush=ra,El}var Fi=qn(function(g,S){return Ny(g,1,S)}),ye=qn(function(g,S,v){return Ny(g,Zl(S)||0,v)});function pe(g){return ql(g,G)}function xe(g,S){if(typeof g!="function"||S!=null&&typeof S!="function")throw new ya(o);var v=function(){var k=arguments,W=S?S.apply(this,k):k[0],ne=v.cache;if(ne.has(W))return ne.get(W);var ae=g.apply(this,k);return v.cache=ne.set(W,ae)||ne,ae};return v.cache=new(xe.Cache||Ca),v}xe.Cache=Ca;function rt(g){if(typeof g!="function")throw new ya(o);return function(){var S=arguments;switch(S.length){case 0:return!g.call(this);case 1:return!g.call(this,S[0]);case 2:return!g.call(this,S[0],S[1]);case 3:return!g.call(this,S[0],S[1],S[2])}return!g.apply(this,S)}}function Yt(g){return ze(2,g)}var An=xI(function(g,S){S=S.length==1&&Yn(S[0])?ni(S[0],qo(dn())):ni(Li(S,1),qo(dn()));var v=S.length;return qn(function(k){for(var W=-1,ne=Qs(k.length,v);++W<ne;)k[W]=S[W].call(this,k[W]);return ao(g,this,k)})}),on=qn(function(g,S){var v=Sa(S,Vc(on));return ql(g,w,n,S,v)}),xn=qn(function(g,S){var v=Sa(S,Vc(xn));return ql(g,O,n,S,v)}),gs=Xl(function(g,S){return ql(g,U,n,n,n,S)});function br(g,S){if(typeof g!="function")throw new ya(o);return S=S===n?S:Xn(S),qn(g,S)}function VA(g,S){if(typeof g!="function")throw new ya(o);return S=S==null?0:Ki(Xn(S),0),qn(function(v){var k=v[S],W=Qc(v,0,S);return k&&RA(W,k),ao(g,this,W)})}function bB(g,S,v){var k=!0,W=!0;if(typeof g!="function")throw new ya(o);return Hi(v)&&(k="leading"in v?!!v.leading:k,W="trailing"in v?!!v.trailing:W),Ut(g,S,{leading:k,maxWait:S,trailing:W})}function Qle(g){return ve(g,1)}function Vle(g,S){return on(oE(S),g)}function $le(){if(!arguments.length)return[];var g=arguments[0];return Yn(g)?g:[g]}function Wle(g){return vo(g,p)}function Yle(g,S){return S=typeof S=="function"?S:n,vo(g,p,S)}function jle(g){return vo(g,u|p)}function Kle(g,S){return S=typeof S=="function"?S:n,vo(g,u|p,S)}function zle(g,S){return S==null||Cp(g,S,zs(S))}function Yc(g,S){return g===S||g!==g&&S!==S}var qle=dE(BA),Xle=dE(function(g,S){return g>=S}),Kp=Jg((function(){return arguments})())?Jg:function(g){return qi(g)&&yr.call(g,"callee")&&!Mg.call(g,"callee")},Yn=Ne.isArray,Jle=ly?qo(ly):yI;function La(g){return g!=null&&e_(g.length)&&!dh(g)}function ss(g){return qi(g)&&La(g)}function Zle(g){return g===!0||g===!1||qi(g)&&Rs(g)==We}var Wd=xy||FB,ece=Io?qo(Io):Fc;function tce(g){return qi(g)&&g.nodeType===1&&!T0(g)}function nce(g){if(g==null)return!0;if(La(g)&&(Yn(g)||typeof g=="string"||typeof g.splice=="function"||Wd(g)||ME(g)||Kp(g)))return!g.length;var S=_s(g);if(S==be||S==Dt)return!g.size;if($c(g))return!Hc(g).length;for(var v in g)if(yr.call(g,v))return!1;return!0}function rce(g,S){return Na(g,S)}function ice(g,S,v){v=typeof v=="function"?v:n;var k=v?v(g,S):n;return k===n?Na(g,S,n,v):!!k}function vB(g){if(!qi(g))return!1;var S=Rs(g);return S==ut||S==Je||typeof g.message=="string"&&typeof g.name=="string"&&!T0(g)}function sce(g){return typeof g=="number"&&yd(g)}function dh(g){if(!Hi(g))return!1;var S=Rs(g);return S==en||S==rn||S==Ue||S==_t}function KG(g){return typeof g=="number"&&g==Xn(g)}function e_(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=X}function Hi(g){var S=typeof g;return g!=null&&(S=="object"||S=="function")}function qi(g){return g!=null&&typeof g=="object"}var zG=Wu?qo(Wu):CI;function oce(g,S){return g===S||wd(g,S,Pp(S))}function ace(g,S,v){return v=typeof v=="function"?v:n,wd(g,S,Pp(S),v)}function lce(g){return qG(g)&&g!=+g}function cce(g){if(hB(g))throw new Mn(s);return Oy(g)}function Ace(g){return g===null}function uce(g){return g==null}function qG(g){return typeof g=="number"||qi(g)&&Rs(g)==nt}function T0(g){if(!qi(g)||Rs(g)!=gt)return!1;var S=al(g);if(S===null)return!0;var v=yr.call(S,"constructor")&&S.constructor;return typeof v=="function"&&v instanceof v&&hp.call(v)==Dg}var OB=Ig?qo(Ig):Ip;function hce(g){return KG(g)&&g>=-X&&g<=X}var XG=fd?qo(fd):jl;function t_(g){return typeof g=="string"||!Yn(g)&&qi(g)&&Rs(g)==Ft}function ml(g){return typeof g=="symbol"||qi(g)&&Rs(g)==mn}var ME=YR?qo(YR):_p;function dce(g){return g===n}function fce(g){return qi(g)&&_s(g)==qt}function pce(g){return qi(g)&&Rs(g)==ce}var mce=dE(DA),gce=dE(function(g,S){return g<=S});function JG(g){if(!g)return[];if(La(g))return t_(g)?Xo(g):co(g);if(Dc&&g[Dc])return tB(g[Dc]());var S=_s(g),v=S==be?Og:S==Dt?IA:PE;return v(g)}function fh(g){if(!g)return g===0?g:0;if(g=Zl(g),g===te||g===-te){var S=g<0?-1:1;return S*oe}return g===g?g:0}function Xn(g){var S=fh(g),v=S%1;return S===S?v?S-v:S:0}function ZG(g){return g?Mc(Xn(g),0,ee):0}function Zl(g){if(typeof g=="number")return g;if(ml(g))return F;if(Hi(g)){var S=typeof g.valueOf=="function"?g.valueOf():g;g=Hi(S)?S+"":S}if(typeof g!="string")return g===0?g:+g;g=JR(g);var v=xs.test(g);return v||yt.test(g)?Ei(g.slice(2),v?2:8):qr.test(g)?F:+g}function eQ(g){return cl(g,Ba(g))}function Ece(g){return g?Mc(Xn(g),-X,X):g===0?g:0}function Vr(g){return g==null?"":Oo(g)}var Tce=Pd(function(g,S){if($c(S)||La(S)){cl(S,zs(S),g);return}for(var v in S)yr.call(S,v)&&Zu(g,v,S[v])}),tQ=Pd(function(g,S){cl(S,Ba(S),g)}),n_=Pd(function(g,S,v,k){cl(S,Ba(S),g,k)}),Sce=Pd(function(g,S,v,k){cl(S,zs(S),g,k)}),yce=Xl(Kg);function Cce(g,S){var v=_d(g);return S==null?v:ui(v,S)}var xce=qn(function(g,S){g=Qr(g);var v=-1,k=S.length,W=k>2?S[2]:n;for(W&&uo(S[0],S[1],W)&&(k=1);++v<k;)for(var ne=S[v],ae=Ba(ne),fe=-1,Ee=ae.length;++fe<Ee;){var Ge=ae[fe],Ve=g[Ge];(Ve===n||Yc(Ve,Fl[Ge])&&!yr.call(g,Ge))&&(g[Ge]=ne[Ge])}return g}),Rce=qn(function(g){return g.push(n,zy),ao(nQ,n,g)});function Ice(g,S){return KR(g,dn(S,3),ea)}function _ce(g,S){return KR(g,dn(S,3),LA)}function Nce(g,S){return g==null?g:zg(g,dn(S,3),Ba)}function bce(g,S){return g==null?g:Rp(g,dn(S,3),Ba)}function vce(g,S){return g&&ea(g,dn(S,3))}function Oce(g,S){return g&&LA(g,dn(S,3))}function wce(g){return g==null?[]:Od(g,zs(g))}function Lce(g){return g==null?[]:Od(g,Ba(g))}function wB(g,S,v){var k=g==null?n:Pc(g,S);return k===n?v:k}function Bce(g,S){return g!=null&&e0(g,S,Ia)}function LB(g,S){return g!=null&&e0(g,S,th)}var Dce=vI(function(g,S,v){S!=null&&typeof S.toString!="function"&&(S=dp.call(S)),g[S]=v},DB(Da)),kce=vI(function(g,S,v){S!=null&&typeof S.toString!="function"&&(S=dp.call(S)),yr.call(g,S)?g[S].push(v):g[S]=[v]},dn),Mce=qn(_a);function zs(g){return La(g)?Ql(g):Hc(g)}function Ba(g){return La(g)?Ql(g,!0):wy(g)}function Pce(g,S){var v={};return S=dn(S,3),ea(g,function(k,W,ne){$l(v,S(k,W,ne),k)}),v}function Uce(g,S){var v={};return S=dn(S,3),ea(g,function(k,W,ne){$l(v,W,S(k,W,ne))}),v}var Fce=Pd(function(g,S,v){nh(g,S,v)}),nQ=Pd(function(g,S,v,k){nh(g,S,v,k)}),Hce=Xl(function(g,S){var v={};if(g==null)return v;var k=!1;S=ni(S,function(ne){return ne=zl(ne,g),k||(k=ne.length>1),ne}),cl(g,kp(g),v),k&&(v=vo(v,u|h|p,qy));for(var W=S.length;W--;)iE(v,S[W]);return v});function Gce(g,S){return rQ(g,rt(dn(S)))}var Qce=Xl(function(g,S){return g==null?{}:Dy(g,S)});function rQ(g,S){if(g==null)return{};var v=ni(kp(g),function(k){return[k]});return S=dn(S),kA(g,v,function(k,W){return S(k,W[0])})}function Vce(g,S,v){S=zl(S,g);var k=-1,W=S.length;for(W||(W=1,g=n);++k<W;){var ne=g==null?n:g[dl(S[k])];ne===n&&(k=W,ne=v),g=dh(ne)?ne.call(g):ne}return g}function $ce(g,S,v){return g==null?g:ih(g,S,v)}function Wce(g,S,v,k){return k=typeof k=="function"?k:n,g==null?g:ih(g,S,v,k)}var iQ=jy(zs),sQ=jy(Ba);function Yce(g,S,v){var k=Yn(g),W=k||Wd(g)||ME(g);if(S=dn(S,4),v==null){var ne=g&&g.constructor;W?v=k?new ne:[]:Hi(g)?v=dh(ne)?_d(al(g)):{}:v={}}return(W?Gs:ea)(g,function(ae,fe,Ee){return S(v,ae,fe,Ee)}),v}function jce(g,S){return g==null?!0:iE(g,S)}function Kce(g,S,v){return g==null?g:Fy(g,S,oE(v))}function zce(g,S,v,k){return k=typeof k=="function"?k:n,g==null?g:Fy(g,S,oE(v),k)}function PE(g){return g==null?[]:Ap(g,zs(g))}function qce(g){return g==null?[]:Ap(g,Ba(g))}function Xce(g,S,v){return v===n&&(v=S,S=n),v!==n&&(v=Zl(v),v=v===v?v:0),S!==n&&(S=Zl(S),S=S===S?S:0),Mc(Zl(g),S,v)}function Jce(g,S,v){return S=fh(S),v===n?(v=S,S=0):v=fh(v),g=Zl(g),vy(g,S,v)}function Zce(g,S,v){if(v&&typeof v!="boolean"&&uo(g,S,v)&&(S=v=n),v===n&&(typeof S=="boolean"?(v=S,S=n):typeof g=="boolean"&&(v=g,g=n)),g===n&&S===n?(g=0,S=1):(g=fh(g),S===n?(S=g,g=0):S=fh(S)),g>S){var k=g;g=S,S=k}if(v||g%1||S%1){var W=gp();return Qs(g+W*(S-g+_r("1e-"+((W+"").length-1))),S)}return Bd(g,S)}var eAe=sh(function(g,S,v){return S=S.toLowerCase(),g+(v?oQ(S):S)});function oQ(g){return BB(Vr(g).toLowerCase())}function aQ(g){return g=Vr(g),g&&g.replace(De,tI).replace(so,"")}function tAe(g,S,v){g=Vr(g),S=Oo(S);var k=g.length;v=v===n?k:Mc(Xn(v),0,k);var W=v;return v-=S.length,v>=0&&g.slice(v,W)==S}function nAe(g){return g=Vr(g),g&&gr.test(g)?g.replace(tn,nI):g}function rAe(g){return g=Vr(g),g&&gi.test(g)?g.replace(ei,"\\$&"):g}var iAe=sh(function(g,S,v){return g+(v?"-":"")+S.toLowerCase()}),sAe=sh(function(g,S,v){return g+(v?" ":"")+S.toLowerCase()}),oAe=$y("toLowerCase");function aAe(g,S,v){g=Vr(g),S=Xn(S);var k=S?Yu(g):0;if(!S||k>=S)return g;var W=(S-k)/2;return Bp(_A(W),v)+g+Bp(Ku(W),v)}function lAe(g,S,v){g=Vr(g),S=Xn(S);var k=S?Yu(g):0;return S&&k<S?g+Bp(S-k,v):g}function cAe(g,S,v){g=Vr(g),S=Xn(S);var k=S?Yu(g):0;return S&&k<S?Bp(S-k,v)+g:g}function AAe(g,S,v){return v||S==null?S=0:S&&(S=+S),uI(Vr(g).replace(Wi,""),S||0)}function uAe(g,S,v){return(v?uo(g,S,v):S===n)?S=1:S=Xn(S),rh(Vr(g),S)}function hAe(){var g=arguments,S=Vr(g[0]);return g.length<3?S:S.replace(g[1],g[2])}var dAe=sh(function(g,S,v){return g+(v?"_":"")+S.toLowerCase()});function fAe(g,S,v){return v&&typeof v!="number"&&uo(g,S,v)&&(S=v=n),v=v===n?ee:v>>>0,v?(g=Vr(g),g&&(typeof S=="string"||S!=null&&!OB(S))&&(S=Oo(S),!S&&gd(g))?Qc(Xo(g),0,v):g.split(S,v)):[]}var pAe=sh(function(g,S,v){return g+(v?" ":"")+BB(S)});function mAe(g,S,v){return g=Vr(g),v=v==null?0:Mc(Xn(v),0,g.length),S=Oo(S),g.slice(v,v+S.length)==S}function gAe(g,S,v){var k=Z.templateSettings;v&&uo(g,S,v)&&(S=n),g=Vr(g),S=n_({},S,k,Ky);var W=n_({},S.imports,k.imports,Ky),ne=zs(W),ae=Ap(W,ne),fe,Ee,Ge=0,Ve=S.interpolate||ie,Xe="__p += '",Et=up((S.escape||ie).source+"|"+Ve.source+"|"+(Ve===Tr?nr:ie).source+"|"+(S.evaluate||ie).source+"|$","g"),zt="//# sourceURL="+(yr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ct+"]")+`
`;g.replace(Et,function(In,hr,xr,gl,ra,El){return xr||(xr=gl),Xe+=g.slice(Ge,El).replace(Le,rI),hr&&(fe=!0,Xe+=`' +
__e(`+hr+`) +
'`),ra&&(Ee=!0,Xe+=`';
`+ra+`;
__p += '`),xr&&(Xe+=`' +
((__t = (`+xr+`)) == null ? '' : __t) +
'`),Ge=El+In.length,In}),Xe+=`';
`;var Rn=yr.call(S,"variable")&&S.variable;if(!Rn)Xe=`with (obj) {
`+Xe+`
}
`;else if(Gn.test(Rn))throw new Mn(a);Xe=(Ee?Xe.replace(sn,""):Xe).replace(mr,"$1").replace(Lt,"$1;"),Xe="function("+(Rn||"obj")+`) {
`+(Rn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fe?", __e = _.escape":"")+(Ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Xe+`return __p
}`;var er=cQ(function(){return Nr(ne,zt+"return "+Xe).apply(n,ae)});if(er.source=Xe,vB(er))throw er;return er}function EAe(g){return Vr(g).toLowerCase()}function TAe(g){return Vr(g).toUpperCase()}function SAe(g,S,v){if(g=Vr(g),g&&(v||S===n))return JR(g);if(!g||!(S=Oo(S)))return g;var k=Xo(g),W=Xo(S),ne=ZR(k,W),ae=Ey(k,W)+1;return Qc(k,ne,ae).join("")}function yAe(g,S,v){if(g=Vr(g),g&&(v||S===n))return g.slice(0,Lg(g)+1);if(!g||!(S=Oo(S)))return g;var k=Xo(g),W=Ey(k,Xo(S))+1;return Qc(k,0,W).join("")}function CAe(g,S,v){if(g=Vr(g),g&&(v||S===n))return g.replace(Wi,"");if(!g||!(S=Oo(S)))return g;var k=Xo(g),W=ZR(k,Xo(S));return Qc(k,W).join("")}function xAe(g,S){var v=Q,k=Y;if(Hi(S)){var W="separator"in S?S.separator:W;v="length"in S?Xn(S.length):v,k="omission"in S?Oo(S.omission):k}g=Vr(g);var ne=g.length;if(gd(g)){var ae=Xo(g);ne=ae.length}if(v>=ne)return g;var fe=v-Yu(k);if(fe<1)return k;var Ee=ae?Qc(ae,0,fe).join(""):g.slice(0,fe);if(W===n)return Ee+k;if(ae&&(fe+=Ee.length-fe),OB(W)){if(g.slice(fe).search(W)){var Ge,Ve=Ee;for(W.global||(W=up(W.source,Vr(zn.exec(W))+"g")),W.lastIndex=0;Ge=W.exec(Ve);)var Xe=Ge.index;Ee=Ee.slice(0,Xe===n?fe:Xe)}}else if(g.indexOf(Oo(W),fe)!=fe){var Et=Ee.lastIndexOf(W);Et>-1&&(Ee=Ee.slice(0,Et))}return Ee+k}function RAe(g){return g=Vr(g),g&&cn.test(g)?g.replace(Dn,iI):g}var IAe=sh(function(g,S,v){return g+(v?" ":"")+S.toUpperCase()}),BB=$y("toUpperCase");function lQ(g,S,v){return g=Vr(g),S=v?n:S,S===n?eB(g)?iB(g):XL(g):g.match(S)||[]}var cQ=qn(function(g,S){try{return ao(g,n,S)}catch(v){return vB(v)?v:new Mn(v)}}),_Ae=Xl(function(g,S){return Gs(S,function(v){v=dl(v),$l(g,v,Ze(g[v],g))}),g});function NAe(g){var S=g==null?0:g.length,v=dn();return g=S?ni(g,function(k){if(typeof k[1]!="function")throw new ya(o);return[v(k[0]),k[1]]}):[],qn(function(k){for(var W=-1;++W<S;){var ne=g[W];if(ao(ne[0],this,k))return ao(ne[1],this,k)}})}function bAe(g){return EI(vo(g,u))}function DB(g){return function(){return g}}function vAe(g,S){return g==null||g!==g?S:g}var OAe=uE(),wAe=uE(!0);function Da(g){return g}function kB(g){return Ld(typeof g=="function"?g:vo(g,u))}function LAe(g){return eE(vo(g,u))}function BAe(g,S){return Ti(g,vo(S,u))}var DAe=qn(function(g,S){return function(v){return _a(v,g,S)}}),kAe=qn(function(g,S){return function(v){return _a(g,v,S)}});function MB(g,S,v){var k=zs(S),W=Od(S,k);v==null&&!(Hi(S)&&(W.length||!k.length))&&(v=S,S=g,g=this,W=Od(S,zs(S)));var ne=!(Hi(v)&&"chain"in v)||!!v.chain,ae=dh(g);return Gs(W,function(fe){var Ee=S[fe];g[fe]=Ee,ae&&(g.prototype[fe]=function(){var Ge=this.__chain__;if(ne||Ge){var Ve=g(this.__wrapped__),Xe=Ve.__actions__=co(this.__actions__);return Xe.push({func:Ee,args:arguments,thisArg:g}),Ve.__chain__=Ge,Ve}return Ee.apply(g,RA([this.value()],arguments))})}),g}function MAe(){return Kn._===this&&(Kn._=aI),this}function PB(){}function PAe(g){return g=Xn(g),qn(function(S){return tE(S,g)})}var UAe=hE(ni),FAe=hE(Ay),HAe=hE(dy);function AQ(g){return vt(g)?py(dl(g)):bi(g)}function GAe(g){return function(S){return g==null?n:Pc(g,S)}}var QAe=Yy(),VAe=Yy(!0);function UB(){return[]}function FB(){return!1}function $Ae(){return{}}function WAe(){return""}function YAe(){return!0}function jAe(g,S){if(g=Xn(g),g<1||g>X)return[];var v=ee,k=Qs(g,ee);S=dn(S),g-=ee;for(var W=gy(k,S);++v<g;)S(v);return W}function KAe(g){return Yn(g)?ni(g,dl):ml(g)?[g]:co(i0(Vr(g)))}function zAe(g){var S=++Sd;return Vr(g)+S}var qAe=Lp(function(g,S){return g+S},0),XAe=Is("ceil"),JAe=Lp(function(g,S){return g/S},1),ZAe=Is("floor");function eue(g){return g&&g.length?eh(g,Da,BA):n}function tue(g,S){return g&&g.length?eh(g,dn(S,2),BA):n}function nue(g){return qR(g,Da)}function rue(g,S){return qR(g,dn(S,2))}function iue(g){return g&&g.length?eh(g,Da,DA):n}function sue(g,S){return g&&g.length?eh(g,dn(S,2),DA):n}var oue=Lp(function(g,S){return g*S},1),aue=Is("round"),lue=Lp(function(g,S){return g-S},0);function cue(g){return g&&g.length?my(g,Da):0}function Aue(g,S){return g&&g.length?my(g,dn(S,2)):0}return Z.after=de,Z.ary=ve,Z.assign=Tce,Z.assignIn=tQ,Z.assignInWith=n_,Z.assignWith=Sce,Z.at=yce,Z.before=ze,Z.bind=Ze,Z.bindAll=_Ae,Z.bindKey=je,Z.castArray=$le,Z.chain=bE,Z.chunk=SE,Z.compact=s0,Z.concat=Oa,Z.cond=NAe,Z.conforms=bAe,Z.constant=DB,Z.countBy=zI,Z.create=Cce,Z.curry=xt,Z.curryRight=kt,Z.debounce=Ut,Z.defaults=xce,Z.defaultsDeep=Rce,Z.defer=Fi,Z.delay=ye,Z.difference=Cr,Z.differenceBy=ms,Z.differenceWith=zi,Z.drop=bs,Z.dropRight=na,Z.dropRightWhile=Vd,Z.dropWhile=is,Z.fill=Gp,Z.filter=wE,Z.flatMap=g0,Z.flatMapDeep=RB,Z.flatMapDepth=JI,Z.flatten=yE,Z.flattenDeep=Vp,Z.flattenDepth=wo,Z.flip=pe,Z.flow=OAe,Z.flowRight=wAe,Z.fromPairs=o0,Z.functions=wce,Z.functionsIn=Lce,Z.groupBy=E0,Z.initial=CE,Z.intersection=a0,Z.intersectionBy=FA,Z.intersectionWith=xE,Z.invert=Dce,Z.invertBy=kce,Z.invokeMap=ZI,Z.iteratee=kB,Z.keyBy=IB,Z.keys=zs,Z.keysIn=Ba,Z.map=hh,Z.mapKeys=Pce,Z.mapValues=Uce,Z.matches=LAe,Z.matchesProperty=BAe,Z.memoize=xe,Z.merge=Fce,Z.mergeWith=nQ,Z.method=DAe,Z.methodOf=kAe,Z.mixin=MB,Z.negate=rt,Z.nthArg=PAe,Z.omit=Hce,Z.omitBy=Gce,Z.once=Yt,Z.orderBy=_B,Z.over=UAe,Z.overArgs=An,Z.overEvery=FAe,Z.overSome=HAe,Z.partial=on,Z.partialRight=xn,Z.partition=jp,Z.pick=Qce,Z.pickBy=rQ,Z.property=AQ,Z.propertyOf=GAe,Z.pull=RE,Z.pullAll=Wp,Z.pullAllBy=fo,Z.pullAllWith=GA,Z.pullAt=fl,Z.range=QAe,Z.rangeRight=VAe,Z.rearg=gs,Z.reject=d,Z.remove=Lo,Z.rest=br,Z.reverse=IE,Z.sampleSize=C,Z.set=$ce,Z.setWith=Wce,Z.shuffle=N,Z.slice=c0,Z.sortBy=z,Z.sortedUniq=h0,Z.sortedUniqBy=ch,Z.split=fAe,Z.spread=VA,Z.tail=QI,Z.take=VI,Z.takeRight=d0,Z.takeRightWhile=_E,Z.takeWhile=fB,Z.tap=yB,Z.throttle=bB,Z.thru=pl,Z.toArray=JG,Z.toPairs=iQ,Z.toPairsIn=sQ,Z.toPath=KAe,Z.toPlainObject=eQ,Z.transform=Yce,Z.unary=Qle,Z.union=pB,Z.unionBy=$I,Z.unionWith=WI,Z.uniq=Ah,Z.uniqBy=mB,Z.uniqWith=$d,Z.unset=jce,Z.unzip=NE,Z.unzipWith=vi,Z.update=Kce,Z.updateWith=zce,Z.values=PE,Z.valuesIn=qce,Z.without=gB,Z.words=lQ,Z.wrap=Vle,Z.xor=YI,Z.xorBy=EB,Z.xorWith=TB,Z.zip=jI,Z.zipObject=KI,Z.zipObjectDeep=SB,Z.zipWith=wa,Z.entries=iQ,Z.entriesIn=sQ,Z.extend=tQ,Z.extendWith=n_,MB(Z,Z),Z.add=qAe,Z.attempt=cQ,Z.camelCase=eAe,Z.capitalize=oQ,Z.ceil=XAe,Z.clamp=Xce,Z.clone=Wle,Z.cloneDeep=jle,Z.cloneDeepWith=Kle,Z.cloneWith=Yle,Z.conformsTo=zle,Z.deburr=aQ,Z.defaultTo=vAe,Z.divide=JAe,Z.endsWith=tAe,Z.eq=Yc,Z.escape=nAe,Z.escapeRegExp=rAe,Z.every=qI,Z.find=LE,Z.findIndex=UA,Z.findKey=Ice,Z.findLast=XI,Z.findLastIndex=Qp,Z.findLastKey=_ce,Z.floor=ZAe,Z.forEach=BE,Z.forEachRight=Yp,Z.forIn=Nce,Z.forInRight=bce,Z.forOwn=vce,Z.forOwnRight=Oce,Z.get=wB,Z.gt=qle,Z.gte=Xle,Z.has=Bce,Z.hasIn=LB,Z.head=ah,Z.identity=Da,Z.includes=DE,Z.indexOf=Wc,Z.inRange=Jce,Z.invoke=Mce,Z.isArguments=Kp,Z.isArray=Yn,Z.isArrayBuffer=Jle,Z.isArrayLike=La,Z.isArrayLikeObject=ss,Z.isBoolean=Zle,Z.isBuffer=Wd,Z.isDate=ece,Z.isElement=tce,Z.isEmpty=nce,Z.isEqual=rce,Z.isEqualWith=ice,Z.isError=vB,Z.isFinite=sce,Z.isFunction=dh,Z.isInteger=KG,Z.isLength=e_,Z.isMap=zG,Z.isMatch=oce,Z.isMatchWith=ace,Z.isNaN=lce,Z.isNative=cce,Z.isNil=uce,Z.isNull=Ace,Z.isNumber=qG,Z.isObject=Hi,Z.isObjectLike=qi,Z.isPlainObject=T0,Z.isRegExp=OB,Z.isSafeInteger=hce,Z.isSet=XG,Z.isString=t_,Z.isSymbol=ml,Z.isTypedArray=ME,Z.isUndefined=dce,Z.isWeakMap=fce,Z.isWeakSet=pce,Z.join=HA,Z.kebabCase=iAe,Z.last=ho,Z.lastIndexOf=$p,Z.lowerCase=sAe,Z.lowerFirst=oAe,Z.lt=mce,Z.lte=gce,Z.max=eue,Z.maxBy=tue,Z.mean=nue,Z.meanBy=rue,Z.min=iue,Z.minBy=sue,Z.stubArray=UB,Z.stubFalse=FB,Z.stubObject=$Ae,Z.stubString=WAe,Z.stubTrue=YAe,Z.multiply=oue,Z.nth=l0,Z.noConflict=MAe,Z.noop=PB,Z.now=se,Z.pad=aAe,Z.padEnd=lAe,Z.padStart=cAe,Z.parseInt=AAe,Z.random=Zce,Z.reduce=NB,Z.reduceRight=kE,Z.repeat=uAe,Z.replace=hAe,Z.result=Vce,Z.round=aue,Z.runInContext=ge,Z.sample=m,Z.size=D,Z.snakeCase=dAe,Z.some=M,Z.sortedIndex=A0,Z.sortedIndexBy=dB,Z.sortedIndexOf=QA,Z.sortedLastIndex=GI,Z.sortedLastIndexBy=u0,Z.sortedLastIndexOf=lh,Z.startCase=pAe,Z.startsWith=mAe,Z.subtract=lue,Z.sum=cue,Z.sumBy=Aue,Z.template=gAe,Z.times=jAe,Z.toFinite=fh,Z.toInteger=Xn,Z.toLength=ZG,Z.toLower=EAe,Z.toNumber=Zl,Z.toSafeInteger=Ece,Z.toString=Vr,Z.toUpper=TAe,Z.trim=SAe,Z.trimEnd=yAe,Z.trimStart=CAe,Z.truncate=xAe,Z.unescape=RAe,Z.uniqueId=zAe,Z.upperCase=IAe,Z.upperFirst=BB,Z.each=BE,Z.eachRight=Yp,Z.first=ah,MB(Z,(function(){var g={};return ea(Z,function(S,v){yr.call(Z.prototype,v)||(g[v]=S)}),g})(),{chain:!1}),Z.VERSION=r,Gs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){Z[g].placeholder=Z}),Gs(["drop","take"],function(g,S){Wn.prototype[g]=function(v){v=v===n?1:Ki(Xn(v),0);var k=this.__filtered__&&!S?new Wn(this):this.clone();return k.__filtered__?k.__takeCount__=Qs(v,k.__takeCount__):k.__views__.push({size:Qs(v,ee),type:g+(k.__dir__<0?"Right":"")}),k},Wn.prototype[g+"Right"]=function(v){return this.reverse()[g](v).reverse()}}),Gs(["filter","map","takeWhile"],function(g,S){var v=S+1,k=v==V||v==J;Wn.prototype[g]=function(W){var ne=this.clone();return ne.__iteratees__.push({iteratee:dn(W,3),type:v}),ne.__filtered__=ne.__filtered__||k,ne}}),Gs(["head","last"],function(g,S){var v="take"+(S?"Right":"");Wn.prototype[g]=function(){return this[v](1).value()[0]}}),Gs(["initial","tail"],function(g,S){var v="drop"+(S?"":"Right");Wn.prototype[g]=function(){return this.__filtered__?new Wn(this):this[v](1)}}),Wn.prototype.compact=function(){return this.filter(Da)},Wn.prototype.find=function(g){return this.filter(g).head()},Wn.prototype.findLast=function(g){return this.reverse().find(g)},Wn.prototype.invokeMap=qn(function(g,S){return typeof g=="function"?new Wn(this):this.map(function(v){return _a(v,g,S)})}),Wn.prototype.reject=function(g){return this.filter(rt(dn(g)))},Wn.prototype.slice=function(g,S){g=Xn(g);var v=this;return v.__filtered__&&(g>0||S<0)?new Wn(v):(g<0?v=v.takeRight(-g):g&&(v=v.drop(g)),S!==n&&(S=Xn(S),v=S<0?v.dropRight(-S):v.take(S-g)),v)},Wn.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},Wn.prototype.toArray=function(){return this.take(ee)},ea(Wn.prototype,function(g,S){var v=/^(?:filter|find|map|reject)|While$/.test(S),k=/^(?:head|last)$/.test(S),W=Z[k?"take"+(S=="last"?"Right":""):S],ne=k||/^find/.test(S);W&&(Z.prototype[S]=function(){var ae=this.__wrapped__,fe=k?[1]:arguments,Ee=ae instanceof Wn,Ge=fe[0],Ve=Ee||Yn(ae),Xe=function(hr){var xr=W.apply(Z,RA([hr],fe));return k&&Et?xr[0]:xr};Ve&&v&&typeof Ge=="function"&&Ge.length!=1&&(Ee=Ve=!1);var Et=this.__chain__,zt=!!this.__actions__.length,Rn=ne&&!Et,er=Ee&&!zt;if(!ne&&Ve){ae=er?ae:new Wn(this);var In=g.apply(ae,fe);return In.__actions__.push({func:pl,args:[Xe],thisArg:n}),new Vs(In,Et)}return Rn&&er?g.apply(this,fe):(In=this.thru(Xe),Rn?k?In.value()[0]:In.value():In)})}),Gs(["pop","push","shift","sort","splice","unshift"],function(g){var S=Lc[g],v=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",k=/^(?:pop|shift)$/.test(g);Z.prototype[g]=function(){var W=arguments;if(k&&!this.__chain__){var ne=this.value();return S.apply(Yn(ne)?ne:[],W)}return this[v](function(ae){return S.apply(Yn(ae)?ae:[],W)})}}),ea(Wn.prototype,function(g,S){var v=Z[S];if(v){var k=v.name+"";yr.call(Rd,k)||(Rd[k]=[]),Rd[k].push({name:S,func:v})}}),Rd[Fd(n,R).name]=[{name:"wrapper",func:n}],Wn.prototype.clone=Vg,Wn.prototype.reverse=Iy,Wn.prototype.value=Nd,Z.prototype.at=vE,Z.prototype.chain=uh,Z.prototype.commit=OE,Z.prototype.next=f0,Z.prototype.plant=CB,Z.prototype.reverse=m0,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=xB,Z.prototype.first=Z.prototype.head,Dc&&(Z.prototype[Dc]=p0),Z}),Ed=sB();Ul?((Ul.exports=Ed)._=Ed,$u._=Ed):Kn._=Ed}).call(Tot)})(FC,FC.exports)),FC.exports}var yot=Sot();const Cot=({data:t,columns:e,error:n,loading:r,executionTime:i})=>{if(r)return f.jsxs("div",{className:"p-4 bg-[#282a36] border-t border-monokai-accent/30 flex items-center gap-2 text-monokai-comment text-sm",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-monokai-blue border-t-transparent rounded-full animate-spin"}),"Running query..."]});if(n)return f.jsxs("div",{className:"p-4 bg-[#282a36] border-t border-monokai-accent/30 text-monokai-pink text-sm font-mono overflow-auto whitespace-pre-wrap",children:["Error: ",n]});if(!t||t.length===0)return f.jsxs("div",{className:"p-4 bg-[#282a36] border-t border-monokai-accent/30 text-monokai-comment text-sm italic",children:["Query returned no results. ",i!==void 0&&f.jsxs("span",{className:"text-xs ml-2 opacity-70",children:["(",i.toFixed(2),"ms)"]})]});const s=e||Object.keys(t[0]);return f.jsxs("div",{className:"bg-[#282a36] border-t border-monokai-accent/30 flex flex-col max-h-[300px] overflow-hidden",children:[i!==void 0&&f.jsxs("div",{className:"px-2 py-1 bg-monokai-sidebar/50 text-[10px] text-monokai-comment text-right border-b border-monokai-accent/20",children:["Executed in ",i.toFixed(2),"ms  ",t.length," rows"]}),f.jsx("div",{className:"overflow-auto custom-scrollbar",children:f.jsxs("table",{className:"w-full text-left border-collapse text-xs font-mono",children:[f.jsx("thead",{className:"bg-[#21222c] sticky top-0 z-10 shadow-sm",children:f.jsx("tr",{children:s.map(o=>f.jsx("th",{className:"p-2 border-b border-monokai-accent/30 text-monokai-blue font-semibold whitespace-nowrap",children:o},o))})}),f.jsx("tbody",{className:"bg-[#282a36]",children:t.map((o,a)=>f.jsx("tr",{className:"hover:bg-monokai-accent/10 border-b border-monokai-accent/10 last:border-0",children:s.map(l=>{const c=o[l],A=c==null;return f.jsx("td",{className:`p-2 whitespace-nowrap text-monokai-fg ${A?"italic text-monokai-comment/60":""}`,children:A?"NULL":typeof c=="object"?JSON.stringify(c):String(c)},`${a}-${l}`)})},a))})]})})]})},xot="duckdb_learn_notes",Rot=1,nl="notes",ry=()=>new Promise((t,e)=>{const n=indexedDB.open(xot,Rot);n.onerror=()=>e(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;if(!i.objectStoreNames.contains(nl)){const s=i.createObjectStore(nl,{keyPath:"id"});s.createIndex("tutorialId","tutorialId",{unique:!1}),s.createIndex("createdAt","createdAt",{unique:!1})}}}),yle=async t=>{const e=await ry();return new Promise((n,r)=>{const o=e.transaction(nl,"readwrite").objectStore(nl).put(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n()})},Iot=async t=>{const e=await ry();return new Promise((n,r)=>{const a=e.transaction(nl,"readonly").objectStore(nl).index("tutorialId").getAll(t);a.onerror=()=>r(a.error),a.onsuccess=()=>n(a.result||[])})},iy=async()=>{const t=await ry();return new Promise((e,n)=>{const s=t.transaction(nl,"readonly").objectStore(nl).getAll();s.onerror=()=>n(s.error),s.onsuccess=()=>e(s.result||[])})},_ot=async t=>{const e=await ry();return new Promise((n,r)=>{const o=e.transaction(nl,"readonly").objectStore(nl).get(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n(o.result)})},Cle=async t=>{const e=await ry();return new Promise((n,r)=>{const o=e.transaction(nl,"readwrite").objectStore(nl).delete(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n()})},xle=async()=>{const t=await iy();return JSON.stringify(t,null,2)},Rle=async t=>{const e=JSON.parse(t),n=await ry();return new Promise((r,i)=>{const s=n.transaction(nl,"readwrite"),o=s.objectStore(nl);let a=0;e.forEach(l=>{const c=o.put(l);c.onsuccess=()=>{a++}}),s.oncomplete=()=>r(a),s.onerror=()=>i(s.error)})},nF=Object.freeze(Object.defineProperty({__proto__:null,deleteNote:Cle,exportNotes:xle,getAllNotes:iy,getNoteById:_ot,getNotesByTutorial:Iot,importNotes:Rle,saveNote:yle},Symbol.toStringTag,{value:"Module"})),Not=({isOpen:t,onClose:e,tutorialId:n,tutorialTitle:r,onNoteClick:i})=>{const[s,o]=H.useState([]),[a,l]=H.useState(null),[c,A]=H.useState("all"),u=async()=>{try{const R=(await iy()).sort((I,b)=>new Date(b.createdAt).getTime()-new Date(I.createdAt).getTime());o(R)}catch(y){console.error(":",y)}};H.useEffect(()=>{t&&u()},[t,n]);const h=c==="current"&&n?s.filter(y=>y.tutorialId===n):s,p=async y=>{if(confirm(""))try{await Cle(y),await u()}catch(R){console.error(":",R)}},E=async()=>{try{const y=await xle(),R=new Blob([y],{type:"application/json"}),I=URL.createObjectURL(R),b=document.createElement("a");b.href=I,b.download=`learn-notes-${new Date().toISOString().split("T")[0]}.json`,b.click(),URL.revokeObjectURL(I)}catch(y){console.error(":",y)}},T=()=>{const y=document.createElement("input");y.type="file",y.accept=".json",y.onchange=async R=>{var b;const I=(b=R.target.files)==null?void 0:b[0];if(I)try{const B=await I.text(),w=await Rle(B);alert(` ${w} `),await u()}catch{alert("")}},y.click()};return f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:e}),f.jsxs("div",{className:`fixed inset-y-0 right-0 w-80 bg-[#21222c] border-l border-monokai-accent/30 shadow-2xl z-50 flex flex-col transform transition-transform duration-300 ${t?"translate-x-0":"translate-x-full"}`,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-monokai-accent/30 bg-[#282a36]/50",children:[f.jsxs("h3",{className:"text-sm font-bold text-monokai-fg flex items-center gap-2",children:[f.jsx("span",{className:"i-lucide-sticky-note w-4 h-4 text-monokai-yellow"}),"",f.jsxs("span",{className:"text-[10px] text-monokai-fg font-normal ml-1",children:["(",h.length,")"]})]}),f.jsx("button",{onClick:e,className:"text-monokai-fg hover:text-monokai-fg transition-colors p-1 rounded hover:bg-monokai-accent/20",children:f.jsx("span",{className:"i-lucide-x w-5 h-5"})})]}),f.jsxs("div",{className:"flex items-center gap-2 p-3 border-b border-monokai-accent/20 bg-[#21222c]/80",children:[f.jsxs("button",{onClick:()=>A("all"),className:`text-xs px-3 py-1.5 rounded-md transition-colors flex items-center gap-1.5 ${c==="all"?"bg-monokai-yellow/20 text-monokai-yellow":"text-monokai-fg hover:text-monokai-fg hover:bg-monokai-accent/10"}`,children:[f.jsx("span",{className:"i-lucide-library w-3 h-3"}),""]}),f.jsxs("button",{onClick:()=>A("current"),className:`text-xs px-3 py-1.5 rounded-md transition-colors flex items-center gap-1.5 ${c==="current"?"bg-monokai-yellow/20 text-monokai-yellow":"text-monokai-fg hover:text-monokai-fg hover:bg-monokai-accent/10"}`,disabled:!n,children:[f.jsx("span",{className:"i-lucide-file-text w-3 h-3"}),""]}),f.jsx("div",{className:"flex-1"}),f.jsx("button",{onClick:T,className:"p-1.5 text-monokai-fg hover:text-monokai-blue hover:bg-monokai-accent/10 rounded-md transition-colors",title:"",children:f.jsx("span",{className:"i-lucide-upload w-4 h-4"})}),f.jsx("button",{onClick:E,className:"p-1.5 text-monokai-fg hover:text-monokai-blue hover:bg-monokai-accent/10 rounded-md transition-colors",title:"",children:f.jsx("span",{className:"i-lucide-download w-4 h-4"})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:h.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-monokai-fg py-8",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-monokai-yellow/10 flex items-center justify-center mb-3",children:f.jsx("span",{className:"i-lucide-sticky-note w-8 h-8 text-monokai-yellow/50"})}),f.jsx("p",{className:"text-sm font-medium text-monokai-fg",children:""}),f.jsx("p",{className:"text-xs mt-1 text-monokai-fg/80",children:""})]}):h.map(y=>f.jsxs("div",{className:"bg-[#282a36]/50 rounded-xl p-4 border border-monokai-accent/20 hover:border-monokai-yellow/30 transition-all group hover:shadow-lg hover:shadow-monokai-yellow/5",children:[f.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-monokai-blue mb-2",children:[f.jsx("span",{className:"i-lucide-file-text w-3 h-3"}),f.jsx("span",{className:"truncate",children:y.tutorialTitle})]}),f.jsxs("div",{className:"text-xs text-monokai-fg mb-3 line-clamp-2 italic border-l-2 border-monokai-purple/40 pl-2.5 py-0.5 bg-monokai-purple/5 rounded-r",children:['"',y.selectedText,'"']}),f.jsx("div",{className:"text-sm text-monokai-fg mb-3 whitespace-pre-wrap leading-relaxed",children:y.noteContent}),f.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-monokai-accent/10",children:[f.jsxs("span",{className:"text-[10px] text-monokai-fg flex items-center gap-1",children:[f.jsx("span",{className:"i-lucide-clock w-3 h-3"}),new Date(y.createdAt).toLocaleDateString()]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>i==null?void 0:i(y),className:"text-[10px] px-2 py-1 text-monokai-blue hover:bg-monokai-blue/10 rounded transition-colors",children:""}),f.jsx("button",{onClick:()=>p(y.id),className:"text-[10px] px-2 py-1 text-monokai-red/70 hover:text-monokai-red hover:bg-monokai-red/10 rounded transition-colors",children:""})]})]})]},y.id))})]})]})},bot="duckdb_learn_favorites",vot=1,rl="favorites",sy=()=>new Promise((t,e)=>{const n=indexedDB.open(bot,vot);n.onerror=()=>e(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;if(!i.objectStoreNames.contains(rl)){const s=i.createObjectStore(rl,{keyPath:"id"});s.createIndex("tutorialId","tutorialId",{unique:!0}),s.createIndex("addedAt","addedAt",{unique:!1})}}}),Ile=async t=>{const e=await sy();return new Promise((n,r)=>{const o=e.transaction(rl,"readwrite").objectStore(rl).put(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n()})},_le=async t=>{const e=await sy();return new Promise((n,r)=>{const o=e.transaction(rl,"readwrite").objectStore(rl).delete(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n()})},Nle=async t=>{const e=await sy();return new Promise((n,r)=>{const s=e.transaction(rl,"readwrite").objectStore(rl),a=s.index("tutorialId").get(t);a.onsuccess=()=>{a.result&&s.delete(a.result.id),n()},a.onerror=()=>r(a.error)})},Tg=async()=>{const t=await sy();return new Promise((e,n)=>{const s=t.transaction(rl,"readonly").objectStore(rl).getAll();s.onerror=()=>n(s.error),s.onsuccess=()=>{const o=s.result||[];o.sort((a,l)=>new Date(l.addedAt).getTime()-new Date(a.addedAt).getTime()),e(o)}})},ble=async t=>{const e=await sy();return new Promise((n,r)=>{const a=e.transaction(rl,"readonly").objectStore(rl).index("tutorialId").get(t);a.onerror=()=>r(a.error),a.onsuccess=()=>n(!!a.result)})},Oot=async()=>{const t=await sy();return new Promise((e,n)=>{const s=t.transaction(rl,"readonly").objectStore(rl).count();s.onerror=()=>n(s.error),s.onsuccess=()=>e(s.result)})},vle=Object.freeze(Object.defineProperty({__proto__:null,addFavorite:Ile,getAllFavorites:Tg,getFavoritesCount:Oot,isFavorite:ble,removeFavorite:_le,removeFavoriteByTutorialId:Nle},Symbol.toStringTag,{value:"Module"})),wot=({isOpen:t,onClose:e,onSelectTutorial:n})=>{const[r,i]=H.useState([]),s=async()=>{try{const l=await Tg();i(l)}catch(l){console.error(":",l)}};H.useEffect(()=>{t&&s()},[t]);const o=async(l,c)=>{c.stopPropagation();try{await _le(l),await s()}catch(A){console.error(":",A)}},a=l=>{n==null||n(l),e()};return t?f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:e}),f.jsxs("div",{className:`fixed inset-y-0 right-0 w-80 bg-[#21222c] border-l border-monokai-accent/30 shadow-2xl z-50 flex flex-col transform transition-transform duration-300 ${t?"translate-x-0":"translate-x-full"}`,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-monokai-accent/30 bg-[#282a36]/50",children:[f.jsxs("h3",{className:"text-sm font-bold text-monokai-fg flex items-center gap-2",children:[f.jsx("span",{className:"i-lucide-heart w-4 h-4 text-monokai-pink"}),"",f.jsxs("span",{className:"text-[10px] text-monokai-comment font-normal ml-1",children:["(",r.length,")"]})]}),f.jsx("button",{onClick:e,className:"text-monokai-comment hover:text-monokai-fg transition-colors p-1 rounded hover:bg-monokai-accent/20",children:f.jsx("span",{className:"i-lucide-x w-5 h-5"})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 custom-scrollbar",children:r.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-monokai-comment py-8",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-monokai-pink/10 flex items-center justify-center mb-3",children:f.jsx("span",{className:"i-lucide-heart w-8 h-8 text-monokai-pink/50"})}),f.jsx("p",{className:"text-sm font-medium",children:""}),f.jsx("p",{className:"text-xs mt-1 opacity-60",children:""})]}):r.map(l=>f.jsx("div",{onClick:()=>a(l.tutorialId),className:"bg-[#282a36]/50 rounded-xl p-3 border border-monokai-accent/20 hover:border-monokai-pink/40 transition-all group cursor-pointer hover:shadow-lg hover:shadow-monokai-pink/5",children:f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"text-sm font-medium text-monokai-fg truncate mb-1",children:l.tutorialTitle}),l.tutorialCategory&&f.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-monokai-blue mb-2",children:[f.jsx("span",{className:"i-lucide-folder w-3 h-3"}),f.jsx("span",{children:l.tutorialCategory})]}),f.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-monokai-comment",children:[f.jsx("span",{className:"i-lucide-clock w-3 h-3"}),f.jsxs("span",{children:[" ",new Date(l.addedAt).toLocaleDateString()]})]})]}),f.jsx("button",{onClick:c=>o(l.id,c),className:"p-1.5 text-monokai-comment hover:text-monokai-red hover:bg-monokai-red/10 rounded-md transition-colors opacity-0 group-hover:opacity-100",title:"",children:f.jsx("span",{className:"i-lucide-heart w-4 h-4 fill-monokai-red text-monokai-red"})})]})},l.id))}),f.jsxs("div",{className:"p-3 border-t border-monokai-accent/30 text-xs text-monokai-comment",children:[" ",r.length," "]})]})]}):null},Lot="duckdb_code_snippets",Bot=1,ns="snippets",Mu=()=>new Promise((t,e)=>{const n=indexedDB.open(Lot,Bot);n.onerror=()=>e(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;if(!i.objectStoreNames.contains(ns)){const s=i.createObjectStore(ns,{keyPath:"id"});s.createIndex("tutorialId","tutorialId",{unique:!1}),s.createIndex("createdAt","createdAt",{unique:!1}),s.createIndex("tags","tags",{unique:!1,multiEntry:!0})}}}),GG=async t=>{const e=await Mu();return new Promise((n,r)=>{const o=e.transaction(ns,"readwrite").objectStore(ns).put(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n()})},ed=async()=>{const t=await Mu();return new Promise((e,n)=>{const s=t.transaction(ns,"readonly").objectStore(ns).getAll();s.onerror=()=>n(s.error),s.onsuccess=()=>{const o=s.result||[];o.sort((a,l)=>new Date(l.createdAt).getTime()-new Date(a.createdAt).getTime()),e(o)}})},Ole=async t=>{const e=await Mu();return new Promise((n,r)=>{const o=e.transaction(ns,"readonly").objectStore(ns).get(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n(o.result)})},wle=async t=>{const e=await Mu();return new Promise((n,r)=>{const a=e.transaction(ns,"readonly").objectStore(ns).index("tutorialId").getAll(t);a.onerror=()=>r(a.error),a.onsuccess=()=>n(a.result||[])})},Lle=async t=>{const e=await Mu();return new Promise((n,r)=>{const o=e.transaction(ns,"readonly").objectStore(ns).getAll();o.onerror=()=>r(o.error),o.onsuccess=()=>{const a=(o.result||[]).filter(l=>l.tags.includes(t));n(a)}})},QG=async t=>{const e=await Mu();return new Promise((n,r)=>{const o=e.transaction(ns,"readwrite").objectStore(ns).delete(t);o.onerror=()=>r(o.error),o.onsuccess=()=>n()})},mx=async t=>{const e=await Mu();return new Promise((n,r)=>{const o=e.transaction(ns,"readonly").objectStore(ns).getAll();o.onerror=()=>r(o.error),o.onsuccess=()=>{const a=(o.result||[]).find(l=>l.code.trim()===t.trim());n(a)}})},VG=async t=>{const e=await Mu();return new Promise((n,r)=>{const o=e.transaction(ns,"readonly").objectStore(ns).getAll();o.onerror=()=>r(o.error),o.onsuccess=()=>{const a=t.toLowerCase(),l=(o.result||[]).filter(c=>c.code.toLowerCase().includes(a)||c.description.toLowerCase().includes(a)||c.tags.some(A=>A.toLowerCase().includes(a)));n(l)}})},$G=async()=>{const t=await Mu();return new Promise((e,n)=>{const s=t.transaction(ns,"readonly").objectStore(ns).getAll();s.onerror=()=>n(s.error),s.onsuccess=()=>{const o=new Set;(s.result||[]).forEach(a=>{a.tags.forEach(l=>o.add(l))}),e(Array.from(o).sort())}})},Ble=async()=>{const t=await Mu();return new Promise((e,n)=>{const s=t.transaction(ns,"readonly").objectStore(ns).count();s.onerror=()=>n(s.error),s.onsuccess=()=>e(s.result)})},WG=()=>`snippet_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Dot={saveSnippet:GG,getAllSnippets:ed,getSnippetById:Ole,getSnippetsByTutorial:wle,getSnippetsByTag:Lle,deleteSnippet:QG,isSnippetExists:mx,searchSnippets:VG,getAllTags:$G,getSnippetsCount:Ble,generateSnippetId:WG},Dle=Object.freeze(Object.defineProperty({__proto__:null,default:Dot,deleteSnippet:QG,generateSnippetId:WG,getAllSnippets:ed,getAllTags:$G,getSnippetById:Ole,getSnippetsByTag:Lle,getSnippetsByTutorial:wle,getSnippetsCount:Ble,isSnippetExists:mx,saveSnippet:GG,searchSnippets:VG},Symbol.toStringTag,{value:"Module"})),kot=({isOpen:t,onClose:e,onSelectTutorial:n,onTryCode:r})=>{const[i,s]=H.useState([]),[o,a]=H.useState([]),[l,c]=H.useState(""),[A,u]=H.useState(null),[h,p]=H.useState(null),[E,T]=H.useState(null),y=async()=>{try{let O;l.trim()?O=await VG(l):A?O=(await ed()).filter(G=>G.tags.includes(A)):O=await ed(),s(O);const L=await $G();a(L)}catch(O){console.error(":",O)}};H.useEffect(()=>{t&&y()},[t,l,A]);const R=async O=>{try{await navigator.clipboard.writeText(O.code),p(O.id),setTimeout(()=>p(null),2e3)}catch(L){console.error(":",L)}},I=async(O,L)=>{if(L.stopPropagation(),!!confirm(""))try{await QG(O),await y()}catch(U){console.error(":",U)}},b=O=>{r==null||r(O),e()},B=O=>{n==null||n(O),e()},w=()=>{c(""),u(null)};return t?f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:e}),f.jsxs("div",{className:`fixed inset-y-0 right-0 w-96 bg-[#21222c] border-l border-monokai-accent/30 shadow-2xl z-50 flex flex-col transform transition-transform duration-300 ${t?"translate-x-0":"translate-x-full"}`,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-monokai-accent/30 bg-[#282a36]/50",children:[f.jsxs("h3",{className:"text-sm font-bold text-monokai-fg flex items-center gap-2",children:[f.jsx("span",{className:"i-lucide-code w-4 h-4 text-monokai-blue"}),"",f.jsxs("span",{className:"text-[10px] text-monokai-comment font-normal ml-1",children:["(",i.length,")"]})]}),f.jsx("button",{onClick:e,className:"text-monokai-comment hover:text-monokai-fg transition-colors p-1 rounded hover:bg-monokai-accent/20",children:f.jsx("span",{className:"i-lucide-x w-5 h-5"})})]}),f.jsxs("div",{className:"p-3 border-b border-monokai-accent/20 bg-[#21222c]/80",children:[f.jsxs("div",{className:"relative mb-2",children:[f.jsx("input",{type:"text",value:l,onChange:O=>c(O.target.value),placeholder:"...",className:"w-full bg-monokai-bg border border-monokai-accent/50 rounded-lg px-3 py-2 text-sm text-monokai-fg placeholder-monokai-comment focus:outline-none focus:border-monokai-blue"}),l&&f.jsx("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-monokai-comment hover:text-monokai-fg",children:f.jsx("span",{className:"i-lucide-x w-4 h-4"})})]}),o.length>0&&f.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.jsx("button",{onClick:()=>u(null),className:`text-[10px] px-2 py-1 rounded transition-colors ${A===null?"bg-monokai-blue text-white":"bg-monokai-accent/20 text-monokai-comment hover:bg-monokai-accent/40"}`,children:""}),o.slice(0,8).map(O=>f.jsx("button",{onClick:()=>u(O===A?null:O),className:`text-[10px] px-2 py-1 rounded transition-colors ${A===O?"bg-monokai-blue text-white":"bg-monokai-accent/20 text-monokai-comment hover:bg-monokai-accent/40"}`,children:O},O)),o.length>8&&f.jsxs("span",{className:"text-[10px] text-monokai-comment self-center",children:["+",o.length-8]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:i.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-monokai-comment py-8",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-monokai-blue/10 flex items-center justify-center mb-3",children:f.jsx("span",{className:"i-lucide-code w-8 h-8 text-monokai-blue/50"})}),f.jsx("p",{className:"text-sm font-medium",children:""}),f.jsx("p",{className:"text-xs mt-1 opacity-60",children:" SQL "})]}):i.map(O=>f.jsxs("div",{className:"bg-[#282a36]/50 rounded-xl border border-monokai-accent/20 hover:border-monokai-blue/30 transition-all group",children:[f.jsxs("div",{className:"p-3 cursor-pointer",onClick:()=>T(E===O.id?null:O.id),children:[f.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("button",{onClick:L=>{L.stopPropagation(),B(O.tutorialId)},className:"text-[10px] text-monokai-blue hover:text-monokai-purple transition-colors flex items-center gap-1 mb-1",children:[f.jsx("span",{className:"i-lucide-file-text w-3 h-3"}),f.jsx("span",{className:"truncate",children:O.tutorialTitle})]}),O.description&&f.jsx("p",{className:"text-xs text-monokai-fg mb-2 line-clamp-2",children:O.description}),O.tags.length>0&&f.jsx("div",{className:"flex gap-1 flex-wrap",children:O.tags.map(L=>f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-monokai-accent/20 text-monokai-comment",children:L},L))})]}),f.jsxs("div",{className:"flex flex-col gap-1 shrink-0",children:[f.jsx("button",{onClick:L=>{L.stopPropagation(),R(O)},className:`p-1.5 rounded transition-colors ${h===O.id?"text-monokai-green bg-monokai-green/10":"text-monokai-comment hover:text-monokai-fg hover:bg-monokai-accent/10"}`,title:"",children:h===O.id?f.jsx("span",{className:"i-lucide-check w-4 h-4"}):f.jsx("span",{className:"i-lucide-copy w-4 h-4"})}),f.jsx("button",{onClick:L=>I(O.id,L),className:"p-1.5 text-monokai-comment hover:text-monokai-red hover:bg-monokai-red/10 rounded transition-colors",title:"",children:f.jsx("span",{className:"i-lucide-trash-2 w-4 h-4"})})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-[10px] text-monokai-comment flex items-center gap-1",children:[f.jsx("span",{className:"i-lucide-clock w-3 h-3"}),new Date(O.createdAt).toLocaleDateString()]}),f.jsx("span",{className:"text-[10px] text-monokai-comment",children:E===O.id?" ":" "})]})]}),E===O.id&&f.jsxs("div",{className:"border-t border-monokai-accent/20 p-2 bg-[#21222c]/50",children:[f.jsx("div",{className:"rounded overflow-hidden border border-monokai-accent/30",children:f.jsx(Xw,{value:O.code,extensions:[K2()],theme:nne,editable:!1,basicSetup:{lineNumbers:!0,foldGutter:!1,highlightActiveLine:!1},className:"text-xs max-h-40"})}),r&&f.jsxs("button",{onClick:()=>b(O.code),className:"mt-2 w-full py-2 bg-monokai-green/10 hover:bg-monokai-green/20 border border-monokai-green/30 rounded-lg text-monokai-green text-xs font-medium transition-colors flex items-center justify-center gap-1.5",children:[f.jsx("span",{className:"i-lucide-play w-3.5 h-3.5"}),""]})]})]},O.id))}),f.jsxs("div",{className:"p-3 border-t border-monokai-accent/30 text-xs text-monokai-comment flex justify-between",children:[f.jsxs("span",{children:[" ",i.length," "]}),(l||A)&&f.jsx("button",{onClick:w,className:"text-monokai-blue hover:underline",children:""})]})]})]}):null},kle="1.0.0",YG="duckdb_learn_settings",jG="duckdb_learn_auto_backup",KL=()=>{try{const t=localStorage.getItem("duckdb_learn_progress");if(t)return JSON.parse(t)}catch(t){console.error(":",t)}return[]},Gm=()=>{try{const t=localStorage.getItem(YG);if(t)return JSON.parse(t)}catch(t){console.error(":",t)}return{}},mw=t=>{try{localStorage.setItem(YG,JSON.stringify(t))}catch(e){console.error(":",e)}},Mle=async()=>{const t=KL(),e=await iy(),n=await Tg(),r=await ed(),i=Gm(),s={version:kle,exportedAt:new Date().toISOString(),data:{progress:t,notes:e,favorites:n,codeSnippets:r,settings:i}};return JSON.stringify(s,null,2)},Mot=async t=>{const e={version:kle,exportedAt:new Date().toISOString(),data:{}};return t.includeProgress&&(e.data.progress=KL()),t.includeNotes&&(e.data.notes=await iy()),t.includeFavorites&&(e.data.favorites=await Tg()),t.includeCodeSnippets&&(e.data.codeSnippets=await ed()),t.includeSettings&&(e.data.settings=Gm()),JSON.stringify(e,null,2)},Pot=async(t,e="merge")=>{const n={success:!1,message:"",imported:{}};try{const r=JSON.parse(t);if(!r.version||!r.data)return n.message="",n;if(r.data.progress)if(e==="replace")localStorage.setItem("duckdb_learn_progress",JSON.stringify(r.data.progress)),n.imported.progress=r.data.progress.length;else{const i=KL(),s=new Set(i.map(l=>l.tutorialId)),o=r.data.progress.filter(l=>!s.has(l.tutorialId)),a=[...i,...o];localStorage.setItem("duckdb_learn_progress",JSON.stringify(a)),n.imported.progress=o.length}if(r.data.notes){const{importNotes:i}=await ir(async()=>{const{importNotes:s}=await Promise.resolve().then(()=>nF);return{importNotes:s}},void 0);if(e==="replace")n.imported.notes=r.data.notes.length;else{const s=await i(t);n.imported.notes=s}}if(r.data.favorites){const{addFavorite:i}=await ir(async()=>{const{addFavorite:s}=await Promise.resolve().then(()=>vle);return{addFavorite:s}},void 0);if(e==="merge"){const s=await Tg(),o=new Set(s.map(l=>l.tutorialId));let a=0;for(const l of r.data.favorites)o.has(l.tutorialId)||(await i(l),a++);n.imported.favorites=a}else n.imported.favorites=r.data.favorites.length}if(r.data.codeSnippets){const{saveSnippet:i}=await ir(async()=>{const{saveSnippet:s}=await Promise.resolve().then(()=>Dle);return{saveSnippet:s}},void 0);if(e==="merge"){const s=await ed(),o=new Set(s.map(l=>l.code.trim()));let a=0;for(const l of r.data.codeSnippets)o.has(l.code.trim())||(await i(l),a++);n.imported.codeSnippets=a}else n.imported.codeSnippets=r.data.codeSnippets.length}if(r.data.settings)if(e==="replace")mw(r.data.settings),n.imported.settings=!0;else{const i=Gm(),s={...r.data.settings,...i};mw(s),n.imported.settings=!0}n.success=!0,n.message=""}catch(r){console.error(":",r),n.message=""+r.message}return n},Uot=async()=>{const t=KL(),e=await iy(),n=await Tg(),r=await ed();let i;try{const s=localStorage.getItem(jG);s&&(i=JSON.parse(s).timestamp)}catch{}return{progressCount:t.length,notesCount:e.length,favoritesCount:n.length,codeSnippetsCount:r.length,lastBackup:i}},$6=async()=>{const t=Gm();if(t.autoBackup)try{const n={data:await Mle(),timestamp:new Date().toISOString(),interval:t.autoBackupInterval||"weekly"};localStorage.setItem(jG,JSON.stringify(n)),console.log("")}catch(e){console.error(":",e)}},W6=(t,e)=>{const n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e||`learn-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},Fot=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var o;const s=(o=i.target)==null?void 0:o.result;e(s)},r.onerror=()=>n(new Error("")),r.readAsText(t)}),Hot=async()=>{const t={success:!1,message:""};try{localStorage.removeItem("duckdb_learn_progress"),localStorage.removeItem("duckdb_learn_visited"),localStorage.removeItem(jG),localStorage.removeItem(YG),localStorage.removeItem("duckdb_learn_fontsize");const{getAllNotes:e}=await ir(async()=>{const{getAllNotes:l}=await Promise.resolve().then(()=>nF);return{getAllNotes:l}},void 0),n=await e(),{deleteNote:r}=await ir(async()=>{const{deleteNote:l}=await Promise.resolve().then(()=>nF);return{deleteNote:l}},void 0);for(const l of n)await r(l.id);const i=await Tg(),{removeFavorite:s}=await ir(async()=>{const{removeFavorite:l}=await Promise.resolve().then(()=>vle);return{removeFavorite:l}},void 0);for(const l of i)await s(l.id);const o=await ed(),{deleteSnippet:a}=await ir(async()=>{const{deleteSnippet:l}=await Promise.resolve().then(()=>Dle);return{deleteSnippet:l}},void 0);for(const l of o)await a(l.id);t.success=!0,t.message=""}catch(e){t.message=""+e.message}return t},Got=({isOpen:t,onClose:e,onDataChanged:n})=>{const[r,i]=H.useState(null),[s,o]=H.useState(!1),[a,l]=H.useState(!1),[c,A]=H.useState(!1),[u,h]=H.useState("merge"),[p,E]=H.useState(null),[T,y]=H.useState({includeProgress:!0,includeNotes:!0,includeFavorites:!0,includeCodeSnippets:!0,includeSettings:!0}),[R,I]=H.useState(!1),[b,B]=H.useState("weekly"),w=async()=>{try{const V=await Uot();i(V)}catch(V){console.error(":",V)}};H.useEffect(()=>{const V=Gm();I(V.autoBackup||!1),B(V.autoBackupInterval||"weekly")},[]),H.useEffect(()=>{t&&w()},[t]);const O=(V,$)=>{E({type:V,text:$}),setTimeout(()=>E(null),3e3)},L=async()=>{o(!0);try{const V=await Mle();W6(V),O("success",""),await w()}catch(V){O("error",""+V.message)}finally{o(!1)}},U=async()=>{o(!0);try{const V=await Mot(T);W6(V),O("success","")}catch(V){O("error",""+V.message)}finally{o(!1)}},G=async V=>{var J;const $=(J=V.target.files)==null?void 0:J[0];if($){l(!0),E(null);try{const te=await Fot($),X=await Pot(te,u);if(X.success){const oe=[];X.imported.progress&&oe.push(`${X.imported.progress} `),X.imported.notes&&oe.push(`${X.imported.notes} `),X.imported.favorites&&oe.push(`${X.imported.favorites} `),X.imported.codeSnippets&&oe.push(`${X.imported.codeSnippets} `),X.imported.settings&&oe.push(""),O("success",`${oe.join("")}`),await w(),n==null||n()}else O("error",X.message)}catch(te){O("error",""+te.message)}finally{l(!1),V.target.value=""}}},Q=async()=>{if(confirm("")&&confirm("")){A(!0);try{const V=await Hot();V.success?(O("success",V.message),await w(),n==null||n()):O("error",V.message)}catch(V){O("error",""+V.message)}finally{A(!1)}}},Y=()=>{const V=!R;I(V);const $=Gm();$.autoBackup=V,$.autoBackupInterval=V?b:void 0,mw($),V?($6(),O("success","")):O("success","")},K=V=>{B(V);const $=Gm();$.autoBackupInterval=V,mw($)},j=async()=>{await $6(),await w(),O("success","")};return t?f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:e}),f.jsxs("div",{className:`fixed inset-y-0 right-0 w-[480px] bg-[#21222c] border-l border-monokai-accent/30 shadow-2xl z-50 flex flex-col transform transition-transform duration-300 ${t?"translate-x-0":"translate-x-full"}`,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-monokai-accent/30 bg-[#282a36]/50",children:[f.jsxs("h3",{className:"text-sm font-bold text-monokai-fg flex items-center gap-2",children:[f.jsx("span",{className:"i-lucide-database w-4 h-4 text-monokai-green"}),""]}),f.jsx("button",{onClick:e,className:"text-monokai-comment hover:text-monokai-fg transition-colors p-1 rounded hover:bg-monokai-accent/20",children:f.jsx("span",{className:"i-lucide-x w-5 h-5"})})]}),p&&f.jsx("div",{className:`mx-4 mt-3 p-3 rounded-lg text-sm ${p.type==="success"?"bg-monokai-green/10 border border-monokai-green/30 text-monokai-green":"bg-monokai-pink/10 border border-monokai-pink/30 text-monokai-pink"}`,children:p.text}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 custom-scrollbar",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-monokai-comment uppercase tracking-wider mb-3 flex items-center gap-2",children:[f.jsx("span",{className:"i-lucide-bar-chart-2 w-4 h-4"}),""]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 border border-monokai-accent/30",children:[f.jsx("div",{className:"text-xl font-bold text-monokai-blue",children:(r==null?void 0:r.progressCount)||0}),f.jsx("div",{className:"text-xs text-monokai-comment",children:""})]}),f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 border border-monokai-accent/30",children:[f.jsx("div",{className:"text-xl font-bold text-monokai-yellow",children:(r==null?void 0:r.notesCount)||0}),f.jsx("div",{className:"text-xs text-monokai-comment",children:""})]}),f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 border border-monokai-accent/30",children:[f.jsx("div",{className:"text-xl font-bold text-monokai-pink",children:(r==null?void 0:r.favoritesCount)||0}),f.jsx("div",{className:"text-xs text-monokai-comment",children:""})]}),f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 border border-monokai-accent/30",children:[f.jsx("div",{className:"text-xl font-bold text-monokai-purple",children:(r==null?void 0:r.codeSnippetsCount)||0}),f.jsx("div",{className:"text-xs text-monokai-comment",children:""})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-monokai-comment uppercase tracking-wider mb-3 flex items-center gap-2",children:[f.jsx("span",{className:"i-lucide-download w-4 h-4"}),""]}),f.jsxs("button",{onClick:L,disabled:s,className:"w-full py-3 bg-monokai-blue/20 hover:bg-monokai-blue/30 border border-monokai-blue/30 rounded-lg text-monokai-blue text-sm font-medium transition-colors flex items-center justify-center gap-2 mb-3 disabled:opacity-50",children:[f.jsx("span",{className:"i-lucide-download w-4 h-4"}),s?"...":""]}),f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 border border-monokai-accent/30",children:[f.jsx("div",{className:"text-xs text-monokai-comment mb-2",children:""}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[f.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:T.includeProgress,onChange:V=>y($=>({...$,includeProgress:V.target.checked})),className:"rounded border-monokai-accent"}),f.jsx("span",{className:"text-monokai-fg",children:""})]}),f.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:T.includeNotes,onChange:V=>y($=>({...$,includeNotes:V.target.checked})),className:"rounded border-monokai-accent"}),f.jsx("span",{className:"text-monokai-fg",children:""})]}),f.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:T.includeFavorites,onChange:V=>y($=>({...$,includeFavorites:V.target.checked})),className:"rounded border-monokai-accent"}),f.jsx("span",{className:"text-monokai-fg",children:""})]}),f.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:T.includeCodeSnippets,onChange:V=>y($=>({...$,includeCodeSnippets:V.target.checked})),className:"rounded border-monokai-accent"}),f.jsx("span",{className:"text-monokai-fg",children:""})]}),f.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer col-span-2",children:[f.jsx("input",{type:"checkbox",checked:T.includeSettings,onChange:V=>y($=>({...$,includeSettings:V.target.checked})),className:"rounded border-monokai-accent"}),f.jsx("span",{className:"text-monokai-fg",children:""})]})]}),f.jsx("button",{onClick:U,disabled:s||!T.includeProgress&&!T.includeNotes&&!T.includeFavorites&&!T.includeCodeSnippets&&!T.includeSettings,className:"w-full py-2 bg-monokai-accent/20 hover:bg-monokai-accent/30 border border-monokai-accent/30 rounded-lg text-monokai-fg text-xs font-medium transition-colors disabled:opacity-50",children:""})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-monokai-comment uppercase tracking-wider mb-3 flex items-center gap-2",children:[f.jsx("span",{className:"i-lucide-upload w-4 h-4"}),""]}),f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 border border-monokai-accent/30",children:[f.jsxs("div",{className:"flex gap-4 mb-3",children:[f.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[f.jsx("input",{type:"radio",name:"importMode",checked:u==="merge",onChange:()=>h("merge"),className:"border-monokai-accent"}),f.jsx("span",{className:"text-monokai-fg",children:""})]}),f.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[f.jsx("input",{type:"radio",name:"importMode",checked:u==="replace",onChange:()=>h("replace"),className:"border-monokai-accent"}),f.jsx("span",{className:"text-monokai-fg",children:""})]})]}),f.jsxs("label",{className:"block",children:[f.jsx("input",{type:"file",accept:".json",onChange:G,disabled:a,className:"hidden"}),f.jsxs("div",{className:"w-full py-3 bg-monokai-green/10 hover:bg-monokai-green/20 border border-monokai-green/30 rounded-lg text-monokai-green text-sm font-medium transition-colors flex items-center justify-center gap-2 cursor-pointer disabled:opacity-50",children:[f.jsx("span",{className:"i-lucide-upload w-4 h-4"}),a?"...":" JSON "]})]}),f.jsx("p",{className:"text-[10px] text-monokai-comment mt-2",children:""})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-monokai-comment uppercase tracking-wider mb-3 flex items-center gap-2",children:[f.jsx("span",{className:"i-lucide-clock w-4 h-4"}),""]}),f.jsxs("div",{className:"bg-monokai-bg/50 rounded-lg p-3 border border-monokai-accent/30 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-monokai-fg",children:""}),f.jsx("button",{onClick:Y,className:`w-12 h-6 rounded-full transition-colors ${R?"bg-monokai-green":"bg-monokai-accent"}`,children:f.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${R?"translate-x-6":"translate-x-0.5"}`})})]}),R&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex gap-2",children:["daily","weekly","monthly"].map(V=>f.jsx("button",{onClick:()=>K(V),className:`flex-1 py-1.5 text-xs rounded transition-colors ${b===V?"bg-monokai-blue text-white":"bg-monokai-accent/20 text-monokai-comment hover:bg-monokai-accent/40"}`,children:V==="daily"?"":V==="weekly"?"":""},V))}),(r==null?void 0:r.lastBackup)&&f.jsxs("div",{className:"text-xs text-monokai-comment",children:["",new Date(r.lastBackup).toLocaleString()]}),f.jsx("button",{onClick:j,className:"w-full py-2 bg-monokai-accent/20 hover:bg-monokai-accent/30 border border-monokai-accent/30 rounded-lg text-monokai-fg text-xs font-medium transition-colors",children:""})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-monokai-pink uppercase tracking-wider mb-3 flex items-center gap-2",children:[f.jsx("span",{className:"i-lucide-alert-triangle w-4 h-4"}),""]}),f.jsxs("button",{onClick:Q,disabled:c,className:"w-full py-3 bg-monokai-pink/10 hover:bg-monokai-pink/20 border border-monokai-pink/30 rounded-lg text-monokai-pink text-sm font-medium transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[f.jsx("span",{className:"i-lucide-trash-2 w-4 h-4"}),c?"...":""]}),f.jsx("p",{className:"text-[10px] text-monokai-comment mt-2",children:""})]})]}),f.jsx("div",{className:"p-3 border-t border-monokai-accent/30 text-[10px] text-monokai-comment text-center",children:" JSON "})]})]}):null};DS.initialize({startOnLoad:!1,theme:"dark",securityLevel:"loose"});const Qot=({chart:t})=>{const[e,n]=H.useState(""),[r,i]=H.useState(!1),s=H.useRef(`mermaid-${Math.random().toString(36).substr(2,9)}`);return H.useEffect(()=>{t&&(async()=>{try{const{svg:a}=await DS.render(s.current,t);n(a),i(!1)}catch(a){console.error("Mermaid render error:",a),i(!0)}})()},[t]),r?f.jsx("div",{className:"text-red-500 text-sm p-2 border border-red-500/50 rounded bg-red-500/10",children:"Failed to render diagram"}):f.jsx("div",{className:"mermaid-wrapper my-6 flex justify-center bg-[#282a36] p-4 rounded-lg overflow-x-auto border border-monokai-accent/30",dangerouslySetInnerHTML:{__html:e}})},Vot=t=>{const e=[],n=[];for(const r of t){const i={...r,children:[]};if(n.length===0)e.push(i);else{const s=n[n.length-1];if(r.level>s.level)s.children||(s.children=[]),s.children.push(i);else{for(;n.length>0&&n[n.length-1].level>=r.level;)n.pop();if(n.length===0)e.push(i);else{const o=n[n.length-1];o.children||(o.children=[]),o.children.push(i)}}}n.push(i)}return e},jb=(t,e=0)=>t.toLowerCase().replace(/\s+/g,"-").replace(/[^\u4e00-\u9fa5a-z0-9-]/g,"")+(e>0?`-h${e}`:""),$ot=t=>{const e=/^(#{1,3})\s+(.+)$/gm,n=[];let r;for(;(r=e.exec(t))!==null;){const i=r[1].length;let s=r[2].trim();const o=s.match(/^(\d+(\.\d+)*)\s*[.]\s*/);if(o){const l=o[1],c=s.slice(o[0].length);s=`${l}. ${c}`}const a=jb(s,i);n.push({id:a,title:s,level:i})}return n},Wot=({text:t})=>{const[e,n]=H.useState(!1),r=()=>{navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3)};return f.jsx("button",{onClick:r,className:`text-xs transition-colors cursor-pointer flex items-center gap-1 ${e?"text-monokai-green":"text-monokai-comment hover:text-white"}`,children:e?f.jsxs(f.Fragment,{children:[f.jsx(aA,{className:"w-3 h-3"})," Copied!"]}):"Copy"})},Yot=({content:t,onTryCode:e,onOpenTable:n,tutorialId:r,tutorialTitle:i})=>{const[s,o]=H.useState(""),[a,l]=H.useState(new Set),[c,A]=H.useState(!1),u=H.useRef(null),h=H.useRef(null),[p,E]=H.useState(!1),[T,y]=H.useState(""),[R,I]=H.useState(!1),[b,B]=H.useState({x:0,y:0}),[w,O]=H.useState(""),[L,U]=H.useState(!1),[G,Q]=H.useState(!1),[Y,K]=H.useState(!1),[j,V]=H.useState(!1),[$,J]=H.useState(null),[te,X]=H.useState(""),[oe,F]=H.useState(""),[ee,le]=H.useState(!1),[q,we]=H.useState(new Set),[Oe,Ce]=H.useState({x:0,y:0}),[Ue,We]=H.useState(!1);H.useCallback(async Ae=>await mx(Ae),[]),H.useEffect(()=>{(async()=>{if(r){const me=await ble(r);K(me)}})()},[r]);const qe=async()=>{if(!(!r||!i))try{Y?(await Nle(r),K(!1)):(await Ile({id:`fav-${Date.now()}`,tutorialId:r,tutorialTitle:i,addedAt:new Date().toISOString()}),K(!0))}catch(Ae){console.error(":",Ae)}};H.useEffect(()=>{const Ae=()=>{const me=window.getSelection(),st=me==null?void 0:me.toString().trim();if(st&&st.length>0){y(st);const ke=me==null?void 0:me.getRangeAt(0);if(ke){const ht=ke.getBoundingClientRect();B({x:ht.left+ht.width/2,y:ht.top-10})}I(!0)}else setTimeout(()=>I(!1),200)};return document.addEventListener("mouseup",Ae),()=>document.removeEventListener("mouseup",Ae)},[]);const Je=async()=>{if(!(!w.trim()||!r)){U(!0);try{const Ae={id:`note-${Date.now()}`,tutorialId:r,tutorialTitle:i||"",selectedText:T,noteContent:w.trim(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await yle(Ae),O(""),I(!1),E(!0)}catch(Ae){console.error(":",Ae)}finally{U(!1)}}},ut=async(Ae,me,st)=>{if(await mx(Ae)){V(!0);return}const ht=st.target.getBoundingClientRect();Ce({x:ht.left+ht.width/2,y:ht.top}),J({code:Ae,codeId:me}),X(""),F("")},en=async()=>{if(!(!$||!r)){le(!0);try{const Ae={id:WG(),code:$.code,description:te.trim(),tutorialId:r,tutorialTitle:i||"",tags:oe.split(",").map(me=>me.trim()).filter(me=>me),createdAt:new Date().toISOString()};await GG(Ae),we(me=>new Set(me).add($.codeId)),J(null),V(!0)}catch(Ae){console.error(":",Ae)}finally{le(!1)}}},rn=()=>{J(null),X(""),F("")};H.useEffect(()=>{t&&(async()=>{const me=gt(t),st=new Set;for(const ke of me)if(await mx(ke)){const sn=Math.abs(ke.split("").reduce((mr,Lt)=>(mr=(mr<<5)-mr+Lt.charCodeAt(0),mr&mr),0)).toString(36);st.add(sn)}we(st)})()},[t]);const[be,nt]=H.useState(()=>{const Ae=localStorage.getItem("duckdb_learn_fontsize");return Ae?parseInt(Ae,10):16}),Ke=Ae=>{const me=Math.max(12,Math.min(24,Ae));nt(me),localStorage.setItem("duckdb_learn_fontsize",String(me))},gt=Ae=>{const me=/```sql\n([\s\S]*?)```/g,st=[];let ke;for(;(ke=me.exec(Ae))!==null;)st.push(ke[1].trim());return st},[at,_t]=H.useState(!1),[Tt,Dt]=H.useState(0);H.useEffect(()=>{const Ae=gt(t);Dt(Ae.length)},[t]);const Ft=async()=>{const Ae=gt(t);if(Ae.length===0)return;const me=Ae.join(`

---

`);await navigator.clipboard.writeText(me),_t(!0),setTimeout(()=>_t(!1),2e3)},mn=H.useMemo(()=>$ot(t),[t]),an=H.useMemo(()=>Vot(mn),[mn]);H.useEffect(()=>{const Ae=new Set;an.forEach(me=>{Ae.add(me.id),me.children&&me.children.length>0&&me.children.forEach(st=>Ae.add(st.id))}),l(Ae)},[an]);const qt=(Ae,me)=>{me.stopPropagation(),l(st=>{const ke=new Set(st);return ke.has(Ae)?ke.delete(Ae):ke.add(Ae),ke})},[ce,_e]=H.useState({}),Ye=async(Ae,me)=>{_e(ke=>({...ke,[me]:{data:null,error:null,loading:!0,timestamp:Date.now()}}));const st=performance.now();try{const ke=await At.query(Ae),ht=performance.now();_e(sn=>({...sn,[me]:{data:ke,error:null,loading:!1,timestamp:Date.now(),executionTime:ht-st}}))}catch(ke){_e(ht=>({...ht,[me]:{data:null,error:ke.message,loading:!1,timestamp:Date.now()}}))}};H.useEffect(()=>{h.current&&h.current.disconnect();const Ae=document.querySelector(".markdown-content-area");if(!Ae)return;h.current=new IntersectionObserver(ke=>{const ht=ke.filter(sn=>sn.isIntersecting).sort((sn,mr)=>sn.boundingClientRect.top-mr.boundingClientRect.top);if(ht.length>0){const sn=ht[0];o(sn.target.id)}},{root:Ae,rootMargin:"-80px 0px -70% 0px",threshold:0}),Ae.querySelectorAll("h1[id], h2[id], h3[id]").forEach(ke=>{var ht;(ht=h.current)==null||ht.observe(ke)});const st=yot.debounce(()=>{Ae&&A(Ae.scrollTop>400)},100);return Ae.addEventListener("scroll",st),()=>{var ke;(ke=h.current)==null||ke.disconnect(),Ae.removeEventListener("scroll",st),st.cancel()}},[t]);const dt=Ae=>{const me=document.getElementById(Ae);me&&(me.scrollIntoView({behavior:"smooth",block:"start"}),window.history.pushState(null,"",`#${Ae}`))},Wt=(Ae,me)=>{if(me.startsWith("table://")){Ae.preventDefault();const st=me.replace("table://","");n==null||n(st)}},Xt=()=>{const Ae=document.querySelector(".markdown-content-area");Ae&&Ae.scrollTo({top:0,behavior:"smooth"})},Te=(Ae,me,st)=>{const ke=Ae.children&&Ae.children.length>0,ht=a.has(Ae.id),sn=s===Ae.id,mr=Ae.level===1,Lt=Ae.level===2;return f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>dt(Ae.id),className:`w-full text-left text-sm py-1.5 px-2 rounded transition-all duration-200 flex items-center gap-1 ${sn?"border-monokai-pink text-monokai-pink bg-monokai-pink/10 font-medium":"border-transparent text-monokai-fg/90 hover:text-monokai-fg hover:bg-monokai-accent/10"} ${mr?"":Lt?"ml-2":"ml-4 text-xs"}`,children:[ke?f.jsx("span",{onClick:Dn=>qt(Ae.id,Dn),className:"w-4 h-4 flex items-center justify-center text-monokai-comment hover:text-monokai-fg cursor-pointer shrink-0 transition-transform duration-200",style:{transform:ht?"rotate(90deg)":"rotate(0deg)"},children:""}):f.jsx("span",{className:"w-4 h-4 shrink-0"}),f.jsx("span",{className:"truncate",children:Ae.title})]}),ke&&ht&&f.jsx("div",{className:"ml-1 border-l border-monokai-accent/30 pl-1",children:Ae.children.map((Dn,tn)=>Te(Dn,tn,tn===Ae.children.length-1))})]},Ae.id)};return f.jsxs("div",{className:"flex h-full relative group/viewer",children:[f.jsxs("main",{ref:u,className:"flex-1 overflow-y-auto p-4 md:p-8 markdown-content-area scroll-smooth h-full custom-scrollbar relative",children:[f.jsxs("div",{className:"sticky top-0 z-10 bg-monokai-bg/95 backdrop-blur-sm py-2 mb-4 flex items-center justify-between border-b border-monokai-accent/30 rounded-lg px-0 -ml-4",children:[f.jsx("div",{className:"flex items-center -ml-2",children:f.jsx("span",{className:"text-sm text-monokai-fg font-medium",children:""})}),f.jsxs("div",{className:"flex items-center gap-0.5 -mr-2",children:[Tt>0&&f.jsxs("button",{onClick:Ft,disabled:at,className:`flex justify-center items-center gap-1 px-2 py-1.5 rounded-md text-[11px] font-medium transition-all whitespace-nowrap ${at?"bg-monokai-green/30 text-monokai-green":"bg-monokai-blue/20 text-monokai-blue hover:bg-monokai-blue/30"}`,title:" SQL ",children:[at?f.jsx(aA,{className:"w-3.5 h-3.5"}):f.jsx(vw,{className:"w-3.5 h-3.5"}),f.jsx("span",{className:"hidden sm:inline",children:at?"":`${Tt} `})]}),f.jsxs("button",{onClick:()=>E(!0),className:"flex justify-center items-center gap-1 px-2 py-1.5 rounded-md text-[11px] font-medium bg-monokai-yellow/20 text-monokai-yellow hover:bg-monokai-yellow/30 transition-all whitespace-nowrap",title:"",children:[f.jsx(k3,{className:"w-3.5 h-3.5"}),f.jsx("span",{className:"hidden sm:inline",children:""})]}),f.jsxs("div",{className:"flex justify-center items-center gap-0.5 bg-monokai-accent/20 rounded-md px-1 py-1",children:[f.jsx("button",{onClick:()=>Ke(be-2),disabled:be<=12,className:"w-5 h-5 rounded text-[10px] font-bold bg-monokai-accent/30 hover:bg-monokai-accent/50 text-monokai-fg flex items-center justify-center transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"",children:"A"}),f.jsx("span",{className:"text-[10px] text-monokai-fg w-5 text-center leading-none",children:be}),f.jsx("button",{onClick:()=>Ke(be+2),disabled:be>=24,className:"w-6 h-5 rounded text-sm font-bold bg-monokai-accent/30 hover:bg-monokai-accent/50 text-monokai-fg flex items-center justify-center transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"",children:"A"}),f.jsx("button",{onClick:()=>Ke(16),className:"ml-0.5 text-[10px] text-monokai-fg hover:text-monokai-blue transition-colors px-1 py-0.5 rounded hover:bg-monokai-accent/30 whitespace-nowrap",title:"",children:""})]}),r&&f.jsxs("button",{onClick:qe,className:`flex justify-center items-center gap-1 px-2 py-1.5 rounded-md text-[11px] font-medium transition-all whitespace-nowrap ${Y?"bg-monokai-pink/30 text-monokai-pink":"bg-monokai-pink/20 text-monokai-pink hover:bg-monokai-pink/30"}`,title:Y?"":"",children:[f.jsx(B3,{className:`w-3.5 h-3.5 ${Y?"fill-current":""}`}),f.jsx("span",{className:"hidden sm:inline",children:Y?"":""})]}),f.jsxs("button",{onClick:()=>V(!0),className:"flex justify-center items-center gap-1 px-2 py-1.5 rounded-md text-[11px] font-medium bg-monokai-purple/20 text-monokai-purple hover:bg-monokai-purple/30 transition-all whitespace-nowrap",title:"",children:[f.jsx(w3,{className:"w-3.5 h-3.5"}),f.jsx("span",{className:"hidden sm:inline",children:""})]}),f.jsxs("button",{onClick:()=>Q(!0),className:"flex justify-center items-center gap-1 px-2 py-1.5 rounded-md text-[11px] font-medium bg-monokai-pink/20 text-monokai-pink hover:bg-monokai-pink/30 transition-all whitespace-nowrap",title:"",children:[f.jsx(W0e,{className:"w-3.5 h-3.5"}),f.jsx("span",{className:"hidden sm:inline",children:""})]}),f.jsxs("button",{onClick:()=>We(!0),className:"flex justify-center items-center gap-1 px-2 py-1.5 rounded-md text-[11px] font-medium bg-monokai-green/20 text-monokai-green hover:bg-monokai-green/30 transition-all whitespace-nowrap",title:"",children:[f.jsx(Gh,{className:"w-3.5 h-3.5"}),f.jsx("span",{className:"hidden sm:inline",children:""})]})]})]}),f.jsx("article",{className:"markdown-body w-full max-w-[1800px] mx-auto pb-20",style:{fontSize:`${be}px`},children:f.jsx(wte,{remarkPlugins:[tne],components:{h1:({children:Ae})=>{const me=jb(String(Ae),1);return f.jsxs("h1",{id:me,className:"text-3xl font-bold text-white mb-6 pb-2 border-b border-monokai-accent/30 mt-8 first:mt-0 group/h1 relative",children:[f.jsx("span",{className:"absolute -left-6 top-1/2 -translate-y-1/2 opacity-0 group-hover/h1:opacity-100 transition-opacity text-monokai-comment cursor-pointer hover:text-monokai-blue",onClick:()=>dt(me),children:"#"}),Ae]})},h2:({children:Ae})=>{const me=jb(String(Ae),2);return f.jsxs("h2",{id:me,className:"text-2xl font-bold text-monokai-fg mb-4 mt-8 group/h2 relative",children:[f.jsx("span",{className:"absolute -left-5 top-1/2 -translate-y-1/2 opacity-0 group-hover/h2:opacity-100 transition-opacity text-monokai-comment cursor-pointer hover:text-monokai-blue text-sm",onClick:()=>dt(me),children:"#"}),Ae]})},h3:({children:Ae})=>{const me=jb(String(Ae),3);return f.jsxs("h3",{id:me,className:"text-xl font-bold text-monokai-fg mb-3 mt-6 group/h3 relative",children:[f.jsx("span",{className:"absolute -left-4 top-1/2 -translate-y-1/2 opacity-0 group-hover/h3:opacity-100 transition-opacity text-monokai-comment cursor-pointer hover:text-monokai-blue text-xs",onClick:()=>dt(me),children:"#"}),Ae]})},p:({children:Ae})=>f.jsx("p",{className:"text-monokai-fg leading-relaxed mb-4",children:Ae}),ul:({children:Ae})=>f.jsx("ul",{className:"list-disc list-inside space-y-1 mb-4 text-monokai-fg ml-4 marker:text-monokai-pink",children:Ae}),ol:({children:Ae})=>f.jsx("ol",{className:"list-decimal list-inside space-y-1 mb-4 text-monokai-fg ml-4 marker:text-monokai-purple",children:Ae}),li:({children:Ae})=>f.jsx("li",{className:"pl-1 inline-block",children:Ae}),blockquote:({children:Ae})=>f.jsx("blockquote",{className:"border-l-4 border-monokai-yellow pl-4 py-1 my-4 bg-monokai-yellow/10 rounded-r text-monokai-fg italic",children:Ae}),code({node:Ae,inline:me,className:st,children:ke,...ht}){const sn=/language-(\w+)/.exec(st||""),mr=sn?sn[1]:"text",Lt=String(ke).replace(/\n$/,""),Dn=no.useMemo(()=>Math.abs(Lt.split("").reduce((cn,gr)=>(cn=(cn<<5)-cn+gr.charCodeAt(0),cn&cn),0)).toString(36),[Lt]),tn=ce[Dn];return!me&&mr==="mermaid"?f.jsx(Qot,{chart:Lt}):me?f.jsx("code",{className:"bg-monokai-accent/30 text-monokai-orange px-1.5 py-0.5 rounded text-sm font-mono border border-monokai-accent/50",...ht,children:ke}):f.jsxs("div",{className:"code-block-wrapper my-6 rounded-md overflow-hidden bg-[#282a36] border border-monokai-accent/30 shadow-lg relative group",children:[f.jsxs("div",{className:"code-block-header flex justify-between items-center px-4 py-2 bg-[#21222c] border-b border-monokai-accent/30",children:[f.jsx("span",{className:"code-lang text-xs text-monokai-blue font-bold uppercase",children:mr}),f.jsxs("div",{className:"flex gap-2 items-center",children:[mr==="sql"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>Ye(Lt,Dn),className:"text-xs bg-monokai-green/20 text-monokai-green px-2 py-0.5 rounded hover:bg-monokai-green/40 transition-colors font-medium cursor-pointer flex items-center gap-1",children:[f.jsx(cg,{className:"w-3 h-3"})," Run"]}),e&&f.jsx("button",{onClick:()=>e(Lt),className:"text-xs text-monokai-comment hover:text-white px-2 py-0.5 rounded transition-colors",title:"Open in SQL Editor",children:"Open"}),mr==="sql"&&f.jsx("button",{onClick:cn=>ut(Lt,Dn,cn),className:`text-xs px-2 py-0.5 rounded transition-colors flex items-center gap-1 ${q.has(Dn)?"text-monokai-pink bg-monokai-pink/20":"text-monokai-comment hover:text-monokai-pink"}`,title:q.has(Dn)?"":"",children:f.jsx(B3,{className:`w-3 h-3 ${q.has(Dn)?"fill-current":""}`})})]}),f.jsx(Wot,{text:Lt})]})]}),mr==="sql"?f.jsxs(f.Fragment,{children:[f.jsx(Xw,{value:Lt,extensions:[K2()],theme:nne,editable:!1,basicSetup:{lineNumbers:!1,foldGutter:!1,highlightActiveLine:!1},className:"text-sm"}),tn&&f.jsx(Cot,{data:tn.data||[],error:tn.error,loading:tn.loading,executionTime:tn.executionTime})]}):f.jsx("div",{className:"p-4 overflow-x-auto",children:f.jsx("code",{className:`font-mono text-sm leading-relaxed text-[#f8f8f2] ${st}`,...ht,children:ke})})]})},table:({children:Ae})=>f.jsx("div",{className:"overflow-x-auto my-6 border border-monokai-accent/30 rounded-lg",children:f.jsx("table",{className:"w-full text-left border-collapse",children:Ae})}),thead:({children:Ae})=>f.jsx("thead",{className:"bg-monokai-sidebar/50 text-monokai-fg text-sm font-bold uppercase tracking-wider",children:Ae}),tbody:({children:Ae})=>f.jsx("tbody",{className:"text-sm text-monokai-fg divide-y divide-monokai-accent/20 bg-monokai-bg/50",children:Ae}),tr:({children:Ae})=>f.jsx("tr",{className:"hover:bg-monokai-accent/10 transition-colors",children:Ae}),th:({children:Ae})=>f.jsx("th",{className:"p-3 border-b border-monokai-accent/30",children:Ae}),td:({children:Ae})=>f.jsx("td",{className:"p-3",children:Ae}),a:({node:Ae,href:me,children:st,...ke})=>f.jsx("a",{className:"text-monokai-blue hover:text-monokai-purple hover:underline transition-colors cursor-pointer",href:me,onClick:ht=>me&&Wt(ht,me),target:me!=null&&me.startsWith("http")?"_blank":void 0,rel:me!=null&&me.startsWith("http")?"noopener noreferrer":void 0,...ke,children:st}),strong:({children:Ae})=>f.jsx("strong",{className:"text-monokai-fg font-bold",children:Ae}),em:({children:Ae})=>f.jsx("em",{className:"text-monokai-yellow italic",children:Ae})},children:t})}),c&&f.jsx("button",{onClick:Xt,className:"fixed bottom-8 right-8 w-12 h-12 bg-monokai-blue/90 hover:bg-monokai-blue text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 z-50 hover:scale-110",title:"",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})})]}),mn.length>0&&f.jsxs("aside",{className:"hidden lg:block w-64 shrink-0 border-l border-monokai-accent/30 bg-monokai-sidebar/20 h-full overflow-y-auto p-4 transition-all",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-monokai-accent/30 pb-2",children:[f.jsx("h4",{className:"text-xs font-bold text-monokai-comment uppercase tracking-wider",children:""}),f.jsx("button",{onClick:()=>{if(a.size>0)l(new Set);else{const Ae=new Set;an.forEach(me=>{Ae.add(me.id),me.children&&me.children.forEach(st=>Ae.add(st.id))}),l(Ae)}},className:"text-[10px] text-monokai-comment hover:text-monokai-blue transition-colors",title:a.size>0?"":"",children:a.size>0?"":""})]}),f.jsx("nav",{className:"space-y-1 relative",children:an.map((Ae,me)=>Te(Ae,me,me===an.length-1))})]}),f.jsx(Not,{isOpen:p,onClose:()=>E(!1),tutorialId:r,tutorialTitle:i}),f.jsx(wot,{isOpen:G,onClose:()=>Q(!1)}),f.jsx(kot,{isOpen:j,onClose:()=>V(!1),onSelectTutorial:Ae=>{V(!1)},onTryCode:e}),f.jsx(Got,{isOpen:Ue,onClose:()=>We(!1),onDataChanged:()=>{}}),R&&T&&r&&f.jsxs("div",{className:"fixed z-[100] bg-[#21222c] border border-monokai-yellow/30 rounded-xl shadow-2xl p-4 w-72 animate-in fade-in zoom-in-95 duration-200",style:{left:Math.min(b.x,window.innerWidth-320),top:Math.max(b.y-180,20),transform:"translateX(-50%)"},onClick:Ae=>Ae.stopPropagation(),children:[f.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-t-2 border-l-2 border-monokai-yellow rounded-tl-lg"}),f.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t-2 border-r-2 border-monokai-yellow rounded-tr-lg"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b-2 border-l-2 border-monokai-yellow rounded-bl-lg"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b-2 border-r-2 border-monokai-yellow rounded-br-lg"}),f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("h4",{className:"text-sm font-bold text-monokai-fg flex items-center gap-2",children:[f.jsx(k3,{className:"w-4 h-4 text-monokai-yellow"}),""]}),f.jsx("button",{onClick:()=>I(!1),className:"text-monokai-comment hover:text-monokai-fg transition-colors",children:f.jsx(Wm,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"text-xs text-monokai-comment mb-3 p-2.5 bg-monokai-bg/60 rounded-lg border-l-2 border-monokai-purple/60 italic leading-relaxed",children:['"',T.length>80?T.substring(0,80)+"...":T,'"']}),f.jsx("textarea",{value:w,onChange:Ae=>O(Ae.target.value),placeholder:"...",className:"w-full h-20 p-2.5 text-sm bg-monokai-bg/80 border border-monokai-accent/20 rounded-lg text-monokai-fg placeholder-monokai-comment/40 focus:border-monokai-yellow/50 focus:outline-none resize-none transition-colors",autoFocus:!0}),f.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[f.jsx("button",{onClick:()=>I(!1),className:"px-3 py-1.5 text-xs text-monokai-comment hover:text-monokai-fg transition-colors rounded-md hover:bg-monokai-accent/10",children:""}),f.jsx("button",{onClick:Je,disabled:!w.trim()||L,className:"px-3 py-1.5 text-xs bg-monokai-yellow/20 text-monokai-yellow rounded-md hover:bg-monokai-yellow/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5",children:L?f.jsx(f.Fragment,{children:"..."}):f.jsxs(f.Fragment,{children:[f.jsx(aA,{className:"w-3 h-3"}),""]})})]})]}),$&&f.jsxs("div",{className:"fixed z-[100] bg-[#21222c] border border-monokai-blue/30 rounded-xl shadow-2xl p-4 w-80 animate-in fade-in zoom-in-95 duration-200",style:{left:Math.min(Oe.x,window.innerWidth-360),top:Math.max(Oe.y-280,20),transform:"translateX(-50%)"},onClick:Ae=>Ae.stopPropagation(),children:[f.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-t-2 border-l-2 border-monokai-blue rounded-tl-lg"}),f.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t-2 border-r-2 border-monokai-blue rounded-tr-lg"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b-2 border-l-2 border-monokai-blue rounded-bl-lg"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b-2 border-r-2 border-monokai-blue rounded-br-lg"}),f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("h4",{className:"text-sm font-bold text-monokai-fg flex items-center gap-2",children:[f.jsx(w3,{className:"w-4 h-4 text-monokai-blue"}),""]}),f.jsx("button",{onClick:rn,className:"text-monokai-comment hover:text-monokai-fg transition-colors",children:f.jsx(Wm,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"text-xs text-monokai-comment mb-3 p-2.5 bg-monokai-bg/60 rounded-lg border-l-2 border-monokai-blue/60 font-mono max-h-20 overflow-auto",children:$.code.length>150?$.code.substring(0,150)+"...":$.code}),f.jsx("textarea",{value:te,onChange:Ae=>X(Ae.target.value),placeholder:"...",className:"w-full h-16 p-2.5 text-sm bg-monokai-bg/80 border border-monokai-accent/20 rounded-lg text-monokai-fg placeholder-monokai-comment/40 focus:border-monokai-blue/50 focus:outline-none resize-none transition-colors mb-2",autoFocus:!0}),f.jsx("input",{type:"text",value:oe,onChange:Ae=>F(Ae.target.value),placeholder:"",className:"w-full px-3 py-2 text-sm bg-monokai-bg/80 border border-monokai-accent/20 rounded-lg text-monokai-fg placeholder-monokai-comment/40 focus:border-monokai-blue/50 focus:outline-none transition-colors mb-3"}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:rn,className:"px-3 py-1.5 text-xs text-monokai-comment hover:text-monokai-fg transition-colors rounded-md hover:bg-monokai-accent/10",children:""}),f.jsx("button",{onClick:en,disabled:ee,className:"px-3 py-1.5 text-xs bg-monokai-blue/20 text-monokai-blue rounded-md hover:bg-monokai-blue/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5",children:ee?f.jsx(f.Fragment,{children:"..."}):f.jsxs(f.Fragment,{children:[f.jsx(aA,{className:"w-3 h-3"}),""]})})]})]})]})},jot=({items:t})=>f.jsxs("div",{className:"flex items-center gap-2 text-sm text-monokai-comment mb-4",children:[f.jsxs("button",{onClick:()=>{var e,n;return(n=(e=t[0])==null?void 0:e.onClick)==null?void 0:n.call(e)},className:"hover:text-monokai-blue transition-colors flex items-center gap-1",children:[f.jsx("span",{className:"text-xs",children:""}),f.jsx("span",{children:"Learn"})]}),t.slice(1).map((e,n)=>f.jsxs(no.Fragment,{children:[f.jsx("span",{className:"text-monokai-accent",children:"/"}),e.onClick?f.jsx("button",{onClick:e.onClick,className:"hover:text-monokai-blue transition-colors",children:e.label}):f.jsx("span",{className:"text-monokai-fg",children:e.label})]},n))]}),Kot=({tutorial:t,isSelected:e,isCompleted:n,onSelect:r,index:i})=>{const s=o=>{switch(o){case"Beginner":return"bg-monokai-green/20 text-monokai-green";case"Intermediate":return"bg-monokai-orange/20 text-monokai-orange";case"Advanced":return"bg-monokai-purple/20 text-monokai-purple";default:return"bg-monokai-blue/20 text-monokai-blue"}};return f.jsxs("button",{onClick:()=>r(t),className:`w-full text-left p-2.5 rounded-lg transition-all group ${e?"bg-monokai-blue/15 border-l-2 border-monokai-blue":"hover:bg-monokai-accent/15 border-l-2 border-transparent"}`,children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`text-[10px] w-4 ${n?"text-monokai-green":"text-monokai-comment"}`,children:n?"":i+1}),f.jsx("span",{className:`text-xs font-medium truncate ${e?"text-monokai-blue":"text-monokai-fg"}`,children:t.title})]}),f.jsx("div",{className:"flex items-center gap-1.5 mt-1 ml-6",children:f.jsx("span",{className:`text-[9px] px-1 py-0.5 rounded ${s(t.difficulty)}`,children:t.difficulty==="Beginner"?"":t.difficulty==="Intermediate"?"":""})})]})},zot=({selectedTutorial:t,onSelectTutorial:e,currentSection:n,onNavigateSection:r})=>{const i=H.useMemo(()=>{try{const o=localStorage.getItem("duckdb_learn_progress");if(o){const a=JSON.parse(o);return Object.entries(a).filter(([l,c])=>c.completedAt).map(([l])=>l)}}catch{}return[]},[]),s=Object.keys(pj);return f.jsxs("div",{className:"w-48 border-r border-monokai-accent flex flex-col bg-monokai-sidebar/20 shrink-0",children:[f.jsx("div",{className:"p-3 border-b border-monokai-accent/50",children:f.jsxs("h2",{className:"text-sm font-bold text-monokai-fg flex items-center gap-2",children:[f.jsx("span",{className:"text-base",children:""}),f.jsx("span",{children:""})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:s.map(o=>f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"text-[10px] font-bold text-monokai-comment uppercase tracking-wider mb-2 px-2",children:o}),f.jsx("div",{className:"space-y-0.5",children:(pj[o]||[]).map((a,l)=>f.jsx(Kot,{tutorial:a,isSelected:(t==null?void 0:t.id)===a.id,isCompleted:i.includes(a.id),onSelect:e,index:l},a.id))})]},o))})]})},Ple="duckdb_learn_progress",qot=()=>{try{const t=localStorage.getItem(Ple);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load progress:",t)}return{}},Xot=t=>{try{localStorage.setItem(Ple,JSON.stringify(t))}catch(e){console.error("Failed to save progress:",e)}},vk=[{id:"first_step",name:"",desc:"",icon:"",condition:t=>Object.values(t).some(e=>e.completedAt)},{id:"db_master",name:"",desc:" DuckDB ",icon:"",condition:t=>{var e;return(e=t["duckdb-basics"])==null?void 0:e.completedAt}}],Y6=({selectedTutorial:t,onNavigateToTutorial:e,onNavigateSection:n,onTryCode:r})=>{const[i,s]=H.useState({});H.useEffect(()=>{const p=qot();s(p)},[]);const o=H.useMemo(()=>vk.filter(p=>p.condition(i)),[vk,i]),a=H.useMemo(()=>{const p=Object.values(i);return{totalStarted:p.length,totalCompleted:p.filter(E=>E.completedAt).length}},[i]),l=H.useMemo(()=>t?t.id==="duckdb-basics"?`-- 
CREATE TABLE departments (
    dept_id INTEGER PRIMARY KEY,
    dept_name VARCHAR(50) NOT NULL
);
INSERT INTO departments VALUES (1, ''), (2, '');
SELECT * FROM departments;`:t.id==="philosophy-db"?`-- 
CREATE TABLE schools (school_id INTEGER PRIMARY KEY, name TEXT);
INSERT INTO schools VALUES (1, ''), (2, '');
SELECT * FROM schools;`:"":"",[t]),c=H.useMemo(()=>t?YVe(t.id):null,[t]),A=H.useMemo(()=>t?i[t.id]||{tutorialId:t.id,completedSections:[],lastPosition:"",startedAt:new Date().toISOString()}:null,[i,t]),u=H.useMemo(()=>{if(!(t!=null&&t.sections)||!A)return 0;const p=t.sections.length,E=A.completedSections.length;return Math.round(E/p*100)},[t,A]),h=p=>{if(!t)return;const E=i[t.id]||{tutorialId:t.id,completedSections:[],lastPosition:p,startedAt:new Date().toISOString()};if(E.completedSections.includes(p))return;const T={...E,completedSections:[...E.completedSections,p],lastPosition:p};t.sections&&T.completedSections.length>=t.sections.length&&(T.completedAt=new Date().toISOString());const y={...i,[t.id]:T};s(y),Xot(y)};return t?f.jsxs("div",{className:"w-48 border-l border-monokai-accent bg-monokai-sidebar/20 p-4 shrink-0 flex flex-col",children:[r&&l&&f.jsxs("button",{onClick:()=>r(l),className:"w-full py-2 bg-monokai-green/15 hover:bg-monokai-green/25 border border-monokai-green/30 rounded-lg text-monokai-green text-xs font-medium transition-colors flex items-center justify-center gap-1.5 mb-4",children:[f.jsx("span",{children:""}),f.jsx("span",{children:""})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[f.jsx("span",{className:"text-monokai-comment",children:""}),f.jsxs("span",{className:"text-monokai-fg",children:[u,"%"]})]}),f.jsx("div",{className:"h-1.5 bg-monokai-bg rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-monokai-green to-monokai-blue",style:{width:`${u}%`}})})]}),t.sections&&t.sections.length>0&&f.jsxs("div",{className:"flex-1 overflow-y-auto mb-4",children:[f.jsx("div",{className:"text-[10px] text-monokai-comment mb-2",children:" "}),f.jsx("div",{className:"space-y-1",children:t.sections.map((p,E)=>{const T=A==null?void 0:A.completedSections.includes(p.id);return f.jsxs("button",{onClick:()=>{h(p.id),n==null||n(p.anchor)},className:`w-full text-left py-1.5 px-2 rounded text-xs flex items-center gap-2 transition-colors ${T?"bg-monokai-green/10 text-monokai-green":"hover:bg-monokai-accent/20 text-monokai-fg/60"}`,children:[f.jsx("span",{className:"w-4 text-center",children:T?"":E+1}),f.jsx("span",{className:"truncate",children:p.title})]},p.id)})})]}),c&&f.jsxs("div",{className:"pt-3 border-t border-monokai-accent/30",children:[f.jsx("div",{className:"text-[10px] text-monokai-comment mb-2",children:" "}),f.jsxs("button",{onClick:()=>e==null?void 0:e(c.id),className:"w-full p-2.5 rounded-lg bg-monokai-blue/10 border border-monokai-blue/20 hover:bg-monokai-blue/20 transition-colors text-left",children:[f.jsx("div",{className:"text-xs text-monokai-blue font-medium truncate",children:c.title}),f.jsxs("div",{className:"text-[10px] text-monokai-comment mt-0.5",children:[c.difficulty,"  ",c.estimatedTime]})]})]}),u===100&&f.jsxs("div",{className:"mt-3 p-2 bg-monokai-green/10 border border-monokai-green/30 rounded-lg text-center",children:[f.jsx("div",{className:"text-sm",children:""}),f.jsx("div",{className:"text-xs text-monokai-green",children:""})]})]}):f.jsxs("div",{className:"w-48 border-l border-monokai-accent bg-monokai-sidebar/20 p-4 shrink-0",children:[f.jsx("h3",{className:"text-xs font-bold text-monokai-comment uppercase tracking-wider mb-3",children:""}),f.jsxs("div",{className:"bg-monokai-bg/40 rounded-lg p-3 mb-3",children:[f.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[f.jsx("span",{className:"text-monokai-comment",children:""}),f.jsxs("span",{className:"text-monokai-green",children:[a.totalCompleted,"/",Ji.length]})]}),f.jsx("div",{className:"h-1.5 bg-monokai-accent/20 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-monokai-green to-monokai-blue",style:{width:`${a.totalCompleted/Ji.length*100}%`}})})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("div",{className:"text-[10px] text-monokai-comment mb-2",children:" "}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:vk.map(p=>{const E=o.some(T=>T.id===p.id);return f.jsxs("div",{className:`p-2 rounded-lg text-center border ${E?"bg-monokai-yellow/10 border-monokai-yellow/30":"bg-monokai-bg/30 border-monokai-accent/20 opacity-40"}`,title:p.desc,children:[f.jsx("div",{className:"text-sm",children:p.icon}),f.jsx("div",{className:`text-[9px] ${E?"text-monokai-yellow":"text-monokai-comment"}`,children:p.name})]},p.id)})})]}),Object.keys(i).length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-[10px] text-monokai-comment mb-2",children:" "}),f.jsx("div",{className:"space-y-1",children:Object.entries(i).slice(0,3).map(([p,E])=>f.jsxs("button",{onClick:()=>e==null?void 0:e(p),className:"w-full text-left p-2 rounded bg-monokai-bg/30 hover:bg-monokai-accent/20 transition-colors",children:[f.jsx("div",{className:"text-xs text-monokai-fg truncate",children:p}),f.jsx("div",{className:"mt-1 h-1 bg-monokai-accent/20 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-monokai-blue",style:{width:`${E.completedSections.length/7*100}%`}})})]},p))})]})]})},Jot=({onTryCode:t,onOpenTable:e})=>{const[n,r]=H.useState("home"),[i,s]=H.useState(null),[o,a]=H.useState(""),[l,c]=H.useState(""),[A,u]=H.useState(!1),[h,p]=H.useState(null);H.useEffect(()=>{if(i){if(u(!0),p(null),i.isUserTutorial){console.log("[LearnApp] Loading user tutorial:",i.id),zVe(i.id).then(I=>{I&&I.length>100?(c(I),console.log("[LearnApp] User tutorial loaded, length:",I.length)):p(""),u(!1)}).catch(I=>{console.error("[LearnApp] Load user tutorial failed:",I),p(""),u(!1)});return}console.log("[LearnApp] Loading document from:",i.docPath),fetch(i.docPath).then(I=>{if(console.log("[LearnApp] Fetch response:",I.status,I.statusText),!I.ok)throw new Error(`HTTP ${I.status}: ${I.statusText}`);return I.text()}).then(I=>{if(console.log("[LearnApp] Document loaded, length:",I.length),I&&I.length>100)c(I);else throw new Error("Document content too short");u(!1)}).catch(I=>{console.warn("[LearnApp] Fetch failed, trying fallback:",I.message);const b=Zot(i.id);b&&b.length>100?(c(b),console.log("[LearnApp] Using embedded content, length:",b.length)):(p(""),console.error("[LearnApp] All loading methods failed")),u(!1)})}},[i]);const E=H.useCallback(I=>{s(I),r("tutorial"),a("")},[]),T=H.useCallback(()=>{r("home"),s(null),a(""),c(""),p(null)},[]),y=H.useCallback(I=>{a(I),setTimeout(()=>{const b=document.getElementById(I);if(b){const B=b.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:B,behavior:"smooth"})}},100)},[]),R=H.useCallback(I=>{const b=zee(I);b&&E(b)},[E]);return f.jsxs("div",{className:"h-full flex bg-monokai-bg overflow-hidden",children:[f.jsx(zot,{selectedTutorial:i,onSelectTutorial:E,currentSection:o,onNavigateSection:y}),n==="home"?f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[f.jsx("div",{className:"flex-1 overflow-hidden",children:f.jsx(JVe,{onSelectTutorial:E})}),f.jsx(Y6,{selectedTutorial:null,onNavigateToTutorial:R,onTryCode:t})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:[f.jsxs("div",{className:"shrink-0 p-4 border-b border-monokai-accent bg-monokai-sidebar/30 backdrop-blur-sm z-10",children:[f.jsx(jot,{items:[{label:"Learn",onClick:T},{label:(i==null?void 0:i.title)||""}]}),i&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h1",{className:"text-xl font-bold text-white truncate",children:i.title}),f.jsx("span",{className:`text-xs px-2 py-1 rounded shrink-0 ${i.difficulty==="Beginner"?"bg-monokai-green/20 text-monokai-green":i.difficulty==="Intermediate"?"bg-monokai-orange/20 text-monokai-orange":i.difficulty==="Advanced"?"bg-monokai-purple/20 text-monokai-purple":"bg-monokai-blue/20 text-monokai-blue"}`,children:i.difficulty}),i.estimatedTime&&f.jsxs("span",{className:"text-xs text-monokai-comment shrink-0",children:[" ",i.estimatedTime]})]})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative",children:A?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 border-2 border-monokai-blue border-t-transparent rounded-full animate-spin"}),f.jsx("div",{className:"text-monokai-comment",children:"Loading content..."})]})}):l?f.jsx(Yot,{content:l,onTryCode:t,onOpenTable:e}):h?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"text-center max-w-md p-6 bg-monokai-sidebar/50 rounded-lg border border-monokai-pink/30",children:[f.jsx("div",{className:"text-4xl mb-4 text-monokai-orange",children:""}),f.jsx("p",{className:"text-monokai-comment mb-4",children:h}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{onClick:()=>{p(null),s(I=>I)},className:"block w-full px-4 py-2 bg-monokai-blue text-white rounded hover:bg-monokai-blue/80 transition-colors",children:"Try Again"}),f.jsx("button",{onClick:T,className:"block w-full px-4 py-2 bg-monokai-accent text-white rounded hover:bg-monokai-comment transition-colors",children:"Back to Home"})]})]})}):f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-monokai-comment mb-4",children:"Content not available"}),f.jsx("button",{onClick:T,className:"px-4 py-2 bg-monokai-blue text-white rounded",children:"Back to Home"})]})})})]}),f.jsx(Y6,{selectedTutorial:i,onNavigateSection:y,onNavigateToTutorial:R,onTryCode:t})]})]})};function Zot(t){if(WP[t])return WP[t];const e=window.__DOC_CONTENT__;return e&&e[t]?e[t]:`
# ...



##  ID: ${t}

### 

1.  \`components/Learn/LearnApp.tsx\`  \`EMBEDDED_CONTENT\` 
2.  \`(window as any).__DOC_CONTENT__\` 
3.  markdown  \`public/docs/\` 

---

### 

DuckDB SQL 

### 


-  - 
`}const eat=({onDataReady:t,isProcessing:e})=>{const[n,r]=H.useState(!1),[i,s]=H.useState("local"),[o,a]=H.useState(null),[l,c]=H.useState(""),[A,u]=H.useState(0),[h,p]=H.useState(""),[E,T]=H.useState(""),[y,R]=H.useState(""),I=H.useRef(null),b=K=>{K.preventDefault(),r(!0)},B=K=>{K.preventDefault(),r(!1)},w=K=>{K.preventDefault(),r(!1);const j=Array.from(K.dataTransfer.files);j.length>0&&L(j[0])},O=K=>{const j=K.split(`
`).filter($=>$.trim());if(j.length===0)return[];const V=j[0].split(/[,\t|]/).map($=>$.trim().replace(/^"|"$/g,""));return j.slice(1,6).map($=>{const J=$.split(/[,\t|]/).map(te=>te.trim().replace(/^"|"$/g,""));return V.reduce((te,X,oe)=>(te[X]=J[oe]||"",te),{})})},L=K=>{if(K.type!=="text/csv"&&!K.name.endsWith(".csv")&&!K.name.endsWith(".parquet")&&!K.name.endsWith(".json")){alert("Please select a CSV, Parquet or JSON file");return}u(K.size),c(K.name);const j=new FileReader;j.onload=V=>{var J;const $=(J=V.target)==null?void 0:J.result;p($);try{const te=O($);a(te)}catch{a([{error:"Preview unavailable"}])}},j.readAsText(K)},U=async()=>{if(E.trim())try{const j=await(await fetch(E)).text(),V=E.split("/").pop()||"remote_data.csv";p(j),c(V),u(j.length),a(O(j))}catch{alert("Failed to fetch data from URL")}},G=()=>{y.trim()&&(p(y),c("pasted_data.csv"),u(y.length),a(O(y)))},Q=()=>{h&&t(h,l)},Y=()=>{a(null),p(""),c(""),u(0),T(""),R(""),I.current&&(I.current.value="")};return f.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[f.jsx("div",{className:"flex justify-center mb-8",children:f.jsx("div",{className:"bg-white p-1 rounded-lg border border-gray-200 shadow-sm flex gap-1",children:[{id:"local",label:"",icon:""},{id:"url",label:"URL",icon:""},{id:"paste",label:"",icon:""}].map(K=>f.jsxs("button",{onClick:()=>s(K.id),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${i===K.id?"bg-black text-white shadow-sm":"text-gray-600 hover:bg-gray-50"}`,children:[f.jsx("span",{className:"mr-2",children:K.icon}),K.label]},K.id))})}),f.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden transition-all duration-200",children:o?f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center text-3xl shadow-sm",children:""}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l}),f.jsxs("p",{className:"text-gray-500 text-sm",children:[(A/1024).toFixed(1)," KB  ",o.length," rows preview"]})]})]}),f.jsx("button",{onClick:Y,className:"text-gray-400 hover:text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",children:" Remove"})]}),f.jsxs("div",{className:"border rounded-xl overflow-hidden mb-8 shadow-sm",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm text-left",children:[f.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:f.jsx("tr",{children:Object.keys(o[0]||{}).map(K=>f.jsx("th",{className:"px-4 py-3 border-b",children:K},K))})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:o.slice(0,5).map((K,j)=>f.jsx("tr",{className:"hover:bg-gray-50/50",children:Object.values(K).map((V,$)=>f.jsx("td",{className:"px-4 py-2 text-gray-700 max-w-[200px] truncate",children:String(V)},$))},j))})]})}),o.length>5&&f.jsxs("div",{className:"bg-gray-50 px-4 py-2 text-center text-xs text-gray-400 border-t",children:["+ ",o.length-5," more rows..."]})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx("button",{onClick:Q,disabled:e,className:"bg-blue-600 text-white px-12 py-4 rounded-xl font-bold text-lg hover:bg-blue-700 hover:shadow-lg hover:shadow-blue-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-3",children:e?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Analyzing..."]}):f.jsx(f.Fragment,{children:" Start AI Analysis"})})})]}):f.jsxs(f.Fragment,{children:[i==="local"&&f.jsxs("div",{onDragOver:b,onDragLeave:B,onDrop:w,onClick:()=>{var K;return(K=I.current)==null?void 0:K.click()},className:`p-16 text-center cursor-pointer transition-all duration-300 border-2 border-dashed ${n?"bg-blue-50 border-blue-400 scale-[1.02]":"bg-gray-50 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[f.jsx("input",{ref:I,type:"file",accept:".csv,.parquet,.json",onChange:K=>{var j;return((j=K.target.files)==null?void 0:j[0])&&L(K.target.files[0])},className:"hidden"}),f.jsx("div",{className:`text-7xl mb-6 transition-transform duration-300 ${n?"scale-110 -rotate-12":""}`,children:n?"":""}),f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?"Drop it here!":"Click or Drag to Upload"}),f.jsx("p",{className:"text-gray-500 mb-6 text-lg",children:"Support CSV, Parquet, JSON (Max 50MB)"}),f.jsx("button",{className:"bg-black text-white px-8 py-3 rounded-full font-medium hover:bg-gray-800 transition-transform active:scale-95 shadow-lg shadow-gray-200/50",children:"Select File"})]}),i==="url"&&f.jsxs("div",{className:"p-12 text-center bg-gray-50",children:[f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Import from URL"}),f.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[f.jsx("input",{type:"url",value:E,onChange:K=>T(K.target.value),placeholder:"https://example.com/data.csv",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black/20 text-gray-900 bg-white shadow-sm"}),f.jsx("button",{onClick:U,disabled:!E.trim()||e,className:"bg-black text-white px-6 py-3 rounded-xl hover:bg-gray-800 disabled:opacity-50 transition-all font-medium",children:"Load"})]})]}),i==="paste"&&f.jsxs("div",{className:"p-8 bg-gray-50",children:[f.jsx("textarea",{value:y,onChange:K=>R(K.target.value),placeholder:"Paste CSV data here...",rows:10,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black/20 font-mono text-sm text-gray-900 bg-white shadow-inner"}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsx("button",{onClick:G,disabled:!y.trim()||e,className:"bg-black text-white px-8 py-2 rounded-xl hover:bg-gray-800 disabled:opacity-50 transition-all font-medium",children:"Preview Data"})})]})]})}),e&&f.jsx("div",{className:"mt-8 text-center",children:f.jsxs("div",{className:"inline-flex items-center gap-3 bg-blue-50 text-blue-600 px-6 py-3 rounded-lg",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-600 border-t-transparent"}),f.jsx("span",{className:"font-medium",children:"..."})]})})]})},tat=({report:t})=>{var s;if(!t)return null;const e=t.overallScore||0,n=e>=90?"A":e>=75?"B":e>=60?"C":"D",r=e>=90?"text-green-600 bg-green-50 border-green-200":e>=60?"text-amber-600 bg-amber-50 border-amber-200":"text-red-600 bg-red-50 border-red-200",i=((s=t.issues)==null?void 0:s.length)||0;return f.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm h-full flex flex-col justify-between",children:[f.jsxs("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx("span",{children:""})," Data Quality"]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-2xl font-black border-4 ${r.replace("bg-","border-").replace("text-","")} ${r}`,children:n}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[e,f.jsx("span",{className:"text-sm text-gray-400 font-normal",children:"/100"})]}),f.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Auto-Audit Score"})]})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:i===0?f.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-xs font-bold",children:[f.jsx("span",{children:""})," Healthy Dataset"]}):f.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-xs font-bold",children:[f.jsx("span",{children:""})," ",i," Potential Issues"]})})]})},Ule=[{id:"null_check_required",name:"",category:"null_check",description:"",templateSql:'SELECT count(*) as null_count FROM "${table}" WHERE ${column} IS NULL',params:[{name:"table",type:"string",required:!0},{name:"column",type:"column",required:!0}]},{id:"null_check_percent",name:"",category:"null_check",description:"",templateSql:'SELECT count(*) * 100.0 / (SELECT count(*) FROM "${table}") as null_percent FROM "${table}" WHERE ${column} IS NULL',params:[{name:"table",type:"string",required:!0},{name:"column",type:"column",required:!0},{name:"threshold",type:"number",required:!1,default:5}]},{id:"unique_check",name:"",category:"uniqueness",description:"",templateSql:'SELECT count(*) - count(DISTINCT ${column}) as duplicate_count FROM "${table}"',params:[{name:"table",type:"string",required:!0},{name:"column",type:"column",required:!0}]},{id:"unique_composite",name:"",category:"uniqueness",description:"",templateSql:"SELECT count(*) - count(DISTINCT ${column1} || '_' || ${column2}) as duplicate_count FROM \"${table}\"",params:[{name:"table",type:"string",required:!0},{name:"column1",type:"column",required:!0},{name:"column2",type:"column",required:!0}]},{id:"range_positive",name:"",category:"range",description:"",templateSql:'SELECT count(*) as invalid_count FROM "${table}" WHERE ${column} <= 0',params:[{name:"table",type:"string",required:!0},{name:"column",type:"column",required:!0}]},{id:"range_bound",name:"",category:"range",description:"",templateSql:'SELECT count(*) as out_of_range FROM "${table}" WHERE ${column} < ${min} OR ${column} > ${max}',params:[{name:"table",type:"string",required:!0},{name:"column",type:"column",required:!0},{name:"min",type:"number",required:!0},{name:"max",type:"number",required:!0}]},{id:"range_date_future",name:"",category:"range",description:"",templateSql:'SELECT count(*) as future_count FROM "${table}" WHERE ${column} > CURRENT_DATE',params:[{name:"table",type:"string",required:!0},{name:"column",type:"column",required:!0}]},{id:"relationship_foreign_key",name:"",category:"relationship",description:"",templateSql:'SELECT count(*) as orphan_count FROM "${table}" t WHERE NOT EXISTS (SELECT 1 FROM "${ref_table}" r WHERE t.${column} = r.${ref_column})',params:[{name:"table",type:"string",required:!0},{name:"column",type:"column",required:!0},{name:"ref_table",type:"string",required:!0},{name:"ref_column",type:"column",required:!0}]},{id:"relationship_cardinality",name:"",category:"relationship",description:"",templateSql:'SELECT ${group_by}, count(*) as cnt FROM "${table}" GROUP BY ${group_by} HAVING count(*) > ${max_count}',params:[{name:"table",type:"string",required:!0},{name:"group_by",type:"column",required:!0},{name:"max_count",type:"number",required:!1,default:1e3}]},{id:"custom_regex",name:"",category:"custom",description:"",templateSql:"SELECT count(*) as invalid_format FROM \"${table}\" WHERE ${column} NOT REGEXP '${pattern}'",params:[{name:"table",type:"string",required:!0},{name:"column",type:"column",required:!0},{name:"pattern",type:"string",required:!0}]},{id:"custom_value_set",name:"",category:"custom",description:"",templateSql:'SELECT count(*) as invalid_enum FROM "${table}" WHERE ${column} NOT IN (${values})',params:[{name:"table",type:"string",required:!0},{name:"column",type:"column",required:!0},{name:"values",type:"string",required:!0}]},{id:"custom_data_freshness",name:"",category:"custom",description:"",templateSql:"SELECT DATEDIFF('${unit}', MAX(${date_column}), CURRENT_TIMESTAMP) as days_since_update FROM \"${table}\"",params:[{name:"table",type:"string",required:!0},{name:"date_column",type:"column",required:!0},{name:"unit",type:"string",required:!1,default:"day"}]}],nat=(t,e,n,r)=>{let i=t.templateSql.replace(/\${table}/g,e.table||n).replace(/\${column}/g,e.column||r||"").replace(/\${column1}/g,e.column1||"").replace(/\${column2}/g,e.column2||"").replace(/\${ref_table}/g,e.ref_table||"").replace(/\${ref_column}/g,e.ref_column||"").replace(/\${group_by}/g,e.group_by||"").replace(/\${min}/g,String(e.min||0)).replace(/\${max}/g,String(e.max||0)).replace(/\${max_count}/g,String(e.max_count||1e3)).replace(/\${pattern}/g,e.pattern||"").replace(/\${values}/g,e.values||"").replace(/\${date_column}/g,e.date_column||"").replace(/\${unit}/g,e.unit||"day").replace(/\${threshold}/g,String(e.threshold||5)),s="warning";return(t.category==="null_check"||t.category==="uniqueness")&&(s="error"),{id:`custom_${Date.now()}`,name:t.name,description:t.description,sql:i,expectedValue:0,severity:s,category:t.category,status:"pending"}},rat=t=>Ule.filter(e=>e.category===t),iat=()=>[...new Set(Ule.map(t=>t.category))],j6={null_check:f.jsx(U0e,{size:14}),uniqueness:f.jsx(V0e,{size:14}),range:f.jsx(ww,{size:14}),relationship:f.jsx(Ix,{size:14}),custom:f.jsx(YF,{size:14})},sat={null_check:"",uniqueness:"",range:"",relationship:"",custom:""},oat=({tableName:t,columns:e,customAssertions:n,onAddAssertion:r,onRemoveAssertion:i,onRunAssertion:s,assertionResults:o})=>{const[a,l]=H.useState(!0),[c,A]=H.useState(!1),[u,h]=H.useState(null),[p,E]=H.useState(null),[T,y]=H.useState({}),[R,I]=H.useState(""),b=iat(),B=L=>{E(L);const U={};L.params.forEach(G=>{G.default!==void 0&&(U[G.name]=String(G.default))}),y(U),L.params.some(G=>G.name==="column"&&G.required)&&e.length>0&&I(e[0])},w=()=>{if(!p)return;const L={...T,table:t,column:R},U=nat(p,L,t,R);r(U),E(null),y({}),A(!1)},O=L=>o[L];return f.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-rose-50/50 border-b border-gray-100 cursor-pointer",onClick:()=>l(!a),children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(fCe,{size:16,className:"text-rose-500"}),f.jsx("h3",{className:"text-sm font-bold text-gray-800",children:""}),f.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold bg-rose-100 text-rose-700 rounded-full",children:n.length})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:L=>{L.stopPropagation(),A(!c)},className:"flex items-center gap-1 px-2 py-1 bg-rose-500 hover:bg-rose-600 text-white text-xs font-bold rounded-lg transition-colors",children:[f.jsx(Lf,{size:12}),""]}),a?f.jsx(bw,{size:16,className:"text-gray-400"}):f.jsx(TR,{size:16,className:"text-gray-400"})]})]}),c&&f.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[f.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:b.map(L=>f.jsxs("button",{onClick:()=>h(u===L?null:L),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-colors ${u===L?"bg-rose-500 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:[j6[L],sat[L]]},L))}),u&&f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-4",children:rat(u).map(L=>f.jsxs("button",{onClick:()=>B(L),className:`p-3 rounded-lg border text-left transition-all ${(p==null?void 0:p.id)===L.id?"border-rose-500 bg-rose-50":"border-gray-200 hover:border-rose-300 bg-white"}`,children:[f.jsx("div",{className:"flex items-center gap-2 mb-1",children:f.jsx("span",{className:"text-xs font-bold text-gray-800",children:L.name})}),f.jsx("p",{className:"text-[10px] text-gray-500",children:L.description})]},L.id))}),p&&f.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200 mb-3",children:[f.jsxs("div",{className:"text-xs font-bold text-gray-700 mb-2",children:[" ",p.name]}),p.params.some(L=>L.name==="column")&&f.jsxs("div",{className:"mb-2",children:[f.jsx("label",{className:"block text-[10px] text-gray-500 mb-1",children:""}),f.jsxs("select",{value:R,onChange:L=>I(L.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded-lg",children:[f.jsx("option",{value:"",children:"..."}),e.map(L=>f.jsx("option",{value:L,children:L},L))]})]}),p.params.filter(L=>L.name!=="table"&&L.name!=="column").map(L=>f.jsxs("div",{className:"mb-2",children:[f.jsxs("label",{className:"block text-[10px] text-gray-500 mb-1",children:[L.name," ",L.required&&"*"]}),L.type==="number"?f.jsx("input",{type:"number",value:T[L.name]||"",onChange:U=>y({...T,[L.name]:U.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded-lg",placeholder:L.default?String(L.default):""}):f.jsx("input",{type:"text",value:T[L.name]||"",onChange:U=>y({...T,[L.name]:U.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded-lg",placeholder:L.default?String(L.default):""})]},L.name))]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>{A(!1),E(null)},className:"px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700",children:""}),f.jsxs("button",{onClick:w,disabled:!p||p.params.some(L=>L.name==="column"&&L.required)&&!R,className:"flex items-center gap-1 px-3 py-1.5 bg-rose-500 hover:bg-rose-600 disabled:bg-gray-300 text-white text-xs font-bold rounded-lg transition-colors",children:[f.jsx(Lf,{size:12}),""]})]})]}),a&&f.jsx("div",{className:"p-4",children:n.length===0?f.jsxs("div",{className:"text-center py-8 text-gray-400",children:[f.jsx(y0e,{size:32,className:"mx-auto mb-2 opacity-50"}),f.jsx("p",{className:"text-xs",children:""}),f.jsx("p",{className:"text-[10px] mt-1",children:'""'})]}):f.jsx("div",{className:"space-y-2",children:n.map((L,U)=>{const G=O(L.id);return f.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center ${L.category==="null_check"?"bg-blue-100 text-blue-600":L.category==="uniqueness"?"bg-purple-100 text-purple-600":L.category==="range"?"bg-orange-100 text-orange-600":"bg-gray-200 text-gray-600"}`,children:j6[L.category]||f.jsx(YF,{size:14})}),f.jsx("span",{className:"text-xs font-bold text-gray-800",children:L.name})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[G==="pass"&&f.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-[10px] font-bold rounded",children:[f.jsx(qq,{size:10})," "]}),G==="fail"&&f.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded",children:[f.jsx(ww,{size:10})," "]}),G==="running"&&f.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 text-[10px] font-bold rounded",children:[f.jsx("div",{className:"w-3 h-3 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),""]}),f.jsx("button",{onClick:()=>s(L,U),className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"",children:f.jsx(cg,{size:12,className:"text-gray-500"})}),f.jsx("button",{onClick:()=>{navigator.clipboard.writeText(L.sql)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"",children:f.jsx(vw,{size:12,className:"text-gray-500"})}),f.jsx("button",{onClick:()=>i(L.id),className:"p-1 hover:bg-red-100 rounded transition-colors",title:"",children:f.jsx(Zf,{size:12,className:"text-red-400"})})]})]}),f.jsx("p",{className:"text-[10px] text-gray-500 mb-2",children:L.description}),f.jsx("pre",{className:"text-[10px] font-mono bg-slate-900 text-slate-300 p-2 rounded overflow-x-auto",children:L.sql})]},L.id)})})})]})},Zs={quality:{excellent:"#10B981",good:"#F59E0B",warning:"#F97316",error:"#EF4444"},semantic:{dim:"#3B82F6",mea:"#10B981",time:"#8B5CF6",id:"#EC4899",text:"#6B7280",curr:"#F59E0B",pii:"#EF4444"},confidence:{high:"#10B981",medium:"#F59E0B",low:"#EF4444"}},aat=t=>t>=90?"A":t>=75?"B":t>=60?"C":"D",Fle=t=>t>=90?Zs.quality.excellent:t>=75?Zs.quality.good:t>=60?Zs.quality.warning:Zs.quality.error,K6=t=>{switch(t==null?void 0:t.toUpperCase()){case"DIM":return Zs.semantic.dim;case"MEA":return Zs.semantic.mea;case"TIME":return Zs.semantic.time;case"ID":return Zs.semantic.id;case"TEXT":return Zs.semantic.text;case"CURR":return Zs.semantic.curr;case"PII":return Zs.semantic.pii;default:return Zs.semantic.text}},Hle=t=>t>=80?{level:"high",color:Zs.confidence.high}:t>=50?{level:"medium",color:Zs.confidence.medium}:{level:"low",color:Zs.confidence.low},lat=t=>{const e=typeof t=="string"?parseFloat(t):t;return isNaN(e)?String(t):e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()},cat=({tableName:t,rowCount:e,columnCount:n,qualityScore:r,overview:i,userIntent:s})=>{const o=r!==void 0?aat(r):void 0,a=r!==void 0?Fle(r):"#6B7280";return f.jsxs("div",{className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 rounded-2xl p-6 text-white shadow-2xl border border-slate-700/50 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl from-blue-500/10 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-purple-500/10 to-transparent rounded-full translate-y-1/2 -translate-x-1/2"}),f.jsxs("div",{className:"relative flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:f.jsx(Gh,{size:20,className:"text-blue-400"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold tracking-tight",children:t}),s&&f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-500/20 text-blue-300 text-xs rounded-full font-medium",children:[f.jsx(ICe,{size:10}),s]})]})]}),i&&f.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-xl mb-4 line-clamp-2",children:i}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(lM,{size:14,className:"text-slate-500"}),f.jsxs("span",{className:"text-slate-300 text-sm",children:[f.jsx("span",{className:"font-bold text-white",children:lat(e)})," "]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_x,{size:14,className:"text-slate-500"}),f.jsxs("span",{className:"text-slate-300 text-sm",children:[f.jsx("span",{className:"font-bold text-white",children:n})," "]})]})]})]}),o&&f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center border-4 shadow-2xl",style:{backgroundColor:`${a}15`,borderColor:a},children:f.jsx("span",{className:"text-3xl font-black tracking-wider",style:{color:a},children:o})}),f.jsx("span",{className:"text-xs text-slate-500 mt-1 font-medium",children:""})]})]})]})},rF=({score:t,level:e,showScore:n=!0,size:r="md"})=>{let i=e,s=t;t!==void 0&&!e&&(i=Hle(t).level);const a={high:Zs.confidence.high,medium:Zs.confidence.medium,low:Zs.confidence.low}[i||"medium"],l=s!==void 0?s:i==="high"?90:i==="medium"?65:35,c={sm:"text-[10px] px-1.5 py-0.5",md:"text-xs px-2 py-1",lg:"text-sm px-3 py-1.5"};return f.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full font-bold border ${c[r]}`,style:{backgroundColor:`${a}15`,borderColor:`${a}30`,color:a},children:[n&&f.jsxs(f.Fragment,{children:[f.jsx(H0e,{size:r==="sm"?10:12}),l,"%"]}),!n&&f.jsxs(f.Fragment,{children:[i==="high"&&f.jsx(qq,{size:r==="sm"?10:12}),i==="medium"&&f.jsx(ww,{size:r==="sm"?10:12}),i==="low"&&f.jsx(Rx,{size:r==="sm"?10:12})]})]})},Aat=({score:t,showLabel:e=!0,height:n=6})=>{const{level:r,color:i}=Hle(t);return f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex-1 rounded-full overflow-hidden bg-gray-100",style:{height:n},children:f.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${t}%`,backgroundColor:i}})}),e&&f.jsxs("span",{className:"text-xs font-mono font-medium",style:{color:i},children:[t,"%"]})]})},z6=({reasoning:t,label:e="",defaultExpanded:n=!1})=>{const[r,i]=no.useState(n);return t?f.jsxs("div",{className:"mt-2 border border-amber-200/30 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:()=>i(!r),className:"w-full flex items-center justify-between px-3 py-2 bg-amber-50/50 hover:bg-amber-50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-700 font-medium",children:[f.jsx(t0e,{size:12}),e]}),r?f.jsx(bw,{size:14,className:"text-amber-500"}):f.jsx(TR,{size:14,className:"text-amber-500"})]}),r&&f.jsx("div",{className:"px-3 py-2 bg-white text-xs text-slate-600 leading-relaxed border-t border-amber-200/30",children:t})]}):null},uat=({assumption:t,limitation:e,confidence:n})=>t||e?f.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[n!==void 0&&f.jsx(rF,{score:n,showScore:!0,size:"sm"}),t&&f.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 bg-blue-50 text-blue-600 text-[10px] rounded font-medium",children:[f.jsx(Xq,{size:9}),""]}),e&&f.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 bg-orange-50 text-orange-600 text-[10px] rounded font-medium",children:[f.jsx(ww,{size:9}),""]})]}):null,Ok=({title:t,icon:e,badge:n,badgeColor:r,actions:i,defaultExpanded:s=!0,children:o,className:a=""})=>{const[l,c]=no.useState(s);return f.jsxs("div",{className:`bg-white rounded-xl border border-gray-200 overflow-hidden ${a}`,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50/50 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>c(!l),children:[f.jsxs("div",{className:"flex items-center gap-2",children:[e&&f.jsx("span",{className:"text-gray-500",children:e}),f.jsx("h3",{className:"text-sm font-bold text-gray-800",children:t}),n!==void 0&&f.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold rounded-full",style:{backgroundColor:r?`${r}15`:"#F3F4F6",color:r||"#6B7280"},children:n})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[i,l?f.jsx(bw,{size:16,className:"text-gray-400"}):f.jsx(TR,{size:16,className:"text-gray-400"})]})]}),l&&f.jsx("div",{className:"p-4",children:o})]})},hat=({result:t,summary:e,fileName:n,onExecuteSql:r,onRefresh:i,onGenerateHandbook:s})=>{var Ft,mn,an,qt;const[o,a]=H.useState(null),[l,c]=H.useState(!1),[A,u]=H.useState({}),[h,p]=H.useState(null),[E,T]=H.useState(null),[y,R]=H.useState(null),[I,b]=H.useState(""),[B,w]=H.useState(!1),[O,L]=H.useState(!1),[U,G]=H.useState({}),[Q,Y]=H.useState("read"),[K,j]=H.useState({}),[V,$]=H.useState(null),[J,te]=H.useState(""),[X,oe]=H.useState({}),[F,ee]=H.useState(!1),[le,q]=H.useState([]),[we,Oe]=H.useState(!1),[Ce,Ue]=H.useState(null),[We,qe]=H.useState([]),[Je,ut]=H.useState({});H.useEffect(()=>{var _e;const ce=t.narrativeReport||((_e=t.semanticSchema)==null?void 0:_e.narrativeReport);ce&&!Ce&&Ue(ce)},[t]);const en=ce=>{qe(_e=>[..._e,ce])},rn=ce=>{qe(_e=>_e.filter(Ye=>Ye.id!==ce)),ut(_e=>{const Ye={..._e};return delete Ye[ce],Ye})},be=async(ce,_e)=>{const Ye=ce.id;ut(dt=>({...dt,[Ye]:"running"}));try{const dt=await At.query(ce.sql),Wt=dt&&dt.length>0&&Object.values(dt[0])[0]===!0,Xt=dt&&dt.length>0?Object.values(dt[0])[0]===0:!0;ut(Te=>({...Te,[Ye]:Xt?"pass":"fail"}))}catch{ut(dt=>({...dt,[Ye]:"fail"}))}},nt=t.operations||{},Ke=Array.isArray(nt)?nt:nt.scripts||[],gt=Array.isArray(nt)?null:nt.crud;Array.isArray(nt)||nt.transaction;const at=Array.isArray(nt)?[]:nt.macros||[],_t=Array.isArray(nt)?[]:nt.assertions||[];[{id:"schema",title:" (Schema)",icon:f.jsx(Gh,{size:14}),ops:Ke.filter(ce=>ce.category==="schema"||!ce.category)},{id:"crud",title:" (CRUD)",icon:f.jsx(_x,{size:14}),ops:Ke.filter(ce=>ce.category==="crud")},{id:"analysis",title:" (Analysis)",icon:f.jsx(QF,{size:14}),ops:Ke.filter(ce=>ce.category==="analysis")},{id:"view",title:" (Views)",icon:f.jsx(lM,{size:14}),ops:Ke.filter(ce=>ce.category==="view")},{id:"join",title:" (Joins)",icon:f.jsx(Ix,{size:14}),ops:Ke.filter(ce=>ce.category==="join")},{id:"window",title:" (Window)",icon:f.jsx(e1,{size:14}),ops:Ke.filter(ce=>ce.category==="window")}].filter(ce=>ce.ops.length>0).map(ce=>({...ce,ops:ce.ops.filter(_e=>{if(!J.trim())return!0;const Ye=J.toLowerCase();return(_e.title||"").toLowerCase().includes(Ye)||(_e.description||"").toLowerCase().includes(Ye)||(_e.sql||"").toLowerCase().includes(Ye)||(_e.learningNote||"").toLowerCase().includes(Ye)})})).filter(ce=>ce.ops.length>0);const Dt=async()=>{if(!confirm(` ${Ke.length}  SQL `))return;c(!0);const ce={...A};for(const _e of Ke){try{await At.executeAndAudit(_e.sql,"AI_BATCH_EXEC",e.tableName,`Batch exec op #${_e.id}`),ce[_e.id]="success"}catch(Ye){console.error(Ye),ce[_e.id]="error"}u({...ce})}c(!1),i&&i()};return f.jsxs("div",{className:"w-full max-w-6xl mx-auto mt-12 space-y-8",children:[f.jsx(cat,{tableName:e.tableName,rowCount:e.rowCount,columnCount:e.columnCount,qualityScore:(Ft=t.qualityReport)==null?void 0:Ft.overallScore,overview:t.overview,userIntent:t.userIntent}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[f.jsx(tat,{report:t.qualityReport||null}),t.keyMetrics&&t.keyMetrics.length>0&&f.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[f.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[f.jsx(e1,{size:14,className:"text-blue-500"})," "]}),f.jsx("div",{className:"space-y-2",children:t.keyMetrics.slice(0,3).map((ce,_e)=>f.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs font-bold text-gray-800 truncate",children:ce.name}),f.jsx("div",{className:"text-[10px] text-gray-500",children:ce.unit||""})]}),f.jsx(rF,{score:ce.confidenceScore,showScore:!0,size:"sm"})]},_e))})]}),f.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-4 text-white shadow-lg cursor-pointer hover:scale-[1.02] transition-transform",onClick:s,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(VF,{size:16}),f.jsx("span",{className:"text-sm font-bold",children:""})]}),f.jsxs("p",{className:"text-[10px] text-white/80",children:[" ",e.columnCount," ?/ ",e.rowCount," ?            "]})]})]}),f.jsxs("div",{className:"lg:col-span-6 space-y-6",children:[f.jsx(Ok,{title:"",icon:f.jsx(lM,{size:16}),badge:(mn=t.semanticColumns)==null?void 0:mn.length,badgeColor:"#3B82F6",defaultExpanded:!0,children:f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase text-[10px] tracking-wider",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 py-2 text-left",children:""}),f.jsx("th",{className:"px-3 py-2 text-left",children:""}),f.jsx("th",{className:"px-3 py-2 text-center",children:""}),f.jsx("th",{className:"px-3 py-2 text-left",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:(t.semanticColumns||[]).slice(0,10).map((ce,_e)=>f.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[f.jsx("td",{className:"px-3 py-2 font-mono font-bold text-gray-900 text-xs",children:ce.name}),f.jsx("td",{className:"px-3 py-2",children:f.jsx("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-black",style:{backgroundColor:`${K6(ce.semanticType)}15`,color:K6(ce.semanticType)},children:ce.semanticType})}),f.jsx("td",{className:"px-3 py-2",children:f.jsx(Aat,{score:ce.confidenceScore||Math.round(ce.confidence*100),showLabel:!1,height:4})}),f.jsxs("td",{className:"px-3 py-2 text-gray-500 text-xs italic",children:[ce.description||"--",ce.reasoning&&f.jsx(z6,{reasoning:ce.reasoning,label:""})]})]},_e))})]}),t.semanticColumns&&t.semanticColumns.length>10&&f.jsxs("div",{className:"text-center py-2 text-xs text-gray-400",children:[" ",t.semanticColumns.length-10," ...."]})]})}),t.qualityReport&&t.qualityReport.issues.length>0&&f.jsxs(Ok,{title:"",icon:f.jsx(Shield,{size:16}),badge:t.qualityReport.issues.length,badgeColor:Fle(t.qualityReport.overallScore),defaultExpanded:!0,children:[f.jsx("div",{className:"space-y-2",children:t.qualityReport.issues.slice(0,5).map((ce,_e)=>f.jsxs("div",{className:`p-3 rounded-lg border-l-3 ${ce.severity==="error"?"bg-red-50 border-red-500":ce.severity==="warning"?"bg-amber-50 border-amber-500":"bg-blue-50 border-blue-500"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsxs("span",{className:"font-bold text-gray-900 text-xs",children:["[",ce.column,"] ",ce.type]}),f.jsx("span",{className:`text-[9px] px-1.5 rounded uppercase font-bold ${ce.severity==="error"?"text-red-700 bg-red-200":ce.severity==="warning"?"text-amber-700 bg-amber-200":"text-blue-700 bg-blue-200"}`,children:ce.severity})]}),f.jsx("p",{className:"text-gray-600 text-xs",children:ce.detail}),f.jsxs("p",{className:"text-gray-800 text-xs font-medium mt-1",children:["?",ce.suggestion]})]},_e))}),t.qualityReport.reasoning&&f.jsx(z6,{reasoning:t.qualityReport.reasoning,label:""})]}),f.jsx(Ok,{title:"",icon:f.jsx(e1,{size:16}),badge:(an=t.keyMetrics)==null?void 0:an.length,badgeColor:"#10B981",defaultExpanded:!0,children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(qt=t.keyMetrics)==null?void 0:qt.map((ce,_e)=>f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h6",{className:"font-bold text-gray-800 text-sm",children:ce.name}),f.jsx(rF,{score:ce.confidenceScore,size:"sm"})]}),ce.formula&&f.jsx("div",{className:"bg-slate-900 rounded p-2 font-mono text-[10px] text-emerald-400 mb-2 overflow-x-auto",children:ce.formula}),f.jsx("p",{className:"text-xs text-gray-600",children:ce.explanation}),f.jsx(uat,{assumption:ce.assumption,limitation:ce.limitation,confidence:ce.confidenceScore})]},_e))})})]}),f.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[Ke.length>0&&f.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[f.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[f.jsx(M3,{size:14,className:"text-slate-500"})," SQL "]}),f.jsx("div",{className:"space-y-2",children:Ke.slice(0,5).map(ce=>f.jsxs("button",{onClick:()=>r(ce.sql),className:"w-full flex items-center justify-between p-2 bg-gray-50 hover:bg-gray-100 rounded-lg text-left transition-colors",children:[f.jsx("span",{className:"text-xs font-medium text-gray-700 truncate flex-1",children:ce.title||ce.name}),f.jsx(cg,{size:10,className:"text-blue-500"})]},ce.id))})]}),(_t.length>0||We.length>0)&&f.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[f.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[f.jsx(bCe,{size:14,className:"text-rose-500"})," "]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-xs",children:[f.jsx("span",{className:"text-gray-600",children:"AI "}),f.jsx("span",{className:"font-bold text-gray-900",children:_t.length})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs",children:[f.jsx("span",{className:"text-gray-600",children:""}),f.jsx("span",{className:"font-bold text-gray-900",children:We.length})]}),Object.keys(K).length>0&&f.jsx("div",{className:"pt-2 border-t border-gray-100",children:f.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[f.jsxs("span",{className:"text-green-600 font-bold",children:[Object.values(K).filter(ce=>ce==="pass").length," "]}),f.jsx("span",{className:"text-gray-300",children:"/"}),f.jsxs("span",{className:"text-red-600 font-bold",children:[Object.values(K).filter(ce=>ce==="fail").length," "]})]})})]})]})]})]}),(Ke.length>0||gt||at.length>0||_t.length>0)&&f.jsxs("section",{className:"relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl p-0.5 text-white shadow-2xl overflow-hidden mb-8 border border-slate-700/50",children:[f.jsx("div",{className:"relative bg-slate-900/80 backdrop-blur-xl rounded-t-[calc(1rem-1px)] px-8 py-6 border-b border-slate-700/50",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-amber-500/10 text-amber-400 rounded-full text-[10px] font-bold mb-2 border border-amber-500/20",children:[f.jsx(M3,{size:10})," Stage 3/6 | SQL  | ",Ke.length," Scripts"]}),f.jsxs("h4",{className:"text-xl font-bold text-white flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg border border-blue-500/20",children:f.jsx(eX,{size:20,className:"text-blue-400"})}),"SQL  (Operations)"]})]}),Ke.length>0&&f.jsx("button",{onClick:Dt,disabled:l,className:`flex items-center gap-2 px-5 py-2.5 rounded-lg font-bold text-xs transition-all ${l?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-400 hover:to-emerald-500 shadow-lg shadow-green-500/20 transform hover:-translate-y-0.5"}`,children:l?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-3 h-3 border-2 border-slate-500 border-t-slate-300 rounded-full animate-spin"})," ..."]}):f.jsxs(f.Fragment,{children:[f.jsx(PCe,{size:14}),"  (",Ke.length,")"]})})]})}),f.jsx("div",{className:"relative bg-slate-900/60 backdrop-blur-xl rounded-b-[calc(1rem-1px)] p-6 space-y-6",children:We.length>0&&f.jsx("div",{className:"mt-6",children:f.jsx(oat,{tableName:e.tableName,columns:(t.semanticColumns||[]).map(ce=>ce.name),customAssertions:We,onAddAssertion:en,onRemoveAssertion:rn,onRunAssertion:be,assertionResults:Je})})})]})]})},dat=({history:t,onClose:e,onLoadAnalysis:n,onDeleteAnalysis:r})=>{const i=s=>new Date(s).toLocaleString("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex",children:f.jsxs("div",{className:"ml-auto w-96 bg-white h-full shadow-xl overflow-y-auto",children:[f.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" "}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"p-6",children:t.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("p",{className:"text-gray-500",children:""})]}):f.jsx("div",{className:"space-y-4",children:t.map(s=>f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-bold text-gray-900 truncate",children:s.fileName}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i(s.timestamp)})]}),f.jsx("button",{onClick:()=>r(s.id),className:"text-red-500 hover:text-red-700 transition-colors ml-2",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:":"}),f.jsx("span",{className:"font-medium ml-1",children:s.summary.rowCount.toLocaleString()})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:":"}),f.jsx("span",{className:"font-medium ml-1",children:s.summary.columnCount})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("span",{className:"text-gray-500 text-sm",children:":"}),f.jsx("span",{className:"font-medium ml-1",children:s.summary.tableName})]}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{onClick:()=>n(s),className:"flex-1 bg-black text-white px-3 py-2 rounded text-sm hover:bg-gray-800 transition-colors",children:""})})]},s.id))})})]})})};DS.initialize({startOnLoad:!1,theme:"base",themeVariables:{primaryColor:"#e0e7ff",primaryTextColor:"#1e3a8a",primaryBorderColor:"#1e3a8a",lineColor:"#6366f1"}});const fat=({chart:t})=>{const[e,n]=H.useState(""),[r,i]=H.useState(null);return H.useEffect(()=>{(async()=>{if(t)try{const o=`mermaid-${Math.random().toString(36).substring(2,9)}`,{svg:a}=await DS.render(o,t);n(a),i(null)}catch(o){console.error("Mermaid Render Error:",o),i("Diagram Render Failed")}})()},[t]),r?f.jsxs("div",{className:"text-red-400 text-xs text-center p-4",children:[" ",r]}):f.jsx("div",{className:"mermaid-container w-full overflow-x-auto flex justify-center p-4",dangerouslySetInnerHTML:{__html:e}})},Hr={container:{backgroundColor:"var(--bg-secondary, #1a1a2e)",borderRadius:"12px",padding:"24px",color:"var(--text-primary, #e0e0e0)",fontFamily:"var(--font-sans, system-ui)",maxHeight:"calc(100vh - 120px)",display:"flex",flexDirection:"column",gap:"20px"},mainLayout:{display:"flex",gap:"24px",flex:1,minHeight:0},sidebar:{width:"240px",flexShrink:0,backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"8px",padding:"16px",overflowY:"auto",border:"1px solid var(--border-color, #333)",display:"flex",flexDirection:"column",gap:"8px"},tocItem:{padding:"8px 12px",borderRadius:"6px",fontSize:"13px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px",color:"var(--text-secondary, #aaa)",border:"1px solid transparent"},tocItemActive:{backgroundColor:"rgba(79, 70, 229, 0.15)",color:"var(--accent-primary, #818cf8)",borderColor:"rgba(79, 70, 229, 0.3)"},scrollArea:{flex:1,overflowY:"auto",paddingRight:"4px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid var(--border-color, #333)"},title:{fontSize:"24px",fontWeight:700,color:"var(--text-primary, #fff)"},actions:{display:"flex",gap:"8px"},button:{padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"all 0.2s ease"},downloadBtn:{backgroundColor:"var(--accent-primary, #4f46e5)",color:"#fff"},copyBtn:{backgroundColor:"transparent",border:"1px solid var(--border-color, #444)",color:"var(--text-secondary, #aaa)"},batchProgress:{display:"flex",gap:"12px",marginBottom:"20px"},batchChip:{padding:"6px 12px",borderRadius:"16px",fontSize:"12px",fontWeight:500},batchPending:{backgroundColor:"var(--gray-700, #374151)",color:"var(--gray-400, #9ca3af)"},batchGenerating:{backgroundColor:"var(--amber-600, #d97706)",color:"#fff",animation:"pulse 1.5s infinite"},batchComplete:{backgroundColor:"var(--green-600, #059669)",color:"#fff"},batchError:{backgroundColor:"var(--red-600, #dc2626)",color:"#fff"},content:{lineHeight:1.7},codeBlock:{backgroundColor:"var(--bg-tertiary, #0d0d1a)",padding:"16px",borderRadius:"8px",overflowX:"auto",fontFamily:'var(--font-mono, "Fira Code", monospace)',fontSize:"13px",position:"relative",marginBottom:"16px"},copyCodeBtn:{position:"absolute",top:"8px",right:"8px",padding:"4px 8px",backgroundColor:"rgba(255,255,255,0.1)",border:"none",borderRadius:"4px",color:"var(--text-secondary, #888)",cursor:"pointer",fontSize:"11px"},table:{width:"100%",borderCollapse:"collapse",marginBottom:"16px"},th:{backgroundColor:"var(--bg-tertiary, #0d0d1a)",padding:"12px",textAlign:"left",borderBottom:"2px solid var(--border-color, #333)",fontWeight:600},td:{padding:"10px 12px",borderBottom:"1px solid var(--border-color, #222)"},moduleContainer:{marginBottom:"16px",border:"1px solid var(--border-color, #333)",borderRadius:"8px",overflow:"hidden",backgroundColor:"rgba(255,255,255,0.02)"},moduleHeader:{padding:"12px 16px",backgroundColor:"rgba(255,255,255,0.05)",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",userSelect:"none"},moduleContent:{padding:"16px",borderTop:"1px solid var(--border-color, #333)"}},pat=({result:t,batches:e,isGenerating:n,progressMessage:r,onDownload:i,onGenerate:s,onExecuteSql:o})=>{const[a,l]=H.useState(null),[c,A]=H.useState({});H.useEffect(()=>{e.length>0&&Object.keys(c).length===0&&A({[e[0].id]:!0})},[e]);const u=I=>{A(b=>({...b,[I]:!b[I]}))},h=I=>{A(B=>({...B,[I]:!0}));const b=document.getElementById(`module-${I}`);b&&b.scrollIntoView({behavior:"smooth",block:"start"})},p=H.useCallback(async I=>{await navigator.clipboard.writeText(I),l(I.slice(0,50)),setTimeout(()=>l(null),2e3)},[]),E=H.useCallback(()=>{if(!(t!=null&&t.fullContent))return;const I=document.createElement("a"),b=new Blob([t.fullContent],{type:"text/markdown"});I.href=URL.createObjectURL(b),I.download=`${t.tableName}_handbook.md`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(I.href),i==null||i()},[t,i]),T=H.useCallback(()=>{if(!t)return;const I={tableName:t.tableName,generatedAt:t.generatedAt,batches:t.batches.map(w=>({id:w.id,status:w.status,prompt:w.debugPrompt,contentLength:w.content.length}))},b=document.createElement("a"),B=new Blob([JSON.stringify(I,null,2)],{type:"application/json"});b.href=URL.createObjectURL(B),b.download=`${t.tableName}_handbook_debug.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(b.href)},[t]),y=I=>{switch(I){case"pending":return Hr.batchPending;case"generating":return Hr.batchGenerating;case"complete":return Hr.batchComplete;case"error":return Hr.batchError;default:return Hr.batchPending}},R=I=>{switch(I){case"pending":return"";case"generating":return"";case"complete":return"";case"error":return"";default:return""}};return e.filter(I=>I.status==="complete"||I.status==="error").map(I=>I.content).join(`

---

`),f.jsx("div",{style:Hr.container,children:f.jsxs("div",{style:Hr.header,children:[f.jsxs("h2",{style:Hr.title,children:[" ",t!=null&&t.tableName?`${t.tableName} `:"DuckDB ..."]}),f.jsx("div",{style:Hr.actions,children:(t==null?void 0:t.fullContent)&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{style:{...Hr.button,...Hr.downloadBtn},onClick:E,title:"Download Markdown",children:[f.jsx(WF,{size:16,style:{marginRight:"6px"}}),""]}),f.jsx("button",{style:{...Hr.button,backgroundColor:"#374151",color:"#9ca3af"},onClick:T,title:"Download AI Debug Info (Prompts & Context)",children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"text-xs",children:"Debug"})]})}),f.jsx("button",{style:{...Hr.button,...Hr.copyBtn},onClick:()=>p((t==null?void 0:t.fullContent)||""),children:" "})]})}),f.jsx("div",{style:Hr.batchProgress,children:e.map(I=>f.jsxs("div",{style:{...Hr.batchChip,...y(I.status)},children:[R(I.status)," ",I.title]},I.id))}),n&&r&&f.jsx("div",{style:{marginBottom:"16px",color:"var(--accent-primary, #818cf8)"},children:r}),!t&&!n&&e.length===0&&f.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"12px",border:"2px dashed var(--border-color, #333)",marginBottom:"20px"},children:[f.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),f.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"8px",color:"#fff"},children:" DuckDB "}),f.jsx("p",{style:{fontSize:"14px",color:"var(--text-secondary, #888)",marginBottom:"24px"},children:" SQL  (13 , ~3000)"}),f.jsx("p",{style:{fontSize:"12px",color:"var(--text-secondary, #666)",marginBottom:"16px"},children:"  30-45  3  AI API"}),f.jsx("button",{onClick:s,disabled:!s,style:{padding:"12px 32px",fontSize:"16px",fontWeight:600,backgroundColor:"var(--accent-primary, #4f46e5)",color:"#fff",border:"none",borderRadius:"8px",cursor:s?"pointer":"not-allowed",opacity:s?1:.5},children:" "})]}),f.jsxs("div",{style:Hr.mainLayout,children:[e.length>0&&f.jsxs("div",{style:Hr.sidebar,children:[f.jsx("div",{style:{fontSize:"11px",fontWeight:700,color:"#666",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.05em"},children:" / Contents"}),e.map(I=>f.jsxs("div",{style:{...Hr.tocItem,...c[I.id]?Hr.tocItemActive:{}},onClick:()=>h(I.id),children:[f.jsx("span",{style:{opacity:.5},children:I.id}),f.jsx("span",{style:{truncate:!0},children:I.title}),I.status==="generating"&&f.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse ml-auto"})]},I.id))]}),f.jsx("div",{style:Hr.scrollArea,children:f.jsxs("div",{style:Hr.content,children:[e.filter(I=>I.status==="complete"||I.status==="error").map(I=>f.jsxs("div",{id:`module-${I.id}`,style:Hr.moduleContainer,children:[f.jsxs("div",{style:Hr.moduleHeader,onClick:()=>u(I.id),children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx($F,{size:18,style:{transform:c[I.id]?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s ease"}}),f.jsx("span",{style:{fontWeight:600,fontSize:"14px",color:"#fff"},children:I.title})]}),f.jsx("span",{style:{fontSize:"10px",color:"#666",textTransform:"uppercase"},children:I.id.startsWith("A")?"Basic":I.id.startsWith("B")?"Advanced":"Core"})]}),c[I.id]&&f.jsx("div",{style:Hr.moduleContent,children:f.jsx(wte,{remarkPlugins:[tne],components:{code:({node:b,className:B,children:w,...O})=>{const L=!B,U=String(w).replace(/\n$/,""),G=(B==null?void 0:B.replace("language-",""))||"";return L?f.jsx("code",{style:{backgroundColor:"rgba(255,255,255,0.1)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.9em"},children:w}):G==="mermaid"?f.jsx("div",{style:{marginBottom:"16px",borderRadius:"8px",overflow:"hidden"},children:f.jsx(fat,{chart:U})}):f.jsxs("div",{style:Hr.codeBlock,children:[f.jsxs("div",{style:{position:"absolute",top:"8px",right:"8px",display:"flex",gap:"8px"},children:[f.jsx("button",{style:Hr.copyCodeBtn,onClick:()=>p(U),children:a===U.slice(0,50)?f.jsx(aA,{size:12}):f.jsx(x0e,{size:12})}),o&&f.jsx("button",{style:{...Hr.copyCodeBtn,backgroundColor:"#059669",color:"#fff"},onClick:()=>o(U),children:f.jsx(cg,{size:12})})]}),f.jsx("pre",{style:{margin:0,overflow:"auto"},children:f.jsx("code",{className:B,...O,children:w})})]})},table:({children:b})=>f.jsx("table",{style:Hr.table,children:b}),th:({children:b})=>f.jsx("th",{style:Hr.th,children:b}),td:({children:b})=>f.jsx("td",{style:Hr.td,children:b}),h1:({children:b})=>f.jsx("h1",{style:{display:"none"},children:b}),h2:({children:b})=>f.jsx("h2",{style:{display:"none"},children:b}),h3:({children:b})=>f.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#818cf8",marginBottom:"12px"},children:b})},children:I.content})})]},I.id)),n&&e.filter(I=>I.status==="complete").length===0&&f.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[f.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-sm",children:"..."})]})]})}),a&&f.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"var(--green-600, #059669)",color:"#fff",padding:"12px 20px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",zIndex:9999},children:" "})]})]})})};class mat{generateRatioFeatures(e){const n=[],r=e.slice(0,5);for(let i=0;i<r.length;i++)for(let s=0;s<r.length;s++){if(i===s)continue;const o=r[i],a=r[s],l=`${o}_per_${a}`;n.push({name:l,expression:`${o} / ${a}`,type:"RATIO",description:`Ratio of ${o} to ${a}`,sql:`CASE WHEN "${a}" = 0 OR "${a}" IS NULL THEN NULL ELSE "${o}" / "${a}" END as "${l}"`})}return n}generateTimeFeatures(e,n){const r=[];return r.push({name:`${e}_lag1`,expression:`LAG(${e})`,type:"LAG",description:`Previous period value of ${e}`,sql:`LAG("${e}", 1) OVER (ORDER BY "${n}") as "${e}_lag1"`}),r.push({name:`${e}_ma3`,expression:`AVG(${e}) 3-period`,type:"MOVING_AVG",description:`3-period Moving Average of ${e}`,sql:`AVG("${e}") OVER (ORDER BY "${n}" ROWS BETWEEN 2 PRECEDING AND CURRENT ROW) as "${e}_ma3"`}),r}suggestFeatures(e){const n=e.filter(s=>s.semanticType==="MEA"||s.semanticType==="CURR").map(s=>s.name),r=e.find(s=>s.semanticType==="TIME");let i=[];return i=i.concat(this.generateRatioFeatures(n)),r&&n.slice(0,3).forEach(s=>{i=i.concat(this.generateTimeFeatures(s,r.name))}),i}}const gat=new mat;class Eat{generateActions(e,n){const r=[];return e.qualityReport&&e.qualityReport.issues.length>0&&e.qualityReport.issues.filter(i=>i.severity==="error").forEach(i=>{r.push({type:"QUALITY_FIX",title:`Fix Data Quality: ${i.column}`,description:`${i.type} detected. ${i.suggestion}`,priority:"HIGH"})}),e.anomalies&&e.anomalies.length>0&&e.anomalies.forEach(i=>{const s=e.semanticColumns.find(a=>a.semanticType==="DIM");let o=i.sql;s&&(o=`SELECT "${s.name}", COUNT(*) as count FROM (${i.sql}) GROUP BY "${s.name}" ORDER BY count DESC`),r.push({type:"DRILL_DOWN",title:`Investigate Anomaly in ${i.column}`,description:`Found ${i.anomalies_count} anomalies (${(i.ratio*100).toFixed(1)}%). Breakdown by ${s?s.name:"dimensions"}.`,sql:o,priority:"HIGH"})}),e.drivers&&e.drivers.length>0&&e.drivers.forEach(i=>{const s=i.drivers[0];s&&r.push({type:"EXPLAIN",title:`Analyze Driver: ${i.metric}`,description:`${s.value} is the primary driver. Investigate its impact over time.`,sql:`SELECT "${s.value}", AVG("${i.metric}") FROM "${n}" GROUP BY 1 ORDER BY 2 DESC`,priority:"MEDIUM"})}),e.causalGraph&&e.causalGraph.edges.length>0&&e.causalGraph.edges.filter(i=>i.label==="Direct Cause"&&i.confidence>.7).forEach(i=>{r.push({type:"MONITOR",title:`Monitor Causal Link: ${i.from} -> ${i.to}`,description:`Strong causal effect detected. Changes in ${i.from} will likely impact ${i.to}.`,priority:"MEDIUM"})}),r.sort((i,s)=>{const o={HIGH:3,MEDIUM:2,LOW:1};return o[s.priority]-o[i.priority]})}}const Tat=new Eat;class Sat{normalizeFieldName(e){const n=e.toLowerCase().replace(/[^a-z0-9]/g,""),r={AMOUNT:["amt","price","cost","revenue","total","sales","money","val"],USER:["user","customer","cust","client","member","uid"],DATE:["date","time","ts","year","month","day","dt","created"],STATUS:["status","state","type","category","flag"],LOCATION:["city","province","country","region","area","addr","loc"],EMAIL:["email","mail"],PHONE:["phone","tel","mobile"]};for(const[i,s]of Object.entries(r))if(i.toLowerCase()===n||s.some(o=>n.includes(o)))return i;return"UNKNOWN"}inferSemanticType(e,n,r){this.normalizeFieldName(r);const i={name:e.name||r,physicalType:n,semanticType:"ATTR",confidence:.5},s=n.toUpperCase(),o=r.toLowerCase(),a=o.endsWith("id")||o.endsWith("key")||o==="code",l=e.total_count>0?e.distinct_count/e.total_count:0;if(l>.99||l>.8&&a)return i.semanticType="ID",i.confidence=.9,i;if(s.includes("DATE")||s.includes("TIME")||s.includes("TIMESTAMP"))return i.semanticType="TIME",i.confidence=1,i;if(["year","month","day","quarter","week"].includes(o))return i.semanticType="TIME",i.confidence=.8,i;const c=s.includes("INT")||s.includes("DOUBLE")||s.includes("DECIMAL")||s.includes("FLOAT");return c?(e.distinct_count<50||l<.05?(i.semanticType="DIM",i.confidence=.7):o.includes("price")||o.includes("amount")||o.includes("cost")||o.includes("revenue")?(i.semanticType="CURR",i.confidence=.9):o.includes("rate")||o.includes("ratio")||o.includes("percent")?(i.semanticType="RATIO",i.confidence=.9):(i.semanticType="MEA",i.confidence=.8),i):(c||(e.distinct_count<1e3&&l<.2?(i.semanticType="DIM",i.confidence=.85):(i.semanticType="ATTR",i.confidence=.8)),i)}inferSchema(e){return e.map(n=>this.inferSemanticType(n,n.type,n.name))}}const yat=new Sat;class Cat{async detectIQR(e,n){try{const r=`
        SELECT 
          quantile_cont("${n}", 0.25) as q1,
          quantile_cont("${n}", 0.75) as q3,
          COUNT(*) as total
        FROM "${e}"
        WHERE "${n}" IS NOT NULL
      `,i=await At.query(r),{q1:s,q3:o,total:a}=i[0],l=o-s,c=s-1.5*l,A=o+1.5*l,u=`
        SELECT COUNT(*) as count 
        FROM "${e}" 
        WHERE "${n}" < ${c} OR "${n}" > ${A}
      `,h=await At.query(u),p=Number(h[0].count);if(p===0)return null;const E=`
        SELECT "${n}" as val 
        FROM "${e}" 
        WHERE "${n}" < ${c} OR "${n}" > ${A} 
        LIMIT 5
      `,T=await At.query(E);return{column:n,strategy:"IQR",anomalies_count:p,total_count:Number(a),ratio:p/Number(a),bounds:{lower:c,upper:A},sample_values:T.map(y=>y.val),sql:`SELECT * FROM "${e}" WHERE "${n}" < ${c} OR "${n}" > ${A}`}}catch(r){return console.error(`[AnomalyService] IQR Check failed for ${n}`,r),null}}async detectZScore(e,n){try{const r=`
        SELECT 
          AVG("${n}") as mean,
          STDDEV("${n}") as std,
          COUNT(*) as total
        FROM "${e}"
        WHERE "${n}" IS NOT NULL
      `,i=await At.query(r),{mean:s,std:o,total:a}=i[0];if(!o||o===0)return null;const l=s-3*o,c=s+3*o,A=`
        SELECT COUNT(*) as count 
        FROM "${e}" 
        WHERE "${n}" < ${l} OR "${n}" > ${c}
      `,u=await At.query(A),h=Number(u[0].count);if(h===0)return null;const p=`
        SELECT "${n}" as val 
        FROM "${e}" 
        WHERE "${n}" < ${l} OR "${n}" > ${c} 
        LIMIT 5
      `,E=await At.query(p);return{column:n,strategy:"Z-Score",anomalies_count:h,total_count:Number(a),ratio:h/Number(a),bounds:{lower:l,upper:c},sample_values:E.map(T=>T.val),sql:`SELECT * FROM "${e}" WHERE "${n}" < ${l} OR "${n}" > ${c}`}}catch(r){return console.error(`[AnomalyService] Z-Score Check failed for ${n}`,r),null}}async scanAnomalies(e,n){const r=[];for(const i of n){let s=await this.detectIQR(e,i);s&&s.ratio>0&&s.ratio<.2&&r.push(s)}return r}}const xat=new Cat,Rat=[/^(.+)_id$/i,/^(.+)Id$/,/^fk_(.+)$/i,/^ref_(.+)$/i,/^(.+)_fk$/i],Iat=[/^id$/i,/^pk$/i,/^uuid$/i,/^(.+)_pk$/i,/^primary_key$/i];class _at{detectRelations(e,n){return n.map(r=>{const i={name:r.name,type:"ATTR",dataType:this.mapSemanticToDataType(r),nullable:r.semanticType!=="ID"};if(this.isPrimaryKey(r))return i.type="PK",i.nullable=!1,i;const s=this.detectForeignKey(r.name);return s&&(i.type="FK",i.referencedTable=s.table,i.referencedColumn=s.column),i})}isPrimaryKey(e){if(e.isPrimaryKey)return!0;const n=e.name.toLowerCase();return Iat.some(r=>r.test(n))}detectForeignKey(e){for(const n of Rat){const r=e.match(n);if(r&&r[1])return{table:this.singularize(r[1]),column:"id"}}return null}singularize(e){return e.endsWith("ies")?e.slice(0,-3)+"y":e.endsWith("es")?e.slice(0,-2):e.endsWith("s")&&!e.endsWith("ss")?e.slice(0,-1):e}mapSemanticToDataType(e){switch(e.semanticType){case"ID":return"INTEGER";case"DIM":return"VARCHAR";case"MEA":return"DECIMAL";case"TIME":return"DATE";case"CURR":return"DECIMAL(10,2)";case"ATTR":return"VARCHAR";case"RATIO":return"DECIMAL";default:return"VARCHAR"}}generateMermaidER(e,n){const r=[],i=n.filter(o=>o.type==="FK");for(const o of i)o.referencedTable&&r.push({from:e,to:o.referencedTable,type:"1:N",foreignKey:o.name});return{mermaid:this.buildMermaidSyntax(e,n,r),relationships:r,columns:n}}buildMermaidSyntax(e,n,r){const i=["```mermaid","erDiagram"];for(const o of r){const a=o.type==="1:1"?"||--||":o.type==="1:N"?"||--o{":"}o--o{";i.push(`    ${o.to} ${a} ${e} : "${o.foreignKey}"`)}i.push(""),i.push(`    ${e} {`);for(const o of n){const a=o.type==="PK"?" PK":o.type==="FK"?" FK":"",l=o.nullable?"":' "NOT NULL"';i.push(`        ${o.dataType} ${o.name}${a}${l}`)}i.push("    }");const s=new Set(r.map(o=>o.to));for(const o of s)i.push(`    ${o} {`),i.push("        INTEGER id PK"),i.push("        VARCHAR name"),i.push("    }");return i.push("```"),i.join(`
`)}generateSeedInserts(e,n,r){if(!r||r.length===0)return`-- No sample data available for ${e}`;const i=n.map(a=>a.name).join(", "),s=[`--  ${e} (${r.length} ) `,`INSERT INTO "${e}" (${i}) VALUES`],o=r.slice(0,5).map((a,l)=>{const c=n.map(u=>{const h=a[u.name];return h==null?"NULL":typeof h=="string"?`'${h.replace(/'/g,"''")}'`:typeof h=="number"?h.toString():h instanceof Date?`'${h.toISOString().split("T")[0]}'`:`'${String(h)}'`}).join(", "),A=l===Math.min(4,r.length-1);return`    (${c})${A?";":","}`});return s.push(...o),s.join(`
`)}}const wk=new _at,Nat=[{id:"batch_1",title:"CRUD",modules:["","","","ER","","A1","A2","A3","A4","A5","A6","A"],tokenEstimate:4e3},{id:"batch_2",title:"",modules:["B1","B2","B3","B4","C1","C2","C3","D1","D2","D3","B",""],tokenEstimate:5e3},{id:"batch_3",title:"",modules:["E1","E2","E3","F1","F2","F3","G1","G2","G3","G4","H1","H2","I1","I2","I3","",""],tokenEstimate:4e3}],q6=15e3;class bat{constructor(){this.context=null}initContext(e,n,r,i,s,o=[],a=[]){const l=wk.detectRelations(e,r),c=wk.generateMermaidER(e,l),A=wk.generateSeedInserts(e,l,o);return this.context={tableName:e,rowCount:n,columnCount:r.length,columns:r,erColumns:l,erDiagram:c,qualityReport:i,sampleData:s,seedInserts:A,sampleRows:o,stats:a},this.context}async generateHandbook(e,n,r){this.context=e;const i=Nat.map(a=>({...a,status:"pending",content:""})),s=[];for(let a=0;a<i.length;a++){const l=i[a];try{l.status="generating",r==null||r(`  ${l.title}...`);const c=await this.generateBatch(l.id,e);l.content=c.content,l.debugPrompt=c.prompt,l.status="complete",s.push(l),n(l),r==null||r(` ${l.title} `),a<i.length-1&&(r==null||r(`  ${q6/1e3}s...`),await this.sleep(q6))}catch(c){console.error(`[HandbookGenerator] Batch ${l.id} failed:`,c),l.status="error",l.error=c.message||"Unknown error",l.content=this.generateFallbackContent(l.id,e),s.push(l),n(l)}}const o=this.combineHandbook(s,e);return{batches:s,fullContent:o,generatedAt:new Date,tableName:e.tableName}}async generateBatch(e,n){let r;switch(e){case"batch_1":r=$r.buildHandbookBatch1Prompt(n);break;case"batch_2":r=$r.buildHandbookBatch2Prompt(n);break;case"batch_3":r=$r.buildHandbookBatch3Prompt(n);break;default:throw new Error(`Unknown batch: ${e}`)}const i=` DuckDB  Markdown 
 Markdown SKL-000 
 +  +  +  +  + 
 SQL  "${n.tableName}" `;return{content:await Uh.robustCall("narrative",r,i,!1),prompt:r}}generateFallbackContent(e,n){const r=n.tableName;switch(e){case"batch_1":return`## CRUD

>  AI 

### A1  INSERT  

** **
\`\`\`sql
INSERT INTO "${r}" (col1, col2) VALUES (v1, v2);
\`\`\`

### A2  SELECT  

** **
\`\`\`sql
SELECT * FROM "${r}" LIMIT 10;
\`\`\`
`;case"batch_2":return`## 

>  AI 

### B1  INNER JOIN

** **
\`\`\`sql
SELECT a.*, b.*
FROM "${r}" a
INNER JOIN other_table b ON a.id = b.${r}_id;
\`\`\`
`;case"batch_3":return`## 

>  AI 

### E1  

** **
\`\`\`sql
SELECT *, ROW_NUMBER() OVER (ORDER BY id) AS row_num
FROM "${r}";
\`\`\`

## 

|  | SQL |
|------|-----|
|  | \`SELECT * FROM "${r}"\` |
|  | \`SELECT COUNT(*) FROM "${r}"\` |
`;default:return`## 
> `}}combineHandbook(e,n){const r=this.generateHeader(n),i=e.map(s=>s.content).join(`

---

`);return`${r}

${i}`}generateHeader(e){const{tableName:n,rowCount:r,columnCount:i}=e,s=new Date().toISOString().split("T")[0];return`# DuckDB  SQL   ${n}

>  : ${s}
>  : ${r}   ${i} 

---

## 

\`\`\`

  0. 
  1. ER  +  + 
  2.  ACRUD A1  A6
      


  3.  BB1  B4
  4.  CC1  C3
  5.  DD1  D3
      
  6. 


  7.   EE1  E3
  8.   FF1  F3
  9.   GG1  G4
  10.  HPIVOT H1  H2
  11.  II1  I3
  12. Cheat Sheet
  13. 
\`\`\`
`}sleep(e){return new Promise(n=>setTimeout(n,e))}}const X6=new bat,vat=({isOpen:t,onClose:e,onProjectSelected:n,currentProject:r})=>{const[i,s]=H.useState([]),[o,a]=H.useState(""),[l,c]=H.useState(!1),[A,u]=H.useState(null);H.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{const y=await At.listProjects();s(y)}catch(y){console.error(y),u("Failed to load projects")}},p=async()=>{if(o.trim()){c(!0),u(null);try{const y=o.trim();if(i.includes(y))throw new Error("Project already exists");await At.attachProject(y),await h(),a("")}catch(y){u(y.message)}finally{c(!1)}}},E=async y=>{c(!0);try{await At.attachProject(y),await At.useProject(y),n(y),e()}catch(R){u(R.message)}finally{c(!1)}},T=async y=>{if(confirm(`Are you sure you want to delete project "${y}"? This cannot be undone.`))try{await At.detachProject(y),await At.deleteProject(y),await h(),r===y&&n("")}catch(R){u(R.message)}};return t?f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-[600px] max-h-[80vh] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:f.jsx(Gh,{className:"w-5 h-5 text-blue-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Projects Workspace"}),f.jsx("p",{className:"text-xs text-gray-500",children:"Persistent DuckDB-WASM Storage (OPFS)"})]})]}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(Wm,{className:"w-5 h-5 text-gray-500"})})]}),f.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[A&&f.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center justify-between",children:[f.jsx("span",{children:A}),f.jsx("button",{onClick:()=>u(null),children:f.jsx(Wm,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"flex gap-3 mb-6",children:[f.jsx("input",{type:"text",value:o,onChange:y=>a(y.target.value),placeholder:"New Project Name...",className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:y=>y.key==="Enter"&&p()}),f.jsx("button",{onClick:p,disabled:l||!o.trim(),className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?"Creating...":f.jsxs(f.Fragment,{children:[f.jsx(Lf,{className:"w-4 h-4"})," Create"]})})]}),f.jsx("div",{className:"space-y-3",children:i.length===0?f.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-gray-100 rounded-xl",children:[f.jsx(Gh,{className:"w-12 h-12 text-gray-200 mx-auto mb-3"}),f.jsx("p",{className:"text-gray-400",children:"No projects yet. Create one to get started."})]}):i.map(y=>f.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-xl border transition-all ${r===y?"border-blue-500 bg-blue-50/50 shadow-sm":"border-gray-100 hover:border-blue-200 hover:shadow-sm bg-white"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${r===y?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500 group-hover:bg-blue-50 group-hover:text-blue-500"}`,children:f.jsx(M0e,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:`font-medium ${r===y?"text-blue-700":"text-gray-700"}`,children:y}),f.jsx("span",{className:"text-xs text-gray-400",children:"Local Database"})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[r===y?f.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"Active"}):f.jsx("button",{onClick:()=>E(y),disabled:l,className:"px-4 py-1.5 text-sm text-gray-600 bg-gray-50 hover:bg-blue-50 hover:text-blue-600 rounded-lg border border-gray-200 transition-colors",children:"Open"}),f.jsx("button",{onClick:()=>T(y),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete Project",children:f.jsx(Zf,{className:"w-4 h-4"})})]})]},y))})]})]})}):null},Oat=({onTableSelect:t,activeTable:e})=>{const[n,r]=H.useState([]),[i,s]=H.useState(!1),[o,a]=H.useState(!1);H.useEffect(()=>{l()},[]);const l=async()=>{s(!0);try{const u=await At.getTables();r(u)}catch(u){console.error(u)}finally{s(!1)}},c=async u=>{var h;if((h=u.target.files)!=null&&h.length){a(!0);try{const p=u.target.files[0],E=p.name.split(".")[0].replace(/[^a-zA-Z0-9]/g,"_").toLowerCase();await At.importFile(p,E),await l(),t(E)}catch(p){console.error("Upload failed",p),alert("Upload Failed: "+p)}finally{a(!1)}}},A=async u=>{if(confirm(`Delete table ${u}?`))try{await At.dropTable(u),await l(),e===u&&t("")}catch(h){console.error(h)}};return f.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 h-full flex flex-col",children:[f.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[f.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[f.jsx(Gh,{className:"w-4 h-4"})," Tables"]}),f.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-200 rounded",children:f.jsx(Ow,{className:`w-3 h-3 ${i?"animate-spin":""}`})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[n.map(u=>f.jsxs("div",{className:`group flex items-center justify-between p-2 rounded-lg cursor-pointer text-sm ${e===u?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-600"}`,onClick:()=>t(u),children:[f.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[f.jsx(_x,{className:"w-4 h-4 flex-shrink-0"}),f.jsx("span",{className:"truncate",children:u})]}),e!==u&&f.jsx("button",{onClick:h=>{h.stopPropagation(),A(u)},className:"opacity-0 group-hover:opacity-100 p-1 hover:text-red-500",children:f.jsx(Zf,{className:"w-3 h-3"})})]},u)),n.length===0&&!i&&f.jsx("div",{className:"text-center py-8 text-gray-400 text-xs",children:"No tables found"})]}),f.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:f.jsxs("label",{className:`flex items-center justify-center gap-2 w-full py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all ${o?"opacity-50 pointer-events-none":""}`,children:[f.jsx(Zq,{className:"w-4 h-4 text-blue-500"}),f.jsx("span",{className:"text-xs font-medium text-gray-600",children:o?"Importing...":"Import CSV"}),f.jsx("input",{type:"file",accept:".csv,.parquet,.json",className:"hidden",onChange:c})]})})]})},wat=({onExecuteSql:t})=>{const[e,n]=H.useState(""),[r,i]=H.useState(!0),[s,o]=H.useState([]),[a,l]=H.useState([]),[c,A]=H.useState(new Set),[u,h]=H.useState(""),p=H.useRef(null);H.useEffect(()=>{DS.initialize({startOnLoad:!1,theme:"neutral",securityLevel:"loose"}),E()},[]);const E=async()=>{i(!0);try{const I=await At.getAllTablesSchema();o(I);const b=await At.inferRelationships(I);l(b),T(I,b)}catch(I){console.error("ER Load failed",I)}finally{i(!1)}},T=async(I,b)=>{let B=`erDiagram
`;for(const w of I){B+=`  ${w.table} {
`;for(const O of w.columns){const L=O.type.split("(")[0].toLowerCase();B+=`    ${L} ${O.name}
`}B+=`  }
`}for(const w of b)B+=`  ${w.fromTable} }|--|| ${w.toTable} : "FK: ${w.fromCol}"
`;if(I.length===0){n('<div class="text-center p-4">No tables found</div>');return}try{const{svg:w}=await DS.render("er-diagram-svg-"+Date.now(),B);n(w)}catch(w){console.error("Mermaid Render Error",w),n('<div class="text-red-500">Failed to render diagram</div>')}},y=I=>{const b=new Set(c);b.has(I)?b.delete(I):b.add(I),A(b),R(b)},R=I=>{if(I.size<1){h("");return}const b=Array.from(I),B=b[0];let w=`SELECT *
FROM "${B}"
`;const O=new Set([B]),L=new Set(b.slice(1));for(;L.size>0;){let U=!1;for(const G of Array.from(L)){for(const Q of Array.from(O)){const Y=a.find(K=>K.fromTable===Q&&K.toTable===G||K.fromTable===G&&K.toTable===Q);if(Y){const K=Y.fromTable===Q?`"${Q}"."${Y.fromCol}" = "${G}"."${Y.toCol}"`:`"${Q}"."${Y.toCol}" = "${G}"."${Y.fromCol}"`;w+=`JOIN "${G}" ON ${K}
`,O.add(G),L.delete(G),U=!0;break}}if(U)break}if(!U){const G=Array.from(L).join(", ");w+=`-- Warning: No inferred relationship found for: ${G}
`;for(const Q of Array.from(L))w+=`-- CROSS JOIN "${Q}"
`;break}}h(w)};return f.jsxs("div",{className:"w-full h-full flex flex-row bg-white overflow-hidden",children:[f.jsxs("div",{className:"w-80 border-r border-gray-200 p-4 flex flex-col bg-gray-50 h-full overflow-y-auto",children:[f.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[f.jsx("span",{children:""})," Query Builder"]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 block",children:"Select Tables to Join"}),f.jsx("div",{className:"space-y-1 bg-white p-2 rounded border border-gray-200",children:s.map(I=>f.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-gray-100 cursor-pointer text-sm",children:[f.jsx("input",{type:"checkbox",checked:c.has(I.table),onChange:()=>y(I.table),className:"rounded border-gray-300 text-black focus:ring-black"}),f.jsx("span",{className:c.has(I.table)?"font-bold text-black":"text-gray-600",children:I.table})]},I.table))})]}),u&&f.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Generated SQL"}),f.jsx("div",{className:"flex gap-1",children:f.jsx("button",{onClick:()=>navigator.clipboard.writeText(u),className:"p-1 hover:bg-gray-200 rounded text-gray-500",title:"Copy",children:f.jsx(vw,{size:12})})})]}),f.jsx("textarea",{className:"w-full h-40 p-2 text-xs font-mono border border-gray-300 rounded bg-white mb-2 custom-scrollbar resize-none focus:outline-none focus:border-black",value:u,readOnly:!0}),f.jsxs("button",{onClick:()=>t==null?void 0:t(u),className:"w-full bg-black text-white py-2 rounded-lg text-sm font-bold hover:bg-gray-800 flex items-center justify-center gap-2 transition-colors",children:[f.jsx(cg,{size:14})," Run in Editor"]})]})]}),f.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[f.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-white shadow-sm z-10",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-bold text-gray-700",children:"Entity Relationship Diagram"}),f.jsxs("span",{className:"text-xs text-gray-400 font-mono hidden md:inline",children:["(",a.length," relationships detected)"]})]}),f.jsx("button",{onClick:E,className:"px-3 py-1 text-xs bg-gray-100 rounded hover:bg-gray-200 font-bold text-gray-600",children:"Refresh"})]}),f.jsx("div",{className:"flex-1 overflow-auto p-8 flex justify-center bg-gray-50 items-center",children:r?f.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[f.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full mb-4"}),f.jsx("div",{className:"h-4 w-32 bg-gray-300 rounded"})]}):f.jsx("div",{ref:p,className:"max-w-full overflow-auto bg-white shadow-sm p-4 rounded-xl border border-gray-100",dangerouslySetInnerHTML:{__html:e}})})]})]})},Lat=({onExecuteSql:t,onRefresh:e})=>{const[n,r]=H.useState(!1),[i,s]=H.useState(null),[o,a]=H.useState(null),[l,c]=H.useState(null),A=be=>{var Ke,gt,at,_t,Tt,Dt,Ft,mn,an,qt,ce,_e,Ye;const nt=be.activeSummary?`Analysis of ${be.activeSummary.tableName}. This dataset contains ${be.activeSummary.rowCount} rows across ${be.activeSummary.columnCount} columns. Detected ${((Ke=be.metrics)==null?void 0:Ke.length)||0} metrics and ${((gt=be.dimensions)==null?void 0:gt.length)||0} dimensions. Primary focus: ${((at=be.probeResult)==null?void 0:at.recommendedIntent)||"General Exploration"}.`:"";return{...be.genResult,semanticColumns:((_t=be.semanticResult)==null?void 0:_t.semanticColumns)||((Tt=be.genResult)==null?void 0:Tt.semanticColumns)||[],metricScorecards:be.scorecards||[],anomalies:be.anomalies||[],qualityReport:((Dt=be.semanticResult)==null?void 0:Dt.qualityReport)||((Ft=be.genResult)==null?void 0:Ft.qualityReport),hierarchies:be.hierarchies||[],correlations:be.correlations,causalGraph:(mn=be.causalAnalysis)==null?void 0:mn.graph,featureProposals:[...((an=be.causalAnalysis)==null?void 0:an.engineeredFeatures)||[],...be.featureProposalsHeuristic||[]],drivers:be.drivers,overview:((qt=be.genResult)==null?void 0:qt.overview)||nt,narrativeReport:be.narrativeReport,snapshotInsights:be.snapshotInsights||[],userIntent:((ce=be.probeResult)==null?void 0:ce.recommendedIntent)||"EXPLORATION",semanticSchema:{...be.semanticResult,hierarchies:be.hierarchies,scorecards:be.scorecards,anomalies:be.anomalies,correlations:be.correlations,causalGraph:(_e=be.causalAnalysis)==null?void 0:_e.graph,featureProposals:(Ye=be.causalAnalysis)==null?void 0:Ye.engineeredFeatures,narrativeReport:be.narrativeReport}}},[u,h]=H.useState(null),[p,E]=H.useState(!1),[T,y]=H.useState(!1),[R,I]=H.useState(!1),[b,B]=H.useState(null),[w,O]=H.useState([]),[L,U]=H.useState("analysis"),[G,Q]=H.useState("idle"),[Y,K]=H.useState(""),[j,V]=H.useState(null),[$,J]=H.useState(null),[te,X]=H.useState(!1),[oe,F]=H.useState([]),[ee,le]=H.useState(null),[q,we]=H.useState(!1),[Oe,Ce]=H.useState("");H.useEffect(()=>{Ue()},[]),H.useEffect(()=>{if(b&&(i||o)){const nt=setTimeout(async()=>{try{await At.saveSession("main_analysis",{fileName:l,summary:o,result:i,timestamp:Date.now()}),console.log("[Session] Auto-saved to DB")}catch(Ke){console.warn("[Session] Auto-save failed",Ke)}},2e3);return()=>clearTimeout(nt)}},[b,i,o,l]);const Ue=async()=>{try{O(await $a.getAll())}catch(be){console.error("DB Error",be)}},We=async(be,nt,Ke,gt)=>{var _t,Tt;if(n&&!gt){console.warn("[Pipeline] Execution blocked: Pipeline is already running.");return}r(!0),V(null);const at=$||{summary:be,enrichedStats:nt,stagingTable:Ke};J(at),at.genResult||(at.genResult={});try{if(!gt||["s0_probe","s1_semantic","s2_quality","s3_sql"].includes(gt)){Q("s0_probe"),K(" Unified Analysis Pipeline (Single API Call)..."),console.log("[Pipeline] Running Unified Analysis...");const Dt=nt.map(Ft=>Ft.name);at.heuristicColumns=yat.inferSchema(nt),at.hierarchies=await At.detectHierarchies(Ke,Dt);try{K(" AI: Analyzing Schema, Quality & Operations...");const Ft=await Uh.generateUnifiedAnalysis(be),{probe:mn,semantic:an,quality:qt,operations:ce,snapshotInsights:_e,overview:Ye,keyMetrics:dt}=Ft;at.probeResult=mn,at.genResult={...at.genResult,semanticColumns:an.columns,operations:ce,overview:Ye||((_t=at.genResult)==null?void 0:_t.overview),keyMetrics:dt||[]},at.snapshotInsights=_e||[],at.semanticResult={semanticColumns:an.columns,qualityReport:qt},at.narrativeReport=Ye||at.narrativeReport;const Wt=Ft.semantic.columns||[];at.metrics=Wt.filter(Xt=>Xt.semanticType==="MEA"||Xt.semanticType==="CURR"),at.dimensions=Wt.filter(Xt=>Xt.semanticType==="DIM"),at.timeCol=(Tt=Wt.find(Xt=>Xt.semanticType==="TIME"))==null?void 0:Tt.name,K(` Unified Analysis Complete (Intent: ${Ft.probe.recommendedIntent})`),s(A(at)),await new Promise(Xt=>setTimeout(Xt,800))}catch(Ft){console.error("Unified Analysis failed",Ft),at.probeResult={recommendedIntent:"EXPLORATION"},at.semanticResult={semanticColumns:[],qualityReport:null},at.genResult||(at.genResult={}),at.genResult.operations={scripts:[]},at.metrics=[],at.dimensions=[],at.timeCol=null,V({stage:"s0_probe",message:Ft.message})}J({...at}),Q("s3_sql")}if(!gt||["s0_probe","s1_semantic","s2_quality","s3_sql","s4_insights"].includes(gt)){Q("s4_insights"),K("Stage 4: Insights & Anomalies..."),at.metrics=at.metrics||[],at.scorecards=[],at.anomalies=[],s(A(at));for(const an of at.metrics){K(`Calculating Metric: ${an.name}...`);try{const qt=await At.getMetricScorecardQuery(Ke,an.name,at.timeCol);at.scorecards.push({name:an.name,displayName:an.name,...qt.stats,trend:qt.trend||[]}),s(A(at))}catch(qt){console.error(qt)}}const Dt=nt.filter(an=>["INTEGER","DOUBLE","BIGINT","DECIMAL"].some(qt=>an.type.includes(qt))).map(an=>an.name);for(const an of Dt)try{const qt=await xat.detectIQR(Ke,an);qt&&qt.ratio>0&&qt.ratio<.2&&(at.anomalies.push(qt),s(A(at)))}catch{}const Ft=gat.suggestFeatures(at.semanticResult.semanticColumns);at.featureProposalsHeuristic=Ft,K("Stage 4: Generating Template Analysis...");const mn={drivers:[],correlations:[],anomalies:at.anomalies,metrics:at.metrics.map(an=>an.name)};Q("complete"),r(!1)}}catch(Dt){console.error(`[Pipeline] Stage ${G} failed:`,Dt),V({stage:G,message:Dt.message||"Unknown error"}),Q("error"),r(!1)}},qe=H.useCallback(async()=>{var be,nt;if(!$||!o){console.error("[Handbook] No context available");return}we(!0),U("handbook"),Ce(" ...");try{const Ke=$,gt=((be=Ke.semanticResult)==null?void 0:be.semanticColumns)||[],at=o!=null&&o.sampleData?[]:[],_t=X6.initContext(o.tableName,o.rowCount,gt,((nt=Ke.semanticResult)==null?void 0:nt.qualityReport)||null,o.sampleData||"",at,o.stats||[]);F([{id:"batch_1",title:"CRUD",modules:[],status:"pending",content:"",tokenEstimate:4e3},{id:"batch_2",title:"",modules:[],status:"pending",content:"",tokenEstimate:5e3},{id:"batch_3",title:"",modules:[],status:"pending",content:"",tokenEstimate:4e3}]);const Tt=await X6.generateHandbook(_t,Dt=>{F(Ft=>Ft.map(mn=>mn.id===Dt.id?Dt:mn))},Dt=>Ce(Dt));le(Tt),Ce(" "),console.log("[Handbook Debug]",Tt)}catch(Ke){console.error("[Handbook] Generation failed:",Ke),Ce(` : ${Ke.message}`)}finally{we(!1)}},[$,o]),Je=async()=>{var nt,Ke;if(!i||!$)return;r(!0),X(!0);const be=$;try{Q("s4_insights"),K("Stage 4: Deep Insights & Causal Analysis..."),console.log("[Pipeline S4] Starting Deep Intelligence...");const gt={drivers:be.drivers,correlations:be.correlations,anomalies:be.anomalies,causalContext:be.causalContext,qualityScore:(Ke=(nt=be.semanticResult)==null?void 0:nt.qualityReport)==null?void 0:Ke.overallScore,metrics:be.metrics.map(mn=>mn.name),tableName:be.summary.tableName};K("Building Causal Graph...");const at=await Uh.generateCausalGraph(gt);be.causalAnalysis=at,s(A(be)),K("Discovering Insights...");const _t=await Uh.generateKeyInsights(gt);be.deepInsights=_t||[],s(A(be)),Q("s5_report"),K("Stage 5: Narrative Reporting...");const Tt=A(be),Dt=await Uh.generateAssetNarrative(gt,Tt);be.narrativeReport=Dt,s(A(be));const Ft=Tat.generateActions(Tt,be.stagingTable);be.guidance=Ft,s(A(be)),console.log("[Pipeline S5]  Deep Intelligence & Asset Report Complete"),Q("complete"),r(!1)}catch(gt){console.error("[Pipeline] Deep Analysis failed:",gt),V({stage:"s4_insights",message:gt.message||"Deep Analysis Failed"}),Q("error"),r(!1)}},ut=async be=>{if($){if(r(!0),V(null),te&&(be==="s4_insights"||be==="s5_report")){console.log("Retrying Deep Analysis..."),await Je();return}await We($.summary,$.enrichedStats,$.stagingTable,be)}},en=async(be,nt)=>{r(!0),h(null);try{console.log(`[SchemaGenerator] Creating staging table for ${nt}...`);const Ke=await At.createStagingTable(be,nt);e&&e(),console.log("[SchemaGenerator] Generating enriched profile...");const gt=await At.getEnrichedProfile(Ke),_t=be.trim().split(`
`),Tt={rowCount:_t.length-1,columnCount:_t[0].split(",").length,tableName:Ke,sampleData:_t.slice(0,15).join(`
`),stats:gt};a(Tt),c(nt),await We(Tt,gt,Ke,"s0_probe")}catch(Ke){console.error(Ke),h(Ke.message||"Analysis failed"),r(!1)}},rn=async be=>{r(!0),h(null);try{console.log(`[SchemaGenerator] Analyzing existing table ${be}...`);const nt=await At.getEnrichedProfile(be),Ke=await At.query(`SELECT * FROM "${be}" LIMIT 15`),gt=await At.query(`SELECT COUNT(*) as cnt FROM "${be}"`),_t={rowCount:Number(gt[0].cnt),columnCount:nt.length,tableName:be,sampleData:JSON.stringify(Ke,null,2),stats:nt};a(_t),c(be+".csv"),await We(_t,nt,be,"s0_probe")}catch{}};return f.jsx("div",{className:"w-full h-full overflow-hidden bg-[#FAFAFA] flex flex-col",children:f.jsxs("div",{className:"flex h-full w-full overflow-hidden",children:[b&&f.jsx(Oat,{onTableSelect:rn,activeTable:(o==null?void 0:o.tableName)||null}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative bg-[#FAFAFA]",children:f.jsxs("div",{className:"w-full px-8 py-8 min-h-full",children:[u&&f.jsxs("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 bg-red-50 text-red-600 px-6 py-3 rounded-lg text-xs font-bold border border-red-100 shadow-xl z-50 flex gap-4",children:[f.jsxs("span",{children:[" ",u]}),f.jsx("button",{onClick:()=>h(null),children:""})]}),n&&G!=="idle"&&f.jsxs("div",{className:"fixed bottom-6 right-6 bg-white border border-gray-200 rounded-xl shadow-2xl p-4 z-50 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center animate-pulse",children:f.jsx("span",{className:"text-white text-sm",children:""})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-gray-800",children:"AI Analysis Pipeline (v5.0)"}),f.jsx("p",{className:"text-[10px] text-blue-500 font-medium animate-pulse",children:Y||`Stage: ${G}`})]}),f.jsxs("div",{className:"ml-auto flex gap-1",children:[f.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 text-[9px] rounded font-bold border border-purple-200",children:"PII"}),f.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 text-[9px] rounded font-bold border border-green-200",children:"Contract"})]})]}),f.jsx("div",{className:"flex gap-1 mb-1",children:["s0_probe","s1_semantic","s2_quality","s3_sql","s4_insights","s5_report"].map((be,nt)=>f.jsx("div",{className:`flex-1 h-1.5 rounded-full transition-all ${G===be?"bg-blue-500 animate-pulse":["s0_probe","s1_semantic","s2_quality","s3_sql","s4_insights","s5_report"].indexOf(G)>nt?"bg-green-500":"bg-gray-200"}`,title:be},be))}),f.jsxs("div",{className:"flex justify-between mt-1 text-[9px] text-gray-400 font-mono w-full px-0.5",children:[f.jsx("span",{children:"Probe"}),f.jsx("span",{children:"Sens"}),f.jsx("span",{children:"Qual"}),f.jsx("span",{children:"SQL"}),f.jsx("span",{children:"Ins"}),f.jsx("span",{children:"Rpt"})]})]}),j&&f.jsx("div",{className:"fixed bottom-6 right-6 bg-amber-50 border border-amber-200 rounded-xl shadow-2xl p-4 z-50 min-w-[320px]",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center flex-shrink-0",children:f.jsx("span",{className:"text-white text-sm",children:""})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:"text-xs font-bold text-amber-800",children:["Pipeline Paused at ",j.stage]}),f.jsx("p",{className:"text-[10px] text-amber-600 mt-1 break-words",children:j.message}),f.jsx("div",{className:"flex gap-2 mt-3",children:f.jsx("button",{onClick:()=>ut(j.stage),className:"px-3 py-1.5 bg-amber-500 text-white text-[10px] font-bold rounded-lg hover:bg-amber-600 transition-all",children:" Retry"})})]})]})}),f.jsxs("div",{className:"flex justify-between items-center mb-12 max-w-[1920px] mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>E(!0),className:"bg-white border border-gray-200 w-10 h-10 rounded-lg flex items-center justify-center hover:bg-black hover:text-white hover:border-black transition-all shadow-sm group",children:f.jsx("span",{className:"text-lg group-hover:scale-110 transition-transform",children:""})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-black uppercase tracking-[0.1em]",children:"Pipeline Engine"}),f.jsxs("p",{className:"text-[10px] text-gray-400 font-mono",children:["STATUS: ",G==="complete"?" COMPLETE":G==="error"?" PAUSED":G==="idle"?"IDLE":` ${G.toUpperCase()}`]})]})]}),f.jsxs("div",{className:"bg-gray-100 p-1 rounded-lg flex items-center gap-1",children:[f.jsxs("button",{onClick:()=>U("analysis"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all flex items-center gap-2 ${L==="analysis"?"bg-white shadow text-black":"text-gray-400 hover:text-gray-600"}`,children:[f.jsx(QF,{size:14})," ",f.jsx("span",{children:"Analysis"})]}),f.jsxs("button",{onClick:()=>U("model"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all flex items-center gap-2 ${L==="model"?"bg-white shadow text-black":"text-gray-400 hover:text-gray-600"}`,children:[f.jsx(q0e,{size:14})," ",f.jsx("span",{children:"Model"})]}),f.jsxs("button",{onClick:()=>U("handbook"),disabled:!$,className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all flex items-center gap-2 ${L==="handbook"?"bg-white shadow text-black":"text-gray-400 hover:text-gray-600"} ${$?"":"opacity-50 cursor-not-allowed"}`,children:[f.jsx(VF,{size:14})," ",f.jsx("span",{children:"Handbook"}),q&&f.jsx("span",{className:"ml-1 animate-spin",children:""})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:()=>I(!0),className:"bg-white border border-gray-200 px-3 py-2 rounded-lg text-xs font-bold hover:bg-blue-50 text-gray-700 flex items-center gap-2",children:[f.jsx("span",{children:""})," ",b||"Projects"]}),f.jsxs("button",{onClick:()=>y(!0),className:"bg-white border border-gray-200 px-3 py-2 rounded-lg text-xs font-bold hover:bg-black hover:text-white transition-all flex items-center gap-2",children:[f.jsx("span",{children:""}),"  API"]})]})]}),L==="handbook"?f.jsx("div",{className:"h-[calc(100vh-180px)] w-full",children:f.jsx(pat,{result:ee,batches:oe,isGenerating:q,progressMessage:Oe,onGenerate:qe,onExecuteSql:t})}):L==="model"?f.jsx("div",{className:"h-[calc(100vh-180px)] w-full",children:f.jsx(wat,{onExecuteSql:be=>{U("analysis"),t(be)}})}):!i||!o?f.jsx("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:b?f.jsx(eat,{onDataReady:en,isProcessing:n}):f.jsxs("div",{className:"text-center text-gray-400",children:[f.jsx("p",{className:"text-lg font-bold mb-2",children:"No Project Selected"}),f.jsx("p",{className:"text-xs",children:"Create or select a project to start."}),f.jsx("button",{onClick:()=>I(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg text-xs font-bold hover:bg-blue-700",children:"Open Projects"})]})}):f.jsx(hat,{result:i,summary:o,fileName:l,onExecuteSql:t,onRefresh:e,onGenerateHandbook:qe}),p&&f.jsx(dat,{history:w,onClose:()=>E(!1),onLoadAnalysis:be=>{s(be.result),a(be.summary),c(be.fileName),E(!1)},onDeleteAnalysis:async be=>{await $a.delete(be),await Ue()}}),T&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center animate-[fadeIn_0.2s]",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-[450px] p-6 animate-[slideIn_0.2s]",children:[f.jsx("h3",{className:"text-lg font-bold mb-4",children:"AI "}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" (Provider)"}),f.jsxs("select",{className:"w-full border border-gray-300 rounded p-2 text-sm text-black bg-white",defaultValue:localStorage.getItem("duckdb_ai_provider")||"google",onChange:be=>{const nt=be.target.value;localStorage.setItem("duckdb_ai_provider",nt),nt==="groq"?(localStorage.setItem("duckdb_ai_model","llama-3.3-70b-versatile"),localStorage.setItem("duckdb_ai_base_url","https://api.groq.com/openai/v1/chat/completions")):nt==="google"?(localStorage.setItem("duckdb_ai_model","gemini-2.0-flash-exp"),localStorage.setItem("duckdb_ai_base_url","")):nt==="openai"&&(localStorage.setItem("duckdb_ai_model","gpt-4o"),localStorage.setItem("duckdb_ai_base_url","https://api.openai.com/v1/chat/completions")),window.location.reload()},children:[f.jsx("option",{value:"google",children:"Google Gemini"}),f.jsx("option",{value:"groq",children:"Groq (Fastest)"}),f.jsx("option",{value:"openai",children:"OpenAI / Compatible"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"API Key"}),f.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded p-2 text-sm text-black",placeholder:"Key for selected provider",defaultValue:localStorage.getItem("duckdb_ai_api_key")||"",onChange:be=>localStorage.setItem("duckdb_ai_api_key",be.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" (Model Name)"}),f.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm text-black",placeholder:"e.g. gemini-2.0-flash-exp, llama-3.3-70b-versatile",defaultValue:localStorage.getItem("duckdb_ai_model")||"",onChange:be=>localStorage.setItem("duckdb_ai_model",be.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" (Base URL - )"}),f.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm text-black",placeholder:"Custom endpoint URL",defaultValue:localStorage.getItem("duckdb_ai_base_url")||"",onChange:be=>{localStorage.setItem("duckdb_ai_base_url",be.target.value)}})]}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:()=>{y(!1)},className:"bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800",children:""})})]})]})}),f.jsx(vat,{isOpen:R,onClose:()=>I(!1),currentProject:b,onProjectSelected:async be=>{if(B(be||null),be){const nt=await At.loadSession("main_analysis");nt?(nt.summary&&a(nt.summary),nt.result&&s(nt.result),nt.fileName&&c(nt.fileName)):(s(null),a(null))}}})]})})]})})},Bat=()=>{const[t,e]=H.useState(0);if(H.useEffect(()=>{const r=setInterval(()=>{const i=aM.getRemainingTime();e(i)},1e3);return()=>clearInterval(r)},[]),t<=0)return null;const n=Math.ceil(t/1e3);return f.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] animate-[slideUp_0.3s_ease-out]",children:f.jsxs("div",{className:"bg-white/90 backdrop-blur shadow-xl border border-amber-200 rounded-full py-2 px-4 flex items-center gap-3",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-amber-200 border-t-amber-600 rounded-full animate-spin"}),f.jsxs("span",{className:"text-amber-700 font-mono font-bold text-sm tracking-widest",children:[n,"s"]})]})})},Dat=({metric:t,onEdit:e,onDelete:n,onValidate:r,onFix:i,onGenerateChart:s,sourceTable:o,hasChart:a=!1,onToggleFavorite:l,isFavorite:c=!1})=>{const[A,u]=H.useState(!1),[h,p]=H.useState(!1),[E,T]=H.useState(!1),[y,R]=H.useState(t),[I,b]=H.useState(!1),[B,w]=H.useState(!1),O=async()=>{await navigator.clipboard.writeText(JSON.stringify(t,null,2)),u(!0),setTimeout(()=>u(!1),2e3)},L=()=>{e(y),T(!1)},U=()=>{R(t),T(!1)},G=async()=>{if(r){b(!0);try{await r(t)}finally{b(!1)}}},Q=async()=>{if(i){b(!0);try{await i(t)}finally{b(!1)}}},Y=async()=>{if(s){w(!0);try{await s(t)}finally{w(!1)}}},K=async()=>{t.sqlValidation&&await navigator.clipboard.writeText(t.sqlValidation)},j=({icon:$,label:J,value:te})=>f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"text-monokai-blue mt-0.5",children:$}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-monokai-comment uppercase",children:J}),Array.isArray(te)?f.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:te.map((X,oe)=>f.jsx("span",{className:"px-2 py-0.5 bg-monokai-accent/30 rounded text-xs text-monokai-fg",children:X},oe))}):f.jsx("div",{className:"text-sm text-white mt-0.5",children:te})]})]}),V=({label:$,field:J,multiline:te})=>f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs text-monokai-comment uppercase",children:$}),te?f.jsx("textarea",{value:y[J],onChange:X=>R({...y,[J]:X.target.value}),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white focus:border-monokai-blue outline-none resize-none",rows:3}):f.jsx("input",{type:"text",value:y[J],onChange:X=>R({...y,[J]:X.target.value}),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white focus:border-monokai-blue outline-none"})]});return E?f.jsxs("div",{className:"bg-[#272822] border border-monokai-green rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-sm font-bold text-monokai-green",children:""}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:L,className:"p-1.5 bg-monokai-green text-monokai-bg rounded hover:opacity-90",title:"",children:f.jsx(aA,{size:14})}),f.jsx("button",{onClick:U,className:"p-1.5 bg-monokai-accent text-white rounded hover:bg-monokai-comment",title:"",children:f.jsx(Wm,{size:14})})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(V,{label:"",field:"name"}),f.jsx(V,{label:"",field:"scenario"}),f.jsx(V,{label:"",field:"characteristics"}),f.jsx(V,{label:"",field:"value"}),f.jsx(V,{label:"",field:"definition",multiline:!0}),f.jsx(V,{label:"",field:"formula"}),f.jsx(V,{label:"",field:"example"}),f.jsx(V,{label:"",field:"unit"}),f.jsx(V,{label:"",field:"category"})]})]}):f.jsxs("div",{className:"bg-[#272822] border border-monokai-accent rounded-lg p-4 hover:border-monokai-blue transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("h3",{className:"text-base font-bold text-white flex items-center gap-2",children:[f.jsx("span",{className:"text-monokai-pink",children:t.name}),t.category&&f.jsx("span",{className:"px-2 py-0.5 bg-monokai-purple/30 rounded text-xs text-monokai-purple",children:t.category}),t.version&&t.version>1&&f.jsxs("span",{className:"px-2 py-0.5 bg-monokai-blue/30 rounded text-xs text-monokai-blue",title:` ${t.version}`,children:["v",t.version]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.unit&&f.jsxs("span",{className:"text-xs text-monokai-comment",children:[": ",t.unit]}),t.isValid===!0&&f.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-monokai-green/20 rounded text-xs text-monokai-green",children:[f.jsx(O3,{size:10})," "]}),t.isValid===!1&&f.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-monokai-pink/20 rounded text-xs text-monokai-pink",children:[f.jsx(Rx,{size:10})," "]}),a&&f.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-monokai-blue/20 rounded text-xs text-monokai-blue",title:"",children:[f.jsx(O3,{size:10})," "]}),t.version&&t.version>0&&f.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-monokai-purple/20 rounded text-xs text-monokai-purple",title:`: v${t.version}`,children:["v",t.version]})]})]}),f.jsxs("div",{className:"flex gap-1",children:[r&&f.jsx("button",{onClick:G,disabled:I,className:"p-1.5 hover:bg-monokai-accent rounded text-monokai-comment hover:text-monokai-green transition-colors disabled:opacity-50",title:"SQL",children:I?f.jsx("div",{className:"w-3.5 h-3.5 border-2 border-monokai-green border-t-transparent rounded-full animate-spin"}):f.jsx(cg,{size:14})}),i&&t.isValid===!1&&f.jsx("button",{onClick:Q,disabled:I,className:"p-1.5 hover:bg-monokai-accent rounded text-monokai-comment hover:text-monokai-orange transition-colors disabled:opacity-50",title:"",children:f.jsx(eX,{size:14})}),s&&f.jsx("button",{onClick:Y,disabled:B,className:`p-1.5 hover:bg-monokai-accent rounded transition-colors disabled:opacity-50 ${a?"text-monokai-purple hover:text-monokai-purple":"text-monokai-comment hover:text-monokai-purple"}`,title:a?"":"",children:B?f.jsx("div",{className:"w-3.5 h-3.5 border-2 border-monokai-purple border-t-transparent rounded-full animate-spin"}):f.jsx(jh,{size:14})}),l&&f.jsx("button",{onClick:()=>l(t.id),className:`p-1.5 hover:bg-monokai-accent rounded transition-colors ${c?"text-yellow-400 hover:text-yellow-300":"text-monokai-comment hover:text-yellow-400"}`,title:c?"":"",children:f.jsx(cM,{size:14,className:c?"fill-current":""})}),f.jsx("button",{onClick:O,className:"p-1.5 hover:bg-monokai-accent rounded text-monokai-comment hover:text-white transition-colors",title:"JSON",children:A?f.jsx(aA,{size:14}):f.jsx(vw,{size:14})}),f.jsx("button",{onClick:()=>T(!0),className:"p-1.5 hover:bg-monokai-accent rounded text-monokai-comment hover:text-monokai-blue transition-colors",title:"",children:f.jsx(iCe,{size:14})}),f.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 hover:bg-monokai-accent rounded text-monokai-comment hover:text-monokai-pink transition-colors",title:"",children:f.jsx(Zf,{size:14})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(j,{icon:f.jsx(xCe,{size:12}),label:"",value:t.scenario}),f.jsx(j,{icon:f.jsx(cM,{size:12}),label:"",value:t.characteristics}),f.jsx(j,{icon:f.jsx(Xq,{size:12}),label:"",value:t.value}),h&&f.jsxs(f.Fragment,{children:[f.jsx(j,{icon:f.jsx(VF,{size:12}),label:"",value:t.definition}),f.jsx(j,{icon:f.jsx(v3,{size:12}),label:"",value:t.formula}),f.jsx(j,{icon:f.jsx(YF,{size:12}),label:"",value:t.example}),f.jsx(j,{icon:f.jsx(Ix,{size:12}),label:"",value:t.dependencies}),t.sqlValidation&&f.jsxs("div",{className:"mt-2 p-2 bg-monokai-bg rounded border border-monokai-accent",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("div",{className:"text-xs text-monokai-comment uppercase flex items-center gap-1",children:[f.jsx(v3,{size:12})," SQL"]}),f.jsx("button",{onClick:K,className:"text-xs text-monokai-blue hover:underline",children:""})]}),f.jsx("pre",{className:"text-xs font-mono text-monokai-green overflow-x-auto whitespace-pre-wrap",children:t.sqlValidation}),t.validationError&&f.jsxs("div",{className:"mt-2 p-2 bg-monokai-pink/20 rounded text-xs text-monokai-pink",children:[f.jsx(Rx,{size:12,className:"inline mr-1"}),t.validationError]})]})]})]}),f.jsx("button",{onClick:()=>p(!h),className:"w-full mt-3 pt-2 border-t border-monokai-accent/50 flex items-center justify-center gap-1 text-xs text-monokai-comment hover:text-white transition-colors",children:h?f.jsxs(f.Fragment,{children:[" ",f.jsx(bw,{size:14})]}):f.jsxs(f.Fragment,{children:[" ",f.jsx(TR,{size:14})]})})]})},kat=({packageId:t,onClose:e,onRefresh:n,onOpenInSqlEditor:r})=>{const[i,s]=H.useState([]),[o,a]=H.useState(!0),[l,c]=H.useState(null),[A,u]=H.useState(new Set),[h,p]=H.useState(!1);H.useEffect(()=>{E()},[t]);const E=()=>{a(!0);const w=ii.getChartsByPackage(t);s(w),a(!1)},T=w=>{u(O=>{const L=new Set(O);return L.has(w)?L.delete(w):L.size<4&&L.add(w),L})},y=w=>{const O=`-- : ${w.metricName}
-- SQLSQL
SELECT 
  date_trunc('day', created_at) as date,
  COUNT(*) as count,
  SUM(amount) as total_amount
FROM ${w.sourceTable}
WHERE created_at >= CURRENT_DATE - INTERVAL '30 days'
GROUP BY date_trunc('day', created_at)
ORDER BY date DESC
LIMIT 30`;navigator.clipboard.writeText(O).then(()=>{alert(`SQL

SQL`)})},R=()=>{if(A.size<2){alert("2");return}const w=i.filter(L=>A.has(L.id)),O=`-- 
SELECT 
  *
FROM (
  ${w.map(L=>`SELECT '${L.metricName}' as metric_name, * FROM (${L.sql})`).join(`
  UNION ALL
  `)}
)
ORDER BY 1, 2`;navigator.clipboard.writeText(O).then(()=>{alert(`SQL ${w.length} 

SQL`)})},I=async w=>{c(w.id);try{const O=await ii.convertToSavedQuery(w);alert(` "${w.metricName}"  Dashboard

 Dashboard  "Add Widget" `)}catch(O){console.error("Failed to add to dashboard:",O),alert(" Dashboard : "+O.message)}finally{c(null)}},b=w=>{confirm("")&&(ii.deleteMetricChart(w),E(),n())},B=w=>{switch(w){case"pie":case"doughnut":return f.jsx(h0e,{size:16,className:"text-monokai-pink"});case"bar":return f.jsx(c0e,{size:16,className:"text-monokai-blue"});case"line":case"area":return f.jsx(a0e,{size:16,className:"text-monokai-green"});case"counter":return f.jsx(QF,{size:16,className:"text-monokai-purple"});default:return f.jsx(jh,{size:16,className:"text-monokai-fg"})}};return f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-[fadeIn_0.2s]",children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent rounded-lg shadow-2xl w-[700px] max-h-[80vh] flex flex-col animate-[scaleIn_0.2s]",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-monokai-accent",children:[f.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[f.jsx("span",{className:"text-monokai-purple",children:""})," "]}),f.jsxs("div",{className:"flex items-center gap-2",children:[i.length>=2&&f.jsxs("button",{onClick:()=>p(!h),className:`px-3 py-1.5 rounded text-xs font-bold flex items-center gap-1 ${h?"bg-monokai-purple text-white":"bg-monokai-bg text-monokai-comment hover:text-white border border-monokai-border"}`,children:[f.jsx(L3,{size:14}),h?"":""]}),f.jsx("button",{onClick:e,className:"text-monokai-comment hover:text-white p-1 rounded hover:bg-monokai-bg",children:f.jsx(Wm,{size:20})})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:o?f.jsx("div",{className:"flex items-center justify-center py-8",children:f.jsx(Qh,{size:24,className:"animate-spin text-monokai-purple"})}):i.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(jh,{size:48,className:"mx-auto text-monokai-accent mb-4"}),f.jsx("p",{className:"text-monokai-comment",children:""}),f.jsx("p",{className:"text-xs text-monokai-comment mt-2",children:""})]}):f.jsx("div",{className:"space-y-3",children:i.map(w=>{var O;return f.jsxs("div",{className:`bg-monokai-bg border rounded-lg p-4 hover:border-monokai-purple transition-colors ${A.has(w.id)?"border-monokai-purple ring-2 ring-monokai-purple/30":"border-monokai-accent"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[h&&f.jsx("input",{type:"checkbox",checked:A.has(w.id),onChange:()=>T(w.id),className:"mt-2 w-4 h-4 accent-monokai-purple"}),f.jsx("div",{className:"p-2 bg-monokai-purple/20 rounded",children:B(w.chartConfig.type)}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:w.metricName}),f.jsxs("div",{className:"text-xs text-monokai-comment mt-1 flex gap-3",children:[f.jsxs("span",{children:[": ",w.chartConfig.type]}),f.jsxs("span",{children:["x: ",w.chartConfig.xKey||"-"]}),f.jsxs("span",{children:["y: ",((O=w.chartConfig.yKeys)==null?void 0:O.join(", "))||"-"]})]}),w.chartConfig.title&&f.jsxs("div",{className:"text-xs text-monokai-comment mt-1",children:[": ",w.chartConfig.title]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>y(w),className:"px-3 py-1.5 bg-monokai-blue/20 text-monokai-blue rounded text-xs font-bold hover:bg-monokai-blue hover:text-monokai-bg flex items-center gap-1",title:"",children:[f.jsx(wCe,{size:12}),""]}),r&&f.jsxs("button",{onClick:()=>r(w),className:"px-3 py-1.5 bg-monokai-purple/20 text-monokai-purple rounded text-xs font-bold hover:bg-monokai-purple hover:text-white flex items-center gap-1",title:" SQL ",children:[f.jsx(nCe,{size:12}),""]}),f.jsxs("button",{onClick:()=>I(w),disabled:l===w.id,className:"px-3 py-1.5 bg-monokai-green text-monokai-bg rounded text-xs font-bold hover:opacity-90 disabled:opacity-50 flex items-center gap-1",title:" Dashboard",children:[l===w.id?f.jsx(Qh,{size:12,className:"animate-spin"}):f.jsx(w0e,{size:12}),""]}),f.jsx("button",{onClick:()=>b(w.id),className:"p-1.5 hover:bg-monokai-pink/20 rounded text-monokai-comment hover:text-monokai-pink transition-colors",title:"",children:f.jsx(Zf,{size:14})})]})]}),f.jsxs("div",{className:"mt-3 pt-3 border-t border-monokai-accent/50",children:[f.jsx("div",{className:"text-xs text-monokai-comment mb-1",children:"SQL:"}),f.jsx("pre",{className:"text-xs font-mono text-monokai-green bg-monokai-sidebar p-2 rounded overflow-x-auto whitespace-pre-wrap",children:w.sql||"-- SQL"})]})]},w.id)})})}),f.jsx("div",{className:"p-4 border-t border-monokai-accent",children:h?f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-xs text-monokai-comment",children:[" ",A.size,"  (4)"]}),f.jsxs("button",{onClick:R,disabled:A.size<2,className:"px-4 py-2 bg-monokai-purple text-white rounded font-bold hover:opacity-90 disabled:opacity-50 flex items-center gap-2",children:[f.jsx(L3,{size:14}),""]})]}):f.jsxs("div",{className:"text-xs text-monokai-comment",children:[" ",i.length,'  | "" Dashboard  | ""SQL']})})]})})},Mat=({tables:t,onExecuteSql:e,onChartGenerated:n})=>{const[r,i]=H.useState([]),[s,o]=H.useState(new Set),[a,l]=H.useState(!1),[c,A]=H.useState(""),[u,h]=H.useState(new Set),[p,E]=H.useState(null),[T,y]=H.useState(""),[R,I]=H.useState(""),[b,B]=H.useState(!1),[w,O]=H.useState(!1),[L,U]=H.useState(new Map),[G,Q]=H.useState(!1),[Y,K]=H.useState(""),[j,V]=H.useState(!1),[$,J]=H.useState(()=>{const Te=localStorage.getItem("duckdb_metric_favorites");return Te?new Set(JSON.parse(Te)):new Set}),[te,X]=H.useState(!1),[oe,F]=H.useState(""),[ee,le]=H.useState(!1),[q,we]=H.useState("csv"),[Oe,Ce]=H.useState(""),[Ue,We]=H.useState("");H.useEffect(()=>{Je()},[]),H.useEffect(()=>{p&&qe(p.id)},[p]);const qe=Te=>{const Ae=ii.getChartsByPackage(Te),me=new Map;Ae.forEach(st=>{me.set(st.metricId,!0)}),U(me)},Je=()=>{const Te=ii.loadMetricPackages();i(Te)},ut=Te=>{J(Ae=>{const me=new Set(Ae);return me.has(Te)?me.delete(Te):me.add(Te),localStorage.setItem("duckdb_metric_favorites",JSON.stringify([...me])),me})},en=Te=>$.has(Te),rn=Te=>Te.filter(Ae=>{var ke;const me=!te||$.has(Ae.id),st=!oe||Ae.name.toLowerCase().includes(oe.toLowerCase())||Ae.definition.toLowerCase().includes(oe.toLowerCase())||((ke=Ae.category)==null?void 0:ke.toLowerCase().includes(oe.toLowerCase()));return me&&st}),be=Te=>{const Ae=JSON.stringify(Te,null,2),me=new Blob([Ae],{type:"application/json"}),st=URL.createObjectURL(me),ke=document.createElement("a");ke.href=st,ke.download=`metric_package_${Te.name.replace(/\s+/g,"_")}_${Date.now()}.json`,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(st)},nt=Te=>{var st;const Ae=(st=Te.target.files)==null?void 0:st[0];if(!Ae)return;const me=new FileReader;me.onload=ke=>{var ht;try{const sn=JSON.parse((ht=ke.target)==null?void 0:ht.result);if(sn.id&&sn.name&&sn.metrics){const mr={...sn,id:`pkg_${Date.now()}`,createdAt:Date.now(),updatedAt:Date.now(),metrics:sn.metrics.map(Dn=>({...Dn,id:`metric_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}))},Lt=ii.loadMetricPackages();Lt.push(mr),ii.saveAllPackages(Lt),Je()}else alert("")}catch(sn){alert(": "+sn.message)}},me.readAsText(Ae),Te.target.value=""},Ke=[{name:"total_count",scenario:"",characteristics:"",value:"",definition:"",formula:"COUNT(*)",example:" 1000",dependencies:[],unit:"",category:""},{name:"sum_amount",scenario:"",characteristics:"",value:"",definition:"",formula:"SUM(amount)",example:" 50000 ",dependencies:["amount"],unit:"",category:""},{name:"avg_amount",scenario:"",characteristics:"",value:"",definition:"",formula:"AVG(amount)",example:" 50 ",dependencies:["amount"],unit:"",category:""},{name:"max_amount",scenario:"",characteristics:"",value:"",definition:"",formula:"MAX(amount)",example:" 1000 ",dependencies:["amount"],unit:"",category:""},{name:"min_amount",scenario:"",characteristics:"",value:"",definition:"",formula:"MIN(amount)",example:" 1 ",dependencies:["amount"],unit:"",category:""},{name:"distinct_count",scenario:"",characteristics:"",value:"",definition:"",formula:"COUNT(DISTINCT user_id)",example:" 500",dependencies:["user_id"],unit:"",category:""},{name:"daily_count",scenario:"",characteristics:"",value:"",definition:"",formula:'SELECT date_trunc("day", created_at) as day, COUNT(*) FROM table GROUP BY 1',example:" 100",dependencies:["created_at"],unit:"",category:""},{name:"retention_rate",scenario:"",characteristics:"",value:"",definition:"",formula:'SUM(CASE WHEN datediff("day", created_at, event_date) = 1 THEN 1 ELSE 0 END) / COUNT(*)',example:" 40%",dependencies:["created_at","event_date"],unit:"%",category:""}],gt=Te=>{if(!p){alert("");return}const Ae={...Te,id:`metric_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now()},me={...p,metrics:[...p.metrics,Ae],updatedAt:Date.now()};ii.updateMetricPackage(p.id,{metrics:me.metrics}),Je(),E(me),O(!1)},at=Te=>{o(Ae=>{const me=new Set(Ae);return me.has(Te)?me.delete(Te):me.add(Te),me})},_t=()=>{s.size===t.length?o(new Set):o(new Set(t))},Tt=async()=>{if(s.size!==0){if(!T.trim()){alert("");return}l(!0),A("...");try{const Te=Array.from(s),Ae=await ii.analyzeMetrics(Te,st=>{A("AI ...")}),me=ii.createMetricPackage(T,R,Te,Ae);ii.saveMetricPackage(me),Je(),E(me),B(!1),y(""),I(""),o(new Set)}catch(Te){console.error("Analysis failed:",Te),alert(": "+Te.message)}finally{l(!1),A("")}}},Dt=async Te=>{if(Te.sourceTables.length!==0){l(!0),A("...");try{const Ae=await ii.analyzeMetrics(Te.sourceTables,()=>{});ii.updateMetricPackage(Te.id,{metrics:Ae}),Je(),E(me=>(me==null?void 0:me.id)===Te.id?{...Te,metrics:Ae,updatedAt:Date.now()}:me)}catch(Ae){console.error("Refresh failed:",Ae),alert(": "+Ae.message)}finally{l(!1),A("")}}},Ft=Te=>{confirm("")&&(ii.deleteMetricPackage(Te),Je(),(p==null?void 0:p.id)===Te&&E(null))},mn=Te=>{if(!p)return;const Ae=p.metrics.map(me=>me.id===Te.id?{...Te,updatedAt:Date.now()}:me);ii.updateMetricPackage(p.id,{metrics:Ae}),Je(),E(me=>me?{...me,metrics:Ae}:null)},an=Te=>{if(!p||!confirm(""))return;const Ae=p.metrics.filter(me=>me.id!==Te);ii.updateMetricPackage(p.id,{metrics:Ae}),Je(),E(me=>me?{...me,metrics:Ae}:null)},qt=async Te=>{if(!p||p.sourceTables.length===0)return;const Ae=p.sourceTables[0];try{const me=await ii.validateMetric(Te,Ae),st=p.metrics.map(ke=>ke.id===Te.id?{...ke,isValid:me.isValid,lastValidated:Date.now(),validationError:me.error}:ke);ii.updateMetricPackage(p.id,{metrics:st}),Je(),E(ke=>ke?{...ke,metrics:st}:null),me.isValid||alert(`: ${me.error}`)}catch(me){console.error("Validation failed:",me),alert(": "+me.message)}},ce=async Te=>{if(!p||p.sourceTables.length===0)return;const Ae=p.sourceTables[0];try{const me=await ii.fixMetric(Te,Ae),st=p.metrics.map(ke=>ke.id===Te.id?{...me,isValid:void 0,lastValidated:Date.now()}:ke);ii.updateMetricPackage(p.id,{metrics:st}),Je(),E(ke=>ke?{...ke,metrics:st}:null),setTimeout(()=>{const ke=st.find(ht=>ht.id===Te.id);ke&&qt(ke)},100)}catch(me){console.error("Fix failed:",me),alert(": "+me.message)}},_e=async Te=>{if(!p||p.sourceTables.length===0){alert("");return}const Ae=p.sourceTables[0];Q(!0),K(` "${Te.name}" ...`);try{const me=await ii.generateChart(Te,p.id,Ae);U(st=>new Map(st).set(Te.id,!0)),n?n(me):alert(`

: ${Te.name}
: ${me.chartConfig.type}

`)}catch(me){console.error("Generate chart failed:",me),alert(": "+me.message)}finally{Q(!1),K("")}},Ye=async()=>{if(!p||p.sourceTables.length===0){alert("");return}const Te=p.sourceTables[0],Ae=p.metrics.filter(ke=>!L.get(ke.id));if(Ae.length===0){alert("");return}if(!confirm(` ${Ae.length} ?`))return;Q(!0);let me=0,st=0;for(let ke=0;ke<Ae.length;ke++){const ht=Ae[ke];K(` (${ke+1}/${Ae.length}): ${ht.name}`);try{await ii.generateChart(ht,p.id,Te),me++,U(sn=>new Map(sn).set(ht.id,!0))}catch(sn){console.error(`Failed to generate chart for ${ht.name}:`,sn),st++}}Q(!1),K(""),n&&me>0?alert(`!
: ${me} 
: ${st} 

`):alert(`!
: ${me} 
: ${st} `)},dt=async()=>{if(!p||p.sourceTables.length===0)return;const Te=p.sourceTables[0];l(!0),A("...");try{const Ae=await Promise.all(p.metrics.map(async ke=>{const ht=await ii.validateMetric(ke,Te);return{...ke,isValid:ht.isValid,lastValidated:Date.now(),validationError:ht.error}}));ii.updateMetricPackage(p.id,{metrics:Ae}),Je(),E(ke=>ke?{...ke,metrics:Ae}:null);const me=Ae.filter(ke=>ke.isValid).length,st=Ae.filter(ke=>!ke.isValid).length;alert(`: ${me} , ${st} `)}catch(Ae){console.error("Batch validation failed:",Ae),alert(": "+Ae.message)}finally{l(!1),A("")}},Wt=Te=>{h(Ae=>{const me=new Set(Ae);return me.has(Te)?me.delete(Te):me.add(Te),me})},Xt=Te=>new Date(Te).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return f.jsxs("div",{className:"flex h-full",children:[f.jsxs("div",{className:"w-80 bg-monokai-sidebar border-r border-monokai-accent flex flex-col",children:[f.jsxs("div",{className:"p-4 border-b border-monokai-accent",children:[f.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[f.jsx(Gh,{size:18,className:"text-monokai-blue"}),""]}),f.jsx("p",{className:"text-xs text-monokai-comment mt-1",children:"AI"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[f.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-2",children:[f.jsxs("span",{className:"text-xs text-monokai-comment",children:[" ",s.size," / ",t.length," "]}),f.jsx("button",{onClick:_t,className:"text-xs text-monokai-blue hover:underline",children:s.size===t.length?"":""})]}),t.length===0?f.jsx("div",{className:"text-center py-8 text-monokai-comment text-sm",children:""}):f.jsx("div",{className:"space-y-1",children:t.map(Te=>f.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${s.has(Te)?"bg-monokai-blue/20 text-white":"hover:bg-monokai-accent/30 text-monokai-fg"}`,children:[f.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${s.has(Te)?"bg-monokai-blue border-monokai-blue":"border-monokai-comment"}`,children:s.has(Te)&&f.jsx(aA,{size:10,className:"text-monokai-bg"})}),f.jsx("input",{type:"checkbox",className:"hidden",checked:s.has(Te),onChange:()=>at(Te)}),f.jsx("span",{className:"text-sm truncate",children:Te})]},Te))})]}),f.jsxs("div",{className:"p-4 border-t border-monokai-accent bg-monokai-bg",children:[b?f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"text",placeholder:" *",value:T,onChange:Te=>y(Te.target.value),className:"w-full bg-monokai-sidebar border border-monokai-accent p-2 rounded text-sm text-white focus:border-monokai-blue outline-none"}),f.jsx("input",{type:"text",placeholder:"",value:R,onChange:Te=>I(Te.target.value),className:"w-full bg-monokai-sidebar border border-monokai-accent p-2 rounded text-sm text-white focus:border-monokai-blue outline-none"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>B(!1),className:"flex-1 px-3 py-2 border border-monokai-accent text-monokai-comment rounded text-sm hover:bg-monokai-accent/30",children:""}),f.jsx("button",{onClick:Tt,disabled:a||s.size===0,className:"flex-1 px-3 py-2 bg-monokai-blue text-monokai-bg font-bold rounded text-sm hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?f.jsxs(f.Fragment,{children:[f.jsx(Qh,{size:14,className:"animate-spin"}),""]}):f.jsxs(f.Fragment,{children:[f.jsx(Lf,{size:14}),""]})})]})]}):f.jsxs("button",{onClick:()=>B(!0),disabled:s.size===0,className:"w-full px-4 py-2 bg-monokai-green text-monokai-bg font-bold rounded text-sm hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[f.jsx(Lf,{size:16}),""]}),f.jsxs("button",{onClick:()=>O(!0),className:"w-full px-4 py-2 bg-monokai-bg border border-monokai-purple text-monokai-purple font-bold rounded text-sm hover:bg-monokai-purple/20 flex items-center justify-center gap-2",children:[f.jsx(yT,{size:16}),""]}),f.jsxs("button",{onClick:()=>le(!0),className:"w-full px-4 py-2 bg-monokai-bg border border-monokai-blue text-monokai-blue font-bold rounded text-sm hover:bg-monokai-blue/20 flex items-center justify-center gap-2",children:[f.jsx(Gh,{size:16}),""]}),a&&f.jsxs("div",{className:"mt-3 text-xs text-monokai-comment flex items-center gap-2",children:[f.jsx(Qh,{size:12,className:"animate-spin"}),c]})]})]}),f.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:p?f.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[f.jsxs("div",{className:"p-4 border-b border-monokai-accent bg-monokai-bg flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>E(null),className:"p-1.5 hover:bg-monokai-accent rounded text-monokai-comment hover:text-white",children:f.jsx(zq,{size:18})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-white",children:p.name}),f.jsxs("p",{className:"text-xs text-monokai-comment",children:[p.description||""," | ",p.metrics.length," "]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>dt(),disabled:a||!p.sourceTables.length,className:"px-3 py-1.5 border border-monokai-green text-monokai-green rounded text-sm hover:bg-monokai-green/20 flex items-center gap-2 disabled:opacity-50",title:"",children:[f.jsx(cg,{size:14}),""]}),f.jsxs("button",{onClick:()=>Ye(),disabled:G||!p.sourceTables.length,className:"px-3 py-1.5 border border-monokai-purple text-monokai-purple rounded text-sm hover:bg-monokai-purple/20 flex items-center gap-2 disabled:opacity-50",title:"",children:[f.jsx(jh,{size:14}),G?"...":""]}),f.jsxs("button",{onClick:()=>V(!0),className:"px-3 py-1.5 border border-monokai-purple text-monokai-purple rounded text-sm hover:bg-monokai-purple/20 flex items-center gap-2",title:"",children:[f.jsx(jh,{size:14}),""]}),f.jsxs("button",{onClick:()=>Dt(p),disabled:a,className:"px-3 py-1.5 border border-monokai-blue text-monokai-blue rounded text-sm hover:bg-monokai-blue/20 flex items-center gap-2 disabled:opacity-50",children:[a?f.jsx(Qh,{size:14,className:"animate-spin"}):f.jsx(Ow,{size:14}),""]}),f.jsxs("button",{onClick:()=>Ft(p.id),className:"px-3 py-1.5 border border-monokai-pink text-monokai-pink rounded text-sm hover:bg-monokai-pink/20 flex items-center gap-2",children:[f.jsx(Zf,{size:14}),""]})]})]}),f.jsx("div",{className:"px-4 py-2 bg-monokai-sidebar/50 border-b border-monokai-accent",children:f.jsxs("div",{className:"text-xs text-monokai-comment",children:[": ",p.sourceTables.join(", ")]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-wrap",children:[f.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[f.jsx(Jq,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-monokai-comment"}),f.jsx("input",{type:"text",placeholder:"...",value:oe,onChange:Te=>F(Te.target.value),className:"w-full pl-10 pr-4 py-2 bg-monokai-bg border border-monokai-border rounded text-sm text-white placeholder-monokai-comment focus:outline-none focus:border-monokai-accent"})]}),f.jsxs("button",{onClick:()=>X(!te),className:`flex items-center gap-2 px-3 py-2 rounded text-sm transition-colors ${te?"bg-monokai-accent text-white":"bg-monokai-bg border border-monokai-border text-monokai-comment hover:text-white"}`,children:[f.jsx(cM,{className:`w-4 h-4 ${te?"fill-current":""}`}),te?"":"",$.size>0&&f.jsx("span",{className:"ml-1 bg-monokai-purple text-white text-xs px-1.5 py-0.5 rounded",children:$.size})]})]}),rn(p.metrics).length===0?f.jsx("div",{className:"text-center py-12 text-monokai-comment",children:te?"":oe?"":""}):f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:rn(p.metrics).map(Te=>f.jsx(Dat,{metric:Te,sourceTable:p.sourceTables[0],onEdit:mn,onDelete:an,onValidate:qt,onFix:ce,onGenerateChart:_e,hasChart:L.get(Te.id)||!1,onToggleFavorite:ut,isFavorite:en(Te.id)},Te.id))})]}),f.jsxs("div",{className:"p-3 border-t border-monokai-accent text-xs text-monokai-comment flex justify-between",children:[f.jsxs("span",{children:[": ",Xt(p.createdAt)]}),p.updatedAt&&f.jsxs("span",{children:[": ",Xt(p.updatedAt)]})]})]}):f.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[f.jsx("div",{className:"p-4 border-b border-monokai-accent",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[f.jsx(yT,{size:18,className:"text-monokai-purple"}),""]}),f.jsxs("p",{className:"text-xs text-monokai-comment mt-1",children:[" ",r.length," "]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("label",{className:"flex items-center gap-1 px-2 py-1.5 bg-monokai-bg border border-monokai-border rounded text-xs text-monokai-comment hover:text-white cursor-pointer transition-colors",children:[f.jsx(Zq,{size:14}),"",f.jsx("input",{type:"file",accept:".json",onChange:nt,className:"hidden"})]})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(yT,{size:48,className:"mx-auto text-monokai-accent mb-4"}),f.jsx("p",{className:"text-monokai-comment",children:""}),f.jsx("p",{className:"text-xs text-monokai-comment mt-1",children:'""'})]}):f.jsx("div",{className:"space-y-2",children:r.map(Te=>f.jsxs("div",{className:"bg-[#272822] border border-monokai-accent rounded-lg p-4 hover:border-monokai-blue transition-colors",children:[f.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>Wt(Te.id),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[u.has(Te.id)?f.jsx(TR,{size:18,className:"text-monokai-comment"}):f.jsx($F,{size:18,className:"text-monokai-comment"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:Te.name}),f.jsxs("p",{className:"text-xs text-monokai-comment",children:[Te.description||""," | ",Te.metrics.length," "]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-monokai-comment",children:Xt(Te.updatedAt||Te.createdAt)}),f.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),be(Te)},className:"p-1.5 hover:bg-monokai-accent rounded text-monokai-comment hover:text-white transition-colors",title:"",children:f.jsx(WF,{size:14})}),f.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),E(Te)},className:"px-3 py-1 bg-monokai-blue text-monokai-bg rounded text-xs font-bold hover:opacity-90",children:""})]})]}),u.has(Te.id)&&f.jsxs("div",{className:"mt-3 pt-3 border-t border-monokai-accent/50",children:[f.jsxs("div",{className:"text-xs text-monokai-comment mb-2",children:[": ",Te.sourceTables.join(", ")]}),f.jsx("div",{className:"flex flex-wrap gap-1",children:Te.metrics.map(Ae=>f.jsx("span",{className:"px-2 py-1 bg-monokai-accent/30 rounded text-xs text-monokai-fg",children:Ae.name},Ae.id))})]})]},Te.id))})})]})}),j&&p&&f.jsx(kat,{packageId:p.id,onClose:()=>V(!1),onRefresh:()=>qe(p.id),onOpenInSqlEditor:Te=>{n&&n(Te)}}),w&&f.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:()=>O(!1),children:f.jsxs("div",{className:"bg-monokai-bg border border-monokai-accent rounded-lg w-[600px] max-h-[80vh] overflow-hidden",onClick:Te=>Te.stopPropagation(),children:[f.jsxs("div",{className:"p-4 border-b border-monokai-accent flex items-center justify-between",children:[f.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[f.jsx(yT,{size:18,className:"text-monokai-purple"}),""]}),f.jsx("button",{onClick:()=>O(!1),className:"text-monokai-comment hover:text-white",children:""})]}),f.jsx("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:f.jsx("div",{className:"grid grid-cols-1 gap-3",children:Ke.map((Te,Ae)=>f.jsxs("div",{className:"bg-[#272822] border border-monokai-border rounded-lg p-3 hover:border-monokai-purple cursor-pointer transition-colors",onClick:()=>gt(Te),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-white",children:Te.name}),f.jsx("p",{className:"text-xs text-monokai-comment mt-1",children:Te.definition})]}),f.jsx("span",{className:"text-xs px-2 py-1 bg-monokai-purple/20 text-monokai-purple rounded",children:Te.category})]}),f.jsxs("div",{className:"mt-2 text-xs text-monokai-comment",children:[f.jsx("span",{className:"text-monokai-green",children:": "}),Te.formula]})]},Ae))})}),f.jsx("div",{className:"p-4 border-t border-monokai-accent",children:f.jsx("p",{className:"text-xs text-monokai-comment text-center",children:""})})]})}),ee&&f.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:()=>le(!1),children:f.jsxs("div",{className:"bg-monokai-bg border border-monokai-accent rounded-lg w-[500px] p-6",onClick:Te=>Te.stopPropagation(),children:[f.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[f.jsx(Gh,{className:"text-monokai-blue"})," "]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-monokai-comment mb-1",children:""}),f.jsxs("select",{value:q,onChange:Te=>we(Te.target.value),className:"w-full bg-monokai-sidebar border border-monokai-accent p-2 rounded text-white",children:[f.jsx("option",{value:"csv",children:"CSV "}),f.jsx("option",{value:"parquet",children:"Parquet "}),f.jsx("option",{value:"json",children:"JSON "}),f.jsx("option",{value:"sqlite",children:"SQLite "})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-monokai-comment mb-1",children:" ()"}),f.jsx("input",{type:"text",value:Ue,onChange:Te=>We(Te.target.value),placeholder:": sales_data",className:"w-full bg-monokai-sidebar border border-monokai-accent p-2 rounded text-white"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-monokai-comment mb-1",children:[" ",q==="sqlite"?"()":"(URL)"]}),f.jsx("input",{type:"text",value:Oe,onChange:Te=>Ce(Te.target.value),placeholder:q==="sqlite"?"/path/to/database.db":"/path/to/file.csv  https://...",className:"w-full bg-monokai-sidebar border border-monokai-accent p-2 rounded text-white"})]}),f.jsxs("div",{className:"bg-monokai-sidebar p-3 rounded text-xs text-monokai-comment",children:[f.jsx("p",{className:"font-bold mb-1",children:":"}),q==="csv"&&f.jsx("code",{children:"-- CSV: SELECT * FROM read_csv_auto('data.csv')"}),q==="parquet"&&f.jsx("code",{children:"-- Parquet: SELECT * FROM read_parquet('data.parquet')"}),q==="json"&&f.jsx("code",{children:"-- JSON: SELECT * FROM read_json_auto('data.json')"}),q==="sqlite"&&f.jsx("code",{children:"-- SQLite: ATTACH 'db.sqlite' AS sqlite; SELECT * FROM sqlite.table"})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[f.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 text-monokai-comment hover:text-white",children:""}),f.jsx("button",{onClick:()=>{if(!Ue||!Oe){alert("");return}let Te="";switch(q){case"csv":Te=`--  CSV : ${Ue}
CREATE OR REPLACE VIEW ${Ue} AS SELECT * FROM read_csv_auto('${Oe}');`;break;case"parquet":Te=`--  Parquet : ${Ue}
CREATE OR REPLACE VIEW ${Ue} AS SELECT * FROM read_parquet('${Oe}');`;break;case"json":Te=`--  JSON : ${Ue}
CREATE OR REPLACE VIEW ${Ue} AS SELECT * FROM read_json_auto('${Oe}');`;break;case"sqlite":Te=`--  SQLite: ${Ue}
ATTACH '${Oe}' AS ${Ue};`;break}navigator.clipboard.writeText(Te),alert(`SQL

SQL`),le(!1)},className:"px-4 py-2 bg-monokai-blue text-white font-bold rounded hover:opacity-90",children:"SQL"})]})]})})]})},Pat=()=>{const[t,e]=H.useState(!1),[n,r]=H.useState(null),[i,s]=H.useState(tr.DASHBOARD),[o,a]=H.useState([]),[l,c]=H.useState(null),[A,u]=H.useState([]),[h,p]=H.useState(!1),[E,T]=H.useState("grid"),[y,R]=H.useState([]),[I,b]=H.useState([]),[B,w]=H.useState(new Set),[O,L]=H.useState(!1),[U,G]=H.useState({limit:50,offset:0,total:0}),[Q,Y]=H.useState([]),[K,j]=H.useState(null),[V,$]=H.useState(""),[J,te]=H.useState(new Set),[X,oe]=H.useState([]),[F,ee]=H.useState(null),[le,q]=H.useState(!1),[we,Oe]=H.useState(null),[Ce,Ue]=H.useState(""),[We,qe]=H.useState("VARCHAR"),[Je,ut]=H.useState(null),[en,rn]=H.useState(""),[be,nt]=H.useState(!1),[Ke,gt]=H.useState(null),[at,_t]=H.useState("list"),[Tt,Dt]=H.useState({}),[Ft,mn]=H.useState(!1),[an,qt]=H.useState(""),[ce,_e]=H.useState(!1),[Ye,dt]=H.useState(""),[Wt,Xt]=H.useState(!1),[Te,Ae]=H.useState("local"),[me,st]=H.useState(null),[ke,ht]=H.useState(""),[sn,mr]=H.useState(""),[Lt,Dn]=H.useState(""),[tn,cn]=H.useState({header:!0,delimiter:",",quote:'"',dateFormat:"%Y-%m-%d"}),[gr,Qn]=H.useState(!1),[hn,Tr]=H.useState(localStorage.getItem("duckdb_ai_provider")||"google"),[Br,Gr]=H.useState(localStorage.getItem("duckdb_ai_api_key")||""),[Fr,ei]=H.useState(localStorage.getItem("duckdb_ai_base_url")||""),[gi,Wi]=H.useState(localStorage.getItem("duckdb_ai_model")||(hn==="google"?"gemini-2.0-flash-exp":"llama-3.3-70b-versatile")),[lt,Zt]=H.useState([]),[Pt,kn]=H.useState(!1),[et,Gn]=H.useState(!1);H.useEffect(()=>{const re=()=>{Gr(localStorage.getItem("duckdb_ai_api_key")||""),Tr(localStorage.getItem("duckdb_ai_provider")||"google")};return window.addEventListener("storage",re),()=>window.removeEventListener("storage",re)},[]);const[Cn,nr]=H.useState(!1),[zn,qr]=H.useState(""),[xs,Ii]=H.useState(0),yt=H.useRef(null),[he,De]=H.useState(""),[ie,Le]=H.useState(null),[Me,bt]=H.useState([]),tt=(re,Be="info")=>{const ct=Date.now().toString();u(Rt=>[...Rt,{id:ct,message:re,type:Be}]),setTimeout(()=>{u(Rt=>Rt.filter(Ht=>Ht.id!==ct))},3e3)},wn=H.useCallback(re=>{De(re.sql),Le(re.chartConfig),s(tr.SQL),tt(` SQL : ${re.metricName}`,"success")},[]),rr=H.useCallback(()=>{De(""),Le(null)},[]),Sr=H.useCallback(async()=>{try{const re=await At.getTables();a(re)}catch(re){console.error(re)}},[]),Vn=H.useCallback(async()=>{try{const re=await At.query("SELECT * FROM memory._sys_audit_log ORDER BY log_time DESC LIMIT 100");bt(re)}catch(re){console.error(re)}},[]);H.useEffect(()=>{At.init().then(async()=>{e(!0),await Sr()}).catch(re=>r(re.message))},[Sr]),H.useEffect(()=>{(async()=>{if(i===tr.STRUCTURE&&o.length>0){const Be={};for(const ct of o)Be[ct]=await At.getTableSchema(ct);Dt(Be)}})()},[i,o]),H.useEffect(()=>{const re=Be=>{(Be.metaKey||Be.ctrlKey)&&Be.key==="k"&&(Be.preventDefault(),nr(ct=>!ct),qr(""),Ii(0)),Cn&&Be.key==="Escape"&&nr(!1)};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[Cn]),H.useEffect(()=>{Cn&&yt.current&&yt.current.focus()},[Cn]);const ti=async(re,Be,ct,Rt=K,Ht=V)=>{L(!0);try{const ai=Ht.trim()?`WHERE ${Ht}`:"",Ni=`SELECT COUNT(*) as c FROM "${re}" ${ai}`;let Yi=0;try{const li=await At.query(Ni);Yi=Number(li[0].c)}catch(li){throw new Error(`Invalid Filter: ${li.message}`)}const $n=await At.getTableSchema(re);Y($n);const _r=$n.map(li=>li.name);b(_r);let Ei=`SELECT * FROM "${re}" ${ai}`;if(Rt)Ei+=` ORDER BY "${Rt.key}" ${Rt.direction}`;else{const li=$n.find(Kn=>Kn.pk);li&&(Ei+=` ORDER BY "${li.name}" ASC`)}Ei+=` LIMIT ${ct} OFFSET ${Be}`;const Pi=await At.query(Ei);R(Pi),G({limit:ct,offset:Be,total:Yi}),te(new Set)}catch(ai){tt(`Data Load Error: ${ai.message}`,"error"),R([])}finally{L(!1)}},_i=async re=>{L(!0);try{const Be=await At.query(`SUMMARIZE SELECT * FROM "${re}"`);oe(Be)}catch(Be){tt(`Profiling failed: ${Be.message}`,"error")}finally{L(!1)}},Bl=async re=>{c(re),s(tr.DATA),G(Be=>({...Be,offset:0})),j(null),$(""),nt(!1),T("grid"),w(new Set),await ti(re,0,U.limit,null,""),ut(null)},Hs=re=>{re<0||U.total>0&&re>=U.total||l&&ti(l,re,U.limit)},TA=re=>{let Be="ASC";K&&K.key===re&&K.direction==="ASC"&&(Be="DESC");const ct={key:re,direction:Be};j(ct),l&&ti(l,0,U.limit,ct)},SA=()=>{l&&ti(l,0,U.limit)},cd=async re=>{if(!y.length||!l)return;const Be=`${l}_export_${Date.now()}.${re}`;try{if(re==="parquet"){const Yi=await At.exportParquet(`SELECT * FROM "${l}"`,Be),$n=URL.createObjectURL(Yi),_r=document.createElement("a");_r.href=$n,_r.download=Be,_r.click(),tt(`Exported ${Be}`,"success");return}let ct="",Rt="";if(re==="csv"){const Yi=I.filter(_r=>!B.has(_r)).join(","),$n=y.map(_r=>I.filter(Ei=>!B.has(Ei)).map(Ei=>{const Pi=_r[Ei],li=typeof Pi=="bigint"?Pi.toString():Pi;return li===null?"":`"${String(li).replace(/"/g,'""')}"`}).join(",")).join(`
`);ct=`${Yi}
${$n}`,Rt="text/csv;charset=utf-8;"}else ct=JSON.stringify(y,(Yi,$n)=>typeof $n=="bigint"?$n.toString():$n,2),Rt="application/json";const Ht=new Blob([ct],{type:Rt}),ai=URL.createObjectURL(Ht),Ni=document.createElement("a");Ni.href=ai,Ni.download=Be,Ni.click(),tt(`Exported ${Be}`,"success")}catch(ct){tt(`Export failed: ${ct.message}`,"error")}},yA=async()=>{try{await At.executeAndAudit("CREATE TABLE IF NOT EXISTS users (id INTEGER PRIMARY KEY, name VARCHAR, age INTEGER, email VARCHAR); INSERT INTO users VALUES (1, 'Alice', 30, 'alice@example.com'), (2, 'Bob', 25, 'bob@test.com'), (3, 'Charlie', 35, 'charlie@corp.com');","CREATE","users","Created demo table"),tt('Demo table "users" created',"success"),await Sr()}catch(re){tt(re.message,"error")}},Ad=async()=>{if(an)try{await At.createTable(an,[{name:"id",type:"INTEGER",pk:!0}]),tt(`Table "${an}" created`,"success"),await Sr(),mn(!1),qt(""),Bl(an)}catch(re){tt(re.message,"error")}},CA=async()=>{if(!(!l||!Ye))try{const re=`CREATE TABLE "${Ye}" AS SELECT * FROM "${l}"`;await At.executeAndAudit(re,"CREATE",Ye,`Duplicated from ${l}`),tt(`Table "${Ye}" duplicated successfully`,"success"),await Sr(),_e(!1),dt(""),Bl(Ye)}catch(re){tt(re.message,"error")}},vc=async()=>{if(!(!l||!en))try{await At.renameTable(l,en),tt(`Renamed ${l} to ${en}`,"success"),await Sr(),Bl(en)}catch(re){tt(re.message,"error")}},Sg=async()=>{if(l&&confirm(`Are you SURE you want to drop table "${l}"? This cannot be undone.`))try{await At.dropTable(l),tt(`Table "${l}" dropped`,"success"),c(null),await Sr(),s(tr.DASHBOARD)}catch(re){tt(re.message,"error")}},op=()=>{Ae("local"),st(null),ht(""),mr(""),Dn(""),Xt(!0)},ud=re=>{if(re.target.files&&re.target.files[0]){const Be=re.target.files[0];if(st(Be),!Lt){const ct=Be.name.split(".")[0].replace(/[^a-zA-Z0-9_]/g,"_");Dn(ct)}}},Pu=(re,Be)=>{Ae("url"),ht(Be),Dn(re)},Uu=async()=>{try{if(Te==="local"){if(!me)return;await At.importFile(me,Lt,tn),tt(`Imported ${me.name} as ${Lt}`,"success")}else if(Te==="paste"){if(!sn)return;await At.importText(sn,Lt),tt(`Imported from clipboard as ${Lt}`,"success")}else{if(!ke)return;const Be=ke.endsWith(".parquet")?`CREATE TABLE "${Lt}" AS SELECT * FROM read_parquet('${ke}')`:`CREATE TABLE "${Lt}" AS SELECT * FROM read_csv_auto('${ke}')`;await At.executeAndAudit(Be,"IMPORT",Lt,`Imported from URL: ${ke}`),tt(`Imported from URL as ${Lt}`,"success")}await Sr(),Xt(!1),st(null),ht(""),mr("")}catch(re){const Be=re.message.includes("HTTP")?`CORS Error: The server hosting the file must allow cross-origin requests. (${re.message})`:`Import failed: ${re.message}`;tt(Be,"error")}},Fu=re=>{const Be=new Set(B);Be.has(re)?Be.delete(re):Be.add(re),w(Be)},yg=()=>{const re={history:localStorage.getItem("duckdb_sql_history"),saved:localStorage.getItem("duckdb_saved_queries"),timestamp:Date.now()},Be=new Blob([JSON.stringify(re)],{type:"application/json"}),ct=URL.createObjectURL(Be),Rt=document.createElement("a");Rt.href=ct,Rt.download=`duckdb_workspace_${new Date().toISOString().split("T")[0]}.json`,Rt.click(),tt("Workspace configuration exported","success")},Hu=re=>{var Rt;const Be=(Rt=re.target.files)==null?void 0:Rt[0];if(!Be)return;const ct=new FileReader;ct.onload=Ht=>{var ai;try{const Ni=JSON.parse((ai=Ht.target)==null?void 0:ai.result);Ni.history&&localStorage.setItem("duckdb_sql_history",Ni.history),Ni.saved&&localStorage.setItem("duckdb_saved_queries",Ni.saved),tt("Workspace restored! Refreshing...","success"),setTimeout(()=>window.location.reload(),1500)}catch{tt("Invalid workspace file","error")}},ct.readAsText(Be)},ur=async()=>{try{const re=await At.exportDatabase(),Be=URL.createObjectURL(re),ct=document.createElement("a");ct.href=Be,ct.download="duckdb_backup.json",ct.click(),tt("Database exported successfully","success")}catch(re){tt(re.message,"error")}},Oc=async()=>{if(l)try{await At.insertRow(l,{}),tt("Row inserted","success");const re=await At.query(`SELECT COUNT(*) as c FROM "${l}"`),Be=Number(re[0].c),ct=Math.floor(Math.max(0,Be-1)/U.limit)*U.limit;ct!==U.offset?ti(l,ct,U.limit):ti(l,U.offset,U.limit)}catch(re){tt(`Insert failed: ${re.message}`,"error")}},ap=(re,Be,ct)=>{if(!Q.find(Ht=>Ht.pk)){tt("Cannot edit tables without a Primary Key","info");return}Oe({rowIdx:re,col:Be,val:ct})},Gu=async()=>{if(!we||!l)return;const{rowIdx:re,col:Be,val:ct}=we,Rt=y[re],Ht=Q.find(ai=>ai.pk);if(Ht){if(Rt[Be]===ct){Oe(null);return}try{await At.updateRow(l,Ht.name,Rt[Ht.name],Be,ct),tt("Value updated","success"),Oe(null),ti(l,U.offset,U.limit)}catch(ai){tt(`Update failed: ${ai.message}`,"error")}}},Cg=(re,Be)=>{const ct=new Set(J);Be?ct.add(re):ct.delete(re),te(ct)},lp=re=>{if(!l)return;const Be=Q.find(ct=>ct.pk);if(Be)if(re){const ct=new Set;y.forEach(Rt=>ct.add(Rt[Be.name])),te(ct)}else te(new Set)},cp=async()=>{if(!l||J.size===0||!confirm(`Are you sure you want to delete ${J.size} rows?`))return;const re=Q.find(Be=>Be.pk);if(re)try{await At.deleteRows(l,re.name,Array.from(J)),tt(`Deleted ${J.size} rows`,"success"),te(new Set),ti(l,U.offset,U.limit)}catch(Be){tt(`Bulk delete failed: ${Be.message}`,"error")}},hd=async()=>{if(!(!l||!Ce))try{await At.addColumn(l,Ce,We),tt(`Column ${Ce} added`,"success"),Ue("");const re=await At.getTableSchema(l);Y(re);const Be=re.map(ct=>ct.name);b(Be)}catch(re){tt(`Failed to add column: ${re.message}`,"error")}},Qu=async re=>{if(l&&confirm(`Drop column "${re}"? This is irreversible.`))try{await At.dropColumn(l,re),tt(`Column ${re} dropped`,"success");const Be=await At.getTableSchema(l);Y(Be);const ct=Be.map(Rt=>Rt.name);b(ct)}catch(Be){tt(`Failed to drop column: ${Be.message}`,"error")}},Dl=async()=>{if(!(!Ke||!l))try{Ke.colName!==Ke.newName&&await At.renameColumn(l,Ke.colName,Ke.newName);const re=Ke.colName!==Ke.newName?Ke.newName:Ke.colName,Be=Q.find(Ht=>Ht.name===Ke.colName);Be&&Be.type!==Ke.newType&&await At.alterColumnType(l,re,Ke.newType),tt(`Column ${re} updated`,"success"),gt(null);const ct=await At.getTableSchema(l);Y(ct);const Rt=ct.map(Ht=>Ht.name);b(Rt)}catch(re){tt(`Failed to update column: ${re.message}`,"error")}},kl=async re=>{if(l)try{const Be=await At.getColumnStats(l,re);ut({col:re,stats:Be})}catch(Be){tt(`Failed to get stats: ${Be.message}`,"error")}},Ml=()=>{if(!l||Q.length===0)return;const re=`CREATE TABLE ${l} (
  ${Q.map(Be=>`${Be.name} ${Be.type}${Be.pk?" PRIMARY KEY":""}`).join(`,
  `)}
);`;navigator.clipboard.writeText(re),tt("Schema copied to clipboard","success")},sl=[{id:"nav-dash",label:"Go to Dashboard",icon:"",group:"Navigation",action:()=>s(tr.DASHBOARD)},{id:"nav-data",label:"Go to Data Browser",icon:"",group:"Navigation",action:()=>s(tr.DATA)},{id:"nav-sql",label:"Go to SQL Editor",icon:"",group:"Navigation",action:()=>s(tr.SQL)},{id:"nav-struct",label:"Go to Schema/Structure",icon:"",group:"Navigation",action:()=>s(tr.STRUCTURE)},{id:"nav-schema-gen",label:"Go to AI Schema Generator",icon:"",group:"Navigation",action:()=>s(tr.SCHEMA_GENERATOR)},{id:"nav-learn",label:"Go to Tutorials",icon:"",group:"Navigation",action:()=>s(tr.TUTORIALS)},{id:"act-import",label:"Import Data",icon:"",group:"Action",action:op},{id:"act-create",label:"Create New Table",icon:"",group:"Action",action:()=>mn(!0)},{id:"act-export-db",label:"Export Database JSON",icon:"",group:"Action",action:ur},{id:"act-settings",label:"Open Settings",icon:"",group:"Action",action:()=>Qn(!0)},...o.map(re=>({id:`tbl-${re}`,label:`Select Table: ${re}`,icon:"",group:"Table",action:()=>Bl(re)}))].filter(re=>re.label.toLowerCase().includes(zn.toLowerCase())),ol=re=>{re.action(),nr(!1)},oy=re=>{re.key==="ArrowDown"?(re.preventDefault(),Ii(Be=>Math.min(Be+1,sl.length-1))):re.key==="ArrowUp"?(re.preventDefault(),Ii(Be=>Math.max(Be-1,0))):re.key==="Enter"&&(re.preventDefault(),sl[xs]&&ol(sl[xs]))};if(n)return f.jsx("div",{className:"h-screen flex items-center justify-center bg-monokai-bg text-monokai-pink font-mono p-4 text-center",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl mb-2",children:"Initialize Error"}),n]})});if(!t)return f.jsxs("div",{className:"h-screen flex items-center justify-center bg-monokai-bg text-monokai-blue font-mono animate-pulse",children:[f.jsx("span",{className:"text-4xl mr-4",children:""})," Initializing DuckDB WASM..."]});const so=Q.find(re=>re.pk),Pl=F!==null?y[F]:null,xg=I.filter(re=>!B.has(re)),Rg=()=>{const re=Object.keys(Tt);if(re.length===0)return f.jsx("div",{className:"text-monokai-comment p-8",children:"No tables to visualize."});const Be=220,ct=40,Rt=50,Ht=50,ai=3,Ni=[],Yi=[];return re.forEach(($n,_r)=>{const Ei=_r%ai,Pi=Math.floor(_r/ai),li=Rt+Ei*(Be+100),Kn=Ht+Pi*300;Ni.push({name:$n,x:li,y:Kn,columns:Tt[$n]})}),Ni.forEach($n=>{$n.columns.forEach(_r=>{if(_r.name.endsWith("_id")){const Ei=_r.name.replace(/_id$/,"")+"s",Pi=Ni.find(li=>li.name===Ei||li.name===_r.name.replace(/_id$/,""));Pi&&Yi.push({source:$n,target:Pi,col:_r.name})}})}),f.jsxs("div",{className:"overflow-auto h-full bg-[#1e1f1c] relative p-10 rounded border border-monokai-accent/30 shadow-inner",children:[f.jsxs("svg",{width:"100%",height:"1500",className:"absolute top-0 left-0 pointer-events-none",children:[f.jsx("defs",{children:f.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"10",refY:"3.5",orient:"auto",children:f.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#66d9ef"})})}),Yi.map(($n,_r)=>{const Ei=$n.source.x+Be,Pi=$n.source.y+ct,li=$n.target.x,Kn=$n.target.y+ct,$u=`M ${Ei} ${Pi} C ${Ei+50} ${Pi}, ${li-50} ${Kn}, ${li} ${Kn}`;return f.jsxs("g",{children:[f.jsx("path",{d:$u,stroke:"#66d9ef",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)",opacity:"0.6"}),f.jsx("text",{x:(Ei+li)/2,y:(Pi+Kn)/2,fill:"#66d9ef",fontSize:"10",textAnchor:"middle",dy:"-5",children:$n.col})]},_r)})]}),Ni.map($n=>f.jsxs("div",{className:"absolute bg-monokai-bg border border-monokai-accent rounded shadow-xl hover:border-monokai-blue transition-colors flex flex-col w-[220px]",style:{left:$n.x,top:$n.y},children:[f.jsxs("div",{className:"bg-monokai-accent/50 p-2 font-bold text-monokai-yellow text-center border-b border-monokai-accent flex justify-between items-center",children:[f.jsx("span",{children:$n.name}),f.jsx("span",{className:"text-[9px] text-monokai-comment",children:"Table"})]}),f.jsx("div",{className:"p-2 space-y-1",children:$n.columns.map(_r=>f.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[f.jsxs("span",{className:_r.pk?"text-monokai-pink font-bold":"text-monokai-fg",children:[_r.pk&&" ",_r.name]}),f.jsx("span",{className:"text-monokai-comment text-[10px]",children:_r.type})]},_r.name))})]},$n.name))]})};return f.jsxs("div",{className:"flex h-screen overflow-hidden text-monokai-fg flex-col",children:[Cn&&f.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm flex items-start justify-center pt-[20vh]",onClick:()=>nr(!1),children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent rounded-lg shadow-2xl w-full max-w-xl flex flex-col overflow-hidden animate-[slideIn_0.1s_ease-out]",onClick:re=>re.stopPropagation(),children:[f.jsxs("div",{className:"p-4 border-b border-monokai-accent flex items-center gap-3",children:[f.jsx("span",{className:"text-monokai-comment text-xl",children:""}),f.jsx("input",{ref:yt,className:"bg-transparent outline-none text-lg text-white w-full placeholder-monokai-comment",placeholder:"Type a command or search...",value:zn,onChange:re=>{qr(re.target.value),Ii(0)},onKeyDown:oy}),f.jsx("span",{className:"text-xs text-monokai-comment bg-monokai-bg px-2 py-1 rounded border border-monokai-accent",children:"ESC"})]}),f.jsxs("div",{className:"max-h-[300px] overflow-y-auto p-2",children:[sl.length===0&&f.jsx("div",{className:"p-4 text-center text-monokai-comment",children:"No matching commands"}),sl.map((re,Be)=>f.jsxs("div",{className:`flex items-center gap-3 p-3 rounded cursor-pointer transition-colors ${Be===xs?"bg-monokai-blue text-monokai-bg font-bold":"text-monokai-fg hover:bg-monokai-accent"}`,onClick:()=>ol(re),onMouseEnter:()=>Ii(Be),children:[f.jsx("span",{className:"text-lg",children:re.icon}),f.jsx("div",{className:"flex-1",children:re.label}),f.jsx("span",{className:`text-[10px] uppercase tracking-wider opacity-50 ${Be===xs?"text-monokai-bg":"text-monokai-comment"}`,children:re.group})]},re.id))]})]})}),Ft&&f.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4 backdrop-blur-md animate-[fadeIn_0.2s]",children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded shadow-2xl w-full max-w-md animate-[slideIn_0.2s_ease-out]",children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-monokai-green",children:"Create New Table"}),f.jsx("input",{type:"text",value:an,onChange:re=>qt(re.target.value),placeholder:"Table Name",className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded mb-4 text-white focus:border-monokai-green outline-none"}),f.jsxs("div",{className:"text-xs text-monokai-comment mb-6",children:["Creates a table with a default ",f.jsx("code",{children:"id INTEGER PRIMARY KEY"})," column."]}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>mn(!1),className:"px-4 py-2 rounded text-sm hover:bg-monokai-accent",children:"Cancel"}),f.jsx("button",{onClick:Ad,className:"px-4 py-2 bg-monokai-green text-monokai-bg font-bold rounded text-sm hover:opacity-90",children:"Create"})]})]})}),ce&&f.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4 backdrop-blur-md animate-[fadeIn_0.2s]",children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded shadow-2xl w-full max-w-md animate-[slideIn_0.2s_ease-out]",children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-monokai-blue",children:"Duplicate Table"}),f.jsxs("p",{className:"text-sm text-monokai-comment mb-2",children:["Source: ",f.jsx("span",{className:"text-monokai-fg font-mono",children:l})]}),f.jsx("input",{type:"text",value:Ye,onChange:re=>dt(re.target.value),placeholder:"New Table Name",className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded mb-6 text-white focus:border-monokai-blue outline-none"}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>_e(!1),className:"px-4 py-2 rounded text-sm hover:bg-monokai-accent",children:"Cancel"}),f.jsx("button",{onClick:CA,className:"px-4 py-2 bg-monokai-blue text-monokai-bg font-bold rounded text-sm hover:opacity-90",children:"Duplicate"})]})]})}),Pl&&f.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4 backdrop-blur-md animate-[fadeIn_0.2s]",onClick:()=>ee(null),children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col relative animate-[slideIn_0.2s_ease-out]",onClick:re=>re.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-monokai-accent pb-2",children:[f.jsx("h2",{className:"text-xl font-bold text-monokai-blue font-mono",children:"Row Details"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-monokai-comment font-mono mr-2",children:["Row ",F+1]}),f.jsx("button",{onClick:()=>ee(Math.max(0,F-1)),disabled:F===0,className:"px-2 py-1 bg-monokai-accent rounded hover:bg-monokai-comment disabled:opacity-30 text-xs",children:""}),f.jsx("button",{onClick:()=>ee(Math.min(y.length-1,F+1)),disabled:F===y.length-1,className:"px-2 py-1 bg-monokai-accent rounded hover:bg-monokai-comment disabled:opacity-30 text-xs",children:""}),f.jsx("button",{onClick:()=>ee(null),className:"ml-4 text-monokai-pink hover:text-white text-lg font-bold",children:""})]})]}),f.jsx("div",{className:"overflow-auto flex-1 font-mono text-sm",children:f.jsx("table",{className:"w-full",children:f.jsx("tbody",{children:Object.entries(Pl).map(([re,Be])=>f.jsxs("tr",{className:"border-b border-monokai-accent/30 hover:bg-monokai-accent/20",children:[f.jsx("td",{className:"p-3 text-monokai-comment w-1/3 align-top font-bold select-none",children:re}),f.jsx("td",{className:"p-3 text-monokai-fg break-all whitespace-pre-wrap selection:bg-monokai-pink selection:text-white",children:typeof Be=="object"&&Be!==null?JSON.stringify(Be,null,2):String(Be)})]},re))})})})]})}),gr&&f.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4 backdrop-blur-md animate-[fadeIn_0.2s]",onClick:()=>Qn(!1),children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded shadow-2xl w-full max-w-lg animate-[slideIn_0.2s_ease-out] flex flex-col max-h-[90vh] overflow-y-auto",onClick:re=>re.stopPropagation(),children:[f.jsxs("h2",{className:"text-xl font-bold mb-4 text-monokai-yellow flex items-center gap-2",children:[f.jsx("span",{children:""})," Workspace Settings"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-monokai-bg p-4 rounded border border-monokai-accent",children:[f.jsx("h3",{className:"text-sm font-bold text-monokai-fg mb-2",children:" AI Configuration"}),f.jsx("p",{className:"text-xs text-monokai-comment mb-4",children:"Configure your AI provider for SQL generation and schema analysis."}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-monokai-comment mb-1",children:"AI Provider"}),f.jsxs("select",{value:hn,onChange:re=>{const Be=re.target.value;Tr(Be),localStorage.setItem("duckdb_ai_provider",Be);let ct="",Rt="";Be==="groq"?(ct="llama-3.3-70b-versatile",Rt="https://api.groq.com/openai/v1"):Be==="google"&&(ct="gemini-2.0-flash-exp"),ct&&(Wi(ct),localStorage.setItem("duckdb_ai_model",ct)),Rt&&(ei(Rt),localStorage.setItem("duckdb_ai_base_url",Rt))},className:"w-full px-3 py-2 bg-monokai-sidebar border border-monokai-accent rounded text-sm text-monokai-fg focus:outline-none focus:ring-1 focus:ring-monokai-blue",children:[f.jsx("option",{value:"google",children:"Google Gemini (Default)"}),f.jsx("option",{value:"groq",children:"Groq (Fastest)"}),f.jsx("option",{value:"openai",children:"OpenAI / Compatible"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-monokai-comment mb-1",children:"API Key"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"password",value:Br,onChange:re=>Gr(re.target.value),placeholder:`Enter your ${hn} API key...`,className:"flex-1 px-3 py-2 bg-monokai-sidebar border border-monokai-accent rounded text-sm text-monokai-fg placeholder-monokai-comment focus:outline-none focus:ring-1 focus:ring-monokai-blue"}),f.jsx("button",{onClick:()=>{localStorage.setItem("duckdb_ai_api_key",Br),tt("API key saved!","success")},className:"px-3 py-2 bg-monokai-blue hover:bg-monokai-blue/80 transition-colors text-white font-bold rounded text-sm",children:"Save"})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs font-medium text-monokai-comment mb-1",children:["Base URL ",hn==="google"?"(Optional)":"(Required for Custom/Groq)"]}),f.jsx("input",{type:"text",value:Fr,onChange:re=>{ei(re.target.value),localStorage.setItem("duckdb_ai_base_url",re.target.value)},placeholder:hn==="groq"?"https://api.groq.com/openai/v1":"https://api.openai.com/v1",className:"w-full px-3 py-2 bg-monokai-sidebar border border-monokai-accent rounded text-sm text-monokai-fg placeholder-monokai-comment focus:outline-none focus:ring-1 focus:ring-monokai-blue"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-monokai-comment mb-1",children:"AI Model"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:gi,onChange:re=>{Wi(re.target.value),localStorage.setItem("duckdb_ai_model",re.target.value)},disabled:Pt,className:"flex-1 px-3 py-2 bg-monokai-sidebar border border-monokai-accent rounded text-sm text-monokai-fg appearance-none focus:outline-none focus:ring-1 focus:ring-monokai-blue disabled:opacity-50",children:[lt.length===0&&f.jsx("option",{value:gi,children:gi||"Click Refresh to load models..."}),lt.map(re=>f.jsx("option",{value:re.id,children:re.name},re.id))]}),f.jsx("button",{onClick:async()=>{if(!Br.trim()){tt("Please save your API key first.","error");return}localStorage.setItem("duckdb_ai_api_key",Br),localStorage.setItem("duckdb_ai_provider",hn),Fr&&localStorage.setItem("duckdb_ai_base_url",Fr),kn(!0);try{const re=await Uh.fetchAvailableModels();Zt(re),re.length>0&&!re.find(Be=>Be.id===gi)&&(Wi(re[0].id),localStorage.setItem("duckdb_ai_model",re[0].id)),tt(`Loaded ${re.length} models`,"success")}catch(re){tt(`Failed to fetch models: ${re.message}`,"error")}finally{kn(!1)}},disabled:Pt||!Br.trim(),className:"px-3 py-2 bg-monokai-green hover:bg-monokai-green/80 transition-colors text-monokai-bg font-bold rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:Pt?"":""})]}),f.jsx("p",{className:"text-[10px] text-monokai-comment mt-1",children:lt.length>0?` ${lt.length} models available`:"Click  to fetch available models from your provider."})]})]})]}),f.jsxs("div",{className:"bg-monokai-bg p-4 rounded border border-monokai-accent",children:[f.jsx("h3",{className:"text-sm font-bold text-monokai-fg mb-2",children:"Backup Workspace"}),f.jsx("p",{className:"text-xs text-monokai-comment mb-3",children:"Export your query history and saved queries to a JSON file."}),f.jsx("button",{onClick:yg,className:"w-full py-2 bg-monokai-accent hover:bg-monokai-blue hover:text-monokai-bg transition-colors text-monokai-blue font-bold rounded text-sm",children:" Download Backup"})]}),f.jsxs("div",{className:"bg-monokai-bg p-4 rounded border border-monokai-accent",children:[f.jsx("h3",{className:"text-sm font-bold text-monokai-fg mb-2",children:"Restore Workspace"}),f.jsxs("p",{className:"text-xs text-monokai-comment mb-3",children:["Restore settings from a backup file. ",f.jsx("strong",{className:"text-monokai-pink",children:"Warning: Overwrites history."})]}),f.jsxs("label",{className:"block w-full py-2 bg-monokai-accent hover:bg-monokai-orange hover:text-monokai-bg transition-colors text-monokai-orange font-bold rounded text-sm text-center cursor-pointer",children:[" Upload Backup File",f.jsx("input",{type:"file",accept:".json",onChange:Hu,className:"hidden"})]})]})]}),f.jsx("div",{className:"flex justify-end mt-6",children:f.jsx("button",{onClick:()=>Qn(!1),className:"px-4 py-2 rounded text-sm bg-monokai-accent hover:text-white",children:"Close"})})]})}),Wt&&f.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4 backdrop-blur-md animate-[fadeIn_0.2s]",children:f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent p-6 rounded shadow-2xl w-full max-w-lg animate-[slideIn_0.2s_ease-out] flex flex-col max-h-[90vh]",children:[f.jsxs("h2",{className:"text-xl font-bold mb-4 text-monokai-orange flex items-center gap-2",children:[f.jsx("span",{children:""})," Import Wizard"]}),f.jsxs("div",{className:"flex mb-4 border-b border-monokai-accent shrink-0",children:[f.jsx("button",{className:`flex-1 py-2 text-sm font-bold transition-colors ${Te==="local"?"text-monokai-orange border-b-2 border-monokai-orange bg-monokai-accent/20":"text-monokai-comment hover:text-white"}`,onClick:()=>Ae("local"),children:"Local File"}),f.jsx("button",{className:`flex-1 py-2 text-sm font-bold transition-colors ${Te==="url"?"text-monokai-blue border-b-2 border-monokai-blue bg-monokai-accent/20":"text-monokai-comment hover:text-white"}`,onClick:()=>Ae("url"),children:"From URL"}),f.jsx("button",{className:`flex-1 py-2 text-sm font-bold transition-colors ${Te==="paste"?"text-monokai-green border-b-2 border-monokai-green bg-monokai-accent/20":"text-monokai-comment hover:text-white"}`,onClick:()=>Ae("paste"),children:"Paste Text"})]}),f.jsxs("div",{className:"overflow-y-auto flex-1",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-xs text-monokai-comment mb-1",children:"Target Table Name"}),f.jsx("input",{value:Lt,onChange:re=>Dn(re.target.value),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-white focus:border-monokai-orange outline-none",placeholder:"e.g., my_table"})]}),Te==="url"&&f.jsxs("div",{className:"mb-4",children:[!ke&&f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-xs text-monokai-comment mb-2",children:"Quick Presets (Public Data)"}),f.jsxs("div",{className:"flex gap-2 flex-wrap",children:[f.jsx("button",{onClick:()=>Pu("titanic","https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv"),className:"px-2 py-1 text-xs bg-monokai-accent rounded hover:bg-monokai-blue hover:text-monokai-bg transition-colors",children:" Titanic"}),f.jsx("button",{onClick:()=>Pu("iris","https://raw.githubusercontent.com/mwaskom/seaborn-data/master/iris.csv"),className:"px-2 py-1 text-xs bg-monokai-accent rounded hover:bg-monokai-green hover:text-monokai-bg transition-colors",children:" Iris"}),f.jsx("button",{onClick:()=>Pu("tips","https://raw.githubusercontent.com/mwaskom/seaborn-data/master/tips.csv"),className:"px-2 py-1 text-xs bg-monokai-accent rounded hover:bg-monokai-yellow hover:text-monokai-bg transition-colors",children:" Tips"})]})]}),f.jsx("label",{className:"block text-xs text-monokai-comment mb-1",children:"File URL (CSV/Parquet)"}),f.jsx("input",{value:ke,onChange:re=>ht(re.target.value),placeholder:"https://raw.githubusercontent.com/...",className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-white focus:border-monokai-blue outline-none"}),f.jsx("div",{className:"text-[10px] text-monokai-comment mt-1",children:"Note: Server must support CORS (Cross-Origin Resource Sharing)."})]}),Te==="local"&&f.jsx("div",{className:"mb-4",children:f.jsxs("label",{className:"block w-full py-8 px-4 border-2 border-dashed border-monokai-accent rounded text-center cursor-pointer hover:border-monokai-orange hover:bg-monokai-accent/20 transition-all",children:[f.jsx("div",{className:"text-2xl mb-2",children:""}),f.jsx("div",{className:"text-sm font-bold text-monokai-fg",children:me?me.name:"Click to select a file"}),f.jsx("div",{className:"text-xs text-monokai-comment mt-1",children:"Supports CSV, JSON, Parquet"}),f.jsx("input",{type:"file",className:"hidden",onChange:ud,accept:".csv,.json,.parquet,.txt"})]})}),Te==="paste"&&f.jsxs("div",{className:"mb-4 h-48",children:[f.jsx("label",{className:"block text-xs text-monokai-comment mb-1",children:"Paste CSV/TSV Data"}),f.jsx("textarea",{value:sn,onChange:re=>mr(re.target.value),className:"w-full h-full bg-monokai-bg border border-monokai-accent p-2 rounded text-xs font-mono text-white outline-none resize-none focus:border-monokai-green",placeholder:`id,name,value
1,Alice,100
2,Bob,200`})]}),Te==="local"&&(me!=null&&me.name.endsWith(".csv")||me!=null&&me.name.endsWith(".txt"))||Te==="paste"?f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2 p-4 bg-monokai-bg border border-monokai-accent rounded",children:[f.jsx("div",{className:"col-span-2 text-xs font-bold text-monokai-blue uppercase tracking-wider mb-2",children:"CSV Options (Auto-detected if empty)"}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer col-span-2",children:[f.jsx("input",{type:"checkbox",checked:tn.header,onChange:re=>cn({...tn,header:re.target.checked})}),f.jsx("span",{className:"text-sm",children:"File has Header"})]})]}):null]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-4 shrink-0 pt-4 border-t border-monokai-accent",children:[f.jsx("button",{onClick:()=>{Xt(!1),st(null)},className:"px-4 py-2 rounded text-sm hover:bg-monokai-accent",children:"Cancel"}),f.jsx("button",{onClick:Uu,className:"px-4 py-2 bg-monokai-orange text-monokai-bg font-bold rounded text-sm hover:opacity-90",children:"Import Data"})]})]})}),f.jsx("div",{className:"fixed bottom-10 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:A.map(re=>f.jsxs("div",{className:`pointer-events-auto px-4 py-3 rounded shadow-lg border-l-4 text-sm font-bold flex items-center gap-2 animate-[slideIn_0.3s_ease-out]
                    ${re.type==="success"?"bg-monokai-sidebar border-monokai-green text-monokai-green":re.type==="error"?"bg-monokai-sidebar border-monokai-pink text-monokai-pink":"bg-monokai-sidebar border-monokai-blue text-monokai-blue"}`,children:[f.jsx("span",{children:re.type==="success"?"":re.type==="error"?"":""}),re.message]},re.id))}),f.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[f.jsxs("div",{className:`flex-shrink-0 bg-monokai-sidebar border-r border-monokai-accent flex flex-col transition-all duration-300 ${h?"w-14":"w-64"}`,children:[f.jsxs("div",{className:`p-4 border-b border-monokai-accent flex items-center gap-2 cursor-pointer hover:bg-monokai-accent/20 ${h?"justify-center":""}`,onClick:()=>s(tr.DASHBOARD),title:"Dashboard",children:[f.jsx("span",{className:"text-2xl",children:""}),!h&&f.jsx("span",{className:"font-bold text-monokai-fg truncate",children:"DuckDB Pro"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[!h&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-6 px-2",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h3",{className:"text-xs uppercase text-monokai-comment font-bold tracking-wider",children:"Tables"}),f.jsx("button",{onClick:()=>mn(!0),className:"text-monokai-green hover:text-white text-lg leading-none",title:"Create Table",children:"+"})]}),f.jsxs("ul",{className:"space-y-1",children:[o.map(re=>f.jsx("li",{children:f.jsx("button",{onClick:()=>Bl(re),className:`w-full text-left px-3 py-1.5 rounded text-sm font-mono truncate transition-colors ${l===re&&i!==tr.DASHBOARD?"bg-monokai-pink text-white":"text-monokai-fg hover:bg-monokai-accent"}`,children:re})},re)),o.length===0&&f.jsx("li",{className:"text-sm text-monokai-comment italic",children:"No tables"})]}),f.jsx("button",{onClick:yA,className:"mt-4 text-xs text-monokai-blue hover:underline",children:"Load Demo Data"})]}),f.jsxs("div",{className:"mb-6 px-2",children:[f.jsx("h3",{className:"text-xs uppercase text-monokai-comment font-bold mb-2 tracking-wider",children:"Data I/O"}),f.jsx("button",{onClick:op,className:"block w-full text-center py-2 px-4 border border-dashed border-monokai-comment rounded text-sm text-monokai-comment cursor-pointer hover:border-monokai-blue hover:text-monokai-blue transition-colors bg-transparent",children:"Import Data"}),f.jsx("button",{onClick:ur,className:"w-full mt-2 text-center py-1 text-sm text-monokai-orange hover:text-white transition-colors",children:"Export DB"})]})]}),h&&f.jsxs("div",{className:"flex flex-col gap-4 items-center mt-2",children:[f.jsx("button",{onClick:()=>mn(!0),className:"text-monokai-green text-xl",title:"Create Table",children:"+"}),f.jsx("button",{onClick:op,className:"text-monokai-blue text-xl",title:"Import Data",children:""}),f.jsx("button",{onClick:ur,className:"text-monokai-orange text-xl",title:"Export DB",children:""})]})]}),f.jsxs("div",{className:"p-2 border-t border-monokai-accent flex flex-col gap-2 justify-center",children:[!h&&f.jsxs("button",{onClick:()=>Qn(!0),className:"flex items-center gap-2 px-4 py-2 text-xs font-bold text-monokai-comment hover:text-white hover:bg-monokai-accent rounded transition-colors w-full",children:[f.jsx("span",{children:""})," Settings & Backup"]}),h&&f.jsx("button",{onClick:()=>Qn(!0),className:"text-lg hover:text-white text-monokai-comment",title:"Settings",children:""}),f.jsx("button",{onClick:()=>p(!h),className:"text-monokai-comment hover:text-white text-center w-full",title:h?"Expand":"Collapse",children:h?"":""})]})]}),f.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-monokai-bg",children:[f.jsx("div",{className:"h-14 border-b border-monokai-accent flex items-center px-4 gap-2 bg-monokai-bg shrink-0 overflow-x-auto",children:[{id:tr.DASHBOARD,label:"Dashboard",icon:""},{id:tr.DATA,label:"Data",icon:""},{id:tr.STRUCTURE,label:"Schema",icon:""},{id:tr.SQL,label:"SQL",icon:""},{id:tr.SCHEMA_GENERATOR,label:"AI Schema",icon:""},{id:tr.METRICS,label:"Metrics",icon:""},{id:tr.AUDIT,label:"Logs",icon:""},{id:tr.EXTENSIONS,label:"Plugins",icon:""},{id:tr.TUTORIALS,label:"Learn",icon:""}].map(re=>f.jsxs("button",{onClick:()=>{s(re.id),re.id===tr.AUDIT&&Vn(),re.id===tr.DATA&&l&&ti(l,U.offset,U.limit)},className:`h-full border-b-2 px-4 flex items-center gap-2 text-sm font-bold transition-all ${i===re.id?"border-monokai-pink text-monokai-pink":"border-transparent text-monokai-comment hover:text-monokai-fg"}`,children:[f.jsx("span",{children:re.icon})," ",(!h||i===re.id)&&re.label]},re.id))}),f.jsxs("div",{className:"flex-1 overflow-hidden p-0 relative flex flex-col",children:[f.jsx("div",{className:i===tr.DASHBOARD?"block h-full":"hidden",children:f.jsx(UVe,{tables:o,onNavigate:s})}),f.jsx("div",{className:i===tr.DATA?"block h-full":"hidden",children:l?f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsxs("div",{className:"p-2 bg-monokai-sidebar border-b border-monokai-accent shrink-0 flex flex-col gap-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h2",{className:"text-lg font-mono text-monokai-yellow font-bold px-2",children:l}),f.jsxs("div",{className:"flex bg-monokai-bg rounded overflow-hidden border border-monokai-accent",children:[f.jsx("button",{onClick:()=>T("grid"),className:`px-3 py-1 text-xs font-bold ${E==="grid"?"bg-monokai-accent text-white":"text-monokai-comment hover:text-white"}`,children:"Grid"}),f.jsx("button",{onClick:()=>{T("profile"),l&&_i(l)},className:`px-3 py-1 text-xs font-bold ${E==="profile"?"bg-monokai-accent text-monokai-orange":"text-monokai-comment hover:text-monokai-orange"}`,children:"Profile"})]}),J.size>0&&E==="grid"&&f.jsxs("button",{onClick:cp,className:"text-xs bg-monokai-pink text-white px-3 py-1 rounded font-bold animate-pulse",children:["Delete ",J.size," Selected"]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("button",{onClick:()=>q(!le),className:"text-xs bg-monokai-accent hover:text-white px-3 py-1 rounded border border-transparent hover:border-monokai-comment transition-colors",children:" Columns"}),le&&f.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-monokai-sidebar border border-monokai-accent p-2 rounded shadow-xl z-30 max-h-60 overflow-y-auto min-w-[150px]",children:[I.map(re=>f.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-monokai-accent/50 cursor-pointer text-xs",children:[f.jsx("input",{type:"checkbox",checked:!B.has(re),onChange:()=>Fu(re)}),f.jsx("span",{className:B.has(re)?"opacity-50":"text-white",children:re})]},re)),f.jsx("div",{className:"border-t border-monokai-accent mt-2 pt-2 flex justify-center",children:f.jsx("button",{onClick:()=>w(new Set),className:"text-[10px] text-monokai-blue hover:underline",children:"Reset All"})})]}),le&&f.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>q(!1)})]}),f.jsxs("div",{className:"flex gap-1 mr-4",children:[f.jsx("button",{onClick:()=>cd("csv"),className:"text-xs bg-monokai-accent hover:bg-monokai-comment px-2 py-1 rounded",children:"CSV"}),f.jsx("button",{onClick:()=>cd("json"),className:"text-xs bg-monokai-accent hover:bg-monokai-comment px-2 py-1 rounded",children:"JSON"}),f.jsx("button",{onClick:()=>cd("parquet"),className:"text-xs bg-monokai-accent hover:bg-monokai-comment px-2 py-1 rounded text-monokai-orange",children:"Parquet"})]}),so&&f.jsx("button",{onClick:Oc,className:"text-xs bg-monokai-green text-monokai-bg px-3 py-1 rounded font-bold hover:opacity-90",children:"+ Insert Row"})]})]}),E==="grid"&&f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx("span",{className:"text-xs font-bold text-monokai-blue",children:"WHERE"}),f.jsx("input",{className:"flex-1 bg-monokai-bg border border-monokai-accent text-xs p-1.5 rounded text-white font-mono outline-none focus:border-monokai-blue",placeholder:"id > 5 AND status = 'active'...",value:V,onChange:re=>$(re.target.value),onKeyDown:re=>re.key==="Enter"&&SA()}),f.jsx("button",{onClick:SA,className:"px-3 py-1 bg-monokai-accent hover:bg-monokai-comment text-xs rounded",children:"Apply Filter"}),V&&f.jsx("button",{onClick:()=>{$(""),setTimeout(()=>ti(l,0,U.limit,K,""),0)},className:"text-monokai-comment hover:text-white",children:""})]})]}),f.jsx("div",{className:"flex-1 overflow-auto bg-monokai-bg",children:O?f.jsxs("div",{className:"h-full flex items-center justify-center text-monokai-comment flex-col gap-2",children:[f.jsx("div",{className:"w-8 h-8 border-2 border-monokai-blue border-t-transparent rounded-full animate-spin"}),f.jsx("div",{className:"animate-pulse",children:"Loading data..."})]}):E==="profile"?f.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[X.map(re=>{const Be=parseFloat(re.null_percentage)||0,ct=100-Be;return f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent rounded-lg p-5 shadow-lg hover:border-monokai-blue transition-all group flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsx("h3",{className:"text-lg font-mono font-bold text-monokai-fg truncate max-w-[70%]",title:re.column_name,children:re.column_name}),f.jsxs("span",{className:"text-[10px] font-mono bg-monokai-accent px-2 py-0.5 rounded text-monokai-blue uppercase tracking-wider flex items-center gap-1",children:[lb(re.column_type)," ",re.column_type]})]}),f.jsxs("div",{className:"space-y-3 mb-4 flex-1",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-[10px] text-monokai-comment mb-1",children:[f.jsx("span",{children:"Valid"}),f.jsx("span",{children:"Nulls"})]}),f.jsxs("div",{className:"w-full h-2 bg-monokai-bg rounded-full overflow-hidden flex",children:[f.jsx("div",{className:"bg-monokai-green h-full",style:{width:`${ct}%`},title:`Valid: ${ct.toFixed(1)}%`}),f.jsx("div",{className:"bg-monokai-orange h-full",style:{width:`${Be}%`},title:`Nulls: ${Be.toFixed(1)}%`})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-monokai-comment text-[10px] uppercase",children:"Unique"}),f.jsx("div",{className:"font-mono text-monokai-purple",children:re.approx_unique})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-monokai-comment text-[10px] uppercase",children:"Nulls"}),f.jsxs("div",{className:"font-mono text-monokai-orange",children:[Be.toFixed(1),"%"]})]})]}),re.min!==null&&f.jsxs("div",{className:"bg-monokai-bg p-2 rounded text-[10px] font-mono border border-monokai-accent/50",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsx("span",{className:"text-monokai-comment",children:"Min"}),f.jsx("span",{className:"text-monokai-fg truncate max-w-[100px]",title:String(re.min),children:String(re.min)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-monokai-comment",children:"Max"}),f.jsx("span",{className:"text-monokai-fg truncate max-w-[100px]",title:String(re.max),children:String(re.max)})]})]})]})]},re.column_name)}),X.length===0&&f.jsx("div",{className:"col-span-full text-center text-monokai-comment py-10",children:"No profile data available."})]}):f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap border-collapse",children:[f.jsx("thead",{className:"bg-monokai-accent sticky top-0 z-10 shadow-sm",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-2 w-10 border-b border-monokai-comment bg-monokai-accent text-center left-0 sticky z-20",children:so&&f.jsx("input",{type:"checkbox",className:"cursor-pointer",onChange:re=>lp(re.target.checked),checked:y.length>0&&y.every(re=>J.has(re[so.name]))})}),f.jsx("th",{className:"p-2 w-10 border-b border-monokai-comment bg-monokai-accent z-10"}),xg.map((re,Be)=>{const ct=Q.find(Ht=>Ht.name===re),Rt=Be===0&&(so==null?void 0:so.name)===re;return f.jsx("th",{className:`p-3 font-mono text-monokai-blue font-bold border-b border-monokai-comment border-r border-monokai-comment/30 cursor-pointer hover:bg-monokai-comment/20 select-none group ${Rt?"sticky left-20 z-20 bg-monokai-accent shadow-[2px_0_5px_-2px_rgba(0,0,0,0.5)]":""}`,onClick:()=>TA(re),children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{children:re}),ct&&f.jsx("span",{className:"text-[10px] text-monokai-comment px-1 rounded bg-monokai-bg border border-monokai-accent/50 flex items-center gap-1",title:ct.type,children:lb(ct.type)}),(K==null?void 0:K.key)===re&&f.jsx("span",{className:"text-[10px] text-monokai-pink",children:K.direction==="ASC"?"":""})]})},re)})]})}),f.jsx("tbody",{className:"font-mono",children:y.map((re,Be)=>{const ct=so?re[so.name]:null,Rt=ct!==null&&J.has(ct);return f.jsxs("tr",{className:`border-b border-monokai-accent/50 group odd:bg-monokai-bg even:bg-monokai-sidebar hover:bg-monokai-accent/40 ${Rt?"bg-monokai-accent/60":""}`,children:[f.jsx("td",{className:"p-1 text-center border-r border-monokai-accent/30 sticky left-0 z-10 bg-inherit",children:so&&f.jsx("input",{type:"checkbox",checked:Rt,onChange:Ht=>Cg(ct,Ht.target.checked),className:"cursor-pointer"})}),f.jsx("td",{className:"p-1 text-center border-r border-monokai-accent/30",children:f.jsx("button",{onClick:()=>ee(Be),className:"text-xs text-monokai-comment hover:text-monokai-blue opacity-50 hover:opacity-100 transition-opacity",children:""})}),xg.map((Ht,ai)=>{const Ni=(we==null?void 0:we.rowIdx)===Be&&(we==null?void 0:we.col)===Ht,Yi=re[Ht],$n=Q.find(Kn=>Kn.name===Ht),_r=($n==null?void 0:$n.type.includes("INT"))||($n==null?void 0:$n.type.includes("FLOAT"))||($n==null?void 0:$n.type.includes("DOUBLE")),Ei=Yi===null,Pi=ai===0&&(so==null?void 0:so.name)===Ht,li=typeof Yi=="object"&&Yi!==null?Array.isArray(Yi)?"[List]":"{Struct}":String(Yi);return f.jsx("td",{className:`p-3 border-r border-monokai-accent/30 text-monokai-fg cursor-text min-w-[100px] max-w-[300px] truncate ${Ei?"italic text-monokai-comment/50":"opacity-90"} ${Pi?"sticky left-20 z-10 bg-inherit shadow-[2px_0_5px_-2px_rgba(0,0,0,0.5)]":""}`,onDoubleClick:()=>ap(Be,Ht,Yi),title:String(Yi),children:Ni?f.jsx("input",{autoFocus:!0,type:_r?"number":"text",value:we.val,onChange:Kn=>Oe({...we,val:_r?Kn.target.valueAsNumber:Kn.target.value}),onBlur:Gu,onKeyDown:Kn=>{Kn.key==="Enter"&&Gu(),Kn.key==="Escape"&&Oe(null)},className:"w-full bg-monokai-bg border border-monokai-blue px-1 py-0.5 outline-none text-white"}):Ei?"NULL":li},`${Be}-${Ht}`)})]},Be)})})]})}),E==="grid"&&f.jsxs("div",{className:"p-2 border-t border-monokai-accent bg-monokai-sidebar flex justify-between items-center text-xs text-monokai-comment",children:[f.jsxs("span",{children:[U.total," records found"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Hs(U.offset-U.limit),disabled:U.offset===0,className:"px-2 py-1 bg-monokai-accent rounded disabled:opacity-30 hover:bg-monokai-comment transition-colors text-white",children:" Prev"}),f.jsxs("span",{className:"font-mono min-w-[80px] text-center",children:[U.offset+1," - ",Math.min(U.offset+U.limit,U.total)]}),f.jsx("button",{onClick:()=>Hs(U.offset+U.limit),disabled:U.offset+U.limit>=U.total,className:"px-2 py-1 bg-monokai-accent rounded disabled:opacity-30 hover:bg-monokai-comment transition-colors text-white",children:"Next "})]})]})]}):f.jsx("div",{className:"h-full flex items-center justify-center text-monokai-comment flex-col bg-monokai-bg",children:f.jsxs("div",{className:"text-center opacity-50",children:[f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("p",{children:"Select a table to browse data"})]})})}),f.jsx("div",{className:i===tr.STRUCTURE?"block h-full":"hidden",children:i===tr.STRUCTURE&&o.length===0?f.jsxs("div",{className:"h-full flex items-center justify-center text-monokai-comment flex-col",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("div",{children:"No tables found. Import or create a table to view schema."})]}):f.jsxs("div",{className:"h-full flex flex-col bg-monokai-bg relative",children:[f.jsxs("div",{className:"p-4 border-b border-monokai-accent flex justify-between items-center shrink-0 z-10 bg-monokai-bg/80 backdrop-blur-sm",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("h2",{className:"text-xl font-bold text-monokai-fg flex gap-2 items-center",children:[f.jsx("span",{className:"text-monokai-purple",children:""})," Schema Architecture"]}),f.jsxs("div",{className:"flex bg-monokai-sidebar rounded p-0.5 border border-monokai-accent",children:[f.jsx("button",{onClick:()=>_t("list"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${at==="list"?"bg-monokai-accent text-white":"text-monokai-comment hover:text-white"}`,children:"List View"}),f.jsx("button",{onClick:()=>_t("graph"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${at==="graph"?"bg-monokai-accent text-monokai-blue":"text-monokai-comment hover:text-monokai-blue"}`,children:"ER Diagram"})]})]}),l&&at==="list"&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{dt(`${l}_copy`),_e(!0)},className:"text-xs bg-monokai-blue/10 text-monokai-blue hover:bg-monokai-blue hover:text-monokai-bg px-3 py-1.5 rounded font-bold transition-colors border border-monokai-blue",children:"Duplicate Table"}),f.jsx("button",{onClick:Sg,className:"text-xs bg-monokai-pink/10 text-monokai-pink hover:bg-monokai-pink hover:text-white px-3 py-1.5 rounded font-bold transition-colors border border-monokai-pink",children:"Drop Table"})]})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative",children:at==="graph"?Rg():l?f.jsxs("div",{className:"h-full p-6 overflow-auto",children:[f.jsx("div",{className:"flex items-center gap-2 mb-6",children:be?f.jsx("input",{autoFocus:!0,className:"bg-monokai-bg border border-monokai-blue text-monokai-fg text-2xl font-bold px-2 py-1 rounded outline-none",value:en,onChange:re=>rn(re.target.value),onBlur:()=>nt(!1),onKeyDown:re=>{re.key==="Enter"&&vc(),re.key==="Escape"&&nt(!1)}}):f.jsx("span",{className:"text-2xl font-bold text-monokai-fg cursor-pointer hover:underline decoration-dashed decoration-monokai-comment",onClick:()=>{rn(l),nt(!0)},title:"Click to Rename",children:l})}),f.jsxs("div",{className:"flex gap-6 items-start flex-col xl:flex-row",children:[f.jsxs("div",{className:"bg-monokai-sidebar border border-monokai-accent rounded flex-1 w-full flex flex-col shadow-lg",children:[f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{className:"bg-monokai-accent/50 text-xs uppercase tracking-wider",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 text-monokai-blue font-mono",children:"Column"}),f.jsx("th",{className:"p-3 text-monokai-orange font-mono",children:"Type"}),f.jsx("th",{className:"p-3 text-monokai-pink font-mono",children:"Constraints"}),f.jsx("th",{className:"p-3 text-monokai-green font-mono text-right",children:"Action"})]})}),f.jsx("tbody",{className:"text-sm",children:Q.map(re=>{const Be=(Ke==null?void 0:Ke.colName)===re.name;return f.jsxs("tr",{className:"border-b border-monokai-accent/50 hover:bg-monokai-accent/20 transition-colors",children:[f.jsx("td",{className:"p-3 font-mono font-bold text-monokai-fg",children:Be?f.jsx("input",{value:Ke.newName,onChange:ct=>gt({...Ke,newName:ct.target.value}),className:"bg-monokai-bg border border-monokai-blue px-2 py-1 rounded w-full outline-none text-white"}):re.name}),f.jsx("td",{className:"p-3 font-mono text-monokai-comment",children:Be?f.jsx("select",{value:Ke.newType,onChange:ct=>gt({...Ke,newType:ct.target.value}),className:"bg-monokai-bg border border-monokai-blue px-2 py-1 rounded w-full outline-none text-white",children:["VARCHAR","INTEGER","BOOLEAN","FLOAT","DOUBLE","DATE","TIMESTAMP","JSON","BLOB"].map(ct=>f.jsx("option",{value:ct,children:ct},ct))}):f.jsxs("span",{className:"flex items-center gap-2 px-2 py-1 bg-monokai-bg rounded w-fit border border-monokai-accent/30",children:[lb(re.type)," ",re.type]})}),f.jsxs("td",{className:"p-3 font-mono text-xs",children:[re.pk?f.jsx("span",{className:"bg-monokai-pink/20 text-monokai-pink border border-monokai-pink px-2 py-0.5 rounded mr-2 font-bold",children:"PK"}):null,re.notnull?f.jsx("span",{className:"bg-monokai-yellow/20 text-monokai-yellow border border-monokai-yellow px-2 py-0.5 rounded font-bold",children:"NOT NULL"}):null]}),f.jsx("td",{className:"p-3 text-right flex justify-end gap-2",children:Be?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:Dl,className:"text-xs bg-monokai-green text-monokai-bg px-2 py-1 rounded font-bold",children:"Save"}),f.jsx("button",{onClick:()=>gt(null),className:"text-xs bg-monokai-accent text-white px-2 py-1 rounded",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>gt({colName:re.name,newName:re.name,newType:re.type}),className:"text-xs bg-monokai-accent hover:bg-monokai-comment px-2 py-1 rounded text-monokai-fg transition-colors",children:"Edit"}),f.jsx("button",{onClick:()=>kl(re.name),className:"text-xs bg-monokai-accent hover:bg-monokai-comment px-2 py-1 rounded text-monokai-blue transition-colors",children:"Stats"}),f.jsx("button",{onClick:()=>Qu(re.name),className:"text-xs bg-monokai-accent hover:bg-monokai-pink hover:text-white px-2 py-1 rounded text-monokai-pink transition-colors",title:"Drop Column",children:""})]})})]},re.name)})})]}),Je&&f.jsxs("div",{className:"p-4 bg-monokai-bg border-t border-monokai-accent animate-[slideIn_0.2s_ease-out]",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsxs("h4",{className:"font-bold text-monokai-yellow",children:["Stats: ",Je.col]}),f.jsx("button",{onClick:()=>ut(null),className:"text-monokai-comment hover:text-white",children:""})]}),f.jsxs("div",{className:"grid grid-cols-5 gap-4 text-center mb-4",children:[f.jsxs("div",{className:"bg-monokai-sidebar p-2 rounded border border-monokai-accent",children:[f.jsx("div",{className:"text-xs text-monokai-comment",children:"Total"}),f.jsx("div",{className:"font-mono text-lg",children:Je.stats.total_count})]}),f.jsxs("div",{className:"bg-monokai-sidebar p-2 rounded border border-monokai-accent",children:[f.jsx("div",{className:"text-xs text-monokai-comment",children:"Nulls"}),f.jsx("div",{className:"font-mono text-lg text-monokai-orange",children:Je.stats.null_count})]}),f.jsxs("div",{className:"bg-monokai-sidebar p-2 rounded border border-monokai-accent",children:[f.jsx("div",{className:"text-xs text-monokai-comment",children:"Unique (Est)"}),f.jsx("div",{className:"font-mono text-lg text-monokai-blue",children:Je.stats.distinct_count})]}),f.jsxs("div",{className:"bg-monokai-sidebar p-2 rounded border border-monokai-accent",children:[f.jsx("div",{className:"text-xs text-monokai-comment",children:"Min"}),f.jsx("div",{className:"font-mono text-sm truncate py-1",title:String(Je.stats.min),children:String(Je.stats.min)})]}),f.jsxs("div",{className:"bg-monokai-sidebar p-2 rounded border border-monokai-accent",children:[f.jsx("div",{className:"text-xs text-monokai-comment",children:"Max"}),f.jsx("div",{className:"font-mono text-sm truncate py-1",title:String(Je.stats.max),children:String(Je.stats.max)})]})]}),Je.stats.top_k&&Je.stats.top_k.length>0&&f.jsxs("div",{className:"bg-monokai-sidebar p-3 rounded border border-monokai-accent",children:[f.jsx("h5",{className:"text-xs uppercase font-bold text-monokai-comment mb-2",children:"Top 5 Values"}),f.jsx("div",{className:"space-y-1",children:Je.stats.top_k.map((re,Be)=>f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsx("div",{className:"w-24 truncate text-right font-mono",title:String(re.value),children:String(re.value)}),f.jsx("div",{className:"flex-1 h-2 bg-monokai-bg rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-monokai-green",style:{width:`${re.count/Je.stats.total_count*100}%`}})}),f.jsx("div",{className:"w-10 text-right text-monokai-comment",children:re.count})]},Be))})]})]})]}),f.jsxs("div",{className:"bg-monokai-sidebar p-5 border border-monokai-accent rounded w-full xl:w-80 shrink-0 shadow-lg",children:[f.jsx("h3",{className:"text-monokai-green font-bold mb-4 uppercase text-sm",children:"Add New Column"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-monokai-comment mb-1",children:"Column Name"}),f.jsx("input",{value:Ce,onChange:re=>Ue(re.target.value),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white focus:border-monokai-green outline-none",placeholder:"e.g., status"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-monokai-comment mb-1",children:"Type"}),f.jsx("select",{value:We,onChange:re=>qe(re.target.value),className:"w-full bg-monokai-bg border border-monokai-accent p-2 rounded text-sm text-white outline-none",children:["VARCHAR","INTEGER","BOOLEAN","FLOAT","DOUBLE","DATE","TIMESTAMP","JSON"].map(re=>f.jsx("option",{value:re,children:re},re))})]}),f.jsx("button",{onClick:hd,className:"w-full bg-monokai-green text-monokai-bg font-bold py-2 rounded hover:opacity-90 transition-opacity",children:"Add Column"})]}),f.jsxs("div",{className:"mt-8 pt-6 border-t border-monokai-accent",children:[f.jsx("h3",{className:"text-monokai-comment font-bold uppercase text-sm mb-2",children:"DDL Preview"}),f.jsxs("div",{className:"relative group",children:[f.jsx("pre",{className:"font-mono text-[10px] text-monokai-green overflow-x-auto p-2 bg-monokai-bg rounded border border-monokai-accent/50 max-h-40",children:`CREATE TABLE ${l} (
  ${Q.map(re=>`${re.name} ${re.type}${re.pk?" PRIMARY KEY":""}`).join(`,
  `)}
);`}),f.jsx("button",{onClick:Ml,className:"absolute top-1 right-1 text-[10px] bg-monokai-accent hover:bg-white hover:text-monokai-bg text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Copy"})]})]})]})]})]}):f.jsxs("div",{className:"h-full flex items-center justify-center text-monokai-comment flex-col",children:[f.jsx("div",{className:"text-4xl mb-4 opacity-50",children:""}),f.jsx("p",{children:"Select a table from the sidebar to view structure."})]})})]})}),f.jsx("div",{className:i===tr.SQL?"block h-full":"hidden",children:f.jsx("div",{className:"h-full p-4 bg-monokai-bg",children:f.jsx(S3e,{onRun:()=>{Sr(),Vn()},initialCode:he,pendingChartConfig:ie,isZenMode:et,onToggleZen:()=>Gn(!et),onPendingConsumed:rr})})}),f.jsx("div",{className:i===tr.TUTORIALS?"block h-full":"hidden",children:f.jsx(Jot,{onTryCode:re=>{De(re),s(tr.SQL)},onOpenTable:re=>{Bl(re),s(tr.DATA)}})}),f.jsx("div",{className:i===tr.SCHEMA_GENERATOR?"block h-full":"hidden",children:f.jsx(Lat,{onExecuteSql:re=>{De(re),s(tr.SQL)},onRefresh:()=>{Sr(),Vn()}})}),f.jsx("div",{className:i===tr.METRICS?"block h-full":"hidden",children:f.jsx(Mat,{tables:o,onExecuteSql:re=>{De(re),s(tr.SQL)},onChartGenerated:wn})}),f.jsx("div",{className:i===tr.AUDIT?"block h-full":"hidden",children:f.jsxs("div",{className:"h-full flex flex-col bg-monokai-bg",children:[f.jsxs("div",{className:"p-4 border-b border-monokai-accent shrink-0",children:[f.jsx("h2",{className:"text-xl font-bold text-monokai-orange",children:"System Audit Log"}),f.jsx("p",{className:"text-sm text-monokai-comment",children:"Persistent tracking of all data modification operations."})]}),f.jsx("div",{className:"flex-1 overflow-auto",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[f.jsx("thead",{className:"bg-monokai-accent sticky top-0",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 font-mono text-monokai-blue",children:"Time"}),f.jsx("th",{className:"p-3 font-mono text-monokai-pink",children:"Type"}),f.jsx("th",{className:"p-3 font-mono text-monokai-yellow",children:"Table"}),f.jsx("th",{className:"p-3 font-mono text-monokai-fg w-full",children:"Details"}),f.jsx("th",{className:"p-3 font-mono text-monokai-green text-right",children:"Rows"})]})}),f.jsx("tbody",{className:"font-mono",children:Me.map(re=>f.jsxs("tr",{className:"border-b border-monokai-accent hover:bg-monokai-sidebar",children:[f.jsx("td",{className:"p-3 text-monokai-comment",children:new Date(re.log_time).toLocaleString()}),f.jsx("td",{className:"p-3 font-bold",children:re.operation_type}),f.jsx("td",{className:"p-3",children:re.target_table||"-"}),f.jsx("td",{className:"p-3 opacity-90 truncate max-w-xl",title:re.details,children:re.details}),f.jsx("td",{className:"p-3 text-right",children:re.affected_rows})]},re.id))})]})})]})}),f.jsx("div",{className:i===tr.EXTENSIONS?"block h-full":"hidden",children:f.jsx("div",{className:"bg-monokai-bg h-full",children:f.jsx(y3e,{onTryExtension:re=>{De(re),s(tr.SQL)}})})})]})]})]}),f.jsx(Bat,{})]})},Gle=document.getElementById("root");if(!Gle)throw new Error("Could not find root element to mount to");const Uat=yue.createRoot(Gle);Uat.render(f.jsx(no.StrictMode,{children:f.jsx(Pat,{})}));export{Rne as $,ux as A,v6e as B,qze as C,CG as D,pne as E,Vo as F,vet as G,v9e as H,aK as I,kJe as J,uze as K,NS as L,alt as M,PL as N,Oze as O,GH as P,TK as Q,S9e as R,Fb as S,bet as T,PR as U,Uze as V,MR as W,Gt as X,ln as Y,Tet as Z,P as _,$ze as a,pG as a$,m9e as a0,FK as a1,UK as a2,Elt as a3,dlt as a4,mlt as a5,plt as a6,ult as a7,eG as a8,glt as a9,Vtt as aA,g9e as aB,olt as aC,ML as aD,iw as aE,pse as aF,kS as aG,$R as aH,Gtt as aI,Htt as aJ,qH as aK,lf as aL,rR as aM,LK as aN,qqe as aO,YZe as aP,dse as aQ,ose as aR,q7e as aS,tw as aT,X7e as aU,QR as aV,mm as aW,GZe as aX,s6 as aY,fg as aZ,J7e as a_,hlt as aa,JE as ab,Slt as ac,Tlt as ad,flt as ae,fnt as af,xae as ag,Olt as ah,PJe as ai,Fs as aj,rp as ak,hG as al,zse as am,gg as an,yse as ao,Pn as ap,_u as aq,srt as ar,vlt as as,wlt as at,Nlt as au,Kt as av,blt as aw,Gnt as ax,Mnt as ay,knt as az,Vze as b,z7e as b0,tZe as b1,ey as b2,WZe as b3,pet as b4,oZe as b5,aet as b6,dG as b7,U6 as b8,$t as b9,JU as bA,ir as bB,tse as ba,Za as bb,Vqe as bc,zH as bd,Une as be,FR as bf,Gne as bg,Alt as bh,b6e as bi,fet as bj,oet as bk,met as bl,LL as bm,j7e as bn,fG as bo,hse as bp,Eet as bq,ZS as br,JZe as bs,brt as bt,GR as bu,rw as bv,np as bw,e6 as bx,mG as by,lse as bz,jr as c,Or as d,xne as e,ks as f,Yze as g,Zh as h,_c as i,VJe as j,XS as k,$e as l,xse as m,llt as n,Blt as o,jze as p,Kze as q,Llt as r,Wze as s,MJe as t,tA as u,Lnt as v,Let as w,ylt as x,Qze as y,clt as z};
